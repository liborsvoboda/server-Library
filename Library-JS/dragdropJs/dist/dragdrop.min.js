/*! Drag & Drop library - v - 2014-10-31
* Copyright (c) 2014 Priit Haamer; Licensed  */
!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=this.Event.prototype,this.CustomEvent=a}(this),function(){"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function a(a){return function(c){var d=b.className.split(/\s+/),e=d.indexOf(c);a(d,e,c),b.className=d.join(" ")}}var b=this,c={add:a(function(a,b,c){~b||a.push(c)}),remove:a(function(a,b){~b&&a.splice(b,1)}),toggle:a(function(a,b,c){~b?a.splice(b,1):a.push(c)}),contains:function(a){return!!~b.className.split(/\s+/).indexOf(a)},item:function(a){return b.className.split(/\s+/)[a]||null}};return Object.defineProperty(c,"length",{get:function(){return b.className.split(/\s+/).length}}),c}})}(this),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){var a=this,b=a.Dragdrop,c=function(){};a.Dragdrop=c,c.noConflict=function(){return a.dnd=b,this};c.utils={isFunction:function(a){return"function"==typeof a},isObject:function(a){return a===Object(a)},isFloating:function(b){var c=a.getComputedStyle(b);return/left|right/.test(c["float"])||/inline|table-cell/.test(c.display)},on:function(a,b,c,d){a.addEventListener(b,function(b){Array.prototype.slice.call(a.querySelectorAll(c)).forEach(function(a){a.contains(b.target)&&d(b)})})},matches:function(a,b){return(a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector).call(a,b)},closest:function(a,b){return a&&a!=document&&c.utils.matches(a,b)?a:a?c.utils.closest(a.parentNode,b):null},closestUntil:function(a,b,d){return a===b?b:c.utils.matches(a,d)?a:a?c.utils.closestUntil(a.parentNode,b,d):null},normalize:function(a){return"string"==typeof a?document.querySelectorAll(a):a instanceof Node?[a]:a instanceof NodeList?a:a instanceof Array?a:[]},overlappingPositions:function(a,b){return c.utils.rectOverlappingPositions(a.getBoundingClientRect(),b.getBoundingClientRect())},rectOverlappingPositions:function(a,b){return{top:a.top<b.top,right:a.left+a.width>b.left+b.width,bottom:a.top+a.height>b.top+b.height,left:a.left<b.left}},getOverlappingElement:function(a,b){for(var c,d,e=0,f=parseInt(a.style.left,10),g=parseInt(a.style.top,10),h=f+a.clientWidth,i=g+a.clientHeight,j=0,k=b.length;k>j;j++)if(d=b[j],d.parentNode){var l=d.getBoundingClientRect(),m=l.left+window.pageXOffset,n=l.top+window.pageYOffset,o=m+l.width,p=n+l.height,q=Math.max(0,Math.min(h,o)-Math.max(f,m)),r=Math.max(0,Math.min(i,p)-Math.max(g,n)),s=q*r;s>e&&(e=s,c=d)}return c},getClosestElement:function(a,b){for(var c=parseInt(a.style.left,10),d=parseInt(a.style.top,10),e=a.clientWidth,f=a.clientHeight,g=0,h=b.length;h>g;g++){var i=b[g],j=i.getBoundingClientRect(),k=j.left+window.pageXOffset,l=j.top+window.pageYOffset,m=j.width,n=j.height;if(!(k>c+e||c>k+m||l>d+f||d>l+n))return i}return null}}}(this),function(){var a=this.Dragdrop;a.currentDrags=[],a.Draggable=function(a,b){this.el=a,this.el.__draggable=this,this.options={distance:1,grid:1,gridOrigin:[0,0],tolerance:"closest",autoScroll:!0};for(var c in b)"undefined"!=typeof b[c]&&(this.options[c]=b[c]);this.init()},a.Draggable.prototype={init:function(){this.handle=this.options.handle?this.el.querySelector(this.options.handle):this.el,this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handle.addEventListener("touchmove",this.handleTouchMove),this.handle.addEventListener("touchend",this.handleTouchEnd),this.handle.addEventListener("touchcancel",this.handleTouchEnd),this.handle.addEventListener("mousedown",this.handleMouseDown)},destroy:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.handle.removeEventListener("touchmove",this.handleTouchMove),this.handle.removeEventListener("touchend",this.handleTouchEnd),this.handle.removeEventListener("touchcancel",this.handleTouchEnd),this.handle.removeEventListener("mousedown",this.handleMouseDown),this.el.__draggable=null},handleMouseDown:function(a){1===a.which&&(a.preventDefault(),this.initialPosition={top:a.pageY,left:a.pageX},window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},handleMouseMove:function(a){a.stopPropagation(),this.dragging||this.isPastInitialDistance(a.pageY,a.pageX)&&(this.dragging=!0,this.dragStart(a)),this.dragging&&this.drag(a)},handleMouseUp:function(a){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.dragging&&(this.dragStop(a),this.dragging=!1,this.initialPosition=null)},handleTouchMove:function(a){if(a.targetTouches.length>0){var b=a.targetTouches[0];a.preventDefault(),this.initialPosition||(this.initialPosition={top:b.pageY,left:b.pageX}),this.dragging||this.isPastInitialDistance(b.pageY,b.pageX)&&(this.dragging=!0,this.dragStart(b)),this.dragging&&(this.lastTouch=b,this.drag(a))}},handleTouchEnd:function(){this.dragging&&(this.lastTouch&&(this.dragStop(this.lastTouch),this.lastTouch=null),this.dragging=!1,this.initialPosition=null)},isPastInitialDistance:function(a,b){return Math.max(Math.abs(b-this.initialPosition.left),Math.abs(a-this.initialPosition.top))>this.options.distance},getHelper:function(){return this.options.helper?this.options.helper(this.el):null},getDroppables:function(){return this.options.droppables?document.querySelectorAll(this.options.droppables):[]},fillDroppableCache:function(){this.droppableCache=this.getDroppables()},releaseDroppableCache:function(){this.droppableCache=[]},getClosestElement:function(b){return"overlap"==this.options.tolerance?a.utils.getOverlappingElement(b,this.droppableCache):a.utils.getClosestElement(b,this.droppableCache)},isExcludedTarget:function(b){return this.options.exclude&&null!=a.utils.closest(b,this.options.exclude)},getEventDetails:function(){var a={helper:this.helper,draggable:this.el,payload:this.payload,pageX:this.position.pageX,pageY:this.position.pageY,clientX:this.position.clientX,clientY:this.position.clientY};return this.position&&this.lastposition&&(a.deltaX=this.lastposition.pageX-this.position.pageX,a.deltaY=this.lastposition.pageY-this.position.pageY),a},getPayload:function(){return a.utils.isFunction(this.options.payload)?this.options.payload(this.el):a.utils.isObject(this.options.payload)?this.options.payload:{}},calculateGridOffset:function(){var b;return b=a.utils.isFunction(this.options.gridOrigin)?this.options.gridOrigin():this.options.gridOrigin,[b[0]%parseInt(this.options.grid,10),b[1]%parseInt(this.options.grid,10)]},calculateHelperOffset:function(a,b,c){var d,e,f,g=this.el.getBoundingClientRect(),h=!a.parentNode;return f={top:parseInt(g.top+window.pageYOffset,10),left:parseInt(g.left+window.pageXOffset,10)},h&&document.body.appendChild(a),d=a.clientWidth,e=a.clientHeight,h&&document.body.removeChild(a),{top:c>f.top+e?Math.ceil(e/2):Math.abs(c-f.top),left:b>f.left+d?Math.ceil(d/2):Math.abs(b-f.left)}},calculatePositionWithGrid:function(a){return{pageX:this.roundToGrid(a.pageX,this.gridOffset[1]),pageY:this.roundToGrid(a.pageY,this.gridOffset[0]),clientX:this.roundToGrid(a.clientX,this.gridOffset[1]),clientY:this.roundToGrid(a.clientY,this.gridOffset[0])}},roundToGrid:function(a,b){return this.options.grid>1?Math.round(a/this.options.grid)*this.options.grid+b:a},dragStart:function(b){this.options.autoScroll&&(this.autoScrollBounds={width:document.body.scrollWidth,height:document.body.scrollHeight}),this.payload=this.getPayload(),this.lastposition=null,this.helper=this.getHelper(),this.helper&&(this.offsetDelta=this.calculateHelperOffset(this.helper,b.pageX,b.pageY),this.helper.style.position="absolute",this.helper.style.zIndex=99999,this.helper.style.top=b.pageY-this.offsetDelta.top+"px",this.helper.style.left=b.pageX-this.offsetDelta.left+"px",this.helper.style.webkitTransform="translate3d(0,0,0)",this.helper.style.pointerEvents="none",document.body.appendChild(this.helper)),this.fillDroppableCache(),a.currentDrags.push(this),this.gridOffset=this.calculateGridOffset(),this.position=this.calculatePositionWithGrid(b),this.el.dispatchEvent(new CustomEvent("draggable:dragstart",{bubbles:!0,detail:this.getEventDetails()}))},drag:function(a){if(this.options.autoScroll&&this.edgeMove(a),this.position=this.calculatePositionWithGrid(a),this.lastposition){if(this.lastposition.pageY==this.position.pageY&&this.lastposition.pageX==this.position.pageX)return}else this.lastposition=this.position;if(this.helper&&(this.helper.style.top=this.position.pageY-this.offsetDelta.top+"px",this.helper.style.left=this.position.pageX-this.offsetDelta.left+"px"),this.el.dispatchEvent(new CustomEvent("draggable:drag",{bubbles:!0,detail:this.getEventDetails()})),this.droppableCache.length>0&&this.helper){var b=null;if(this.isExcludedTarget(document.elementFromPoint(a.clientX,a.clientY))||(b=this.getClosestElement(this.helper)),!b)return this.lastTarget&&(this.lastTarget.dispatchEvent(new CustomEvent("draggable:dragleave",{bubbles:!0,detail:this.getEventDetails()})),this.lastTarget=null),void(this.lastposition=this.position);b!==this.lastTarget&&(this.lastTarget&&this.lastTarget.dispatchEvent(new CustomEvent("draggable:dragleave",{bubbles:!0,detail:this.getEventDetails()})),this.lastTarget=b,b.dispatchEvent(new CustomEvent("draggable:dragenter",{bubbles:!0,detail:this.getEventDetails()}))),b.dispatchEvent(new CustomEvent("draggable:dragover",{bubbles:!0,detail:this.getEventDetails()}))}this.lastposition=this.position},dragStop:function(){this.options.autoScroll&&this.stopAutoScroll(),this.releaseDroppableCache(),this.lastTarget&&(this.lastTarget.dispatchEvent(new CustomEvent("draggable:drop",{bubbles:!0,detail:this.getEventDetails()})),this.lastTarget.dispatchEvent(new CustomEvent("draggable:dragleave",{bubbles:!0,detail:this.getEventDetails()})),this.lastTarget=null),this.helper&&this.helper.parentNode.removeChild(this.helper),this.helper=null,this.el.dispatchEvent(new CustomEvent("draggable:dragend",{bubbles:!0,detail:this.getEventDetails()})),a.currentDrags.splice(a.currentDrags.indexOf(this),1)},startAutoScroll:function(){this.autoScroll.scrolling=!0,this.autoScroll.currentScroll&&window.cancelAnimationFrame(this.autoScroll.currentScroll),this.autoScroll.prevTime=(new Date).getTime(),this.autoScroll.currentScroll=window.requestAnimationFrame(this.performAutoScroll.bind(this))},performAutoScroll:function(){var a=(new Date).getTime(),b=(a-this.autoScroll.prevTime)/1e3,c=this.autoScroll.speed*b;c>=1&&(window.scrollBy(this.autoScroll.x>0&&this.autoScrollBounds.width>window.pageXOffset+window.innerWidth||this.autoScroll.x<0&&window.pageXOffset>0?this.autoScroll.x*c:0,this.autoScroll.y>0&&this.autoScrollBounds.height>window.pageYOffset+window.innerHeight||this.autoScroll.y<0&&window.pageYOffset>0?this.autoScroll.y*c:0),this.autoScroll.prevTime=a,this.helper&&(this.helper.style.top=this.roundToGrid(this.autoScroll.clientY+window.pageYOffset-this.offsetDelta.top)+"px",this.helper.style.left=this.roundToGrid(this.autoScroll.clientX+window.pageXOffset-this.offsetDelta.left)+"px")),this.autoScroll.scrolling&&(window.cancelAnimationFrame(this.autoScroll.currentScroll),this.autoScroll.currentScroll=window.requestAnimationFrame(this.performAutoScroll.bind(this)))},stopAutoScroll:function(){this.autoScroll.scrolling=!1,this.autoScroll.currentScroll&&window.cancelAnimationFrame(this.autoScroll.currentScroll)},edgeMove:function(a){var b=60,c=a.clientY<b,d=a.clientX>window.innerWidth-b,e=a.clientY>window.innerHeight-b,f=a.clientX<b;this.autoScroll={clientX:a.clientX,clientY:a.clientY,speed:500,x:d?1:f?-1:0,y:e?1:c?-1:0},0!=this.autoScroll.x||0!=this.autoScroll.y?this.startAutoScroll():this.stopAutoScroll()}},a.draggable=function(b,c){Array.prototype.slice.call(a.utils.normalize(b)).forEach(function(b){b.__draggable||new a.Draggable(b,c)})},a.draggables=function(b,c,d){Array.prototype.slice.call(a.utils.normalize(b)).forEach(function(b){b.addEventListener("mouseover",function(e){Array.prototype.slice.call(b.querySelectorAll(c)).forEach(function(b){b.contains(e.target)&&a.draggable(a.utils.closest(e.target,c),d)})}),b.addEventListener("touchstart",function(e){Array.prototype.slice.call(b.querySelectorAll(c)).forEach(function(b){b.contains(e.target)&&a.draggable([a.utils.closest(e.target,c)],d)})})})}}(this),function(){var a=this.Dragdrop;a.Sortable=function(a,b){this.el=a,this.el.__sortable=this,this.options=b,this.init()},a.Sortable.prototype={init:function(){a.draggables(this.el,this.options.items,{distance:this.options.distance,grid:this.options.grid,helper:this.options.helper,handle:this.options.handle,payload:this.options.payload,droppables:this.options.droppables,exclude:this.options.exclude,tolerance:this.options.tolerance}),a.utils.on(this.el,"draggable:dragstart",this.options.items,this.handleItemDragStart.bind(this)),a.utils.on(this.el,"draggable:dragend",this.options.items,this.handleItemDragEnd.bind(this)),this.el.addEventListener("draggable:dragenter",this.handleDragEnter.bind(this)),this.el.addEventListener("draggable:dragover",this.handleDragOver.bind(this)),this.el.addEventListener("draggable:drop",this.handleDrop.bind(this)),this.el.addEventListener("draggable:dragleave",this.handleDragLeave.bind(this))},getPlaceholder:function(b){if(!b.__sortable_placeholder){var c;a.utils.isFunction(this.options.placeholder)?c=this.options.placeholder(b):(c=document.createElement("div"),c.classList.add(this.options.placeholder)),b.__sortable_placeholder=c}return b.__sortable_placeholder},acceptsDraggable:function(b){return a.utils.matches(b,this.options.accepts)},acceptsReceive:function(a,b){return this.options.acceptReceive?this.options.acceptReceive(a,b):!0},acceptsAppear:function(a,b){return this.options.acceptAppear?this.options.acceptAppear(a,b):!0},getSortables:function(){return this.options.items?document.querySelectorAll(this.options.items):[]},getSortableContainer:function(){return this.options.within?this.el.querySelector(this.options.within):this.el},handleDragEnter:function(a){this.acceptsDraggable(a.detail.draggable)&&(this.sortableCache=this.getSortables())},handleDragLeave:function(a){if(this.acceptsDraggable(a.detail.draggable)){var b=this.getPlaceholder(a.detail.draggable);b&&b.parentNode&&b.parentNode.removeChild(b)}},handleItemDragStart:function(a){a.detail.draggable.__sortable=this.el},handleDragOver:function(b){if(this.acceptsDraggable(b.detail.draggable)){b.stopPropagation();var c=b.detail.helper,d=this.getPlaceholder(b.detail.draggable),e=Array.prototype.slice.call(this.sortableCache),f=e.length;e.push(d);var g=a.utils.getOverlappingElement(c,e);if(g){var h=a.utils.overlappingPositions(c,g);a.utils.isFloating(g)?b.detail.deltaX<0?g.parentNode.insertBefore(d,g.nextSibling):b.detail.deltaX>0&&g.parentNode.insertBefore(d,g):h.bottom==h.top?b.detail.deltaY<0?g.parentNode.insertBefore(d,g.nextSibling):b.detail.deltaY>0&&g.parentNode.insertBefore(d,g):h.bottom?g.parentNode.insertBefore(d,g.nextSibling):g.parentNode.insertBefore(d,g)}else f>0&&this.el.appendChild(d)}},handleItemDragEnd:function(a){a.stopPropagation(),delete a.detail.draggable.__sortable},handleDrop:function(b){if(this.acceptsDraggable(b.detail.draggable)){{this.getPlaceholder(b.detail.draggable)}this.el.contains(b.detail.draggable)||a.utils.matches(b.detail.draggable,this.options.items)&&this.acceptsReceive(b.detail.payload,b.detail.payload)?this.handleSort(b):this.acceptsAppear(b.detail.draggable,b.detail.payload)&&this.handleAppear(b)}},handleSort:function(a){var b=this.getPlaceholder(a.detail.draggable),c=a.detail.draggable.__sortable;b.parentNode&&(b.parentNode.insertBefore(a.detail.draggable,b),b.parentNode.removeChild(b)),c&&c!=this.el&&(c.dispatchEvent(new CustomEvent("sortable:remove",{detail:{draggable:a.detail.draggable,payload:a.detail.payload}})),this.el.dispatchEvent(new CustomEvent("sortable:receive",{detail:{draggable:a.detail.draggable,payload:a.detail.payload}}))),this.el.dispatchEvent(new CustomEvent("sortable:sort",{detail:{draggable:a.detail.draggable,payload:a.detail.payload}}))},handleAppear:function(a){var b=this.getPlaceholder(a.detail.draggable),c=this.options.appear(a.detail.draggable,a.detail.payload);b.parentNode?(b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b)):this.getSortableContainer().appendChild(c),this.el.dispatchEvent(new CustomEvent("sortable:appear",{detail:{appearedElement:c,draggable:a.detail.draggable,payload:a.detail.payload}})),a.detail.draggable.dispatchEvent(new CustomEvent("draggable:appear",{bubbles:!0,detail:{sortable:this.el}}))}},a.sortable=function(b,c){Array.prototype.slice.call(a.utils.normalize(b)).forEach(function(b){b.__sortable||new a.Sortable(b,c)})}}(this),function(){var a=this,b=this.Dragdrop;b.Resizable=function(a,b){this.el=a,this.el.__resizable=this,this.handleViewportResize=this.handleViewportResize.bind(this),this.options={handles:"e,s,se",aspectRatio:!1,constraints:this.getConstraints.bind(this),validateDimensions:this.validateDimensions.bind(this),updateDimensions:this.updateDimensions.bind(this)};for(var c in b)this.options[c]=b[c];this.handlers=[]},b.Resizable.prototype={buildHandlers:function(){this.handlers.push(this.buildHandler("right","center","e")),this.handlers.push(this.buildHandler("right","bottom","se")),this.handlers.push(this.buildHandler("center","bottom","s")),this.handlers.push(this.buildHandler("left","bottom","sw")),this.handlers.push(this.buildHandler("left","center","w")),b.draggable(this.handlers,{autoScroll:!1,grid:this.options.grid,gridOrigin:this.getOffsetForResize.bind(this)})},buildHandler:function(a,b,c){var d=document.createElement("div");return d._resizablePositionX=a,d._resizablePositionY=b,d._resizableCoordinate=c,d.classList.add(this.options.handler),d.style.webkitTransform="translate3d(0,0,0)",d.addEventListener("draggable:dragstart",this.handleDragStart.bind(this)),d.addEventListener("draggable:drag",this.handleDrag.bind(this)),d.addEventListener("draggable:dragend",this.handleDragEnd.bind(this)),d.addEventListener("click",this.handleHandlerClick.bind(this)),d},positionHandlers:function(){var a=this.el.getBoundingClientRect();this.handlers.forEach(function(b){"left"==b._resizablePositionX?b.style.left=a.left+window.pageXOffset+"px":"center"==b._resizablePositionX?b.style.left=a.left+a.width/2+window.pageXOffset+"px":"right"==b._resizablePositionX&&(b.style.left=a.left+a.width+window.pageXOffset+"px"),"center"==b._resizablePositionY?b.style.top=a.top+a.height/2+window.pageYOffset+"px":"bottom"==b._resizablePositionY&&(b.style.top=a.top+a.height+window.pageYOffset+"px")})},show:function(){0==this.handlers.length&&this.buildHandlers();var b=this.options.handles.split(",").map(function(a){return a.trim()});this.handlers.forEach(function(a){a.parentNode||-1===b.indexOf(a._resizableCoordinate)?a.parentNode&&-1===b.indexOf(a._resizableCoordinate)&&document.body.removeChild(a):document.body.appendChild(a)}),this.positionHandlers(),a.addEventListener("resize",this.handleViewportResize)},hide:function(){a.removeEventListener("resize",this.handleViewportResize),this.handlers.forEach(function(a){a.parentNode&&document.body.removeChild(a)})},setHandles:function(a){this.options.handles=a,this.show()},destroy:function(){this.hide(),this.el.__resizable=null},getConstraints:function(){return{}},validateDimensions:function(){return!0},updateDimensions:function(a){this.el.style.width=a.width+"px",this.el.style.height=a.height+"px"},performElementResize:function(a){this.options.validateDimensions(a)&&(this.options.updateDimensions(a),this.el.dispatchEvent(new CustomEvent("resizable:resize",{bubbles:!0})),this.positionHandlers())},getOffsetForResize:function(){var a=this.el.getBoundingClientRect();return[a.top+window.pageYOffset,a.left+window.pageXOffset]},handleDragStart:function(){this.el.dispatchEvent(new CustomEvent("resizable:resizestart",{bubbles:!0}));var a=this.el.getBoundingClientRect();this.initialSize={width:a.width,height:a.height},this.aspectRatio=a.height/a.width,this.constraints=this.options.constraints()},handleDrag:function(a){var b=this.el.getBoundingClientRect(),c=a.detail.draggable,d=parseInt(c.style.left,10)-a.detail.pageX,e=parseInt(c.style.top,10)-a.detail.pageY,f={initialWidth:this.initialSize.width,initialHeight:this.initialSize.height,previousWidth:b.width,previousHeight:b.height,width:b.width,height:b.height};window.requestAnimationFrame(function(){"right"==c._resizablePositionX&&"center"==c._resizablePositionY&&(f.width=b.width-d),"left"==c._resizablePositionX&&"center"==c._resizablePositionY&&(f.width=b.width+d),this.constraints.maxWidth&&(f.width=Math.min(f.width,this.constraints.maxWidth)),"right"==c._resizablePositionX&&"bottom"==c._resizablePositionY&&(f.width=b.width-d,this.constraints.maxWidth&&(f.width=Math.min(f.width,this.constraints.maxWidth)),f.height=this.options.aspectRatio?f.width*this.aspectRatio:b.height-e),"left"==c._resizablePositionX&&"bottom"==c._resizablePositionY&&(f.width=b.width+d,this.constraints.maxWidth&&(f.width=Math.min(f.width,this.constraints.maxWidth)),f.height=this.options.aspectRatio?f.width*this.aspectRatio:b.height-e),"center"==c._resizablePositionX&&"bottom"==c._resizablePositionY&&(f.height=b.height-e),this.constraints.maxHeight&&(f.height=Math.min(f.height,this.constraints.maxHeight)),this.performElementResize(f)}.bind(this))},handleDragEnd:function(){this.el.dispatchEvent(new CustomEvent("resizable:resizeend",{bubbles:!0}))},handleHandlerClick:function(a){a.preventDefault()},handleViewportResize:function(){this.positionHandlers()}},b.resizable=function(a,c){Array.prototype.slice.call(b.utils.normalize(a)).forEach(function(a){a.__resizable||new b.Resizable(a,c)})}}(this);