/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-dev-20230906(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/common/event","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/editor/common/core/position","vs/base/common/async","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/commands/common/commands","vs/base/common/codicons","vs/base/common/themables","vs/editor/common/languages","vs/platform/configuration/common/configuration","vs/platform/actions/common/actions","vs/editor/common/languages/languageConfigurationRegistry","vs/platform/theme/common/colorRegistry","vs/editor/browser/services/codeEditorService","vs/platform/keybinding/common/keybinding","vs/platform/registry/common/platform","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/editor/common/model/textModel","vs/base/common/observable","vs/base/common/actions","vs/editor/common/languages/language","vs/base/browser/keyboardEvent","vs/base/common/resources","vs/platform/instantiation/common/extensions","vs/platform/notification/common/notification","vs/base/common/iterator","vs/editor/common/model","vs/base/browser/ui/aria/aria","vs/editor/common/services/model","vs/base/browser/browser","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/base/common/network","vs/platform/opener/common/opener","vs/base/common/htmlContent","vs/platform/contextview/browser/contextView","vs/base/common/stopwatch","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/map","vs/editor/common/core/lineRange","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/base/common/filters","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/platform/telemetry/common/telemetry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/base/common/arraysFind","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/core/offsetRange","vs/editor/common/viewModel","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/platform/progress/common/progress","vs/platform/accessibility/common/accessibility","vs/platform/storage/common/storage","vs/platform/theme/common/theme","vs/base/browser/trustedTypes","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/base/common/path","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/base/common/assert","vs/base/common/functional","vs/base/common/lazy","vs/base/common/severity","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/browser/widget/diffEditorWidget2/utils","vs/editor/common/core/stringBuilder","vs/platform/clipboard/common/clipboardService","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/browser/defaultStyles","vs/base/common/decorators","vs/base/common/mime","vs/editor/common/diff/rangeMapping","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/base/browser/ui/list/listWidget","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/services/editorWorker","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/observableInternal/logging","vs/base/common/hash","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/common/editorFeatures","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/audioCues/browser/audioCueService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/collections","vs/base/common/idGenerator","vs/base/common/observableInternal/base","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/base/browser/markdownRenderer","vs/base/browser/ui/tree/abstractTree","vs/editor/browser/controller/textAreaInput","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/contextkey/common/contextkeys","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/observableInternal/autorun","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/diffEditorWidget2/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/browser/controller/mouseTarget","vs/platform/quickinput/browser/quickInputList","vs/editor/browser/widget/diffEditorWidget2/overviewRulerPart","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/widget/diffEditorWidget2/decorations","vs/editor/browser/widget/diffEditorWidget2/diffEditorWidget2","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/derived","vs/base/common/observableInternal/utils","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/diffEditorWidget2/style","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditorWidget2/delegatingEditorImpl","vs/editor/browser/widget/diffEditorWidget2/outlineModel","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/widget/diffEditorWidget2/diffEditorSash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditorWidget2/colors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/decorations","vs/nls!vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditorWidget2/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditorWidget2/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/audioCues/browser/audioCueService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputList","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/browser/widget/diffEditorWidget2/hideUnchangedRegionsFeature","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/editor/browser/widget/diffEditor.contribution","vs/editor/browser/widget/codeEditorContributions","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/browser/widget/diffEditorWidget2/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/actions/browser/toolbar","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/diffEditorWidget2/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/quickinput/browser/quickInput","vs/platform/quickinput/browser/quickInputController","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditorWidget2/diffEditorDecorations","vs/editor/browser/widget/diffEditorWidget2/lineAlignment","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],te=function(G){for(var e=[],L=0,k=G.length;L<k;L++)e[L]=ee[G[L]];return e};define(ee[923],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function L(m,_,v,C){if(C=C||{},(C["vs/css"]||{}).disabled){v({});return}const n=_.toUrl(m+".css");k(m,n,()=>{v({})},i=>{typeof v.error=="function"&&v.error("Could not find "+n+".")})}e.load=L;function k(m,_,v,C){if(y(m,_)){v();return}D(m,_,v,C)}function y(m,_){const v=document.getElementsByTagName("link");for(let C=0,s=v.length;C<s;C++){const n=v[C].getAttribute("data-name"),i=v[C].getAttribute("href");if(n===m||i===_)return!0}return!1}function D(m,_,v,C){const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("data-name",m),S(m,s,v,C),s.setAttribute("href",_),(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}function S(m,_,v,C){const s=()=>{_.removeEventListener("load",n),_.removeEventListener("error",i)},n=t=>{s(),v()},i=t=>{s(),C(t)};_.addEventListener("load",n),_.addEventListener("error",i)}});var Se=this&&this.__awaiter||function(G,e,L,k){function y(D){return D instanceof L?D:new L(function(S){S(D)})}return new(L||(L=Promise))(function(D,S){function m(C){try{v(k.next(C))}catch(s){S(s)}}function _(C){try{v(k.throw(C))}catch(s){S(s)}}function v(C){C.done?D(C.value):y(C.value).then(m,_)}v((k=k.apply(G,e||[])).next())})};define(ee[3],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let L=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function y(t,a){let u;return a.length===0?u=t:u=t.replace(/\{(\d+)\}/g,(h,l)=>{const c=l[0],o=a[c];let d=h;return typeof o=="string"?d=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(d=String(o)),d}),L&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function D(t,a){let u=t[a];return u||(u=t["*"],u)?u:null}function S(t){return t.charAt(t.length-1)==="/"?t:t+"/"}function m(t,a,u){return Se(this,void 0,void 0,function*(){const h=S(t)+S(a)+"vscode/"+S(u),l=yield fetch(h);if(l.ok)return yield l.json();throw new Error(`${l.status} - ${l.statusText}`)})}function _(t){return function(a,u){const h=Array.prototype.slice.call(arguments,2);return y(t[a],h)}}function v(t,a,...u){return y(a,u)}e.localize=v;function C(t){}e.getConfiguredDefaultLocale=C;function s(t){L=t}e.setPseudoTranslation=s;function n(t,a){var u;return{localize:_(a[t]),getConfiguredDefaultLocale:(u=a.getConfiguredDefaultLocale)!==null&&u!==void 0?u:h=>{}}}e.create=n;function i(t,a,u,h){var l;const c=(l=h["vs/nls"])!==null&&l!==void 0?l:{};if(!t||t.length===0)return u({localize:v,getConfiguredDefaultLocale:()=>{var f;return(f=c.availableLanguages)===null||f===void 0?void 0:f["*"]}});const o=c.availableLanguages?D(c.availableLanguages,t):null,d=o===null||o===k;let r=".nls";d||(r=r+"."+o);const g=f=>{Array.isArray(f)?f.localize=_(f):f.localize=_(f[t]),f.getConfiguredDefaultLocale=()=>{var p;return(p=c.availableLanguages)===null||p===void 0?void 0:p["*"]},u(f)};typeof c.loadBundle=="function"?c.loadBundle(t,o,(f,p)=>{f?a([t+".nls"],g):g(p)}):c.translationServiceUrl&&!d?Se(this,void 0,void 0,function*(){var f;try{const p=yield m(c.translationServiceUrl,o,t);return g(p)}catch(p){if(!o.includes("-"))return console.error(p),a([t+".nls"],g);try{const b=o.split("-")[0],w=yield m(c.translationServiceUrl,b,t);return(f=c.availableLanguages)!==null&&f!==void 0||(c.availableLanguages={}),c.availableLanguages["*"]=b,g(w)}catch(b){return console.error(b),a([t+".nls"],g)}}}):a([t+r],g,f=>{if(r===".nls"){console.error("Failed trying to load default language strings",f);return}console.error(`Failed to load message bundle for language ${o}. Falling back to the default language:`,f),a([t+".nls"],g)})}e.load=i});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Wt,setPrototypeOf:Vt,isFrozen:Yt,getPrototypeOf:Qt,getOwnPropertyDescriptor:Xt}=Object;let{freeze:ut,seal:pt,create:Jt}=Object,{apply:At,construct:Pt}=typeof Reflect<"u"&&Reflect;At||(At=function(e,L,k){return e.apply(L,k)}),ut||(ut=function(e){return e}),pt||(pt=function(e){return e}),Pt||(Pt=function(e,L){return new e(...L)});const ei=mt(Array.prototype.forEach),zt=mt(Array.prototype.pop),It=mt(Array.prototype.push),Tt=mt(String.prototype.toLowerCase),Rt=mt(String.prototype.toString),ti=mt(String.prototype.match),vt=mt(String.prototype.replace),ii=mt(String.prototype.indexOf),ni=mt(String.prototype.trim),gt=mt(RegExp.prototype.test),kt=si(TypeError);function mt(G){return function(e){for(var L=arguments.length,k=new Array(L>1?L-1:0),y=1;y<L;y++)k[y-1]=arguments[y];return At(G,e,k)}}function si(G){return function(){for(var e=arguments.length,L=new Array(e),k=0;k<e;k++)L[k]=arguments[k];return Pt(G,L)}}function Ge(G,e,L){var k;L=(k=L)!==null&&k!==void 0?k:Tt,Vt&&Vt(G,null);let y=e.length;for(;y--;){let D=e[y];if(typeof D=="string"){const S=L(D);S!==D&&(Yt(e)||(e[y]=S),D=S)}G[D]=!0}return G}function Et(G){const e=Jt(null);for(const[L,k]of Wt(G))e[L]=k;return e}function Mt(G,e){for(;G!==null;){const k=Xt(G,e);if(k){if(k.get)return mt(k.get);if(typeof k.value=="function")return mt(k.value)}G=Qt(G)}function L(k){return console.warn("fallback value for",k),null}return L}const Ht=ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ot=ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oi=ut(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ri=ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ut=ut(["#text"]),Kt=ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),xt=ut(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qt=ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nt=ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ai=pt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),li=pt(/<%[\w\W]*|[\w\W]*%>/gm),di=pt(/\${[\w\W]*}/gm),ci=pt(/^data-[\-\w.\u00B7-\uFFFF]/),ui=pt(/^aria-[\-\w]+$/),jt=pt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hi=pt(/^(?:\w+script|data):/i),gi=pt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gt=pt(/^html$/i);var $t=Object.freeze({__proto__:null,MUSTACHE_EXPR:ai,ERB_EXPR:li,TMPLIT_EXPR:di,DATA_ATTR:ci,ARIA_ATTR:ui,IS_ALLOWED_URI:jt,IS_SCRIPT_OR_DATA:hi,ATTR_WHITESPACE:gi,DOCTYPE_NAME:Gt});const fi=()=>typeof window>"u"?null:window,mi=function(e,L){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const y="data-tt-policy-suffix";L&&L.hasAttribute(y)&&(k=L.getAttribute(y));const D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Zt(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fi();const e=Ve=>Zt(Ve);if(e.version="3.0.5",e.removed=[],!G||!G.document||G.document.nodeType!==9)return e.isSupported=!1,e;const L=G.document,k=L.currentScript;let{document:y}=G;const{DocumentFragment:D,HTMLTemplateElement:S,Node:m,Element:_,NodeFilter:v,NamedNodeMap:C=G.NamedNodeMap||G.MozNamedAttrMap,HTMLFormElement:s,DOMParser:n,trustedTypes:i}=G,t=_.prototype,a=Mt(t,"cloneNode"),u=Mt(t,"nextSibling"),h=Mt(t,"childNodes"),l=Mt(t,"parentNode");if(typeof S=="function"){const Ve=y.createElement("template");Ve.content&&Ve.content.ownerDocument&&(y=Ve.content.ownerDocument)}let c,o="";const{implementation:d,createNodeIterator:r,createDocumentFragment:g,getElementsByTagName:f}=y,{importNode:p}=L;let b={};e.isSupported=typeof Wt=="function"&&typeof l=="function"&&d&&d.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:w,ERB_EXPR:E,TMPLIT_EXPR:I,DATA_ATTR:N,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:M}=$t;let{IS_ALLOWED_URI:A}=$t,T=null;const O=Ge({},[...Ht,...Ot,...Ft,...Bt,...Ut]);let P=null;const x=Ge({},[...Kt,...xt,...qt,...Nt]);let z=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,B=null,$=!0,X=!0,ne=!1,oe=!0,Y=!1,U=!1,W=!1,V=!1,Z=!1,ie=!1,le=!1,he=!0,de=!1;const ce="user-content-";let ae=!0,J=!1,K={},H=null;const Q=Ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let j=null;const re=Ge({},["audio","video","img","source","image","track"]);let se=null;const ue=Ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",Ce="http://www.w3.org/1999/xhtml";let we=Ce,Le=!1,Ee=null;const Ne=Ge({},[me,ve,Ce],Rt);let Ae;const Re=["application/xhtml+xml","text/html"],ye="text/html";let De,fe=null;const _e=y.createElement("form"),pe=function(Te){return Te instanceof RegExp||Te instanceof Function},be=function(Te){if(!(fe&&fe===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=Et(Te),Ae=Re.indexOf(Te.PARSER_MEDIA_TYPE)===-1?Ae=ye:Ae=Te.PARSER_MEDIA_TYPE,De=Ae==="application/xhtml+xml"?Rt:Tt,T="ALLOWED_TAGS"in Te?Ge({},Te.ALLOWED_TAGS,De):O,P="ALLOWED_ATTR"in Te?Ge({},Te.ALLOWED_ATTR,De):x,Ee="ALLOWED_NAMESPACES"in Te?Ge({},Te.ALLOWED_NAMESPACES,Rt):Ne,se="ADD_URI_SAFE_ATTR"in Te?Ge(Et(ue),Te.ADD_URI_SAFE_ATTR,De):ue,j="ADD_DATA_URI_TAGS"in Te?Ge(Et(re),Te.ADD_DATA_URI_TAGS,De):re,H="FORBID_CONTENTS"in Te?Ge({},Te.FORBID_CONTENTS,De):Q,q="FORBID_TAGS"in Te?Ge({},Te.FORBID_TAGS,De):{},B="FORBID_ATTR"in Te?Ge({},Te.FORBID_ATTR,De):{},K="USE_PROFILES"in Te?Te.USE_PROFILES:!1,$=Te.ALLOW_ARIA_ATTR!==!1,X=Te.ALLOW_DATA_ATTR!==!1,ne=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,oe=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Y=Te.SAFE_FOR_TEMPLATES||!1,U=Te.WHOLE_DOCUMENT||!1,Z=Te.RETURN_DOM||!1,ie=Te.RETURN_DOM_FRAGMENT||!1,le=Te.RETURN_TRUSTED_TYPE||!1,V=Te.FORCE_BODY||!1,he=Te.SANITIZE_DOM!==!1,de=Te.SANITIZE_NAMED_PROPS||!1,ae=Te.KEEP_CONTENT!==!1,J=Te.IN_PLACE||!1,A=Te.ALLOWED_URI_REGEXP||jt,we=Te.NAMESPACE||Ce,z=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&pe(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&pe(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(z.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(X=!1),ie&&(Z=!0),K&&(T=Ge({},[...Ut]),P=[],K.html===!0&&(Ge(T,Ht),Ge(P,Kt)),K.svg===!0&&(Ge(T,Ot),Ge(P,xt),Ge(P,Nt)),K.svgFilters===!0&&(Ge(T,Ft),Ge(P,xt),Ge(P,Nt)),K.mathMl===!0&&(Ge(T,Bt),Ge(P,qt),Ge(P,Nt))),Te.ADD_TAGS&&(T===O&&(T=Et(T)),Ge(T,Te.ADD_TAGS,De)),Te.ADD_ATTR&&(P===x&&(P=Et(P)),Ge(P,Te.ADD_ATTR,De)),Te.ADD_URI_SAFE_ATTR&&Ge(se,Te.ADD_URI_SAFE_ATTR,De),Te.FORBID_CONTENTS&&(H===Q&&(H=Et(H)),Ge(H,Te.FORBID_CONTENTS,De)),ae&&(T["#text"]=!0),U&&Ge(T,["html","head","body"]),T.table&&(Ge(T,["tbody"]),delete q.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');c=Te.TRUSTED_TYPES_POLICY,o=c.createHTML("")}else c===void 0&&(c=mi(i,k)),c!==null&&typeof o=="string"&&(o=c.createHTML(""));ut&&ut(Te),fe=Te}},ke=Ge({},["mi","mo","mn","ms","mtext"]),Pe=Ge({},["foreignobject","desc","title","annotation-xml"]),Fe=Ge({},["title","style","font","a","script"]),Ue=Ge({},Ot);Ge(Ue,Ft),Ge(Ue,oi);const qe=Ge({},Bt);Ge(qe,ri);const je=function(Te){let Oe=l(Te);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:we,tagName:"template"});const xe=Tt(Te.tagName),$e=Tt(Oe.tagName);return Ee[Te.namespaceURI]?Te.namespaceURI===ve?Oe.namespaceURI===Ce?xe==="svg":Oe.namespaceURI===me?xe==="svg"&&($e==="annotation-xml"||ke[$e]):!!Ue[xe]:Te.namespaceURI===me?Oe.namespaceURI===Ce?xe==="math":Oe.namespaceURI===ve?xe==="math"&&Pe[$e]:!!qe[xe]:Te.namespaceURI===Ce?Oe.namespaceURI===ve&&!Pe[$e]||Oe.namespaceURI===me&&!ke[$e]?!1:!qe[xe]&&(Fe[xe]||!Ue[xe]):!!(Ae==="application/xhtml+xml"&&Ee[Te.namespaceURI]):!1},Ze=function(Te){It(e.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{Te.remove()}},Ke=function(Te,Oe){try{It(e.removed,{attribute:Oe.getAttributeNode(Te),from:Oe})}catch{It(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(Te),Te==="is"&&!P[Te])if(Z||ie)try{Ze(Oe)}catch{}else try{Oe.setAttribute(Te,"")}catch{}},ot=function(Te){let Oe,xe;if(V)Te="<remove></remove>"+Te;else{const it=ti(Te,/^[\r\n\t ]+/);xe=it&&it[0]}Ae==="application/xhtml+xml"&&we===Ce&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const $e=c?c.createHTML(Te):Te;if(we===Ce)try{Oe=new n().parseFromString($e,Ae)}catch{}if(!Oe||!Oe.documentElement){Oe=d.createDocument(we,"template",null);try{Oe.documentElement.innerHTML=Le?o:$e}catch{}}const tt=Oe.body||Oe.documentElement;return Te&&xe&&tt.insertBefore(y.createTextNode(xe),tt.childNodes[0]||null),we===Ce?f.call(Oe,U?"html":"body")[0]:U?Oe.documentElement:tt},st=function(Te){return r.call(Te.ownerDocument||Te,Te,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},lt=function(Te){return Te instanceof s&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof C)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},dt=function(Te){return typeof m=="object"?Te instanceof m:Te&&typeof Te=="object"&&typeof Te.nodeType=="number"&&typeof Te.nodeName=="string"},rt=function(Te,Oe,xe){b[Te]&&ei(b[Te],$e=>{$e.call(e,Oe,xe,fe)})},Ct=function(Te){let Oe;if(rt("beforeSanitizeElements",Te,null),lt(Te))return Ze(Te),!0;const xe=De(Te.nodeName);if(rt("uponSanitizeElement",Te,{tagName:xe,allowedTags:T}),Te.hasChildNodes()&&!dt(Te.firstElementChild)&&(!dt(Te.content)||!dt(Te.content.firstElementChild))&&gt(/<[/\w]/g,Te.innerHTML)&&gt(/<[/\w]/g,Te.textContent))return Ze(Te),!0;if(!T[xe]||q[xe]){if(!q[xe]&&bt(xe)&&(z.tagNameCheck instanceof RegExp&&gt(z.tagNameCheck,xe)||z.tagNameCheck instanceof Function&&z.tagNameCheck(xe)))return!1;if(ae&&!H[xe]){const $e=l(Te)||Te.parentNode,tt=h(Te)||Te.childNodes;if(tt&&$e){const it=tt.length;for(let ze=it-1;ze>=0;--ze)$e.insertBefore(a(tt[ze],!0),u(Te))}}return Ze(Te),!0}return Te instanceof _&&!je(Te)||(xe==="noscript"||xe==="noembed"||xe==="noframes")&&gt(/<\/no(script|embed|frames)/i,Te.innerHTML)?(Ze(Te),!0):(Y&&Te.nodeType===3&&(Oe=Te.textContent,Oe=vt(Oe,w," "),Oe=vt(Oe,E," "),Oe=vt(Oe,I," "),Te.textContent!==Oe&&(It(e.removed,{element:Te.cloneNode()}),Te.textContent=Oe)),rt("afterSanitizeElements",Te,null),!1)},ht=function(Te,Oe,xe){if(he&&(Oe==="id"||Oe==="name")&&(xe in y||xe in _e))return!1;if(!(X&&!B[Oe]&&gt(N,Oe))){if(!($&&gt(R,Oe))){if(!P[Oe]||B[Oe]){if(!(bt(Te)&&(z.tagNameCheck instanceof RegExp&&gt(z.tagNameCheck,Te)||z.tagNameCheck instanceof Function&&z.tagNameCheck(Te))&&(z.attributeNameCheck instanceof RegExp&&gt(z.attributeNameCheck,Oe)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(Oe))||Oe==="is"&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&gt(z.tagNameCheck,xe)||z.tagNameCheck instanceof Function&&z.tagNameCheck(xe))))return!1}else if(!se[Oe]){if(!gt(A,vt(xe,M,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&Te!=="script"&&ii(xe,"data:")===0&&j[Te])){if(!(ne&&!gt(F,vt(xe,M,"")))){if(xe)return!1}}}}}}return!0},bt=function(Te){return Te.indexOf("-")>0},ft=function(Te){let Oe,xe,$e,tt;rt("beforeSanitizeAttributes",Te,null);const{attributes:it}=Te;if(!it)return;const ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};for(tt=it.length;tt--;){Oe=it[tt];const{name:Me,namespaceURI:Be}=Oe;if(xe=Me==="value"?Oe.value:ni(Oe.value),$e=De(Me),ze.attrName=$e,ze.attrValue=xe,ze.keepAttr=!0,ze.forceKeepAttr=void 0,rt("uponSanitizeAttribute",Te,ze),xe=ze.attrValue,ze.forceKeepAttr||(Ke(Me,Te),!ze.keepAttr))continue;if(!oe&&gt(/\/>/i,xe)){Ke(Me,Te);continue}Y&&(xe=vt(xe,w," "),xe=vt(xe,E," "),xe=vt(xe,I," "));const We=De(Te.nodeName);if(ht(We,$e,xe)){if(de&&($e==="id"||$e==="name")&&(Ke(Me,Te),xe=ce+xe),c&&typeof i=="object"&&typeof i.getAttributeType=="function"&&!Be)switch(i.getAttributeType(We,$e)){case"TrustedHTML":{xe=c.createHTML(xe);break}case"TrustedScriptURL":{xe=c.createScriptURL(xe);break}}try{Be?Te.setAttributeNS(Be,Me,xe):Te.setAttribute(Me,xe),zt(e.removed)}catch{}}}rt("afterSanitizeAttributes",Te,null)},_t=function Ve(Te){let Oe;const xe=st(Te);for(rt("beforeSanitizeShadowDOM",Te,null);Oe=xe.nextNode();)rt("uponSanitizeShadowNode",Oe,null),!Ct(Oe)&&(Oe.content instanceof D&&Ve(Oe.content),ft(Oe));rt("afterSanitizeShadowDOM",Te,null)};return e.sanitize=function(Ve){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe,xe,$e,tt;if(Le=!Ve,Le&&(Ve="<!-->"),typeof Ve!="string"&&!dt(Ve))if(typeof Ve.toString=="function"){if(Ve=Ve.toString(),typeof Ve!="string")throw kt("dirty is not a string, aborting")}else throw kt("toString is not a function");if(!e.isSupported)return Ve;if(W||be(Te),e.removed=[],typeof Ve=="string"&&(J=!1),J){if(Ve.nodeName){const Me=De(Ve.nodeName);if(!T[Me]||q[Me])throw kt("root node is forbidden and cannot be sanitized in-place")}}else if(Ve instanceof m)Oe=ot("<!---->"),xe=Oe.ownerDocument.importNode(Ve,!0),xe.nodeType===1&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?Oe=xe:Oe.appendChild(xe);else{if(!Z&&!Y&&!U&&Ve.indexOf("<")===-1)return c&&le?c.createHTML(Ve):Ve;if(Oe=ot(Ve),!Oe)return Z?null:le?o:""}Oe&&V&&Ze(Oe.firstChild);const it=st(J?Ve:Oe);for(;$e=it.nextNode();)Ct($e)||($e.content instanceof D&&_t($e.content),ft($e));if(J)return Ve;if(Z){if(ie)for(tt=g.call(Oe.ownerDocument);Oe.firstChild;)tt.appendChild(Oe.firstChild);else tt=Oe;return(P.shadowroot||P.shadowrootmode)&&(tt=p.call(L,tt,!0)),tt}let ze=U?Oe.outerHTML:Oe.innerHTML;return U&&T["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&gt(Gt,Oe.ownerDocument.doctype.name)&&(ze="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+ze),Y&&(ze=vt(ze,w," "),ze=vt(ze,E," "),ze=vt(ze,I," ")),c&&le?c.createHTML(ze):ze},e.setConfig=function(Ve){be(Ve),W=!0},e.clearConfig=function(){fe=null,W=!1},e.isValidAttribute=function(Ve,Te,Oe){fe||be({});const xe=De(Ve),$e=De(Te);return ht(xe,$e,Oe)},e.addHook=function(Ve,Te){typeof Te=="function"&&(b[Ve]=b[Ve]||[],It(b[Ve],Te))},e.removeHook=function(Ve){if(b[Ve])return zt(b[Ve])},e.removeHooks=function(Ve){b[Ve]&&(b[Ve]=[])},e.removeAllHooks=function(){b={}},e}var pi=Zt();define("vs/base/browser/dompurify/dompurify",function(){return pi}),define(ee[37],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class L{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const m=k(S);this._maxWidth!==m&&(this._maxWidth=m,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const m=k(S);this._width!==m&&(this._width=m,this.domNode.style.width=this._width)}setHeight(S){const m=k(S);this._height!==m&&(this._height=m,this.domNode.style.height=this._height)}setTop(S){const m=k(S);this._top!==m&&(this._top=m,this.domNode.style.top=this._top)}setLeft(S){const m=k(S);this._left!==m&&(this._left=m,this.domNode.style.left=this._left)}setBottom(S){const m=k(S);this._bottom!==m&&(this._bottom=m,this.domNode.style.bottom=this._bottom)}setRight(S){const m=k(S);this._right!==m&&(this._right=m,this.domNode.style.right=this._right)}setPaddingLeft(S){const m=k(S);this._paddingLeft!==m&&(this._paddingLeft=m,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const m=k(S);this._fontSize!==m&&(this._fontSize=m,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const m=k(S);this._lineHeight!==m&&(this._lineHeight=m,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const m=k(S);this._letterSpacing!==m&&(this._letterSpacing=m,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,m){this.domNode.classList.toggle(S,m),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,m){this.domNode.setAttribute(S,m)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}e.FastDomNode=L;function k(D){return typeof D=="number"?`${D}px`:D}function y(D){return new L(D)}e.createFastDomNode=y}),define(ee[383],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let L=!1,k=null;function y(S){if(!S.parent||S.parent===S)return null;try{const m=S.location,_=S.parent.location;if(m.origin!=="null"&&_.origin!=="null"&&m.origin!==_.origin)return L=!0,null}catch{return L=!0,null}return S.parent}class D{static getSameOriginWindowChain(){if(!k){k=[];let m=window,_;do _=y(m),_?k.push({window:m,iframeElement:m.frameElement||null}):k.push({window:m,iframeElement:null}),m=_;while(m)}return k.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(m,_){if(!_||m===_)return{top:0,left:0};let v=0,C=0;const s=this.getSameOriginWindowChain();for(const n of s){if(v+=n.window.scrollY,C+=n.window.scrollX,n.window===_||!n.iframeElement)break;const i=n.iframeElement.getBoundingClientRect();v+=i.top,C+=i.left}return{top:v,left:C}}}e.IframeUtils=D}),define(ee[259],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var L;(function(k){const y={total:0,min:Number.MAX_VALUE,max:0},D=Object.assign({},y),S=Object.assign({},y),m=Object.assign({},y);let _=0;const v={keydown:0,input:0,render:0};function C(){o(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),v.keydown=1,queueMicrotask(s)}k.onKeyDown=C;function s(){v.keydown===1&&(performance.mark("keydown/end"),v.keydown=2)}function n(){performance.mark("input/start"),v.input=1,c()}k.onBeforeInput=n;function i(){v.input===0&&n(),queueMicrotask(t)}k.onInput=i;function t(){v.input===1&&(performance.mark("input/end"),v.input=2)}function a(){o()}k.onKeyUp=a;function u(){o()}k.onSelectionChange=u;function h(){v.keydown===2&&v.input===2&&v.render===0&&(performance.mark("render/start"),v.render=1,queueMicrotask(l),c())}k.onRenderStart=h;function l(){v.render===1&&(performance.mark("render/end"),v.render=2)}function c(){setTimeout(o)}function o(){v.keydown===2&&v.input===2&&v.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),d("keydown",y),d("input",D),d("render",S),d("inputlatency",m),_++,r())}function d(b,w){const E=performance.getEntriesByName(b)[0].duration;w.total+=E,w.min=Math.min(w.min,E),w.max=Math.max(w.max,E)}function r(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),v.keydown=0,v.input=0,v.render=0}function g(){if(_===0)return;const b={keydown:f(y),input:f(D),render:f(S),total:f(m),sampleCount:_};return p(y),p(D),p(S),p(m),_=0,b}k.getAndClearMeasurements=g;function f(b){return{average:b.total/_,max:b.max,min:b.min}}function p(b){b.total=0,b.min=Number.MAX_VALUE,b.max=0}})(L||(e.inputLatency=L={}))}),define(ee[384],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class L extends Error{constructor(y,D){super(`ListError [${y}] ${D}`)}}e.ListError=L}),define(ee[385],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class L{constructor(y){this.spliceables=y}splice(y,D,S){this.spliceables.forEach(m=>m.splice(y,D,S))}}e.CombinedSpliceable=L}),define(ee[196],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const L=20;class k{constructor(D,S,m,_,v,C){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(D),this._visibleSize=_,this._scrollSize=v,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,m,_,v){const C=Math.max(0,m-D),s=Math.max(0,C-2*S),n=_>0&&_>m;if(!n)return{computedAvailableSize:Math.round(C),computedIsNeeded:n,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(L,Math.floor(m*s/_))),t=(s-i)/(_-m),a=v*t;return{computedAvailableSize:Math.round(C),computedIsNeeded:n,computedSliderSize:Math.round(i),computedSliderRatio:t,computedSliderPosition:Math.round(a)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let m=this._scrollPosition;return S<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ee[137],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var L;(function(S){S[S.Expanded=0]="Expanded",S[S.Collapsed=1]="Collapsed",S[S.PreserveOrExpanded=2]="PreserveOrExpanded",S[S.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(L||(e.ObjectTreeElementCollapseState=L={}));var k;(function(S){S[S.Unknown=0]="Unknown",S[S.Twistie=1]="Twistie",S[S.Element=2]="Element",S[S.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class y extends Error{constructor(m,_){super(`TreeError [${m}] ${_}`)}}e.TreeError=y;class D{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let _=this._map.get(m);return _||(_=this.fn(m),this._map.set(m,_)),_}}e.WeakMapper=D}),define(ee[14],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.reverseOrder=e.booleanComparator=e.numberComparator=e.tieBreakComparators=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.forEachAdjacent=e.groupAdjacentBy=e.groupBy=e.quickSelect=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function L(T,O=0){return T[T.length-(1+O)]}e.tail=L;function k(T){if(T.length===0)throw new Error("Invalid tail call");return[T.slice(0,T.length-1),T[T.length-1]]}e.tail2=k;function y(T,O,P=(x,z)=>x===z){if(T===O)return!0;if(!T||!O||T.length!==O.length)return!1;for(let x=0,z=T.length;x<z;x++)if(!P(T[x],O[x]))return!1;return!0}e.equals=y;function D(T,O){const P=T.length-1;O<P&&(T[O]=T[P]),T.pop()}e.removeFastWithoutKeepingOrder=D;function S(T,O,P){return m(T.length,x=>P(T[x],O))}e.binarySearch=S;function m(T,O){let P=0,x=T-1;for(;P<=x;){const z=(P+x)/2|0,q=O(z);if(q<0)P=z+1;else if(q>0)x=z-1;else return z}return-(P+1)}e.binarySearch2=m;function _(T,O,P){if(T=T|0,T>=O.length)throw new TypeError("invalid index");const x=O[Math.floor(O.length*Math.random())],z=[],q=[],B=[];for(const $ of O){const X=P($,x);X<0?z.push($):X>0?q.push($):B.push($)}return T<z.length?_(T,z,P):T<z.length+B.length?B[0]:_(T-(z.length+B.length),q,P)}e.quickSelect=_;function v(T,O){const P=[];let x;for(const z of T.slice(0).sort(O))!x||O(x[0],z)!==0?(x=[z],P.push(x)):x.push(z);return P}e.groupBy=v;function*C(T,O){let P,x;for(const z of T)x!==void 0&&O(x,z)?P.push(z):(P&&(yield P),P=[z]),x=z;P&&(yield P)}e.groupAdjacentBy=C;function s(T,O){for(let P=0;P<=T.length;P++)O(P===0?void 0:T[P-1],P===T.length?void 0:T[P])}e.forEachAdjacent=s;function n(T){return T.filter(O=>!!O)}e.coalesce=n;function i(T){let O=0;for(let P=0;P<T.length;P++)T[P]&&(T[O]=T[P],O+=1);T.length=O}e.coalesceInPlace=i;function t(T){return!Array.isArray(T)||T.length===0}e.isFalsyOrEmpty=t;function a(T){return Array.isArray(T)&&T.length>0}e.isNonEmptyArray=a;function u(T,O=P=>P){const P=new Set;return T.filter(x=>{const z=O(x);return P.has(z)?!1:(P.add(z),!0)})}e.distinct=u;function h(T,O){return T.length>0?T[0]:O}e.firstOrDefault=h;function l(T,O){let P=typeof O=="number"?T:0;typeof O=="number"?P=T:(P=0,O=T);const x=[];if(P<=O)for(let z=P;z<O;z++)x.push(z);else for(let z=P;z>O;z--)x.push(z);return x}e.range=l;function c(T,O,P){const x=T.slice(0,O),z=T.slice(O);return x.concat(P,z)}e.arrayInsert=c;function o(T,O){const P=T.indexOf(O);P>-1&&(T.splice(P,1),T.unshift(O))}e.pushToStart=o;function d(T,O){const P=T.indexOf(O);P>-1&&(T.splice(P,1),T.push(O))}e.pushToEnd=d;function r(T,O){for(const P of O)T.push(P)}e.pushMany=r;function g(T){return Array.isArray(T)?T:[T]}e.asArray=g;function f(T,O,P){const x=b(T,O),z=T.length,q=P.length;T.length=z+q;for(let B=z-1;B>=x;B--)T[B+q]=T[B];for(let B=0;B<q;B++)T[B+x]=P[B]}e.insertInto=f;function p(T,O,P,x){const z=b(T,O);let q=T.splice(z,P);return q===void 0&&(q=[]),f(T,z,x),q}e.splice=p;function b(T,O){return O<0?Math.max(O+T.length,0):Math.min(O,T.length)}var w;(function(T){function O(q){return q<0}T.isLessThan=O;function P(q){return q<=0}T.isLessThanOrEqual=P;function x(q){return q>0}T.isGreaterThan=x;function z(q){return q===0}T.isNeitherLessOrGreaterThan=z,T.greaterThan=1,T.lessThan=-1,T.neitherLessOrGreaterThan=0})(w||(e.CompareResult=w={}));function E(T,O){return(P,x)=>O(T(P),T(x))}e.compareBy=E;function I(...T){return(O,P)=>{for(const x of T){const z=x(O,P);if(!w.isNeitherLessOrGreaterThan(z))return z}return w.neitherLessOrGreaterThan}}e.tieBreakComparators=I;const N=(T,O)=>T-O;e.numberComparator=N;const R=(T,O)=>(0,e.numberComparator)(T?1:0,O?1:0);e.booleanComparator=R;function F(T){return(O,P)=>-T(O,P)}e.reverseOrder=F;class M{constructor(O){this.items=O,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(O){let P=this.firstIdx;for(;P<this.items.length&&O(this.items[P]);)P++;const x=P===this.firstIdx?null:this.items.slice(this.firstIdx,P);return this.firstIdx=P,x}takeFromEndWhile(O){let P=this.lastIdx;for(;P>=0&&O(this.items[P]);)P--;const x=P===this.lastIdx?null:this.items.slice(P+1,this.lastIdx+1);return this.lastIdx=P,x}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const O=this.items[this.firstIdx];return this.firstIdx++,O}takeCount(O){const P=this.items.slice(this.firstIdx,this.firstIdx+O);return this.firstIdx+=O,P}}e.ArrayQueue=M;class A{constructor(O){this.iterate=O}toArray(){const O=[];return this.iterate(P=>(O.push(P),!0)),O}filter(O){return new A(P=>this.iterate(x=>O(x)?P(x):!0))}map(O){return new A(P=>this.iterate(x=>P(O(x))))}findLast(O){let P;return this.iterate(x=>(O(x)&&(P=x),!0)),P}findLastMaxBy(O){let P,x=!0;return this.iterate(z=>((x||w.isGreaterThan(O(z,P)))&&(x=!1,P=z),!0)),P}}e.CallbackIterable=A,A.empty=new A(T=>{})}),define(ee[78],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapFindFirst=e.findMaxIdxBy=e.findFirstMinBy=e.findLastMaxBy=e.findFirstMaxBy=e.MonotonousArray=e.findFirstIdxMonotonousOrArrLen=e.findFirstMonotonous=e.findLastIdxMonotonous=e.findLastMonotonous=e.findLastIdx=e.findLast=void 0;function L(t,a){const u=k(t,a);if(u!==-1)return t[u]}e.findLast=L;function k(t,a){for(let u=t.length-1;u>=0;u--){const h=t[u];if(a(h))return u}return-1}e.findLastIdx=k;function y(t,a){const u=D(t,a);return u===-1?void 0:t[u]}e.findLastMonotonous=y;function D(t,a,u=0,h=t.length){let l=u,c=h;for(;l<c;){const o=Math.floor((l+c)/2);a(t[o])?l=o+1:c=o}return l-1}e.findLastIdxMonotonous=D;function S(t,a){const u=m(t,a);return u===t.length?void 0:t[u]}e.findFirstMonotonous=S;function m(t,a,u=0,h=t.length){let l=u,c=h;for(;l<c;){const o=Math.floor((l+c)/2);a(t[o])?c=o:l=o+1}return l}e.findFirstIdxMonotonousOrArrLen=m;class _{constructor(a){this._array=a,this._findLastMonotonousLastIdx=0}findLastMonotonous(a){if(_.assertInvariants){if(this._prevFindLastPredicate){for(const h of this._array)if(this._prevFindLastPredicate(h)&&!a(h))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=a}const u=D(this._array,a,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=u+1,u===-1?void 0:this._array[u]}}e.MonotonousArray=_,_.assertInvariants=!1;function v(t,a){if(t.length===0)return;let u=t[0];for(let h=1;h<t.length;h++){const l=t[h];a(l,u)>0&&(u=l)}return u}e.findFirstMaxBy=v;function C(t,a){if(t.length===0)return;let u=t[0];for(let h=1;h<t.length;h++){const l=t[h];a(l,u)>=0&&(u=l)}return u}e.findLastMaxBy=C;function s(t,a){return v(t,(u,h)=>-a(u,h))}e.findFirstMinBy=s;function n(t,a){if(t.length===0)return-1;let u=0;for(let h=1;h<t.length;h++){const l=t[h];a(l,t[u])>0&&(u=h)}return u}e.findMaxIdxBy=n;function i(t,a){for(const u of t){const h=a(u);if(h!==void 0)return h}}e.mapFindFirst=i}),define(ee[260],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class L{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const S=JSON.stringify(D);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=L;class k{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const S=this.fn(D);return this._map.set(D,S),S}}e.CachedFunction=k}),define(ee[163],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.diffSets=void 0;function L(y,D){const S=[],m=[];for(const _ of y)D.has(_)||S.push(_);for(const _ of D)y.has(_)||m.push(_);return{removed:S,added:m}}e.diffSets=L;class k{constructor(){this.map=new Map}add(D,S){let m=this.map.get(D);m||(m=new Set,this.map.set(D,m)),m.add(S)}delete(D,S){const m=this.map.get(D);m&&(m.delete(S),m.size===0&&this.map.delete(D))}forEach(D,S){const m=this.map.get(D);m&&m.forEach(S)}get(D){const S=this.map.get(D);return S||new Set}}e.SetMap=k}),define(ee[36],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function L(m,_){const v=Math.pow(10,_);return Math.round(m*v)/v}class k{constructor(_,v,C,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,_))|0,this.g=Math.min(255,Math.max(0,v))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,v){return _.r===v.r&&_.g===v.g&&_.b===v.b&&_.a===v.a}}e.RGBA=k;class y{constructor(_,v,C,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,v),0),3),this.l=L(Math.max(Math.min(1,C),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,v){return _.h===v.h&&_.s===v.s&&_.l===v.l&&_.a===v.a}static fromRGBA(_){const v=_.r/255,C=_.g/255,s=_.b/255,n=_.a,i=Math.max(v,C,s),t=Math.min(v,C,s);let a=0,u=0;const h=(t+i)/2,l=i-t;if(l>0){switch(u=Math.min(h<=.5?l/(2*h):l/(2-2*h),1),i){case v:a=(C-s)/l+(C<s?6:0);break;case C:a=(s-v)/l+2;break;case s:a=(v-C)/l+4;break}a*=60,a=Math.round(a)}return new y(a,u,h,n)}static _hue2rgb(_,v,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?_+(v-_)*6*C:C<1/2?v:C<2/3?_+(v-_)*(2/3-C)*6:_}static toRGBA(_){const v=_.h/360,{s:C,l:s,a:n}=_;let i,t,a;if(C===0)i=t=a=s;else{const u=s<.5?s*(1+C):s+C-s*C,h=2*s-u;i=y._hue2rgb(h,u,v+1/3),t=y._hue2rgb(h,u,v),a=y._hue2rgb(h,u,v-1/3)}return new k(Math.round(i*255),Math.round(t*255),Math.round(a*255),n)}}e.HSLA=y;class D{constructor(_,v,C,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,v),0),3),this.v=L(Math.max(Math.min(1,C),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,v){return _.h===v.h&&_.s===v.s&&_.v===v.v&&_.a===v.a}static fromRGBA(_){const v=_.r/255,C=_.g/255,s=_.b/255,n=Math.max(v,C,s),i=Math.min(v,C,s),t=n-i,a=n===0?0:t/n;let u;return t===0?u=0:n===v?u=((C-s)/t%6+6)%6:n===C?u=(s-v)/t+2:u=(v-C)/t+4,new D(Math.round(u*60),a,n,_.a)}static toRGBA(_){const{h:v,s:C,v:s,a:n}=_,i=s*C,t=i*(1-Math.abs(v/60%2-1)),a=s-i;let[u,h,l]=[0,0,0];return v<60?(u=i,h=t):v<120?(u=t,h=i):v<180?(h=i,l=t):v<240?(h=t,l=i):v<300?(u=t,l=i):v<=360&&(u=i,l=t),u=Math.round((u+a)*255),h=Math.round((h+a)*255),l=Math.round((l+a)*255),new k(u,h,l,n)}}e.HSVA=D;class S{static fromHex(_){return S.Format.CSS.parseHex(_)||S.red}static equals(_,v){return!_&&!v?!0:!_||!v?!1:_.equals(v)}get hsla(){return this._hsla?this._hsla:y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(_){if(_)if(_ instanceof k)this.rgba=_;else if(_ instanceof y)this._hsla=_,this.rgba=y.toRGBA(_);else if(_ instanceof D)this._hsva=_,this.rgba=D.toRGBA(_);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(_){return!!_&&k.equals(this.rgba,_.rgba)&&y.equals(this.hsla,_.hsla)&&D.equals(this.hsva,_.hsva)}getRelativeLuminance(){const _=S._relativeLuminanceForComponent(this.rgba.r),v=S._relativeLuminanceForComponent(this.rgba.g),C=S._relativeLuminanceForComponent(this.rgba.b),s=.2126*_+.7152*v+.0722*C;return L(s,4)}static _relativeLuminanceForComponent(_){const v=_/255;return v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(_){const v=this.getRelativeLuminance(),C=_.getRelativeLuminance();return v>C}isDarkerThan(_){const v=this.getRelativeLuminance(),C=_.getRelativeLuminance();return v<C}lighten(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*_,this.hsla.a))}darken(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*_,this.hsla.a))}transparent(_){const{r:v,g:C,b:s,a:n}=this.rgba;return new S(new k(v,C,s,n*_))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(_){if(this.isOpaque()||_.rgba.a!==1)return this;const{r:v,g:C,b:s,a:n}=this.rgba;return new S(new k(_.rgba.r-n*(_.rgba.r-v),_.rgba.g-n*(_.rgba.g-C),_.rgba.b-n*(_.rgba.b-s),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(_,v,C){if(_.isLighterThan(v))return _;C=C||.5;const s=_.getRelativeLuminance(),n=v.getRelativeLuminance();return C=C*(n-s)/n,_.lighten(C)}static getDarkerColor(_,v,C){if(_.isDarkerThan(v))return _;C=C||.5;const s=_.getRelativeLuminance(),n=v.getRelativeLuminance();return C=C*(s-n)/s,_.darken(C)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.green=new S(new k(0,255,0,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(m){let _;(function(v){let C;(function(s){function n(r){return r.rgba.a===1?`rgb(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b})`:m.Format.CSS.formatRGBA(r)}s.formatRGB=n;function i(r){return`rgba(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b}, ${+r.rgba.a.toFixed(2)})`}s.formatRGBA=i;function t(r){return r.hsla.a===1?`hsl(${r.hsla.h}, ${(r.hsla.s*100).toFixed(2)}%, ${(r.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(r)}s.formatHSL=t;function a(r){return`hsla(${r.hsla.h}, ${(r.hsla.s*100).toFixed(2)}%, ${(r.hsla.l*100).toFixed(2)}%, ${r.hsla.a.toFixed(2)})`}s.formatHSLA=a;function u(r){const g=r.toString(16);return g.length!==2?"0"+g:g}function h(r){return`#${u(r.rgba.r)}${u(r.rgba.g)}${u(r.rgba.b)}`}s.formatHex=h;function l(r,g=!1){return g&&r.rgba.a===1?m.Format.CSS.formatHex(r):`#${u(r.rgba.r)}${u(r.rgba.g)}${u(r.rgba.b)}${u(Math.round(r.rgba.a*255))}`}s.formatHexA=l;function c(r){return r.isOpaque()?m.Format.CSS.formatHex(r):m.Format.CSS.formatRGBA(r)}s.format=c;function o(r){const g=r.length;if(g===0||r.charCodeAt(0)!==35)return null;if(g===7){const f=16*d(r.charCodeAt(1))+d(r.charCodeAt(2)),p=16*d(r.charCodeAt(3))+d(r.charCodeAt(4)),b=16*d(r.charCodeAt(5))+d(r.charCodeAt(6));return new m(new k(f,p,b,1))}if(g===9){const f=16*d(r.charCodeAt(1))+d(r.charCodeAt(2)),p=16*d(r.charCodeAt(3))+d(r.charCodeAt(4)),b=16*d(r.charCodeAt(5))+d(r.charCodeAt(6)),w=16*d(r.charCodeAt(7))+d(r.charCodeAt(8));return new m(new k(f,p,b,w/255))}if(g===4){const f=d(r.charCodeAt(1)),p=d(r.charCodeAt(2)),b=d(r.charCodeAt(3));return new m(new k(16*f+f,16*p+p,16*b+b))}if(g===5){const f=d(r.charCodeAt(1)),p=d(r.charCodeAt(2)),b=d(r.charCodeAt(3)),w=d(r.charCodeAt(4));return new m(new k(16*f+f,16*p+p,16*b+b,(16*w+w)/255))}return null}s.parseHex=o;function d(r){switch(r){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=v.CSS||(v.CSS={}))})(_=m.Format||(m.Format={}))}(S||(e.Color=S={}))}),define(ee[106],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function L(k,y,D){let S=null,m=null;if(typeof D.value=="function"?(S="value",m=D.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",m=D.get),!m)throw new Error("not supported");const _=`$memoize$${y}`;D[S]=function(...v){return this.hasOwnProperty(_)||Object.defineProperty(this,_,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,v)}),this[_]}}e.memoize=L}),define(ee[386],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class L{constructor(y,D,S,m){this.originalStart=y,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=L}),define(ee[9],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class L{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(u){setTimeout(()=>{throw u.stack?i.isErrorNoTelemetry(u)?new i(u.message+`

`+u.stack):new Error(u.message+`

`+u.stack):u},0)}}emit(u){this.listeners.forEach(h=>{h(u)})}onUnexpectedError(u){this.unexpectedErrorHandler(u),this.emit(u)}onUnexpectedExternalError(u){this.unexpectedErrorHandler(u)}}e.ErrorHandler=L,e.errorHandler=new L;function k(a){m(a)||e.errorHandler.onUnexpectedError(a)}e.onUnexpectedError=k;function y(a){m(a)||e.errorHandler.onUnexpectedExternalError(a)}e.onUnexpectedExternalError=y;function D(a){if(a instanceof Error){const{name:u,message:h}=a,l=a.stacktrace||a.stack;return{$isError:!0,name:u,message:h,stack:l,noTelemetry:i.isErrorNoTelemetry(a)}}return a}e.transformErrorForSerialization=D;const S="Canceled";function m(a){return a instanceof _?!0:a instanceof Error&&a.name===S&&a.message===S}e.isCancellationError=m;class _ extends Error{constructor(){super(S),this.name=this.message}}e.CancellationError=_;function v(){const a=new Error(S);return a.name=a.message,a}e.canceled=v;function C(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}e.illegalArgument=C;function s(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}e.illegalState=s;class n extends Error{constructor(u){super("NotSupported"),u&&(this.message=u)}}e.NotSupportedError=n;class i extends Error{constructor(u){super(u),this.name="CodeExpectedError"}static fromError(u){if(u instanceof i)return u;const h=new i;return h.message=u.message,h.stack=u.stack,h}static isErrorNoTelemetry(u){return u.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class t extends Error{constructor(u){super(u||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(ee[89],te([1,0,9]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=void 0;function k(y,D){var S;const m=globalThis.MonacoEnvironment;if(m?.createTrustedTypesPolicy)try{return m.createTrustedTypesPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}try{return(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}}e.createTrustedTypesPolicy=k}),define(ee[96],te([1,0,9]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function k(m,_){if(!m)throw new Error(_?`Assertion failed (${_})`:"Assertion Failed")}e.ok=k;function y(m,_="Unreachable"){throw new Error(_)}e.assertNever=y;function D(m){if(!m()){debugger;m(),(0,L.onUnexpectedError)(new L.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function S(m,_){let v=0;for(;v<m.length-1;){const C=m[v],s=m[v+1];if(!_(C,s))return!1;v++}return!0}e.checkAdjacentItems=S}),define(ee[97],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function L(k){const y=this;let D=!1,S;return function(){return D||(D=!0,S=k.apply(y,arguments)),S}}e.once=L}),define(ee[164],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class L{constructor(y){this._prefix=y,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=L,e.defaultGenerator=new L("id#")}),define(ee[47],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var L;(function(k){function y(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}k.is=y;const D=Object.freeze([]);function S(){return D}k.empty=S;function*m(o){yield o}k.single=m;function _(o){return y(o)?o:m(o)}k.wrap=_;function v(o){return o||D}k.from=v;function C(o){return!o||o[Symbol.iterator]().next().done===!0}k.isEmpty=C;function s(o){return o[Symbol.iterator]().next().value}k.first=s;function n(o,d){for(const r of o)if(d(r))return!0;return!1}k.some=n;function i(o,d){for(const r of o)if(d(r))return r}k.find=i;function*t(o,d){for(const r of o)d(r)&&(yield r)}k.filter=t;function*a(o,d){let r=0;for(const g of o)yield d(g,r++)}k.map=a;function*u(...o){for(const d of o)for(const r of d)yield r}k.concat=u;function h(o,d,r){let g=r;for(const f of o)g=d(g,f);return g}k.reduce=h;function*l(o,d,r=o.length){for(d<0&&(d+=o.length),r<0?r+=o.length:r>o.length&&(r=o.length);d<r;d++)yield o[d]}k.slice=l;function c(o,d=Number.POSITIVE_INFINITY){const r=[];if(d===0)return[r,o];const g=o[Symbol.iterator]();for(let f=0;f<d;f++){const p=g.next();if(p.done)return[r,k.empty()];r.push(p.value)}return[r,{[Symbol.iterator](){return g}}]}k.consume=c})(L||(e.Iterable=L={}))}),define(ee[61],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class L{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,i){this._keyCodeToStr[n]=i,this._strToKeyCode[i.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const k=new L,y=new L,D=new L;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],m=Object.create(null),_=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let s=0;s<=193;s++)e.IMMUTABLE_CODE_TO_KEY_CODE[s]=-1;for(let s=0;s<=132;s++)e.IMMUTABLE_KEY_CODE_TO_CODE[s]=-1;(function(){const s="",n=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],i=[],t=[];for(const a of n){const[u,h,l,c,o,d,r,g,f]=a;if(t[h]||(t[h]=!0,S[h]=l,m[l]=h,_[l.toLowerCase()]=h,u&&(e.IMMUTABLE_CODE_TO_KEY_CODE[h]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[c]=h))),!i[c]){if(i[c]=!0,!o)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);k.define(c,o),y.define(c,g||o),D.define(c,f||g||o)}d&&(e.EVENT_KEY_CODE_MAP[d]=c),r&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[r]=c)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var v;(function(s){function n(l){return k.keyCodeToStr(l)}s.toString=n;function i(l){return k.strToKeyCode(l)}s.fromString=i;function t(l){return y.keyCodeToStr(l)}s.toUserSettingsUS=t;function a(l){return D.keyCodeToStr(l)}s.toUserSettingsGeneral=a;function u(l){return y.strToKeyCode(l)||D.strToKeyCode(l)}s.fromUserSettings=u;function h(l){if(l>=98&&l<=113)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(l)}s.toElectronAccelerator=h})(v||(e.KeyCodeUtils=v={}));function C(s,n){const i=(n&65535)<<16>>>0;return(s|i)>>>0}e.KeyChord=C}),define(ee[118],te([1,0,9]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function k(C,s){if(typeof C=="number"){if(C===0)return null;const n=(C&65535)>>>0,i=(C&4294901760)>>>16;return i!==0?new m([y(n,s),y(i,s)]):new m([y(n,s)])}else{const n=[];for(let i=0;i<C.length;i++)n.push(y(C[i],s));return new m(n)}}e.decodeKeybinding=k;function y(C,s){const n=!!(C&2048),i=!!(C&256),t=s===2?i:n,a=!!(C&1024),u=!!(C&512),h=s===2?n:i,l=C&255;return new D(t,a,u,h,l)}e.createSimpleKeybinding=y;class D{constructor(s,n,i,t,a){this.ctrlKey=s,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.keyCode=a}equals(s){return s instanceof D&&this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class S{constructor(s,n,i,t,a){this.ctrlKey=s,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.scanCode=a}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=S;class m{constructor(s){if(s.length===0)throw(0,L.illegalArgument)("chords");this.chords=s}}e.Keybinding=m;class _{constructor(s,n,i,t,a,u){this.ctrlKey=s,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.keyLabel=a,this.keyAriaLabel=u}}e.ResolvedChord=_;class v{}e.ResolvedKeybinding=v}),define(ee[98],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class L{constructor(y){this.executor=y,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(y){this._error=y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=L}),define(ee[138],te([1,0,98]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer<"u",y=new L.Lazy(()=>new Uint8Array(256));let D;class S{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new S(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=S;function m(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}e.readUInt16LE=m;function _(i,t,a){i[a+0]=t&255,t=t>>>8,i[a+1]=t&255}e.writeUInt16LE=_;function v(i,t){return i[t]*Math.pow(2,24)+i[t+1]*Math.pow(2,16)+i[t+2]*Math.pow(2,8)+i[t+3]}e.readUInt32BE=v;function C(i,t,a){i[a+3]=t,t=t>>>8,i[a+2]=t,t=t>>>8,i[a+1]=t,t=t>>>8,i[a]=t}e.writeUInt32BE=C;function s(i,t){return i[t]}e.readUInt8=s;function n(i,t,a){i[a]=t}e.writeUInt8=n}),define(ee[387],te([1,0,98]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new L.Lazy(()=>{const v=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:v,collatorIsNumeric:v.resolvedOptions().numeric}}),y=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(v,C,s=!1){const n=v||"",i=C||"",t=k.value.collator.compare(n,i);return k.value.collatorIsNumeric&&t===0&&n!==i?n<i?-1:1:t}e.compareFileNames=S;function m(v,C,s){const n=v.toLowerCase(),i=C.toLowerCase(),t=_(v,C,s);if(t)return t;const a=n.endsWith(s),u=i.endsWith(s);if(a!==u)return a?-1:1;const h=S(n,i);return h!==0?h:n.localeCompare(i)}e.compareAnything=m;function _(v,C,s){const n=v.toLowerCase(),i=C.toLowerCase(),t=n.startsWith(s),a=i.startsWith(s);if(t!==a)return t?-1:1;if(t&&a){if(n.length<i.length)return-1;if(n.length>i.length)return 1}return 0}e.compareByPrefix=_}),define(ee[2],te([1,0,97,47]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.setDisposableTracker=void 0;const y=!1;let D=null;function S(r){D=r}if(e.setDisposableTracker=S,y){const r="__is_disposable_tracked__";S(new class{trackDisposable(g){const f=new Error("Potentially leaked disposable").stack;setTimeout(()=>{g[r]||console.log(f)},3e3)}setParent(g,f){if(g&&g!==h.None)try{g[r]=!0}catch{}}markAsDisposed(g){if(g&&g!==h.None)try{g[r]=!0}catch{}}markAsSingleton(g){}})}function m(r){return D?.trackDisposable(r),r}function _(r){D?.markAsDisposed(r)}function v(r,g){D?.setParent(r,g)}function C(r,g){if(D)for(const f of r)D.setParent(f,g)}function s(r){return D?.markAsSingleton(r),r}e.markAsSingleton=s;function n(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=n;function i(r){if(k.Iterable.is(r)){const g=[];for(const f of r)if(f)try{f.dispose()}catch(p){g.push(p)}if(g.length===1)throw g[0];if(g.length>1)throw new AggregateError(g,"Encountered errors while disposing of store");return Array.isArray(r)?[]:r}else if(r)return r.dispose(),r}e.dispose=i;function t(...r){const g=a(()=>i(r));return C(r,g),g}e.combinedDisposable=t;function a(r){const g=m({dispose:(0,L.once)(()=>{_(g),r()})});return g}e.toDisposable=a;class u{constructor(){this._toDispose=new Set,this._isDisposed=!1,m(this)}dispose(){this._isDisposed||(_(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(g){if(!g)return g;if(g===this)throw new Error("Cannot register a disposable on itself!");return v(g,this),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(g),g}}e.DisposableStore=u,u.DISABLE_DISPOSED_WARNING=!1;class h{constructor(){this._store=new u,m(this),v(this._store,this)}dispose(){_(this),this._store.dispose()}_register(g){if(g===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(g)}}e.Disposable=h,h.None=Object.freeze({dispose(){}});class l{constructor(){this._isDisposed=!1,m(this)}get value(){return this._isDisposed?void 0:this._value}set value(g){var f;this._isDisposed||g===this._value||((f=this._value)===null||f===void 0||f.dispose(),g&&v(g,this),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,_(this),(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}}e.MutableDisposable=l;class c{constructor(g){this._disposable=g,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class o{constructor(g){this.object=g}dispose(){}}e.ImmortalReference=o;class d{constructor(){this._store=new Map,this._isDisposed=!1,m(this)}dispose(){_(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(g){return this._store.get(g)}set(g,f,p=!1){var b;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),p||(b=this._store.get(g))===null||b===void 0||b.dispose(),this._store.set(g,f)}deleteAndDispose(g){var f;(f=this._store.get(g))===null||f===void 0||f.dispose(),this._store.delete(g)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=d}),define(ee[62],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class L{constructor(D){this.element=D,this.next=L.Undefined,this.prev=L.Undefined}}L.Undefined=new L(void 0);class k{constructor(){this._first=L.Undefined,this._last=L.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===L.Undefined}clear(){let D=this._first;for(;D!==L.Undefined;){const S=D.next;D.prev=L.Undefined,D.next=L.Undefined,D=S}this._first=L.Undefined,this._last=L.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const m=new L(D);if(this._first===L.Undefined)this._first=m,this._last=m;else if(S){const v=this._last;this._last=m,m.prev=v,v.next=m}else{const v=this._first;this._first=m,m.next=v,v.prev=m}this._size+=1;let _=!1;return()=>{_||(_=!0,this._remove(m))}}shift(){if(this._first!==L.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==L.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==L.Undefined&&D.next!==L.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===L.Undefined&&D.next===L.Undefined?(this._first=L.Undefined,this._last=L.Undefined):D.next===L.Undefined?(this._last=this._last.prev,this._last.next=L.Undefined):D.prev===L.Undefined&&(this._first=this._first.next,this._first.prev=L.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==L.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var Ie=this&&this.__decorate||function(G,e,L,k){var y=arguments.length,D=y<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,L):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(G,e,L,k);else for(var m=G.length-1;m>=0;m--)(S=G[m])&&(D=(y<3?S(D):y>3?S(e,L,D):S(e,L))||D);return y>3&&D&&Object.defineProperty(e,L,D),D};define(ee[388],te([1,0,106]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLinkedText=e.LinkedText=void 0;class k{constructor(m){this.nodes=m}toString(){return this.nodes.map(m=>typeof m=="string"?m:m.label).join("")}}e.LinkedText=k,Ie([L.memoize],k.prototype,"toString",null);const y=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(S){const m=[];let _=0,v;for(;v=y.exec(S);){v.index-_>0&&m.push(S.substring(_,v.index));const[,C,s,,n]=v;n?m.push({label:C,href:s,title:n}):m.push({label:C,href:s}),_=v.index+v[0].length}return _<S.length&&m.push(S.substring(_)),new k(m)}e.parseLinkedText=D}),define(ee[63],te([1,0]),function(G,e){"use strict";var L,k;Object.defineProperty(e,"__esModule",{value:!0}),e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class y{constructor(C,s){this.uri=C,this.value=s}}class D{constructor(C,s){this[L]="ResourceMap",C instanceof D?(this.map=new Map(C.map),this.toKey=s??D.defaultToKey):(this.map=new Map,this.toKey=C??D.defaultToKey)}set(C,s){return this.map.set(this.toKey(C),new y(C,s)),this}get(C){var s;return(s=this.map.get(this.toKey(C)))===null||s===void 0?void 0:s.value}has(C){return this.map.has(this.toKey(C))}get size(){return this.map.size}clear(){this.map.clear()}delete(C){return this.map.delete(this.toKey(C))}forEach(C,s){typeof s<"u"&&(C=C.bind(s));for(const[n,i]of this.map)C(i.value,i.uri,this)}*values(){for(const C of this.map.values())yield C.value}*keys(){for(const C of this.map.values())yield C.uri}*entries(){for(const C of this.map.values())yield[C.uri,C.value]}*[(L=Symbol.toStringTag,Symbol.iterator)](){for(const[,C]of this.map)yield[C.uri,C.value]}}e.ResourceMap=D,D.defaultToKey=v=>v.toString();class S{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var C;return(C=this._head)===null||C===void 0?void 0:C.value}get last(){var C;return(C=this._tail)===null||C===void 0?void 0:C.value}has(C){return this._map.has(C)}get(C,s=0){const n=this._map.get(C);if(n)return s!==0&&this.touch(n,s),n.value}set(C,s,n=0){let i=this._map.get(C);if(i)i.value=s,n!==0&&this.touch(i,n);else{switch(i={key:C,value:s,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(C,i),this._size++}return this}delete(C){return!!this.remove(C)}remove(C){const s=this._map.get(C);if(s)return this._map.delete(C),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const C=this._head;return this._map.delete(C.key),this.removeItem(C),this._size--,C.value}forEach(C,s){const n=this._state;let i=this._head;for(;i;){if(s?C.bind(s)(i.value,i.key,this):C(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const C=this,s=this._state;let n=this._head;const i={[Symbol.iterator](){return i},next(){if(C._state!==s)throw new Error("LinkedMap got modified during iteration.");if(n){const t={value:n.key,done:!1};return n=n.next,t}else return{value:void 0,done:!0}}};return i}values(){const C=this,s=this._state;let n=this._head;const i={[Symbol.iterator](){return i},next(){if(C._state!==s)throw new Error("LinkedMap got modified during iteration.");if(n){const t={value:n.value,done:!1};return n=n.next,t}else return{value:void 0,done:!0}}};return i}entries(){const C=this,s=this._state;let n=this._head;const i={[Symbol.iterator](){return i},next(){if(C._state!==s)throw new Error("LinkedMap got modified during iteration.");if(n){const t={value:[n.key,n.value],done:!1};return n=n.next,t}else return{value:void 0,done:!0}}};return i}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(C){if(C>=this.size)return;if(C===0){this.clear();return}let s=this._head,n=this.size;for(;s&&n>C;)this._map.delete(s.key),s=s.next,n--;this._head=s,this._size=n,s&&(s.previous=void 0),this._state++}addItemFirst(C){if(!this._head&&!this._tail)this._tail=C;else if(this._head)C.next=this._head,this._head.previous=C;else throw new Error("Invalid list");this._head=C,this._state++}addItemLast(C){if(!this._head&&!this._tail)this._head=C;else if(this._tail)C.previous=this._tail,this._tail.next=C;else throw new Error("Invalid list");this._tail=C,this._state++}removeItem(C){if(C===this._head&&C===this._tail)this._head=void 0,this._tail=void 0;else if(C===this._head){if(!C.next)throw new Error("Invalid list");C.next.previous=void 0,this._head=C.next}else if(C===this._tail){if(!C.previous)throw new Error("Invalid list");C.previous.next=void 0,this._tail=C.previous}else{const s=C.next,n=C.previous;if(!s||!n)throw new Error("Invalid list");s.previous=n,n.next=s}C.next=void 0,C.previous=void 0,this._state++}touch(C,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==1&&s!==2)){if(s===1){if(C===this._head)return;const n=C.next,i=C.previous;C===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),C.previous=void 0,C.next=this._head,this._head.previous=C,this._head=C,this._state++}else if(s===2){if(C===this._tail)return;const n=C.next,i=C.previous;C===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),C.next=void 0,C.previous=this._tail,this._tail.next=C,this._tail=C,this._state++}}}toJSON(){const C=[];return this.forEach((s,n)=>{C.push([n,s])}),C}fromJSON(C){this.clear();for(const[s,n]of C)this.set(s,n)}}e.LinkedMap=S;class m extends S{constructor(C,s=1){super(),this._limit=C,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(C){this._limit=C,this.checkTrim()}get(C,s=2){return super.get(C,s)}peek(C){return super.get(C,0)}set(C,s){return super.set(C,s,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=m;class _{constructor(C){if(this._m1=new Map,this._m2=new Map,C)for(const[s,n]of C)this.set(s,n)}clear(){this._m1.clear(),this._m2.clear()}set(C,s){this._m1.set(C,s),this._m2.set(s,C)}get(C){return this._m1.get(C)}getKey(C){return this._m2.get(C)}delete(C){const s=this._m1.get(C);return s===void 0?!1:(this._m1.delete(C),this._m2.delete(s),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=_}),function(G,e){typeof define=="function"&&define.amd?define(ee[389],te([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(G=typeof globalThis<"u"?globalThis:G||self,e(G.marked={}))}(this,function(G){"use strict";function e(ce,ae){for(var J=0;J<ae.length;J++){var K=ae[J];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(ce,K.key,K)}}function L(ce,ae,J){return ae&&e(ce.prototype,ae),J&&e(ce,J),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function k(ce,ae){if(ce){if(typeof ce=="string")return y(ce,ae);var J=Object.prototype.toString.call(ce).slice(8,-1);if(J==="Object"&&ce.constructor&&(J=ce.constructor.name),J==="Map"||J==="Set")return Array.from(ce);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return y(ce,ae)}}function y(ce,ae){(ae==null||ae>ce.length)&&(ae=ce.length);for(var J=0,K=new Array(ae);J<ae;J++)K[J]=ce[J];return K}function D(ce,ae){var J=typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(J)return(J=J.call(ce)).next.bind(J);if(Array.isArray(ce)||(J=k(ce))||ae&&ce&&typeof ce.length=="number"){J&&(ce=J);var K=0;return function(){return K>=ce.length?{done:!0}:{done:!1,value:ce[K++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}G.defaults=S();function m(ce){G.defaults=ce}var _=/[&<>"']/,v=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(ae){return n[ae]};function t(ce,ae){if(ae){if(_.test(ce))return ce.replace(v,i)}else if(C.test(ce))return ce.replace(s,i);return ce}var a=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function u(ce){return ce.replace(a,function(ae,J){return J=J.toLowerCase(),J==="colon"?":":J.charAt(0)==="#"?J.charAt(1)==="x"?String.fromCharCode(parseInt(J.substring(2),16)):String.fromCharCode(+J.substring(1)):""})}var h=/(^|[^\[])\^/g;function l(ce,ae){ce=typeof ce=="string"?ce:ce.source,ae=ae||"";var J={replace:function(H,Q){return Q=Q.source||Q,Q=Q.replace(h,"$1"),ce=ce.replace(H,Q),J},getRegex:function(){return new RegExp(ce,ae)}};return J}var c=/[^\w:]/g,o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(ce,ae,J){if(ce){var K;try{K=decodeURIComponent(u(J)).replace(c,"").toLowerCase()}catch{return null}if(K.indexOf("javascript:")===0||K.indexOf("vbscript:")===0||K.indexOf("data:")===0)return null}ae&&!o.test(J)&&(J=b(ae,J));try{J=encodeURI(J).replace(/%25/g,"%")}catch{return null}return J}var r={},g=/^[^:]+:\/*[^/]*$/,f=/^([^:]+:)[\s\S]*$/,p=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(ce,ae){r[" "+ce]||(g.test(ce)?r[" "+ce]=ce+"/":r[" "+ce]=N(ce,"/",!0)),ce=r[" "+ce];var J=ce.indexOf(":")===-1;return ae.substring(0,2)==="//"?J?ae:ce.replace(f,"$1")+ae:ae.charAt(0)==="/"?J?ae:ce.replace(p,"$1")+ae:ce+ae}var w={exec:function(){}};function E(ce){for(var ae=1,J,K;ae<arguments.length;ae++){J=arguments[ae];for(K in J)Object.prototype.hasOwnProperty.call(J,K)&&(ce[K]=J[K])}return ce}function I(ce,ae){var J=ce.replace(/\|/g,function(Q,j,re){for(var se=!1,ue=j;--ue>=0&&re[ue]==="\\";)se=!se;return se?"|":" |"}),K=J.split(/ \|/),H=0;if(K[0].trim()||K.shift(),K.length>0&&!K[K.length-1].trim()&&K.pop(),K.length>ae)K.splice(ae);else for(;K.length<ae;)K.push("");for(;H<K.length;H++)K[H]=K[H].trim().replace(/\\\|/g,"|");return K}function N(ce,ae,J){var K=ce.length;if(K===0)return"";for(var H=0;H<K;){var Q=ce.charAt(K-H-1);if(Q===ae&&!J)H++;else if(Q!==ae&&J)H++;else break}return ce.slice(0,K-H)}function R(ce,ae){if(ce.indexOf(ae[1])===-1)return-1;for(var J=ce.length,K=0,H=0;H<J;H++)if(ce[H]==="\\")H++;else if(ce[H]===ae[0])K++;else if(ce[H]===ae[1]&&(K--,K<0))return H;return-1}function F(ce){ce&&ce.sanitize&&!ce.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M(ce,ae){if(ae<1)return"";for(var J="";ae>1;)ae&1&&(J+=ce),ae>>=1,ce+=ce;return J+ce}function A(ce,ae,J,K){var H=ae.href,Q=ae.title?t(ae.title):null,j=ce[1].replace(/\\([\[\]])/g,"$1");if(ce[0].charAt(0)!=="!"){K.state.inLink=!0;var re={type:"link",raw:J,href:H,title:Q,text:j,tokens:K.inlineTokens(j)};return K.state.inLink=!1,re}return{type:"image",raw:J,href:H,title:Q,text:t(j)}}function T(ce,ae){var J=ce.match(/^(\s+)(?:```)/);if(J===null)return ae;var K=J[1];return ae.split(`
`).map(function(H){var Q=H.match(/^\s+/);if(Q===null)return H;var j=Q[0];return j.length>=K.length?H.slice(K.length):H}).join(`
`)}var O=function(){function ce(J){this.options=J||G.defaults}var ae=ce.prototype;return ae.space=function(K){var H=this.rules.block.newline.exec(K);if(H&&H[0].length>0)return{type:"space",raw:H[0]}},ae.code=function(K){var H=this.rules.block.code.exec(K);if(H){var Q=H[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:H[0],codeBlockStyle:"indented",text:this.options.pedantic?Q:N(Q,`
`)}}},ae.fences=function(K){var H=this.rules.block.fences.exec(K);if(H){var Q=H[0],j=T(Q,H[3]||"");return{type:"code",raw:Q,lang:H[2]?H[2].trim():H[2],text:j}}},ae.heading=function(K){var H=this.rules.block.heading.exec(K);if(H){var Q=H[2].trim();if(/#$/.test(Q)){var j=N(Q,"#");(this.options.pedantic||!j||/ $/.test(j))&&(Q=j.trim())}return{type:"heading",raw:H[0],depth:H[1].length,text:Q,tokens:this.lexer.inline(Q)}}},ae.hr=function(K){var H=this.rules.block.hr.exec(K);if(H)return{type:"hr",raw:H[0]}},ae.blockquote=function(K){var H=this.rules.block.blockquote.exec(K);if(H){var Q=H[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:H[0],tokens:this.lexer.blockTokens(Q,[]),text:Q}}},ae.list=function(K){var H=this.rules.block.list.exec(K);if(H){var Q,j,re,se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae=H[1].trim(),Re=Ae.length>1,ye={type:"list",raw:"",ordered:Re,start:Re?+Ae.slice(0,-1):"",loose:!1,items:[]};Ae=Re?"\\d{1,9}\\"+Ae.slice(-1):"\\"+Ae,this.options.pedantic&&(Ae=Re?Ae:"[*+-]");for(var De=new RegExp("^( {0,3}"+Ae+")((?:[	 ][^\\n]*)?(?:\\n|$))");K&&(Ne=!1,!(!(H=De.exec(K))||this.rules.block.hr.test(K)));){if(Q=H[0],K=K.substring(Q.length),Ce=H[2].split(`
`,1)[0],we=K.split(`
`,1)[0],this.options.pedantic?(se=2,Ee=Ce.trimLeft()):(se=H[2].search(/[^ ]/),se=se>4?1:se,Ee=Ce.slice(se),se+=H[1].length),me=!1,!Ce&&/^ *$/.test(we)&&(Q+=we+`
`,K=K.substring(we.length+1),Ne=!0),!Ne)for(var fe=new RegExp("^ {0,"+Math.min(3,se-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),_e=new RegExp("^ {0,"+Math.min(3,se-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),pe=new RegExp("^ {0,"+Math.min(3,se-1)+"}(?:```|~~~)"),be=new RegExp("^ {0,"+Math.min(3,se-1)+"}#");K&&(Le=K.split(`
`,1)[0],Ce=Le,this.options.pedantic&&(Ce=Ce.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(pe.test(Ce)||be.test(Ce)||fe.test(Ce)||_e.test(K)));){if(Ce.search(/[^ ]/)>=se||!Ce.trim())Ee+=`
`+Ce.slice(se);else if(!me)Ee+=`
`+Ce;else break;!me&&!Ce.trim()&&(me=!0),Q+=Le+`
`,K=K.substring(Le.length+1)}ye.loose||(ve?ye.loose=!0:/\n *\n *$/.test(Q)&&(ve=!0)),this.options.gfm&&(j=/^\[[ xX]\] /.exec(Ee),j&&(re=j[0]!=="[ ] ",Ee=Ee.replace(/^\[[ xX]\] +/,""))),ye.items.push({type:"list_item",raw:Q,task:!!j,checked:re,loose:!1,text:Ee}),ye.raw+=Q}ye.items[ye.items.length-1].raw=Q.trimRight(),ye.items[ye.items.length-1].text=Ee.trimRight(),ye.raw=ye.raw.trimRight();var ke=ye.items.length;for(ue=0;ue<ke;ue++){this.lexer.state.top=!1,ye.items[ue].tokens=this.lexer.blockTokens(ye.items[ue].text,[]);var Pe=ye.items[ue].tokens.filter(function(Ue){return Ue.type==="space"}),Fe=Pe.every(function(Ue){for(var qe=Ue.raw.split(""),je=0,Ze=D(qe),Ke;!(Ke=Ze()).done;){var ot=Ke.value;if(ot===`
`&&(je+=1),je>1)return!0}return!1});!ye.loose&&Pe.length&&Fe&&(ye.loose=!0,ye.items[ue].loose=!0)}return ye}},ae.html=function(K){var H=this.rules.block.html.exec(K);if(H){var Q={type:"html",raw:H[0],pre:!this.options.sanitizer&&(H[1]==="pre"||H[1]==="script"||H[1]==="style"),text:H[0]};if(this.options.sanitize){var j=this.options.sanitizer?this.options.sanitizer(H[0]):t(H[0]);Q.type="paragraph",Q.text=j,Q.tokens=this.lexer.inline(j)}return Q}},ae.def=function(K){var H=this.rules.block.def.exec(K);if(H){H[3]&&(H[3]=H[3].substring(1,H[3].length-1));var Q=H[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Q,raw:H[0],href:H[2],title:H[3]}}},ae.table=function(K){var H=this.rules.block.table.exec(K);if(H){var Q={type:"table",header:I(H[1]).map(function(ve){return{text:ve}}),align:H[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:H[3]&&H[3].trim()?H[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Q.header.length===Q.align.length){Q.raw=H[0];var j=Q.align.length,re,se,ue,me;for(re=0;re<j;re++)/^ *-+: *$/.test(Q.align[re])?Q.align[re]="right":/^ *:-+: *$/.test(Q.align[re])?Q.align[re]="center":/^ *:-+ *$/.test(Q.align[re])?Q.align[re]="left":Q.align[re]=null;for(j=Q.rows.length,re=0;re<j;re++)Q.rows[re]=I(Q.rows[re],Q.header.length).map(function(ve){return{text:ve}});for(j=Q.header.length,se=0;se<j;se++)Q.header[se].tokens=this.lexer.inline(Q.header[se].text);for(j=Q.rows.length,se=0;se<j;se++)for(me=Q.rows[se],ue=0;ue<me.length;ue++)me[ue].tokens=this.lexer.inline(me[ue].text);return Q}}},ae.lheading=function(K){var H=this.rules.block.lheading.exec(K);if(H)return{type:"heading",raw:H[0],depth:H[2].charAt(0)==="="?1:2,text:H[1],tokens:this.lexer.inline(H[1])}},ae.paragraph=function(K){var H=this.rules.block.paragraph.exec(K);if(H){var Q=H[1].charAt(H[1].length-1)===`
`?H[1].slice(0,-1):H[1];return{type:"paragraph",raw:H[0],text:Q,tokens:this.lexer.inline(Q)}}},ae.text=function(K){var H=this.rules.block.text.exec(K);if(H)return{type:"text",raw:H[0],text:H[0],tokens:this.lexer.inline(H[0])}},ae.escape=function(K){var H=this.rules.inline.escape.exec(K);if(H)return{type:"escape",raw:H[0],text:t(H[1])}},ae.tag=function(K){var H=this.rules.inline.tag.exec(K);if(H)return!this.lexer.state.inLink&&/^<a /i.test(H[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(H[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(H[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(H[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:H[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(H[0]):t(H[0]):H[0]}},ae.link=function(K){var H=this.rules.inline.link.exec(K);if(H){var Q=H[2].trim();if(!this.options.pedantic&&/^</.test(Q)){if(!/>$/.test(Q))return;var j=N(Q.slice(0,-1),"\\");if((Q.length-j.length)%2===0)return}else{var re=R(H[2],"()");if(re>-1){var se=H[0].indexOf("!")===0?5:4,ue=se+H[1].length+re;H[2]=H[2].substring(0,re),H[0]=H[0].substring(0,ue).trim(),H[3]=""}}var me=H[2],ve="";if(this.options.pedantic){var Ce=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(me);Ce&&(me=Ce[1],ve=Ce[3])}else ve=H[3]?H[3].slice(1,-1):"";return me=me.trim(),/^</.test(me)&&(this.options.pedantic&&!/>$/.test(Q)?me=me.slice(1):me=me.slice(1,-1)),A(H,{href:me&&me.replace(this.rules.inline._escapes,"$1"),title:ve&&ve.replace(this.rules.inline._escapes,"$1")},H[0],this.lexer)}},ae.reflink=function(K,H){var Q;if((Q=this.rules.inline.reflink.exec(K))||(Q=this.rules.inline.nolink.exec(K))){var j=(Q[2]||Q[1]).replace(/\s+/g," ");if(j=H[j.toLowerCase()],!j||!j.href){var re=Q[0].charAt(0);return{type:"text",raw:re,text:re}}return A(Q,j,Q[0],this.lexer)}},ae.emStrong=function(K,H,Q){Q===void 0&&(Q="");var j=this.rules.inline.emStrong.lDelim.exec(K);if(j&&!(j[3]&&Q.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var re=j[1]||j[2]||"";if(!re||re&&(Q===""||this.rules.inline.punctuation.exec(Q))){var se=j[0].length-1,ue,me,ve=se,Ce=0,we=j[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(we.lastIndex=0,H=H.slice(-1*K.length+se);(j=we.exec(H))!=null;)if(ue=j[1]||j[2]||j[3]||j[4]||j[5]||j[6],!!ue){if(me=ue.length,j[3]||j[4]){ve+=me;continue}else if((j[5]||j[6])&&se%3&&!((se+me)%3)){Ce+=me;continue}if(ve-=me,!(ve>0)){if(me=Math.min(me,me+ve+Ce),Math.min(se,me)%2){var Le=K.slice(1,se+j.index+me);return{type:"em",raw:K.slice(0,se+j.index+me+1),text:Le,tokens:this.lexer.inlineTokens(Le)}}var Ee=K.slice(2,se+j.index+me-1);return{type:"strong",raw:K.slice(0,se+j.index+me+1),text:Ee,tokens:this.lexer.inlineTokens(Ee)}}}}}},ae.codespan=function(K){var H=this.rules.inline.code.exec(K);if(H){var Q=H[2].replace(/\n/g," "),j=/[^ ]/.test(Q),re=/^ /.test(Q)&&/ $/.test(Q);return j&&re&&(Q=Q.substring(1,Q.length-1)),Q=t(Q,!0),{type:"codespan",raw:H[0],text:Q}}},ae.br=function(K){var H=this.rules.inline.br.exec(K);if(H)return{type:"br",raw:H[0]}},ae.del=function(K){var H=this.rules.inline.del.exec(K);if(H)return{type:"del",raw:H[0],text:H[2],tokens:this.lexer.inlineTokens(H[2])}},ae.autolink=function(K,H){var Q=this.rules.inline.autolink.exec(K);if(Q){var j,re;return Q[2]==="@"?(j=t(this.options.mangle?H(Q[1]):Q[1]),re="mailto:"+j):(j=t(Q[1]),re=j),{type:"link",raw:Q[0],text:j,href:re,tokens:[{type:"text",raw:j,text:j}]}}},ae.url=function(K,H){var Q;if(Q=this.rules.inline.url.exec(K)){var j,re;if(Q[2]==="@")j=t(this.options.mangle?H(Q[0]):Q[0]),re="mailto:"+j;else{var se;do se=Q[0],Q[0]=this.rules.inline._backpedal.exec(Q[0])[0];while(se!==Q[0]);j=t(Q[0]),Q[1]==="www."?re="http://"+j:re=j}return{type:"link",raw:Q[0],text:j,href:re,tokens:[{type:"text",raw:j,text:j}]}}},ae.inlineText=function(K,H){var Q=this.rules.inline.text.exec(K);if(Q){var j;return this.lexer.state.inRawBlock?j=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):t(Q[0]):Q[0]:j=t(this.options.smartypants?H(Q[0]):Q[0]),{type:"text",raw:Q[0],text:j}}},ce}(),P={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};P._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,P._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,P.def=l(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.listItemStart=l(/^( *)(bull) */).replace("bull",P.bullet).getRegex(),P.list=l(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=l(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.paragraph=l(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.blockquote=l(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal=E({},P),P.gfm=E({},P.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),P.gfm.table=l(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.gfm.paragraph=l(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",P.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.pedantic=E({},P.normal,{html:l(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,paragraph:l(P.normal._paragraph).replace("hr",P.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};x._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",x.punctuation=l(x.punctuation).replace(/punctuation/g,x._punctuation).getRegex(),x.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,x.escapedEmSt=/\\\*|\\_/g,x._comment=l(P._comment).replace("(?:-->|$)","-->").getRegex(),x.emStrong.lDelim=l(x.emStrong.lDelim).replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimAst=l(x.emStrong.rDelimAst,"g").replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimUnd=l(x.emStrong.rDelimUnd,"g").replace(/punct/g,x._punctuation).getRegex(),x._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,x.autolink=l(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex(),x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,x.tag=l(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex(),x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,x.link=l(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex(),x.reflink=l(x.reflink).replace("label",x._label).replace("ref",P._label).getRegex(),x.nolink=l(x.nolink).replace("ref",P._label).getRegex(),x.reflinkSearch=l(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex(),x.normal=E({},x),x.pedantic=E({},x.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:l(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:l(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()}),x.gfm=E({},x.normal,{escape:l(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),x.gfm.url=l(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex(),x.breaks=E({},x.gfm,{br:l(x.br).replace("{2,}","*").getRegex(),text:l(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function z(ce){return ce.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function q(ce){var ae="",J,K,H=ce.length;for(J=0;J<H;J++)K=ce.charCodeAt(J),Math.random()>.5&&(K="x"+K.toString(16)),ae+="&#"+K+";";return ae}var B=function(){function ce(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||G.defaults,this.options.tokenizer=this.options.tokenizer||new O,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var K={block:P.normal,inline:x.normal};this.options.pedantic?(K.block=P.pedantic,K.inline=x.pedantic):this.options.gfm&&(K.block=P.gfm,this.options.breaks?K.inline=x.breaks:K.inline=x.gfm),this.tokenizer.rules=K}ce.lex=function(K,H){var Q=new ce(H);return Q.lex(K)},ce.lexInline=function(K,H){var Q=new ce(H);return Q.inlineTokens(K)};var ae=ce.prototype;return ae.lex=function(K){K=K.replace(/\r\n|\r/g,`
`),this.blockTokens(K,this.tokens);for(var H;H=this.inlineQueue.shift();)this.inlineTokens(H.src,H.tokens);return this.tokens},ae.blockTokens=function(K,H){var Q=this;H===void 0&&(H=[]),this.options.pedantic?K=K.replace(/\t/g,"    ").replace(/^ +$/gm,""):K=K.replace(/^( *)(\t+)/gm,function(ve,Ce,we){return Ce+"    ".repeat(we.length)});for(var j,re,se,ue;K;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ve){return(j=ve.call({lexer:Q},K,H))?(K=K.substring(j.raw.length),H.push(j),!0):!1}))){if(j=this.tokenizer.space(K)){K=K.substring(j.raw.length),j.raw.length===1&&H.length>0?H[H.length-1].raw+=`
`:H.push(j);continue}if(j=this.tokenizer.code(K)){K=K.substring(j.raw.length),re=H[H.length-1],re&&(re.type==="paragraph"||re.type==="text")?(re.raw+=`
`+j.raw,re.text+=`
`+j.text,this.inlineQueue[this.inlineQueue.length-1].src=re.text):H.push(j);continue}if(j=this.tokenizer.fences(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.heading(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.hr(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.blockquote(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.list(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.html(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.def(K)){K=K.substring(j.raw.length),re=H[H.length-1],re&&(re.type==="paragraph"||re.type==="text")?(re.raw+=`
`+j.raw,re.text+=`
`+j.raw,this.inlineQueue[this.inlineQueue.length-1].src=re.text):this.tokens.links[j.tag]||(this.tokens.links[j.tag]={href:j.href,title:j.title});continue}if(j=this.tokenizer.table(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.lheading(K)){K=K.substring(j.raw.length),H.push(j);continue}if(se=K,this.options.extensions&&this.options.extensions.startBlock&&function(){var ve=1/0,Ce=K.slice(1),we=void 0;Q.options.extensions.startBlock.forEach(function(Le){we=Le.call({lexer:this},Ce),typeof we=="number"&&we>=0&&(ve=Math.min(ve,we))}),ve<1/0&&ve>=0&&(se=K.substring(0,ve+1))}(),this.state.top&&(j=this.tokenizer.paragraph(se))){re=H[H.length-1],ue&&re.type==="paragraph"?(re.raw+=`
`+j.raw,re.text+=`
`+j.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=re.text):H.push(j),ue=se.length!==K.length,K=K.substring(j.raw.length);continue}if(j=this.tokenizer.text(K)){K=K.substring(j.raw.length),re=H[H.length-1],re&&re.type==="text"?(re.raw+=`
`+j.raw,re.text+=`
`+j.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=re.text):H.push(j);continue}if(K){var me="Infinite loop on byte: "+K.charCodeAt(0);if(this.options.silent){console.error(me);break}else throw new Error(me)}}return this.state.top=!0,H},ae.inline=function(K,H){return H===void 0&&(H=[]),this.inlineQueue.push({src:K,tokens:H}),H},ae.inlineTokens=function(K,H){var Q=this;H===void 0&&(H=[]);var j,re,se,ue=K,me,ve,Ce;if(this.tokens.links){var we=Object.keys(this.tokens.links);if(we.length>0)for(;(me=this.tokenizer.rules.inline.reflinkSearch.exec(ue))!=null;)we.includes(me[0].slice(me[0].lastIndexOf("[")+1,-1))&&(ue=ue.slice(0,me.index)+"["+M("a",me[0].length-2)+"]"+ue.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(me=this.tokenizer.rules.inline.blockSkip.exec(ue))!=null;)ue=ue.slice(0,me.index)+"["+M("a",me[0].length-2)+"]"+ue.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(me=this.tokenizer.rules.inline.escapedEmSt.exec(ue))!=null;)ue=ue.slice(0,me.index)+"++"+ue.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;K;)if(ve||(Ce=""),ve=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ee){return(j=Ee.call({lexer:Q},K,H))?(K=K.substring(j.raw.length),H.push(j),!0):!1}))){if(j=this.tokenizer.escape(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.tag(K)){K=K.substring(j.raw.length),re=H[H.length-1],re&&j.type==="text"&&re.type==="text"?(re.raw+=j.raw,re.text+=j.text):H.push(j);continue}if(j=this.tokenizer.link(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.reflink(K,this.tokens.links)){K=K.substring(j.raw.length),re=H[H.length-1],re&&j.type==="text"&&re.type==="text"?(re.raw+=j.raw,re.text+=j.text):H.push(j);continue}if(j=this.tokenizer.emStrong(K,ue,Ce)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.codespan(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.br(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.del(K)){K=K.substring(j.raw.length),H.push(j);continue}if(j=this.tokenizer.autolink(K,q)){K=K.substring(j.raw.length),H.push(j);continue}if(!this.state.inLink&&(j=this.tokenizer.url(K,q))){K=K.substring(j.raw.length),H.push(j);continue}if(se=K,this.options.extensions&&this.options.extensions.startInline&&function(){var Ee=1/0,Ne=K.slice(1),Ae=void 0;Q.options.extensions.startInline.forEach(function(Re){Ae=Re.call({lexer:this},Ne),typeof Ae=="number"&&Ae>=0&&(Ee=Math.min(Ee,Ae))}),Ee<1/0&&Ee>=0&&(se=K.substring(0,Ee+1))}(),j=this.tokenizer.inlineText(se,z)){K=K.substring(j.raw.length),j.raw.slice(-1)!=="_"&&(Ce=j.raw.slice(-1)),ve=!0,re=H[H.length-1],re&&re.type==="text"?(re.raw+=j.raw,re.text+=j.text):H.push(j);continue}if(K){var Le="Infinite loop on byte: "+K.charCodeAt(0);if(this.options.silent){console.error(Le);break}else throw new Error(Le)}}return H},L(ce,null,[{key:"rules",get:function(){return{block:P,inline:x}}}]),ce}(),$=function(){function ce(J){this.options=J||G.defaults}var ae=ce.prototype;return ae.code=function(K,H,Q){var j=(H||"").match(/\S*/)[0];if(this.options.highlight){var re=this.options.highlight(K,j);re!=null&&re!==K&&(Q=!0,K=re)}return K=K.replace(/\n$/,"")+`
`,j?'<pre><code class="'+this.options.langPrefix+t(j,!0)+'">'+(Q?K:t(K,!0))+`</code></pre>
`:"<pre><code>"+(Q?K:t(K,!0))+`</code></pre>
`},ae.blockquote=function(K){return`<blockquote>
`+K+`</blockquote>
`},ae.html=function(K){return K},ae.heading=function(K,H,Q,j){if(this.options.headerIds){var re=this.options.headerPrefix+j.slug(Q);return"<h"+H+' id="'+re+'">'+K+"</h"+H+`>
`}return"<h"+H+">"+K+"</h"+H+`>
`},ae.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ae.list=function(K,H,Q){var j=H?"ol":"ul",re=H&&Q!==1?' start="'+Q+'"':"";return"<"+j+re+`>
`+K+"</"+j+`>
`},ae.listitem=function(K){return"<li>"+K+`</li>
`},ae.checkbox=function(K){return"<input "+(K?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ae.paragraph=function(K){return"<p>"+K+`</p>
`},ae.table=function(K,H){return H&&(H="<tbody>"+H+"</tbody>"),`<table>
<thead>
`+K+`</thead>
`+H+`</table>
`},ae.tablerow=function(K){return`<tr>
`+K+`</tr>
`},ae.tablecell=function(K,H){var Q=H.header?"th":"td",j=H.align?"<"+Q+' align="'+H.align+'">':"<"+Q+">";return j+K+("</"+Q+`>
`)},ae.strong=function(K){return"<strong>"+K+"</strong>"},ae.em=function(K){return"<em>"+K+"</em>"},ae.codespan=function(K){return"<code>"+K+"</code>"},ae.br=function(){return this.options.xhtml?"<br/>":"<br>"},ae.del=function(K){return"<del>"+K+"</del>"},ae.link=function(K,H,Q){if(K=d(this.options.sanitize,this.options.baseUrl,K),K===null)return Q;var j='<a href="'+t(K)+'"';return H&&(j+=' title="'+H+'"'),j+=">"+Q+"</a>",j},ae.image=function(K,H,Q){if(K=d(this.options.sanitize,this.options.baseUrl,K),K===null)return Q;var j='<img src="'+K+'" alt="'+Q+'"';return H&&(j+=' title="'+H+'"'),j+=this.options.xhtml?"/>":">",j},ae.text=function(K){return K},ce}(),X=function(){function ce(){}var ae=ce.prototype;return ae.strong=function(K){return K},ae.em=function(K){return K},ae.codespan=function(K){return K},ae.del=function(K){return K},ae.html=function(K){return K},ae.text=function(K){return K},ae.link=function(K,H,Q){return""+Q},ae.image=function(K,H,Q){return""+Q},ae.br=function(){return""},ce}(),ne=function(){function ce(){this.seen={}}var ae=ce.prototype;return ae.serialize=function(K){return K.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ae.getNextSafeSlug=function(K,H){var Q=K,j=0;if(this.seen.hasOwnProperty(Q)){j=this.seen[K];do j++,Q=K+"-"+j;while(this.seen.hasOwnProperty(Q))}return H||(this.seen[K]=j,this.seen[Q]=0),Q},ae.slug=function(K,H){H===void 0&&(H={});var Q=this.serialize(K);return this.getNextSafeSlug(Q,H.dryrun)},ce}(),oe=function(){function ce(J){this.options=J||G.defaults,this.options.renderer=this.options.renderer||new $,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new X,this.slugger=new ne}ce.parse=function(K,H){var Q=new ce(H);return Q.parse(K)},ce.parseInline=function(K,H){var Q=new ce(H);return Q.parseInline(K)};var ae=ce.prototype;return ae.parse=function(K,H){H===void 0&&(H=!0);var Q="",j,re,se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae,Re,ye,De,fe,_e,pe,be,ke=K.length;for(j=0;j<ke;j++){if(Ee=K[j],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]&&(be=this.options.extensions.renderers[Ee.type].call({parser:this},Ee),be!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ee.type))){Q+=be||"";continue}switch(Ee.type){case"space":continue;case"hr":{Q+=this.renderer.hr();continue}case"heading":{Q+=this.renderer.heading(this.parseInline(Ee.tokens),Ee.depth,u(this.parseInline(Ee.tokens,this.textRenderer)),this.slugger);continue}case"code":{Q+=this.renderer.code(Ee.text,Ee.lang,Ee.escaped);continue}case"table":{for(we="",Ce="",ue=Ee.header.length,re=0;re<ue;re++)Ce+=this.renderer.tablecell(this.parseInline(Ee.header[re].tokens),{header:!0,align:Ee.align[re]});for(we+=this.renderer.tablerow(Ce),Le="",ue=Ee.rows.length,re=0;re<ue;re++){for(ve=Ee.rows[re],Ce="",me=ve.length,se=0;se<me;se++)Ce+=this.renderer.tablecell(this.parseInline(ve[se].tokens),{header:!1,align:Ee.align[se]});Le+=this.renderer.tablerow(Ce)}Q+=this.renderer.table(we,Le);continue}case"blockquote":{Le=this.parse(Ee.tokens),Q+=this.renderer.blockquote(Le);continue}case"list":{for(Ne=Ee.ordered,Ae=Ee.start,Re=Ee.loose,ue=Ee.items.length,Le="",re=0;re<ue;re++)De=Ee.items[re],fe=De.checked,_e=De.task,ye="",De.task&&(pe=this.renderer.checkbox(fe),Re?De.tokens.length>0&&De.tokens[0].type==="paragraph"?(De.tokens[0].text=pe+" "+De.tokens[0].text,De.tokens[0].tokens&&De.tokens[0].tokens.length>0&&De.tokens[0].tokens[0].type==="text"&&(De.tokens[0].tokens[0].text=pe+" "+De.tokens[0].tokens[0].text)):De.tokens.unshift({type:"text",text:pe}):ye+=pe),ye+=this.parse(De.tokens,Re),Le+=this.renderer.listitem(ye,_e,fe);Q+=this.renderer.list(Le,Ne,Ae);continue}case"html":{Q+=this.renderer.html(Ee.text);continue}case"paragraph":{Q+=this.renderer.paragraph(this.parseInline(Ee.tokens));continue}case"text":{for(Le=Ee.tokens?this.parseInline(Ee.tokens):Ee.text;j+1<ke&&K[j+1].type==="text";)Ee=K[++j],Le+=`
`+(Ee.tokens?this.parseInline(Ee.tokens):Ee.text);Q+=H?this.renderer.paragraph(Le):Le;continue}default:{var Pe='Token with "'+Ee.type+'" type was not found.';if(this.options.silent){console.error(Pe);return}else throw new Error(Pe)}}}return Q},ae.parseInline=function(K,H){H=H||this.renderer;var Q="",j,re,se,ue=K.length;for(j=0;j<ue;j++){if(re=K[j],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[re.type]&&(se=this.options.extensions.renderers[re.type].call({parser:this},re),se!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(re.type))){Q+=se||"";continue}switch(re.type){case"escape":{Q+=H.text(re.text);break}case"html":{Q+=H.html(re.text);break}case"link":{Q+=H.link(re.href,re.title,this.parseInline(re.tokens,H));break}case"image":{Q+=H.image(re.href,re.title,re.text);break}case"strong":{Q+=H.strong(this.parseInline(re.tokens,H));break}case"em":{Q+=H.em(this.parseInline(re.tokens,H));break}case"codespan":{Q+=H.codespan(re.text);break}case"br":{Q+=H.br();break}case"del":{Q+=H.del(this.parseInline(re.tokens,H));break}case"text":{Q+=H.text(re.text);break}default:{var me='Token with "'+re.type+'" type was not found.';if(this.options.silent){console.error(me);return}else throw new Error(me)}}}return Q},ce}();function Y(ce,ae,J){if(typeof ce>"u"||ce===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ce!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ce)+", string expected");if(typeof ae=="function"&&(J=ae,ae=null),ae=E({},Y.defaults,ae||{}),F(ae),J){var K=ae.highlight,H;try{H=B.lex(ce,ae)}catch(ue){return J(ue)}var Q=function(me){var ve;if(!me)try{ae.walkTokens&&Y.walkTokens(H,ae.walkTokens),ve=oe.parse(H,ae)}catch(Ce){me=Ce}return ae.highlight=K,me?J(me):J(null,ve)};if(!K||K.length<3||(delete ae.highlight,!H.length))return Q();var j=0;Y.walkTokens(H,function(ue){ue.type==="code"&&(j++,setTimeout(function(){K(ue.text,ue.lang,function(me,ve){if(me)return Q(me);ve!=null&&ve!==ue.text&&(ue.text=ve,ue.escaped=!0),j--,j===0&&Q()})},0))}),j===0&&Q();return}function re(ue){if(ue.message+=`
Please report this to https://github.com/markedjs/marked.`,ae.silent)return"<p>An error occurred:</p><pre>"+t(ue.message+"",!0)+"</pre>";throw ue}try{var se=B.lex(ce,ae);if(ae.walkTokens){if(ae.async)return Promise.all(Y.walkTokens(se,ae.walkTokens)).then(function(){return oe.parse(se,ae)}).catch(re);Y.walkTokens(se,ae.walkTokens)}return oe.parse(se,ae)}catch(ue){re(ue)}}Y.options=Y.setOptions=function(ce){return E(Y.defaults,ce),m(Y.defaults),Y},Y.getDefaults=S,Y.defaults=G.defaults,Y.use=function(){for(var ce=arguments.length,ae=new Array(ce),J=0;J<ce;J++)ae[J]=arguments[J];var K=E.apply(void 0,[{}].concat(ae)),H=Y.defaults.extensions||{renderers:{},childTokens:{}},Q;ae.forEach(function(j){if(j.extensions&&(Q=!0,j.extensions.forEach(function(se){if(!se.name)throw new Error("extension name required");if(se.renderer){var ue=H.renderers?H.renderers[se.name]:null;ue?H.renderers[se.name]=function(){for(var me=arguments.length,ve=new Array(me),Ce=0;Ce<me;Ce++)ve[Ce]=arguments[Ce];var we=se.renderer.apply(this,ve);return we===!1&&(we=ue.apply(this,ve)),we}:H.renderers[se.name]=se.renderer}if(se.tokenizer){if(!se.level||se.level!=="block"&&se.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");H[se.level]?H[se.level].unshift(se.tokenizer):H[se.level]=[se.tokenizer],se.start&&(se.level==="block"?H.startBlock?H.startBlock.push(se.start):H.startBlock=[se.start]:se.level==="inline"&&(H.startInline?H.startInline.push(se.start):H.startInline=[se.start]))}se.childTokens&&(H.childTokens[se.name]=se.childTokens)})),j.renderer&&function(){var se=Y.defaults.renderer||new $,ue=function(Ce){var we=se[Ce];se[Ce]=function(){for(var Le=arguments.length,Ee=new Array(Le),Ne=0;Ne<Le;Ne++)Ee[Ne]=arguments[Ne];var Ae=j.renderer[Ce].apply(se,Ee);return Ae===!1&&(Ae=we.apply(se,Ee)),Ae}};for(var me in j.renderer)ue(me);K.renderer=se}(),j.tokenizer&&function(){var se=Y.defaults.tokenizer||new O,ue=function(Ce){var we=se[Ce];se[Ce]=function(){for(var Le=arguments.length,Ee=new Array(Le),Ne=0;Ne<Le;Ne++)Ee[Ne]=arguments[Ne];var Ae=j.tokenizer[Ce].apply(se,Ee);return Ae===!1&&(Ae=we.apply(se,Ee)),Ae}};for(var me in j.tokenizer)ue(me);K.tokenizer=se}(),j.walkTokens){var re=Y.defaults.walkTokens;K.walkTokens=function(se){var ue=[];return ue.push(j.walkTokens.call(this,se)),re&&(ue=ue.concat(re.call(this,se))),ue}}Q&&(K.extensions=H),Y.setOptions(K)})},Y.walkTokens=function(ce,ae){for(var J=[],K=function(){var re=Q.value;switch(J=J.concat(ae.call(Y,re)),re.type){case"table":{for(var se=D(re.header),ue;!(ue=se()).done;){var me=ue.value;J=J.concat(Y.walkTokens(me.tokens,ae))}for(var ve=D(re.rows),Ce;!(Ce=ve()).done;)for(var we=Ce.value,Le=D(we),Ee;!(Ee=Le()).done;){var Ne=Ee.value;J=J.concat(Y.walkTokens(Ne.tokens,ae))}break}case"list":{J=J.concat(Y.walkTokens(re.items,ae));break}default:Y.defaults.extensions&&Y.defaults.extensions.childTokens&&Y.defaults.extensions.childTokens[re.type]?Y.defaults.extensions.childTokens[re.type].forEach(function(Ae){J=J.concat(Y.walkTokens(re[Ae],ae))}):re.tokens&&(J=J.concat(Y.walkTokens(re.tokens,ae)))}},H=D(ce),Q;!(Q=H()).done;)K();return J},Y.parseInline=function(ce,ae){if(typeof ce>"u"||ce===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ce!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ce)+", string expected");ae=E({},Y.defaults,ae||{}),F(ae);try{var J=B.lexInline(ce,ae);return ae.walkTokens&&Y.walkTokens(J,ae.walkTokens),oe.parseInline(J,ae)}catch(K){if(K.message+=`
Please report this to https://github.com/markedjs/marked.`,ae.silent)return"<p>An error occurred:</p><pre>"+t(K.message+"",!0)+"</pre>";throw K}},Y.Parser=oe,Y.parser=oe.parse,Y.Renderer=$,Y.TextRenderer=X,Y.Lexer=B,Y.lexer=B.lex,Y.Tokenizer=O,Y.Slugger=ne,Y.parse=Y;var U=Y.options,W=Y.setOptions,V=Y.use,Z=Y.walkTokens,ie=Y.parseInline,le=Y,he=oe.parse,de=B.lex;G.Lexer=B,G.Parser=oe,G.Renderer=$,G.Slugger=ne,G.TextRenderer=X,G.Tokenizer=O,G.getDefaults=S,G.lexer=de,G.marked=Y,G.options=U,G.parse=le,G.parseInline=ie,G.parser=he,G.setOptions=W,G.use=V,G.walkTokens=Z,Object.defineProperty(G,"__esModule",{value:!0})}),define(ee[107],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ee[197],te([1,0,107]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:L.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(ee[390],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class L{constructor(y,D=0,S=y.length,m=D-1){this.items=y,this.start=D,this.end=S,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=L}),define(ee[391],te([1,0,390]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new L.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=k}),define(ee[139],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function L(D,S,m){return Math.min(Math.max(D,S),m)}e.clamp=L;class k{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class y{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const m=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=m,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=y}),define(ee[140],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=e.getLogger=e.setLogger=void 0;let L;function k(a){L=a}e.setLogger=k;function y(){return L}e.getLogger=y;class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(u){return S([m(i("|  ",this.indentation)),u])}formatInfo(u){return u.hadValue?u.didChange?[m(" "),v(C(u.oldValue,70),{color:"red",strikeThrough:!0}),m(" "),v(C(u.newValue,60),{color:"green"})]:[m(" (unchanged)")]:[m(" "),v(C(u.newValue,60),{color:"green"}),m(" (initial)")]}handleObservableChanged(u,h){console.log(...this.textToConsoleArgs([_("observable value changed"),v(u.debugName,{color:"BlueViolet"}),...this.formatInfo(h)]))}formatChanges(u){if(u.size!==0)return v(" (changed deps: "+[...u].map(h=>h.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(u){const h=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(l,c)=>(this.changedObservablesSets.get(u).add(l),h.apply(u,[l,c]))}handleDerivedRecomputed(u,h){const l=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([_("derived recomputed"),v(u.debugName,{color:"BlueViolet"}),...this.formatInfo(h),this.formatChanges(l),{data:[{fn:u._computeFn}]}])),l.clear()}handleFromEventObservableTriggered(u,h){console.log(...this.textToConsoleArgs([_("observable from event triggered"),v(u.debugName,{color:"BlueViolet"}),...this.formatInfo(h),{data:[{fn:u._getValue}]}]))}handleAutorunCreated(u){const h=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(l,c)=>(this.changedObservablesSets.get(u).add(l),h.apply(u,[l,c]))}handleAutorunTriggered(u){const h=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([_("autorun"),v(u.debugName,{color:"BlueViolet"}),this.formatChanges(h),{data:[{fn:u._runFn}]}])),h.clear(),this.indentation++}handleAutorunFinished(u){this.indentation--}handleBeginTransaction(u){let h=u.getDebugName();h===void 0&&(h=""),console.log(...this.textToConsoleArgs([_("transaction"),v(h,{color:"BlueViolet"}),{data:[{fn:u._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function S(a){const u=new Array,h=[];let l="";function c(d){if("length"in d)for(const r of d)r&&c(r);else"text"in d?(l+=`%c${d.text}`,u.push(d.style),d.data&&h.push(...d.data)):"data"in d&&h.push(...d.data)}c(a);const o=[l,...u];return o.push(...h),o}function m(a){return v(a,{color:"black"})}function _(a){return v(t(`${a}: `,10),{color:"black",bold:!0})}function v(a,u={color:"black"}){function h(c){return Object.entries(c).reduce((o,[d,r])=>`${o}${d}:${r};`,"")}const l={color:u.color};return u.strikeThrough&&(l["text-decoration"]="line-through"),u.bold&&(l["font-weight"]="bold"),{text:a,style:h(l)}}function C(a,u){switch(typeof a){case"number":return""+a;case"string":return a.length+2<=u?`"${a}"`:`"${a.substr(0,u-7)}"+...`;case"boolean":return a?"true":"false";case"undefined":return"undefined";case"object":return a===null?"null":Array.isArray(a)?s(a,u):n(a,u);case"symbol":return a.toString();case"function":return`[[Function${a.name?" "+a.name:""}]]`;default:return""+a}}function s(a,u){let h="[ ",l=!0;for(const c of a){if(l||(h+=", "),h.length-5>u){h+="...";break}l=!1,h+=`${C(c,u-h.length)}`}return h+=" ]",h}function n(a,u){let h="{ ",l=!0;for(const[c,o]of Object.entries(a)){if(l||(h+=", "),h.length-5>u){h+="...";break}l=!1,h+=`${c}: ${C(o,u-h.length)}`}return h+=" }",h}function i(a,u){let h="";for(let l=1;l<=u;l++)h+=a;return h}function t(a,u){for(;a.length<u;)a+=" ";return a}}),define(ee[165],te([1,0,140]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.disposableObservableValue=e.ObservableValue=e.observableValue=e.getFunctionName=e.getDebugName=e.TransactionImpl=e.subtransaction=e.transaction=e.BaseObservable=e.ConvenientObservable=e._setDerivedOpts=void 0;let k;function y(u){k=u}e._setDerivedOpts=y;class D{get TChange(){return null}reportChanges(){this.get()}read(h){return h?h.readObservable(this):this.get()}map(h){return k({debugName:()=>{const l=s(h);if(l!==void 0)return l;const o=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(h.toString());return o?`${this.debugName}.${o[2]}`:`${this.debugName} (mapped)`}},l=>h(this.read(l),l))}}e.ConvenientObservable=D;class S extends D{constructor(){super(...arguments),this.observers=new Set}addObserver(h){const l=this.observers.size;this.observers.add(h),l===0&&this.onFirstObserverAdded()}removeObserver(h){this.observers.delete(h)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=S;function m(u,h){const l=new v(u,h);try{u(l)}finally{l.finish()}}e.transaction=m;function _(u,h,l){u?h(u):m(h,l)}e.subtransaction=_;class v{constructor(h,l){var c;this._fn=h,this._getDebugName=l,this.updatingObservers=[],(c=(0,L.getLogger)())===null||c===void 0||c.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():s(this._fn)}updateObserver(h,l){this.updatingObservers.push({observer:h,observable:l}),h.beginUpdate(l)}finish(){var h;const l=this.updatingObservers;this.updatingObservers=null;for(const{observer:c,observable:o}of l)c.endUpdate(o);(h=(0,L.getLogger)())===null||h===void 0||h.handleEndTransaction()}}e.TransactionImpl=v;function C(u,h,l,c){let o;if(u!==void 0)if(typeof u=="function"){if(o=u(),o!==void 0)return o}else return u;if(h!==void 0&&(o=s(h),o!==void 0))return o;if(l!==void 0){for(const d in l)if(l[d]===c)return d}}e.getDebugName=C;function s(u){const h=u.toString(),c=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(h),o=c?c[1]:void 0;return o?.trim()}e.getFunctionName=s;function n(u,h){return typeof u=="string"?new i(void 0,u,h):new i(u,void 0,h)}e.observableValue=n;class i extends S{get debugName(){var h;return(h=C(this._debugName,void 0,this._owner,this))!==null&&h!==void 0?h:"ObservableValue"}constructor(h,l,c){super(),this._owner=h,this._debugName=l,this._value=c}get(){return this._value}set(h,l,c){var o;if(this._value===h)return;let d;l||(l=d=new v(()=>{},()=>`Setting ${this.debugName}`));try{const r=this._value;this._setValue(h),(o=(0,L.getLogger)())===null||o===void 0||o.handleObservableChanged(this,{oldValue:r,newValue:h,change:c,didChange:!0,hadValue:!0});for(const g of this.observers)l.updateObserver(g,this),g.handleChange(this,c)}finally{d&&d.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(h){this._value=h}}e.ObservableValue=i;function t(u,h){return typeof u=="string"?new a(void 0,u,h):new a(u,void 0,h)}e.disposableObservableValue=t;class a extends i{_setValue(h){this._value!==h&&(this._value&&this._value.dispose(),this._value=h)}dispose(){var h;(h=this._value)===null||h===void 0||h.dispose()}}e.DisposableObservableValue=a}),define(ee[261],te([1,0,96,2,165,140]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.autorunOpts=void 0;function S(s,n){return new C(s.debugName,n,void 0,void 0)}e.autorunOpts=S;function m(s){return new C(void 0,s,void 0,void 0)}e.autorun=m;function _(s,n){return new C(s.debugName,n,s.createEmptyChangeSummary,s.handleChange)}e.autorunHandleChanges=_;function v(s){const n=new k.DisposableStore,i=S({debugName:()=>(0,y.getFunctionName)(s)||"(anonymous)"},t=>{n.clear(),s(t,n)});return(0,k.toDisposable)(()=>{i.dispose(),n.dispose()})}e.autorunWithStore=v;class C{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const i=this._debugName();if(i!==void 0)return i}const n=(0,y.getFunctionName)(this._runFn);return n!==void 0?n:"(anonymous)"}constructor(n,i,t,a){var u,h;this._debugName=n,this._runFn=i,this.createChangeSummary=t,this._handleChange=a,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this),(h=(0,D.getLogger)())===null||h===void 0||h.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const n of this.dependencies)n.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var n,i,t;if(this.state===3)return;const a=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=a,this.state=3;try{if(!this.disposed){(n=(0,D.getLogger)())===null||n===void 0||n.handleAutorunTriggered(this);const u=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,u)}}finally{(t=(0,D.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const u of this.dependenciesToBeRemoved)u.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const n of this.dependencies)if(n.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,L.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(n){this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)&&(this.state=1)}handleChange(n,i){this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)&&(!this._handleChange||this._handleChange({changedObservable:n,change:i,didChange:a=>a===n},this.changeSummary))&&(this.state=2)}readObservable(n){if(this.disposed)return n.get();n.addObserver(this);const i=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),i}}e.AutorunObserver=C,function(s){s.Observer=C}(m||(e.autorun=m={}))}),define(ee[392],te([1,0,9,2,165,140]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=void 0;const S=(n,i)=>n===i;function m(n,i){return i!==void 0?new s(n,void 0,i,void 0,void 0,void 0,S):new s(void 0,void 0,n,void 0,void 0,void 0,S)}e.derived=m;function _(n,i){var t;return new s(n.owner,n.debugName,i,void 0,void 0,void 0,(t=n.equalityComparer)!==null&&t!==void 0?t:S)}e.derivedOpts=_;function v(n,i){var t;return new s(n.owner,n.debugName,i,n.createEmptyChangeSummary,n.handleChange,void 0,(t=n.equalityComparer)!==null&&t!==void 0?t:S)}e.derivedHandleChanges=v;function C(n,i){let t,a;i===void 0?(t=n,a=void 0):(a=n,t=i);const u=new k.DisposableStore;return new s(a,()=>{var h;return(h=(0,y.getFunctionName)(t))!==null&&h!==void 0?h:"(anonymous)"},h=>(u.clear(),t(h,u)),void 0,void 0,()=>u.dispose(),S)}e.derivedWithStore=C,(0,y._setDerivedOpts)(m);class s extends y.BaseObservable{get debugName(){var i;return(i=(0,y.getDebugName)(this._debugName,this._computeFn,this._owner,this))!==null&&i!==void 0?i:"(anonymous)"}constructor(i,t,a,u,h,l=void 0,c){var o,d;super(),this._owner=i,this._debugName=t,this._computeFn=a,this.createChangeSummary=u,this._handleChange=h,this._handleLastObserverRemoved=l,this._equalityComparator=c,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this),(d=(0,D.getLogger)())===null||d===void 0||d.handleDerivedCreated(this)}onLastObserverRemoved(){var i;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(i=this._handleLastObserverRemoved)===null||i===void 0||i.call(this)}get(){var i;if(this.observers.size===0){const t=this._computeFn(this,(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var i,t;if(this.state===3)return;const a=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=a;const u=this.state!==0,h=this.value;this.state=3;const l=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this);try{this.value=this._computeFn(this,l)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}const c=u&&!this._equalityComparator(h,this.value);if((t=(0,D.getLogger)())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:h,newValue:this.value,change:void 0,didChange:c,hadValue:u}),c)for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(i){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const a of this.observers)a.handlePossibleChange(this);if(t)for(const a of this.observers)a.beginUpdate(this)}endUpdate(i){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const a of t)a.endUpdate(this)}if(this.updateCount<0)throw new L.BugIndicatingError}handlePossibleChange(i){if(this.state===3&&this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(i,t){if(this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)){const a=this._handleChange?this._handleChange({changedObservable:i,change:t,didChange:h=>h===i},this.changeSummary):!0,u=this.state===3;if(a&&(this.state===1||u)&&(this.state=2,u))for(const h of this.observers)h.handlePossibleChange(this)}}readObservable(i){i.addObserver(this);const t=i.get();return this.dependencies.add(i),this.dependenciesToBeRemoved.delete(i),t}addObserver(i){const t=!this.observers.has(i)&&this.updateCount>0;super.addObserver(i),t&&i.beginUpdate(this)}removeObserver(i){const t=this.observers.has(i)&&this.updateCount>0;super.removeObserver(i),t&&i.endUpdate(this)}}e.Derived=s}),define(ee[393],te([1,0,2,261,165,140]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeInitiallyAndOnChange=e.observableSignal=e.observableSignalFromEvent=e.FromEventObservable=e.observableFromEvent=e.waitForState=e.constObservable=void 0;function S(h){return new m(h)}e.constObservable=S;class m extends y.ConvenientObservable{constructor(l){super(),this.value=l}get debugName(){return this.toString()}get(){return this.value}addObserver(l){}removeObserver(l){}toString(){return`Const: ${this.value}`}}function _(h,l){return new Promise(c=>{let o=!1,d=!1;const r=(0,k.autorun)(g=>{const f=h.read(g);l(f)&&(o?r.dispose():d=!0,c(f))});o=!0,d&&r.dispose()})}e.waitForState=_;function v(h,l){return new C(h,l)}e.observableFromEvent=v;class C extends y.BaseObservable{constructor(l,c){super(),this.event=l,this._getValue=c,this.hasValue=!1,this.handleEvent=o=>{var d;const r=this._getValue(o),g=!this.hasValue||this.value!==r;(d=(0,D.getLogger)())===null||d===void 0||d.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:r,change:void 0,didChange:g,hadValue:this.hasValue}),g&&(this.value=r,this.hasValue&&(0,y.transaction)(f=>{for(const p of this.observers)f.updateObserver(p,this),p.handleChange(this,void 0)},()=>{const f=this.getDebugName();return"Event fired"+(f?`: ${f}`:"")}),this.hasValue=!0)}}getDebugName(){return(0,y.getFunctionName)(this._getValue)}get debugName(){const l=this.getDebugName();return"From Event"+(l?`: ${l}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=C,function(h){h.Observer=C}(v||(e.observableFromEvent=v={}));function s(h,l){return new n(h,l)}e.observableSignalFromEvent=s;class n extends y.BaseObservable{constructor(l,c){super(),this.debugName=l,this.event=c,this.handleEvent=()=>{(0,y.transaction)(o=>{for(const d of this.observers)o.updateObserver(d,this),d.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function i(h){return typeof h=="string"?new t(h):new t(void 0,h)}e.observableSignal=i;class t extends y.BaseObservable{get debugName(){var l;return(l=(0,y.getDebugName)(this._debugName,void 0,this._owner,this))!==null&&l!==void 0?l:"Observable Signal"}constructor(l,c){super(),this._debugName=l,this._owner=c}trigger(l,c){if(!l){(0,y.transaction)(o=>{this.trigger(o,c)},()=>`Trigger signal ${this.debugName}`);return}for(const o of this.observers)l.updateObserver(o,this),o.handleChange(this,c)}get(){}}function a(h){const l=new u(!0);return h.addObserver(l),h.reportChanges(),(0,L.toDisposable)(()=>{h.removeObserver(l)})}e.recomputeInitiallyAndOnChange=a;class u{constructor(l){this.forceRecompute=l,this.counter=0}beginUpdate(l){this.counter++}endUpdate(l){this.counter--,this.counter===0&&this.forceRecompute&&l.reportChanges()}handlePossibleChange(l){}handleChange(l,c){}}}),define(ee[40],te([1,0,165,392,261,393,140]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return L.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return L.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return L.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return L.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return D.constObservable}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return D.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return D.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return D.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return D.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return D.waitForState}}),!1&&(0,S.setLogger)(new S.ConsoleObservableLogger)}),define(ee[166],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var L;(function(k){function y(_,v){if(_.start>=v.end||v.start>=_.end)return{start:0,end:0};const C=Math.max(_.start,v.start),s=Math.min(_.end,v.end);return s-C<=0?{start:0,end:0}:{start:C,end:s}}k.intersect=y;function D(_){return _.end-_.start<=0}k.isEmpty=D;function S(_,v){return!D(y(_,v))}k.intersects=S;function m(_,v){const C=[],s={start:_.start,end:Math.min(v.start,_.end)},n={start:Math.max(v.end,_.start),end:_.end};return D(s)||C.push(s),D(n)||C.push(n),C}k.relativeComplement=m})(L||(e.Range=L={}))}),define(ee[394],te([1,0,166]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(_,v){const C=[];for(const s of v){if(_.start>=s.range.end)continue;if(_.end<s.range.start)break;const n=L.Range.intersect(_,s.range);L.Range.isEmpty(n)||C.push({range:n,size:s.size})}return C}e.groupIntersect=k;function y({start:_,end:v},C){return{start:_+C,end:v+C}}e.shift=y;function D(_){const v=[];let C=null;for(const s of _){const n=s.range.start,i=s.range.end,t=s.size;if(C&&t===C.size){C.range.end=i;continue}C={range:{start:n,end:i},size:t},v.push(C)}return v}e.consolidate=D;function S(..._){return D(_.reduce((v,C)=>v.concat(C),[]))}class m{get paddingTop(){return this._paddingTop}set paddingTop(v){this._size=this._size+v-this._paddingTop,this._paddingTop=v}constructor(v){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=v??0,this._size=this._paddingTop}splice(v,C,s=[]){const n=s.length-C,i=k({start:0,end:v},this.groups),t=k({start:v+C,end:Number.POSITIVE_INFINITY},this.groups).map(u=>({range:y(u.range,n),size:u.size})),a=s.map((u,h)=>({range:{start:v+h,end:v+h+1},size:u.size}));this.groups=S(i,a,t),this._size=this._paddingTop+this.groups.reduce((u,h)=>u+h.size*(h.range.end-h.range.start),0)}get count(){const v=this.groups.length;return v?this.groups[v-1].range.end:0}get size(){return this._size}indexAt(v){if(v<0)return-1;if(v<this._paddingTop)return 0;let C=0,s=this._paddingTop;for(const n of this.groups){const i=n.range.end-n.range.start,t=s+i*n.size;if(v<t)return C+Math.floor((v-s)/n.size);C+=i,s=t}return C}indexAfter(v){return Math.min(this.indexAt(v)+1,this.count)}positionAt(v){if(v<0)return-1;let C=0,s=0;for(const n of this.groups){const i=n.range.end-n.range.start,t=s+i;if(v<t)return this._paddingTop+C+(v-s)*n.size;C+=i*n.size,s=t}return-1}}e.RangeMap=m}),define(ee[58],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const L=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=L&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(ee[6],te([1,0,9,97,2,62,58]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const m=!1,_=!1;var v;(function(b){b.None=()=>y.Disposable.None;function w(ce){if(_){const{onDidAddListener:ae}=ce,J=i.create();let K=0;ce.onDidAddListener=()=>{++K===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),J.print()),ae?.()}}}function E(ce,ae){return x(ce,()=>{},0,void 0,!0,void 0,ae)}b.defer=E;function I(ce){return(ae,J=null,K)=>{let H=!1,Q;return Q=ce(j=>{if(!H)return Q?Q.dispose():H=!0,ae.call(J,j)},null,K),H&&Q.dispose(),Q}}b.once=I;function N(ce,ae,J){return O((K,H=null,Q)=>ce(j=>K.call(H,ae(j)),null,Q),J)}b.map=N;function R(ce,ae,J){return O((K,H=null,Q)=>ce(j=>{ae(j),K.call(H,j)},null,Q),J)}b.forEach=R;function F(ce,ae,J){return O((K,H=null,Q)=>ce(j=>ae(j)&&K.call(H,j),null,Q),J)}b.filter=F;function M(ce){return ce}b.signal=M;function A(...ce){return(ae,J=null,K)=>{const H=(0,y.combinedDisposable)(...ce.map(Q=>Q(j=>ae.call(J,j))));return P(H,K)}}b.any=A;function T(ce,ae,J,K){let H=J;return N(ce,Q=>(H=ae(H,Q),H),K)}b.reduce=T;function O(ce,ae){let J;const K={onWillAddFirstListener(){J=ce(H.fire,H)},onDidRemoveLastListener(){J?.dispose()}};ae||w(K);const H=new h(K);return ae?.add(H),H.event}function P(ce,ae){return ae instanceof Array?ae.push(ce):ae&&ae.add(ce),ce}function x(ce,ae,J=100,K=!1,H=!1,Q,j){let re,se,ue,me=0,ve;const Ce={leakWarningThreshold:Q,onWillAddFirstListener(){re=ce(Le=>{me++,se=ae(se,Le),K&&!ue&&(we.fire(se),se=void 0),ve=()=>{const Ee=se;se=void 0,ue=void 0,(!K||me>1)&&we.fire(Ee),me=0},typeof J=="number"?(clearTimeout(ue),ue=setTimeout(ve,J)):ue===void 0&&(ue=0,queueMicrotask(ve))})},onWillRemoveListener(){H&&me>0&&ve?.()},onDidRemoveLastListener(){ve=void 0,re.dispose()}};j||w(Ce);const we=new h(Ce);return j?.add(we),we.event}b.debounce=x;function z(ce,ae=0,J){return b.debounce(ce,(K,H)=>K?(K.push(H),K):[H],ae,void 0,!0,void 0,J)}b.accumulate=z;function q(ce,ae=(K,H)=>K===H,J){let K=!0,H;return F(ce,Q=>{const j=K||!ae(Q,H);return K=!1,H=Q,j},J)}b.latch=q;function B(ce,ae,J){return[b.filter(ce,ae,J),b.filter(ce,K=>!ae(K),J)]}b.split=B;function $(ce,ae=!1,J=[]){let K=J.slice(),H=ce(re=>{K?K.push(re):j.fire(re)});const Q=()=>{K?.forEach(re=>j.fire(re)),K=null},j=new h({onWillAddFirstListener(){H||(H=ce(re=>j.fire(re)))},onDidAddFirstListener(){K&&(ae?setTimeout(Q):Q())},onDidRemoveLastListener(){H&&H.dispose(),H=null}});return j.event}b.buffer=$;function X(ce,ae){return(K,H,Q)=>{const j=ae(new oe);return ce(function(re){const se=j.evaluate(re);se!==ne&&K.call(H,se)},void 0,Q)}}b.chain=X;const ne=Symbol("HaltChainable");class oe{constructor(){this.steps=[]}map(ae){return this.steps.push(ae),this}forEach(ae){return this.steps.push(J=>(ae(J),J)),this}filter(ae){return this.steps.push(J=>ae(J)?J:ne),this}reduce(ae,J){let K=J;return this.steps.push(H=>(K=ae(K,H),K)),this}latch(ae=(J,K)=>J===K){let J=!0,K;return this.steps.push(H=>{const Q=J||!ae(H,K);return J=!1,K=H,Q?H:ne}),this}evaluate(ae){for(const J of this.steps)if(ae=J(ae),ae===ne)break;return ae}}function Y(ce,ae,J=K=>K){const K=(...re)=>j.fire(J(...re)),H=()=>ce.on(ae,K),Q=()=>ce.removeListener(ae,K),j=new h({onWillAddFirstListener:H,onDidRemoveLastListener:Q});return j.event}b.fromNodeEventEmitter=Y;function U(ce,ae,J=K=>K){const K=(...re)=>j.fire(J(...re)),H=()=>ce.addEventListener(ae,K),Q=()=>ce.removeEventListener(ae,K),j=new h({onWillAddFirstListener:H,onDidRemoveLastListener:Q});return j.event}b.fromDOMEventEmitter=U;function W(ce){return new Promise(ae=>I(ce)(ae))}b.toPromise=W;function V(ce){const ae=new h;return ce.then(J=>{ae.fire(J)},()=>{ae.fire(void 0)}).finally(()=>{ae.dispose()}),ae.event}b.fromPromise=V;function Z(ce,ae){return ae(void 0),ce(J=>ae(J))}b.runAndSubscribe=Z;function ie(ce,ae){let J=null;function K(Q){J?.dispose(),J=new y.DisposableStore,ae(Q,J)}K(void 0);const H=ce(Q=>K(Q));return(0,y.toDisposable)(()=>{H.dispose(),J?.dispose()})}b.runAndSubscribeWithStore=ie;class le{constructor(ae,J){this._observable=ae,this._counter=0,this._hasChanged=!1;const K={onWillAddFirstListener:()=>{ae.addObserver(this)},onDidRemoveLastListener:()=>{ae.removeObserver(this)}};J||w(K),this.emitter=new h(K),J&&J.add(this.emitter)}beginUpdate(ae){this._counter++}handlePossibleChange(ae){}handleChange(ae,J){this._hasChanged=!0}endUpdate(ae){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function he(ce,ae){return new le(ce,ae).emitter.event}b.fromObservable=he;function de(ce){return ae=>{let J=0,K=!1;const H={beginUpdate(){J++},endUpdate(){J--,J===0&&(ce.reportChanges(),K&&(K=!1,ae()))},handlePossibleChange(){},handleChange(){K=!0}};return ce.addObserver(H),ce.reportChanges(),{dispose(){ce.removeObserver(H)}}}}b.fromObservableLight=de})(v||(e.Event=v={}));class C{constructor(w){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${w}_${C._idPool++}`,C.all.add(this)}start(w){this._stopWatch=new S.StopWatch,this.listenerCount=w}stop(){if(this._stopWatch){const w=this._stopWatch.elapsed();this.durations.push(w),this.elapsedOverall+=w,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=C,C.all=new Set,C._idPool=0;let s=-1;class n{constructor(w,E=Math.random().toString(18).slice(2,5)){this.threshold=w,this.name=E,this._warnCountdown=0}dispose(){var w;(w=this._stacks)===null||w===void 0||w.clear()}check(w,E){const I=this.threshold;if(I<=0||E<I)return;this._stacks||(this._stacks=new Map);const N=this._stacks.get(w.value)||0;if(this._stacks.set(w.value,N+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=I*.5;let R,F=0;for(const[M,A]of this._stacks)(!R||F<A)&&(R=M,F=A);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${F}):`),console.warn(R)}return()=>{const R=this._stacks.get(w.value)||0;this._stacks.set(w.value,R-1)}}}class i{static create(){var w;return new i((w=new Error().stack)!==null&&w!==void 0?w:"")}constructor(w){this.value=w}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(w){this.value=w}}const a=2,u=(b,w)=>{if(b instanceof t)w(b);else for(let E=0;E<b.length;E++){const I=b[E];I&&w(I)}};class h{constructor(w){var E,I,N,R,F;this._size=0,this._options=w,this._leakageMon=s>0||!((E=this._options)===null||E===void 0)&&E.leakWarningThreshold?new n((N=(I=this._options)===null||I===void 0?void 0:I.leakWarningThreshold)!==null&&N!==void 0?N:s):void 0,this._perfMon=!((R=this._options)===null||R===void 0)&&R._profName?new C(this._options._profName):void 0,this._deliveryQueue=(F=this._options)===null||F===void 0?void 0:F.deliveryQueue}dispose(){var w,E,I,N;if(!this._disposed){if(this._disposed=!0,((w=this._deliveryQueue)===null||w===void 0?void 0:w.current)===this&&this._deliveryQueue.reset(),this._listeners){if(m){const R=this._listeners;queueMicrotask(()=>{u(R,F=>{var M;return(M=F.stack)===null||M===void 0?void 0:M.print()})})}this._listeners=void 0,this._size=0}(I=(E=this._options)===null||E===void 0?void 0:E.onDidRemoveLastListener)===null||I===void 0||I.call(E),(N=this._leakageMon)===null||N===void 0||N.dispose()}}get event(){var w;return(w=this._event)!==null&&w!==void 0||(this._event=(E,I,N)=>{var R,F,M,A,T;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),y.Disposable.None;if(this._disposed)return y.Disposable.None;I&&(E=E.bind(I));const O=new t(E);let P,x;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(O.stack=i.create(),P=this._leakageMon.check(O.stack,this._size+1)),m&&(O.stack=x??i.create()),this._listeners?this._listeners instanceof t?((T=this._deliveryQueue)!==null&&T!==void 0||(this._deliveryQueue=new c),this._listeners=[this._listeners,O]):this._listeners.push(O):((F=(R=this._options)===null||R===void 0?void 0:R.onWillAddFirstListener)===null||F===void 0||F.call(R,this),this._listeners=O,(A=(M=this._options)===null||M===void 0?void 0:M.onDidAddFirstListener)===null||A===void 0||A.call(M,this)),this._size++;const z=(0,y.toDisposable)(()=>{P?.(),this._removeListener(O)});return N instanceof y.DisposableStore?N.add(z):Array.isArray(N)&&N.push(z),z}),this._event}_removeListener(w){var E,I,N,R;if((I=(E=this._options)===null||E===void 0?void 0:E.onWillRemoveListener)===null||I===void 0||I.call(E,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(R=(N=this._options)===null||N===void 0?void 0:N.onDidRemoveLastListener)===null||R===void 0||R.call(N,this),this._size=0;return}const F=this._listeners,M=F.indexOf(w);if(M===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,F[M]=void 0;const A=this._deliveryQueue.current===this;if(this._size*a<=F.length){let T=0;for(let O=0;O<F.length;O++)F[O]?F[T++]=F[O]:A&&(this._deliveryQueue.end--,T<this._deliveryQueue.i&&this._deliveryQueue.i--);F.length=T}}_deliver(w,E){var I;if(!w)return;const N=((I=this._options)===null||I===void 0?void 0:I.onListenerError)||L.onUnexpectedError;if(!N){w.value(E);return}try{w.value(E)}catch(R){N(R)}}_deliverQueue(w){const E=w.current._listeners;for(;w.i<w.end;)this._deliver(E[w.i++],w.value);w.reset()}fire(w){var E,I,N,R;if(!((E=this._deliveryQueue)===null||E===void 0)&&E.current&&(this._deliverQueue(this._deliveryQueue),(I=this._perfMon)===null||I===void 0||I.stop()),(N=this._perfMon)===null||N===void 0||N.start(this._size),this._listeners)if(this._listeners instanceof t)this._deliver(this._listeners,w);else{const F=this._deliveryQueue;F.enqueue(this,w,this._listeners.length),this._deliverQueue(F)}(R=this._perfMon)===null||R===void 0||R.stop()}hasListeners(){return this._size>0}}e.Emitter=h;const l=()=>new c;e.createEventDeliveryQueue=l;class c{constructor(){this.i=-1,this.end=0}enqueue(w,E,I){this.i=0,this.end=I,this.current=w,this.value=E}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class o extends h{constructor(w){super(w),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=w?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(w){this._size&&(this._isPaused!==0?this._eventQueue.push(w):super.fire(w))}}e.PauseableEmitter=o;class d extends o{constructor(w){var E;super(w),this._delay=(E=w.delay)!==null&&E!==void 0?E:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}e.DebounceEmitter=d;class r extends h{constructor(w){super(w),this._queuedEvents=[],this._mergeFn=w?.merge}fire(w){this.hasListeners()&&(this._queuedEvents.push(w),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(E=>super.fire(E)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=r;class g{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new h({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(w){const E={event:w,listener:null};this.events.push(E),this.hasListeners&&this.hook(E);const I=()=>{this.hasListeners&&this.unhook(E);const N=this.events.indexOf(E);this.events.splice(N,1)};return(0,y.toDisposable)((0,k.once)(I))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(w=>this.hook(w))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(w=>this.unhook(w))}hook(w){w.listener=w.event(E=>this.emitter.fire(E))}unhook(w){w.listener&&w.listener.dispose(),w.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=g;class f{constructor(){this.buffers=[]}wrapEvent(w){return(E,I,N)=>w(R=>{const F=this.buffers[this.buffers.length-1];F?F.push(()=>E.call(I,R)):E.call(I,R)},void 0,N)}bufferEvents(w){const E=[];this.buffers.push(E);const I=w();return this.buffers.pop(),E.forEach(N=>N()),I}}e.EventBufferer=f;class p{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=y.Disposable.None,this.emitter=new h({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=p}),define(ee[51],te([1,0,6,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}y.INSTANCE=new y;class D extends k.Disposable{constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(t){var a;(a=this._mediaQueryList)===null||a===void 0||a.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class S extends k.Disposable{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const t=this._register(new D);this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const t=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,u=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return a/u}}class m{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,k.markAsSingleton)(new S)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function _(i,t){typeof i=="string"&&(i=window.matchMedia(i)),i.addEventListener("change",t)}e.addMatchMediaChangeListener=_,e.PixelRatio=new m;function v(){return y.INSTANCE.getZoomFactor()}e.getZoomFactor=v;const C=navigator.userAgent;e.isFirefox=C.indexOf("Firefox")>=0,e.isWebKit=C.indexOf("AppleWebKit")>=0,e.isChrome=C.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&C.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=C.indexOf("Electron/")>=0,e.isAndroid=C.indexOf("Android")>=0;let s=!1;if(window.matchMedia){const i=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=window.matchMedia("(display-mode: fullscreen)");s=i.matches,_(i,({matches:a})=>{s&&t.matches||(s=a)})}function n(){return s}e.isStandalone=n}),define(ee[79],te([1,0,6]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,S,m){const _=v=>this.emitter.fire(v);this.emitter=new L.Emitter({onWillAddFirstListener:()=>D.addEventListener(S,_,m),onDidRemoveLastListener:()=>D.removeEventListener(S,_,m)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(ee[19],te([1,0,6]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(m,_){const v=setTimeout(m.bind(_),0);return{dispose(){clearTimeout(v)}}});var y;(function(m){function _(v){return v===m.None||v===m.Cancelled||v instanceof D?!0:!v||typeof v!="object"?!1:typeof v.isCancellationRequested=="boolean"&&typeof v.onCancellationRequested=="function"}m.isCancellationToken=_,m.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:L.Event.None}),m.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(y||(e.CancellationToken=y={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new L.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(_){this._token=void 0,this._parentListener=void 0,this._parentListener=_&&_.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=y.Cancelled}dispose(_=!1){var v;_&&this.cancel(),(v=this._parentListener)===null||v===void 0||v.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=y.None}}e.CancellationTokenSource=S}),define(ee[262],te([1,0,6]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(ee[167],te([1,0,6,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class y{constructor(i,t,a,u,h,l,c){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,a=a|0,u=u|0,h=h|0,l=l|0,c=c|0),this.rawScrollLeft=u,this.rawScrollTop=c,t<0&&(t=0),u+t>a&&(u=a-t),u<0&&(u=0),h<0&&(h=0),c+h>l&&(c=l-h),c<0&&(c=0),this.width=t,this.scrollWidth=a,this.scrollLeft=u,this.height=h,this.scrollHeight=l,this.scrollTop=c}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,t){return new y(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new y(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,t){const a=this.width!==i.width,u=this.scrollWidth!==i.scrollWidth,h=this.scrollLeft!==i.scrollLeft,l=this.height!==i.height,c=this.scrollHeight!==i.scrollHeight,o=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:t,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:a,scrollWidthChanged:u,scrollLeftChanged:h,heightChanged:l,scrollHeightChanged:c,scrollTopChanged:o}}}e.ScrollState=y;class D extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new L.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new y(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,t){var a;const u=this._state.withScrollDimensions(i,t);this._setState(u,!!this._smoothScrolling),(a=this._smoothScrolling)===null||a===void 0||a.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const t=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(i,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const a=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===a.scrollLeft&&this._smoothScrolling.to.scrollTop===a.scrollTop)return;let u;t?u=new v(this._smoothScrolling.from,a,this._smoothScrolling.startTime,this._smoothScrolling.duration):u=this._smoothScrolling.combine(this._state,a,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=u}else{const a=this._state.withScrollPosition(i);this._smoothScrolling=v.start(this._state,a,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),t=this._state.withScrollPosition(i);if(this._setState(t,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,t){const a=this._state;a.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(a,t)))}}e.Scrollable=D;class S{constructor(i,t,a){this.scrollLeft=i,this.scrollTop=t,this.isDone=a}}e.SmoothScrollingUpdate=S;function m(n,i){const t=i-n;return function(a){return n+t*s(a)}}function _(n,i,t){return function(a){return a<t?n(a/t):i((a-t)/(1-t))}}class v{constructor(i,t,a,u){this.from=i,this.to=t,this.duration=u,this.startTime=a,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,t,a){if(Math.abs(i-t)>2.5*a){let h,l;return i<t?(h=i+.75*a,l=t-.75*a):(h=i-.75*a,l=t+.75*a),_(m(i,h),m(l,t),.33)}return m(i,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const t=(i-this.startTime)/this.duration;if(t<1){const a=this.scrollLeft(t),u=this.scrollTop(t);return new S(a,u,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,t,a){return v.start(i,t,a)}static start(i,t,a){a=a+10;const u=Date.now()-10;return new v(i,t,u,a)}}e.SmoothScrollingOperation=v;function C(n){return Math.pow(n,3)}function s(n){return 1-C(1-n)}}),define(ee[10],te([1,0,260,98]),function(G,e,L,k){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(j){return!j||typeof j!="string"?!0:j.trim().length===0}e.isFalsyOrWhitespace=D;const S=/{(\d+)}/g;function m(j,...re){return re.length===0?j:j.replace(S,function(se,ue){const me=parseInt(ue,10);return isNaN(me)||me<0||me>=re.length?se:re[me]})}e.format=m;function _(j){return j.replace(/[<>&]/g,function(re){switch(re){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return re}})}e.escape=_;function v(j){return j.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=v;function C(j,re=" "){const se=s(j,re);return n(se,re)}e.trim=C;function s(j,re){if(!j||!re)return j;const se=re.length;if(se===0||j.length===0)return j;let ue=0;for(;j.indexOf(re,ue)===ue;)ue=ue+se;return j.substring(ue)}e.ltrim=s;function n(j,re){if(!j||!re)return j;const se=re.length,ue=j.length;if(se===0||ue===0)return j;let me=ue,ve=-1;for(;ve=j.lastIndexOf(re,me-1),!(ve===-1||ve+se!==me);){if(ve===0)return"";me=ve}return j.substring(0,me)}e.rtrim=n;function i(j){return j.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=i;function t(j){return j.replace(/\*/g,"")}e.stripWildcards=t;function a(j,re,se={}){if(!j)throw new Error("Cannot create regex from empty string");re||(j=v(j)),se.wholeWord&&(/\B/.test(j.charAt(0))||(j="\\b"+j),/\B/.test(j.charAt(j.length-1))||(j=j+"\\b"));let ue="";return se.global&&(ue+="g"),se.matchCase||(ue+="i"),se.multiline&&(ue+="m"),se.unicode&&(ue+="u"),new RegExp(j,ue)}e.createRegExp=a;function u(j){return j.source==="^"||j.source==="^$"||j.source==="$"||j.source==="^\\s*$"?!1:!!(j.exec("")&&j.lastIndex===0)}e.regExpLeadsToEndlessLoop=u;function h(j){return j.split(/\r\n|\r|\n/)}e.splitLines=h;function l(j){for(let re=0,se=j.length;re<se;re++){const ue=j.charCodeAt(re);if(ue!==32&&ue!==9)return re}return-1}e.firstNonWhitespaceIndex=l;function c(j,re=0,se=j.length){for(let ue=re;ue<se;ue++){const me=j.charCodeAt(ue);if(me!==32&&me!==9)return j.substring(re,ue)}return j.substring(re,se)}e.getLeadingWhitespace=c;function o(j,re=j.length-1){for(let se=re;se>=0;se--){const ue=j.charCodeAt(se);if(ue!==32&&ue!==9)return se}return-1}e.lastNonWhitespaceIndex=o;function d(j,re){return j<re?-1:j>re?1:0}e.compare=d;function r(j,re,se=0,ue=j.length,me=0,ve=re.length){for(;se<ue&&me<ve;se++,me++){const Le=j.charCodeAt(se),Ee=re.charCodeAt(me);if(Le<Ee)return-1;if(Le>Ee)return 1}const Ce=ue-se,we=ve-me;return Ce<we?-1:Ce>we?1:0}e.compareSubstring=r;function g(j,re){return f(j,re,0,j.length,0,re.length)}e.compareIgnoreCase=g;function f(j,re,se=0,ue=j.length,me=0,ve=re.length){for(;se<ue&&me<ve;se++,me++){let Le=j.charCodeAt(se),Ee=re.charCodeAt(me);if(Le===Ee)continue;if(Le>=128||Ee>=128)return r(j.toLowerCase(),re.toLowerCase(),se,ue,me,ve);b(Le)&&(Le-=32),b(Ee)&&(Ee-=32);const Ne=Le-Ee;if(Ne!==0)return Ne}const Ce=ue-se,we=ve-me;return Ce<we?-1:Ce>we?1:0}e.compareSubstringIgnoreCase=f;function p(j){return j>=48&&j<=57}e.isAsciiDigit=p;function b(j){return j>=97&&j<=122}e.isLowerAsciiLetter=b;function w(j){return j>=65&&j<=90}e.isUpperAsciiLetter=w;function E(j,re){return j.length===re.length&&f(j,re)===0}e.equalsIgnoreCase=E;function I(j,re){const se=re.length;return re.length>j.length?!1:f(j,re,0,se)===0}e.startsWithIgnoreCase=I;function N(j,re){const se=Math.min(j.length,re.length);let ue;for(ue=0;ue<se;ue++)if(j.charCodeAt(ue)!==re.charCodeAt(ue))return ue;return se}e.commonPrefixLength=N;function R(j,re){const se=Math.min(j.length,re.length);let ue;const me=j.length-1,ve=re.length-1;for(ue=0;ue<se;ue++)if(j.charCodeAt(me-ue)!==re.charCodeAt(ve-ue))return ue;return se}e.commonSuffixLength=R;function F(j){return 55296<=j&&j<=56319}e.isHighSurrogate=F;function M(j){return 56320<=j&&j<=57343}e.isLowSurrogate=M;function A(j,re){return(j-55296<<10)+(re-56320)+65536}e.computeCodePoint=A;function T(j,re,se){const ue=j.charCodeAt(se);if(F(ue)&&se+1<re){const me=j.charCodeAt(se+1);if(M(me))return A(ue,me)}return ue}e.getNextCodePoint=T;function O(j,re){const se=j.charCodeAt(re-1);if(M(se)&&re>1){const ue=j.charCodeAt(re-2);if(F(ue))return A(ue,se)}return se}class P{get offset(){return this._offset}constructor(re,se=0){this._str=re,this._len=re.length,this._offset=se}setOffset(re){this._offset=re}prevCodePoint(){const re=O(this._str,this._offset);return this._offset-=re>=65536?2:1,re}nextCodePoint(){const re=T(this._str,this._len,this._offset);return this._offset+=re>=65536?2:1,re}eol(){return this._offset>=this._len}}e.CodePointIterator=P;class x{get offset(){return this._iterator.offset}constructor(re,se=0){this._iterator=new P(re,se)}nextGraphemeLength(){const re=de.getInstance(),se=this._iterator,ue=se.offset;let me=re.getGraphemeBreakType(se.nextCodePoint());for(;!se.eol();){const ve=se.offset,Ce=re.getGraphemeBreakType(se.nextCodePoint());if(he(me,Ce)){se.setOffset(ve);break}me=Ce}return se.offset-ue}prevGraphemeLength(){const re=de.getInstance(),se=this._iterator,ue=se.offset;let me=re.getGraphemeBreakType(se.prevCodePoint());for(;se.offset>0;){const ve=se.offset,Ce=re.getGraphemeBreakType(se.prevCodePoint());if(he(Ce,me)){se.setOffset(ve);break}me=Ce}return ue-se.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=x;function z(j,re){return new x(j,re).nextGraphemeLength()}e.nextCharLength=z;function q(j,re){return new x(j,re).prevGraphemeLength()}e.prevCharLength=q;function B(j,re){re>0&&M(j.charCodeAt(re))&&re--;const se=re+z(j,re);return[se-q(j,se),se]}e.getCharContainingOffset=B;let $;function X(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function ne(j){return $||($=X()),$.test(j)}e.containsRTL=ne;const oe=/^[\t\n\r\x20-\x7E]*$/;function Y(j){return oe.test(j)}e.isBasicASCII=Y,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function U(j){return e.UNUSUAL_LINE_TERMINATORS.test(j)}e.containsUnusualLineTerminators=U;function W(j){return j>=11904&&j<=55215||j>=63744&&j<=64255||j>=65281&&j<=65374}e.isFullWidthCharacter=W;function V(j){return j>=127462&&j<=127487||j===8986||j===8987||j===9200||j===9203||j>=9728&&j<=10175||j===11088||j===11093||j>=127744&&j<=128591||j>=128640&&j<=128764||j>=128992&&j<=129008||j>=129280&&j<=129535||j>=129648&&j<=129782}e.isEmojiImprecise=V,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Z(j){return!!(j&&j.length>0&&j.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Z;function ie(j,re=!1){return j?(re&&(j=j.replace(/\\./g,"")),j.toLowerCase()!==j):!1}e.containsUppercaseCharacter=ie;function le(j){return j=j%(2*26),j<26?String.fromCharCode(97+j):String.fromCharCode(65+j-26)}e.singleLetterHash=le;function he(j,re){return j===0?re!==5&&re!==7:j===2&&re===3?!1:j===4||j===2||j===3||re===4||re===2||re===3?!0:!(j===8&&(re===8||re===9||re===11||re===12)||(j===11||j===9)&&(re===9||re===10)||(j===12||j===10)&&re===10||re===5||re===13||re===7||j===1||j===13&&re===14||j===6&&re===6)}class de{static getInstance(){return de._INSTANCE||(de._INSTANCE=new de),de._INSTANCE}constructor(){this._data=ce()}getGraphemeBreakType(re){if(re<32)return re===10?3:re===13?2:4;if(re<127)return 0;const se=this._data,ue=se.length/3;let me=1;for(;me<=ue;)if(re<se[3*me])me=2*me;else if(re>se[3*me+1])me=2*me+1;else return se[3*me+2];return 0}}de._INSTANCE=null;function ce(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ae(j,re){if(j===0)return 0;const se=J(j,re);if(se!==void 0)return se;const ue=new P(re,j);return ue.prevCodePoint(),ue.offset}e.getLeftDeleteOffset=ae;function J(j,re){const se=new P(re,j);let ue=se.prevCodePoint();for(;K(ue)||ue===65039||ue===8419;){if(se.offset===0)return;ue=se.prevCodePoint()}if(!V(ue))return;let me=se.offset;return me>0&&se.prevCodePoint()===8205&&(me=se.offset),me}function K(j){return 127995<=j&&j<=127999}e.noBreakWhitespace="\xA0";class H{static getInstance(re){return y.cache.get(Array.from(re))}static getLocales(){return y._locales.value}constructor(re){this.confusableDictionary=re}isAmbiguous(re){return this.confusableDictionary.has(re)}getPrimaryConfusable(re){return this.confusableDictionary.get(re)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=H,y=H,H.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),H.cache=new L.LRUCachedFunction(j=>{function re(Ee){const Ne=new Map;for(let Ae=0;Ae<Ee.length;Ae+=2)Ne.set(Ee[Ae],Ee[Ae+1]);return Ne}function se(Ee,Ne){const Ae=new Map(Ee);for(const[Re,ye]of Ne)Ae.set(Re,ye);return Ae}function ue(Ee,Ne){if(!Ee)return Ne;const Ae=new Map;for(const[Re,ye]of Ee)Ne.has(Re)&&Ae.set(Re,ye);return Ae}const me=y.ambiguousCharacterData.value;let ve=j.filter(Ee=>!Ee.startsWith("_")&&Ee in me);ve.length===0&&(ve=["_default"]);let Ce;for(const Ee of ve){const Ne=re(me[Ee]);Ce=ue(Ce,Ne)}const we=re(me._common),Le=se(we,Ce);return new y(Le)}),H._locales=new k.Lazy(()=>Object.keys(y.ambiguousCharacterData.value).filter(j=>!j.startsWith("_")));class Q{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Q.getRawData())),this._data}static isInvisibleCharacter(re){return Q.getData().has(re)}static get codePoints(){return Q.getData()}}e.InvisibleCharacters=Q,Q._data=void 0}),define(ee[68],te([1,0,63,10]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function y(...K){return function(H,Q){for(let j=0,re=K.length;j<re;j++){const se=K[j](H,Q);if(se)return se}return null}}e.or=y,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(K,H,Q){if(!Q||Q.length<H.length)return null;let j;return K?j=k.startsWithIgnoreCase(Q,H):j=Q.indexOf(H)===0,j?H.length>0?[{start:0,end:H.length}]:[]:null}function S(K,H){const Q=H.toLowerCase().indexOf(K.toLowerCase());return Q===-1?null:[{start:Q,end:Q+K.length}]}e.matchesContiguousSubString=S;function m(K,H){return _(K.toLowerCase(),H.toLowerCase(),0,0)}e.matchesSubString=m;function _(K,H,Q,j){if(Q===K.length)return[];if(j===H.length)return null;if(K[Q]===H[j]){let re=null;return(re=_(K,H,Q+1,j+1))?h({start:j,end:j+1},re):null}return _(K,H,Q,j+1)}function v(K){return 97<=K&&K<=122}function C(K){return 65<=K&&K<=90}e.isUpper=C;function s(K){return 48<=K&&K<=57}function n(K){return K===32||K===9||K===10||K===13}const i=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(K=>i.add(K.charCodeAt(0)));function t(K){return n(K)||i.has(K)}function a(K,H){return K===H||t(K)&&t(H)}function u(K){return v(K)||C(K)||s(K)}function h(K,H){return H.length===0?H=[K]:K.end===H[0].start?H[0].start=K.start:H.unshift(K),H}function l(K,H){for(let Q=H;Q<K.length;Q++){const j=K.charCodeAt(Q);if(C(j)||s(j)||Q>0&&!u(K.charCodeAt(Q-1)))return Q}return K.length}function c(K,H,Q,j){if(Q===K.length)return[];if(j===H.length)return null;if(K[Q]!==H[j].toLowerCase())return null;{let re=null,se=j+1;for(re=c(K,H,Q+1,j+1);!re&&(se=l(H,se))<H.length;)re=c(K,H,Q+1,se),se++;return re===null?null:h({start:j,end:j+1},re)}}function o(K){let H=0,Q=0,j=0,re=0,se=0;for(let we=0;we<K.length;we++)se=K.charCodeAt(we),C(se)&&H++,v(se)&&Q++,u(se)&&j++,s(se)&&re++;const ue=H/K.length,me=Q/K.length,ve=j/K.length,Ce=re/K.length;return{upperPercent:ue,lowerPercent:me,alphaPercent:ve,numericPercent:Ce}}function d(K){const{upperPercent:H,lowerPercent:Q}=K;return Q===0&&H>.6}function r(K){const{upperPercent:H,lowerPercent:Q,alphaPercent:j,numericPercent:re}=K;return Q>.2&&H<.8&&j>.6&&re<.2}function g(K){let H=0,Q=0,j=0,re=0;for(let se=0;se<K.length;se++)j=K.charCodeAt(se),C(j)&&H++,v(j)&&Q++,n(j)&&re++;return(H===0||Q===0)&&re===0?K.length<=30:H<=5}function f(K,H){if(!H||(H=H.trim(),H.length===0)||!g(K)||H.length>60)return null;const Q=o(H);if(!r(Q)){if(!d(Q))return null;H=H.toLowerCase()}let j=null,re=0;for(K=K.toLowerCase();re<H.length&&(j=c(K,H,0,re))===null;)re=l(H,re+1);return j}e.matchesCamelCase=f;function p(K,H,Q=!1){if(!H||H.length===0)return null;let j=null,re=0;for(K=K.toLowerCase(),H=H.toLowerCase();re<H.length&&(j=b(K,H,0,re,Q))===null;)re=w(H,re+1);return j}e.matchesWords=p;function b(K,H,Q,j,re){if(Q===K.length)return[];if(j===H.length)return null;if(a(K.charCodeAt(Q),H.charCodeAt(j))){let se=null,ue=j+1;if(se=b(K,H,Q+1,j+1,re),!re)for(;!se&&(ue=w(H,ue))<H.length;)se=b(K,H,Q+1,ue,re),ue++;return se?K.charCodeAt(Q)!==H.charCodeAt(j)?se:h({start:j,end:j+1},se):null}else return null}function w(K,H){for(let Q=H;Q<K.length;Q++)if(t(K.charCodeAt(Q))||Q>0&&t(K.charCodeAt(Q-1)))return Q;return K.length}const E=y(e.matchesPrefix,f,S),I=y(e.matchesPrefix,f,m),N=new L.LRUCache(1e4);function R(K,H,Q=!1){if(typeof K!="string"||typeof H!="string")return null;let j=N.get(K);j||(j=new RegExp(k.convertSimple2RegExpPattern(K),"i"),N.set(K,j));const re=j.exec(H);return re?[{start:re.index,end:re.index+re[0].length}]:Q?I(K,H):E(K,H)}e.matchesFuzzy=R;function F(K,H){const Q=le(K,K.toLowerCase(),0,H,H.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Q?A(Q):null}e.matchesFuzzy2=F;function M(K,H,Q,j,re,se){const ue=Math.min(13,K.length);for(;Q<ue;Q++){const me=le(K,H,Q,j,re,se,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(me)return me}return[0,se]}e.anyScore=M;function A(K){if(typeof K>"u")return[];const H=[],Q=K[1];for(let j=K.length-1;j>1;j--){const re=K[j]+Q,se=H[H.length-1];se&&se.end===re?se.end=re+1:H.push({start:re,end:re+1})}return H}e.createMatches=A;const T=128;function O(){const K=[],H=[];for(let Q=0;Q<=T;Q++)H[Q]=0;for(let Q=0;Q<=T;Q++)K.push(H.slice(0));return K}function P(K){const H=[];for(let Q=0;Q<=K;Q++)H[Q]=0;return H}const x=P(2*T),z=P(2*T),q=O(),B=O(),$=O(),X=!1;function ne(K,H,Q,j,re){function se(me,ve,Ce=" "){for(;me.length<ve;)me=Ce+me;return me}let ue=` |   |${j.split("").map(me=>se(me,3)).join("|")}
`;for(let me=0;me<=Q;me++)me===0?ue+=" |":ue+=`${H[me-1]}|`,ue+=K[me].slice(0,re+1).map(ve=>se(ve.toString(),3)).join("|")+`
`;return ue}function oe(K,H,Q,j){K=K.substr(H),Q=Q.substr(j),console.log(ne(B,K,K.length,Q,Q.length)),console.log(ne($,K,K.length,Q,Q.length)),console.log(ne(q,K,K.length,Q,Q.length))}function Y(K,H){if(H<0||H>=K.length)return!1;const Q=K.codePointAt(H);switch(Q){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(Q)}}function U(K,H){if(H<0||H>=K.length)return!1;switch(K.charCodeAt(H)){case 32:case 9:return!0;default:return!1}}function W(K,H,Q){return H[K]!==Q[K]}function V(K,H,Q,j,re,se,ue=!1){for(;H<Q&&re<se;)K[H]===j[re]&&(ue&&(x[H]=re),H+=1),re+=1;return H===Q}e.isPatternInWord=V;var Z;(function(K){K.Default=[-100,0];function H(Q){return!Q||Q.length===2&&Q[0]===-100&&Q[1]===0}K.isDefault=H})(Z||(e.FuzzyScore=Z={}));class ie{constructor(H,Q){this.firstMatchCanBeWeak=H,this.boostFullMatch=Q}}e.FuzzyScoreOptions=ie,ie.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function le(K,H,Q,j,re,se,ue=ie.default){const me=K.length>T?T:K.length,ve=j.length>T?T:j.length;if(Q>=me||se>=ve||me-Q>ve-se||!V(H,Q,me,re,se,ve,!0))return;he(me,ve,Q,se,H,re);let Ce=1,we=1,Le=Q,Ee=se;const Ne=[!1];for(Ce=1,Le=Q;Le<me;Ce++,Le++){const fe=x[Le],_e=z[Le],pe=Le+1<me?z[Le+1]:ve;for(we=fe-se+1,Ee=fe;Ee<pe;we++,Ee++){let be=Number.MIN_SAFE_INTEGER,ke=!1;Ee<=_e&&(be=de(K,H,Le,Q,j,re,Ee,ve,se,q[Ce-1][we-1]===0,Ne));let Pe=0;be!==Number.MAX_SAFE_INTEGER&&(ke=!0,Pe=be+B[Ce-1][we-1]);const Fe=Ee>fe,Ue=Fe?B[Ce][we-1]+(q[Ce][we-1]>0?-5:0):0,qe=Ee>fe+1&&q[Ce][we-1]>0,je=qe?B[Ce][we-2]+(q[Ce][we-2]>0?-5:0):0;if(qe&&(!Fe||je>=Ue)&&(!ke||je>=Pe))B[Ce][we]=je,$[Ce][we]=3,q[Ce][we]=0;else if(Fe&&(!ke||Ue>=Pe))B[Ce][we]=Ue,$[Ce][we]=2,q[Ce][we]=0;else if(ke)B[Ce][we]=Pe,$[Ce][we]=1,q[Ce][we]=q[Ce-1][we-1]+1;else throw new Error("not possible")}}if(X&&oe(K,Q,j,se),!Ne[0]&&!ue.firstMatchCanBeWeak)return;Ce--,we--;const Ae=[B[Ce][we],se];let Re=0,ye=0;for(;Ce>=1;){let fe=we;do{const _e=$[Ce][fe];if(_e===3)fe=fe-2;else if(_e===2)fe=fe-1;else break}while(fe>=1);Re>1&&H[Q+Ce-1]===re[se+we-1]&&!W(fe+se-1,j,re)&&Re+1>q[Ce][fe]&&(fe=we),fe===we?Re++:Re=1,ye||(ye=fe),Ce--,we=fe-1,Ae.push(we)}ve===me&&ue.boostFullMatch&&(Ae[0]+=2);const De=ye-me;return Ae[0]-=De,Ae}e.fuzzyScore=le;function he(K,H,Q,j,re,se){let ue=K-1,me=H-1;for(;ue>=Q&&me>=j;)re[ue]===se[me]&&(z[ue]=me,ue--),me--}function de(K,H,Q,j,re,se,ue,me,ve,Ce,we){if(H[Q]!==se[ue])return Number.MIN_SAFE_INTEGER;let Le=1,Ee=!1;return ue===Q-j?Le=K[Q]===re[ue]?7:5:W(ue,re,se)&&(ue===0||!W(ue-1,re,se))?(Le=K[Q]===re[ue]?7:5,Ee=!0):Y(se,ue)&&(ue===0||!Y(se,ue-1))?Le=5:(Y(se,ue-1)||U(se,ue-1))&&(Le=5,Ee=!0),Le>1&&Q===j&&(we[0]=!0),Ee||(Ee=W(ue,re,se)||Y(se,ue-1)||U(se,ue-1)),Q===j?ue>ve&&(Le-=Ee?3:5):Ce?Le+=Ee?2:0:Le+=Ee?0:1,ue+1===me&&(Le-=Ee?3:5),Le}function ce(K,H,Q,j,re,se,ue){return ae(K,H,Q,j,re,se,!0,ue)}e.fuzzyScoreGracefulAggressive=ce;function ae(K,H,Q,j,re,se,ue,me){let ve=le(K,H,Q,j,re,se,me);if(ve&&!ue)return ve;if(K.length>=3){const Ce=Math.min(7,K.length-1);for(let we=Q+1;we<Ce;we++){const Le=J(K,we);if(Le){const Ee=le(Le,Le.toLowerCase(),Q,j,re,se,me);Ee&&(Ee[0]-=3,(!ve||Ee[0]>ve[0])&&(ve=Ee))}}}return ve}function J(K,H){if(H+1>=K.length)return;const Q=K[H],j=K[H+1];if(Q!==j)return K.slice(0,H)+j+Q+K.slice(H+2)}}),define(ee[141],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function k(a){return y(a,0)}e.hash=k;function y(a,u){switch(typeof a){case"object":return a===null?D(349,u):Array.isArray(a)?_(a,u):v(a,u);case"string":return m(a,u);case"boolean":return S(a,u);case"number":return D(a,u);case"undefined":return D(937,u);default:return D(617,u)}}e.doHash=y;function D(a,u){return(u<<5)-u+a|0}e.numberHash=D;function S(a,u){return D(a?433:863,u)}function m(a,u){u=D(149417,u);for(let h=0,l=a.length;h<l;h++)u=D(a.charCodeAt(h),u);return u}e.stringHash=m;function _(a,u){return u=D(104579,u),a.reduce((h,l)=>y(l,h),u)}function v(a,u){return u=D(181387,u),Object.keys(a).sort().reduce((h,l)=>(h=m(l,h),y(a[l],h)),u)}function C(a,u,h=32){const l=h-u,c=~((1<<l)-1);return(a<<u|(c&a)>>>l)>>>0}function s(a,u=0,h=a.byteLength,l=0){for(let c=0;c<h;c++)a[u+c]=l}function n(a,u,h="0"){for(;a.length<u;)a=h+a;return a}function i(a,u=32){return a instanceof ArrayBuffer?Array.from(new Uint8Array(a)).map(h=>h.toString(16).padStart(2,"0")).join(""):n((a>>>0).toString(16),u/4)}e.toHexString=i;class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(u){const h=u.length;if(h===0)return;const l=this._buff;let c=this._buffLen,o=this._leftoverHighSurrogate,d,r;for(o!==0?(d=o,r=-1,o=0):(d=u.charCodeAt(0),r=0);;){let g=d;if(L.isHighSurrogate(d))if(r+1<h){const f=u.charCodeAt(r+1);L.isLowSurrogate(f)?(r++,g=L.computeCodePoint(d,f)):g=65533}else{o=d;break}else L.isLowSurrogate(d)&&(g=65533);if(c=this._push(l,c,g),r++,r<h)d=u.charCodeAt(r);else break}this._buffLen=c,this._leftoverHighSurrogate=o}_push(u,h,l){return l<128?u[h++]=l:l<2048?(u[h++]=192|(l&1984)>>>6,u[h++]=128|(l&63)>>>0):l<65536?(u[h++]=224|(l&61440)>>>12,u[h++]=128|(l&4032)>>>6,u[h++]=128|(l&63)>>>0):(u[h++]=240|(l&1835008)>>>18,u[h++]=128|(l&258048)>>>12,u[h++]=128|(l&4032)>>>6,u[h++]=128|(l&63)>>>0),h>=64&&(this._step(),h-=64,this._totalLen+=64,u[0]=u[64+0],u[1]=u[64+1],u[2]=u[64+2]),h}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const u=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(u/4294967296),!1),this._buffDV.setUint32(60,u%4294967296,!1),this._step()}_step(){const u=t._bigBlock32,h=this._buffDV;for(let b=0;b<64;b+=4)u.setUint32(b,h.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)u.setUint32(b,C(u.getUint32(b-12,!1)^u.getUint32(b-32,!1)^u.getUint32(b-56,!1)^u.getUint32(b-64,!1),1),!1);let l=this._h0,c=this._h1,o=this._h2,d=this._h3,r=this._h4,g,f,p;for(let b=0;b<80;b++)b<20?(g=c&o|~c&d,f=1518500249):b<40?(g=c^o^d,f=1859775393):b<60?(g=c&o|c&d|o&d,f=2400959708):(g=c^o^d,f=3395469782),p=C(l,5)+g+r+f+u.getUint32(b*4,!1)&4294967295,r=d,d=o,o=C(c,30),c=l,l=p;this._h0=this._h0+l&4294967295,this._h1=this._h1+c&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+d&4294967295,this._h4=this._h4+r&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ee[168],te([1,0,386,141]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class y{constructor(s){this.source=s}getElements(){const s=this.source,n=new Int32Array(s.length);for(let i=0,t=s.length;i<t;i++)n[i]=s.charCodeAt(i);return n}}e.StringDiffSequence=y;function D(C,s,n){return new v(new y(C),new y(s)).ComputeDiff(n).changes}e.stringDiff=D;class S{static Assert(s,n){if(!s)throw new Error(n)}}class m{static Copy(s,n,i,t,a){for(let u=0;u<a;u++)i[t+u]=s[n+u]}static Copy2(s,n,i,t,a){for(let u=0;u<a;u++)i[t+u]=s[n+u]}}class _{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,n){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(s,n){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class v{constructor(s,n,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=s,this._modifiedSequence=n;const[t,a,u]=v._getElements(s),[h,l,c]=v._getElements(n);this._hasStrings=u&&c,this._originalStringElements=t,this._originalElementsOrHash=a,this._modifiedStringElements=h,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const n=s.getElements();if(v._isStringArray(n)){const i=new Int32Array(n.length);for(let t=0,a=n.length;t<a;t++)i[t]=(0,k.stringHash)(n[t],0);return[n,i,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(s,n){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(s,n){if(!this.ElementsAreEqual(s,n))return!1;const i=v._getStrictElement(this._originalSequence,s),t=v._getStrictElement(this._modifiedSequence,n);return i===t}static _getStrictElement(s,n){return typeof s.getStrictElement=="function"?s.getStrictElement(n):null}OriginalElementsAreEqual(s,n){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(s,n){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[n]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,n,i,t,a){const u=[!1];let h=this.ComputeDiffRecursive(s,n,i,t,u);return a&&(h=this.PrettifyChanges(h)),{quitEarly:u[0],changes:h}}ComputeDiffRecursive(s,n,i,t,a){for(a[0]=!1;s<=n&&i<=t&&this.ElementsAreEqual(s,i);)s++,i++;for(;n>=s&&t>=i&&this.ElementsAreEqual(n,t);)n--,t--;if(s>n||i>t){let d;return i<=t?(S.Assert(s===n+1,"originalStart should only be one more than originalEnd"),d=[new L.DiffChange(s,0,i,t-i+1)]):s<=n?(S.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),d=[new L.DiffChange(s,n-s+1,i,0)]):(S.Assert(s===n+1,"originalStart should only be one more than originalEnd"),S.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const u=[0],h=[0],l=this.ComputeRecursionPoint(s,n,i,t,u,h,a),c=u[0],o=h[0];if(l!==null)return l;if(!a[0]){const d=this.ComputeDiffRecursive(s,c,i,o,a);let r=[];return a[0]?r=[new L.DiffChange(c+1,n-(c+1)+1,o+1,t-(o+1)+1)]:r=this.ComputeDiffRecursive(c+1,n,o+1,t,a),this.ConcatenateChanges(d,r)}return[new L.DiffChange(s,n-s+1,i,t-i+1)]}WALKTRACE(s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E){let I=null,N=null,R=new _,F=n,M=i,A=g[0]-b[0]-t,T=-1073741824,O=this.m_forwardHistory.length-1;do{const P=A+s;P===F||P<M&&c[P-1]<c[P+1]?(d=c[P+1],f=d-A-t,d<T&&R.MarkNextChange(),T=d,R.AddModifiedElement(d+1,f),A=P+1-s):(d=c[P-1]+1,f=d-A-t,d<T&&R.MarkNextChange(),T=d-1,R.AddOriginalElement(d,f+1),A=P-1-s),O>=0&&(c=this.m_forwardHistory[O],s=c[0],F=1,M=c.length-1)}while(--O>=-1);if(I=R.getReverseChanges(),E[0]){let P=g[0]+1,x=b[0]+1;if(I!==null&&I.length>0){const z=I[I.length-1];P=Math.max(P,z.getOriginalEnd()),x=Math.max(x,z.getModifiedEnd())}N=[new L.DiffChange(P,r-P+1,x,p-x+1)]}else{R=new _,F=u,M=h,A=g[0]-b[0]-l,T=1073741824,O=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const P=A+a;P===F||P<M&&o[P-1]>=o[P+1]?(d=o[P+1]-1,f=d-A-l,d>T&&R.MarkNextChange(),T=d+1,R.AddOriginalElement(d+1,f+1),A=P+1-a):(d=o[P-1],f=d-A-l,d>T&&R.MarkNextChange(),T=d,R.AddModifiedElement(d+1,f+1),A=P-1-a),O>=0&&(o=this.m_reverseHistory[O],a=o[0],F=1,M=o.length-1)}while(--O>=-1);N=R.getChanges()}return this.ConcatenateChanges(I,N)}ComputeRecursionPoint(s,n,i,t,a,u,h){let l=0,c=0,o=0,d=0,r=0,g=0;s--,i--,a[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=n-s+(t-i),p=f+1,b=new Int32Array(p),w=new Int32Array(p),E=t-i,I=n-s,N=s-i,R=n-t,M=(I-E)%2===0;b[E]=s,w[I]=n,h[0]=!1;for(let A=1;A<=f/2+1;A++){let T=0,O=0;o=this.ClipDiagonalBound(E-A,A,E,p),d=this.ClipDiagonalBound(E+A,A,E,p);for(let x=o;x<=d;x+=2){x===o||x<d&&b[x-1]<b[x+1]?l=b[x+1]:l=b[x-1]+1,c=l-(x-E)-N;const z=l;for(;l<n&&c<t&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(b[x]=l,l+c>T+O&&(T=l,O=c),!M&&Math.abs(x-I)<=A-1&&l>=w[x])return a[0]=l,u[0]=c,z<=w[x]&&1447>0&&A<=1447+1?this.WALKTRACE(E,o,d,N,I,r,g,R,b,w,l,n,a,c,t,u,M,h):null}const P=(T-s+(O-i)-A)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(T,P))return h[0]=!0,a[0]=T,u[0]=O,P>0&&1447>0&&A<=1447+1?this.WALKTRACE(E,o,d,N,I,r,g,R,b,w,l,n,a,c,t,u,M,h):(s++,i++,[new L.DiffChange(s,n-s+1,i,t-i+1)]);r=this.ClipDiagonalBound(I-A,A,I,p),g=this.ClipDiagonalBound(I+A,A,I,p);for(let x=r;x<=g;x+=2){x===r||x<g&&w[x-1]>=w[x+1]?l=w[x+1]-1:l=w[x-1],c=l-(x-I)-R;const z=l;for(;l>s&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(w[x]=l,M&&Math.abs(x-E)<=A&&l<=b[x])return a[0]=l,u[0]=c,z>=b[x]&&1447>0&&A<=1447+1?this.WALKTRACE(E,o,d,N,I,r,g,R,b,w,l,n,a,c,t,u,M,h):null}if(A<=1447){let x=new Int32Array(d-o+2);x[0]=E-o+1,m.Copy2(b,o,x,1,d-o+1),this.m_forwardHistory.push(x),x=new Int32Array(g-r+2),x[0]=I-r+1,m.Copy2(w,r,x,1,g-r+1),this.m_reverseHistory.push(x)}}return this.WALKTRACE(E,o,d,N,I,r,g,R,b,w,l,n,a,c,t,u,M,h)}PrettifyChanges(s){for(let n=0;n<s.length;n++){const i=s[n],t=n<s.length-1?s[n+1].originalStart:this._originalElementsOrHash.length,a=n<s.length-1?s[n+1].modifiedStart:this._modifiedElementsOrHash.length,u=i.originalLength>0,h=i.modifiedLength>0;for(;i.originalStart+i.originalLength<t&&i.modifiedStart+i.modifiedLength<a&&(!u||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!h||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(n<s.length-1&&this.ChangesOverlap(s[n],s[n+1],l)){s[n]=l[0],s.splice(n+1,1),n--;continue}}for(let n=s.length-1;n>=0;n--){const i=s[n];let t=0,a=0;if(n>0){const d=s[n-1];t=d.originalStart+d.originalLength,a=d.modifiedStart+d.modifiedLength}const u=i.originalLength>0,h=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let d=1;;d++){const r=i.originalStart-d,g=i.modifiedStart-d;if(r<t||g<a||u&&!this.OriginalElementsAreEqual(r,r+i.originalLength)||h&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const p=(r===t&&g===a?5:0)+this._boundaryScore(r,i.originalLength,g,i.modifiedLength);p>c&&(c=p,l=d)}i.originalStart-=l,i.modifiedStart-=l;const o=[null];if(n>0&&this.ChangesOverlap(s[n-1],s[n],o)){s[n-1]=o[0],s.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,i=s.length;n<i;n++){const t=s[n-1],a=s[n],u=a.originalStart-t.originalStart-t.originalLength,h=t.originalStart,l=a.originalStart+a.originalLength,c=l-h,o=t.modifiedStart,d=a.modifiedStart+a.modifiedLength,r=d-o;if(u<5&&c<20&&r<20){const g=this._findBetterContiguousSequence(h,c,o,r,u);if(g){const[f,p]=g;(f!==t.originalStart+t.originalLength||p!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=f-t.originalStart,t.modifiedLength=p-t.modifiedStart,a.originalStart=f+u,a.modifiedStart=p+u,a.originalLength=l-a.originalStart,a.modifiedLength=d-a.modifiedStart)}}}return s}_findBetterContiguousSequence(s,n,i,t,a){if(n<a||t<a)return null;const u=s+n-a+1,h=i+t-a+1;let l=0,c=0,o=0;for(let d=s;d<u;d++)for(let r=i;r<h;r++){const g=this._contiguousSequenceScore(d,r,a);g>0&&g>l&&(l=g,c=d,o=r)}return l>0?[c,o]:null}_contiguousSequenceScore(s,n,i){let t=0;for(let a=0;a<i;a++){if(!this.ElementsAreEqual(s+a,n+a))return 0;t+=this._originalStringElements[s+a].length}return t}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,n){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(n>0){const i=s+n;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,n){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(n>0){const i=s+n;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(s,n,i,t){const a=this._OriginalRegionIsBoundary(s,n)?1:0,u=this._ModifiedRegionIsBoundary(i,t)?1:0;return a+u}ConcatenateChanges(s,n){const i=[];if(s.length===0||n.length===0)return n.length>0?n:s;if(this.ChangesOverlap(s[s.length-1],n[0],i)){const t=new Array(s.length+n.length-1);return m.Copy(s,0,t,0,s.length-1),t[s.length-1]=i[0],m.Copy(n,1,t,s.length,n.length-1),t}else{const t=new Array(s.length+n.length);return m.Copy(s,0,t,0,s.length),m.Copy(n,0,t,s.length,n.length),t}}ChangesOverlap(s,n,i){if(S.Assert(s.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),S.Assert(s.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=n.originalStart||s.modifiedStart+s.modifiedLength>=n.modifiedStart){const t=s.originalStart;let a=s.originalLength;const u=s.modifiedStart;let h=s.modifiedLength;return s.originalStart+s.originalLength>=n.originalStart&&(a=n.originalStart+n.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=n.modifiedStart&&(h=n.modifiedStart+n.modifiedLength-s.modifiedStart),i[0]=new L.DiffChange(t,a,u,h),!0}else return i[0]=null,!1}ClipDiagonalBound(s,n,i,t){if(s>=0&&s<t)return s;const a=i,u=t-i-1,h=n%2===0;if(s<0){const l=a%2===0;return h===l?0:1}else{const l=u%2===0;return h===l?t-1:t-2}}}e.LcsDiff=v}),define(ee[395],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,m){if(S&&S[0]!==""){const _=y(S,m,"-"),v=y(S,m,"_");return _&&!v?D(S,m,"-"):!_&&v?D(S,m,"_"):S[0].toUpperCase()===S[0]?m.toUpperCase():S[0].toLowerCase()===S[0]?m.toLowerCase():L.containsUppercaseCharacter(S[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):S[0][0].toUpperCase()!==S[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}e.buildReplaceStringWithCasePreserved=k;function y(S,m,_){return S[0].indexOf(_)!==-1&&m.indexOf(_)!==-1&&S[0].split(_).length===m.split(_).length}function D(S,m,_){const v=m.split(_),C=S[0].split(_);let s="";return v.forEach((n,i)=>{s+=k([C[i]],n)+_}),s.slice(0,-1)}}),define(ee[99],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(y){y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error"})(k||(k={})),function(y){const D="error",S="warning",m="warn",_="info",v="ignore";function C(n){return n?L.equalsIgnoreCase(D,n)?y.Error:L.equalsIgnoreCase(S,n)||L.equalsIgnoreCase(m,n)?y.Warning:L.equalsIgnoreCase(_,n)?y.Info:y.Ignore:y.Ignore}y.fromValue=C;function s(n){switch(n){case y.Error:return D;case y.Warning:return S;case y.Info:return _;default:return v}}y.toString=s}(k||(k={})),e.default=k}),define(ee[263],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ee[198],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(C){return this._value=C,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(C){const s=C.charCodeAt(0),n=this._value.charCodeAt(this._pos);return s-n}value(){return this._value[this._pos]}}e.StringIterator=k;class y{constructor(C=!0){this._caseSensitive=C}reset(C){return this._value=C,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let C=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(C)this._from++;else break;else C=!1;return this}cmp(C){return this._caseSensitive?(0,L.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=y;class D{constructor(C=!0,s=!0){this._splitOnBackslash=C,this._caseSensitive=s}reset(C){this._from=0,this._to=0,this._value=C,this._valueLen=C.length;for(let s=C.length-1;s>=0;s--,this._valueLen--){const n=this._value.charCodeAt(s);if(!(n===47||this._splitOnBackslash&&n===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let C=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(C)this._from++;else break;else C=!1}return this}cmp(C){return this._caseSensitive?(0,L.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class S{constructor(C,s){this._ignorePathCasing=C,this._ignoreQueryAndFragment=s,this._states=[],this._stateIdx=0}reset(C){return this._value=C,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(C)),this._pathIterator.reset(C.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(C)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(C){if(this._states[this._stateIdx]===1)return(0,L.compareIgnoreCase)(C,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,L.compareIgnoreCase)(C,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(C);if(this._states[this._stateIdx]===4)return(0,L.compare)(C,this._value.query);if(this._states[this._stateIdx]===5)return(0,L.compare)(C,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class m{constructor(){this.height=1}rotateLeft(){const C=this.right;return this.right=C.left,C.left=this,this.updateHeight(),C.updateHeight(),C}rotateRight(){const C=this.left;return this.left=C.right,C.right=this,this.updateHeight(),C.updateHeight(),C}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var C,s;return(s=(C=this.left)===null||C===void 0?void 0:C.height)!==null&&s!==void 0?s:0}get heightRight(){var C,s;return(s=(C=this.right)===null||C===void 0?void 0:C.height)!==null&&s!==void 0?s:0}}class _{static forUris(C=()=>!1,s=()=>!1){return new _(new S(C,s))}static forStrings(){return new _(new k)}static forConfigKeys(){return new _(new y)}constructor(C){this._iter=C}clear(){this._root=void 0}set(C,s){const n=this._iter.reset(C);let i;this._root||(this._root=new m,this._root.segment=n.value());const t=[];for(i=this._root;;){const u=n.cmp(i.segment);if(u>0)i.left||(i.left=new m,i.left.segment=n.value()),t.push([-1,i]),i=i.left;else if(u<0)i.right||(i.right=new m,i.right.segment=n.value()),t.push([1,i]),i=i.right;else if(n.hasNext())n.next(),i.mid||(i.mid=new m,i.mid.segment=n.value()),t.push([0,i]),i=i.mid;else break}const a=i.value;i.value=s,i.key=C;for(let u=t.length-1;u>=0;u--){const h=t[u][1];h.updateHeight();const l=h.balanceFactor();if(l<-1||l>1){const c=t[u][0],o=t[u+1][0];if(c===1&&o===1)t[u][1]=h.rotateLeft();else if(c===-1&&o===-1)t[u][1]=h.rotateRight();else if(c===1&&o===-1)h.right=t[u+1][1]=t[u+1][1].rotateRight(),t[u][1]=h.rotateLeft();else if(c===-1&&o===1)h.left=t[u+1][1]=t[u+1][1].rotateLeft(),t[u][1]=h.rotateRight();else throw new Error;if(u>0)switch(t[u-1][0]){case-1:t[u-1][1].left=t[u][1];break;case 1:t[u-1][1].right=t[u][1];break;case 0:t[u-1][1].mid=t[u][1];break}else this._root=t[0][1]}}return a}get(C){var s;return(s=this._getNode(C))===null||s===void 0?void 0:s.value}_getNode(C){const s=this._iter.reset(C);let n=this._root;for(;n;){const i=s.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else if(s.hasNext())s.next(),n=n.mid;else break}return n}has(C){const s=this._getNode(C);return!(s?.value===void 0&&s?.mid===void 0)}delete(C){return this._delete(C,!1)}deleteSuperstr(C){return this._delete(C,!0)}_delete(C,s){var n;const i=this._iter.reset(C),t=[];let a=this._root;for(;a;){const u=i.cmp(a.segment);if(u>0)t.push([-1,a]),a=a.left;else if(u<0)t.push([1,a]),a=a.right;else if(i.hasNext())i.next(),t.push([0,a]),a=a.mid;else break}if(a){if(s?(a.left=void 0,a.mid=void 0,a.right=void 0,a.height=1):(a.key=void 0,a.value=void 0),!a.mid&&!a.value)if(a.left&&a.right){const u=this._min(a.right);if(u.key){const{key:h,value:l,segment:c}=u;this._delete(u.key,!1),a.key=h,a.value=l,a.segment=c}}else{const u=(n=a.left)!==null&&n!==void 0?n:a.right;if(t.length>0){const[h,l]=t[t.length-1];switch(h){case-1:l.left=u;break;case 0:l.mid=u;break;case 1:l.right=u;break}}else this._root=u}for(let u=t.length-1;u>=0;u--){const h=t[u][1];h.updateHeight();const l=h.balanceFactor();if(l>1?(h.right.balanceFactor()>=0||(h.right=h.right.rotateRight()),t[u][1]=h.rotateLeft()):l<-1&&(h.left.balanceFactor()<=0||(h.left=h.left.rotateLeft()),t[u][1]=h.rotateRight()),u>0)switch(t[u-1][0]){case-1:t[u-1][1].left=t[u][1];break;case 1:t[u-1][1].right=t[u][1];break;case 0:t[u-1][1].mid=t[u][1];break}else this._root=t[0][1]}}}_min(C){for(;C.left;)C=C.left;return C}findSubstr(C){const s=this._iter.reset(C);let n=this._root,i;for(;n;){const t=s.cmp(n.segment);if(t>0)n=n.left;else if(t<0)n=n.right;else if(s.hasNext())s.next(),i=n.value||i,n=n.mid;else break}return n&&n.value||i}findSuperstr(C){return this._findSuperstrOrElement(C,!1)}_findSuperstrOrElement(C,s){const n=this._iter.reset(C);let i=this._root;for(;i;){const t=n.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(n.hasNext())n.next(),i=i.mid;else return i.mid?this._entries(i.mid):s?i.value:void 0}}forEach(C){for(const[s,n]of this)C(n,s)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(C){const s=[];return this._dfsEntries(C,s),s[Symbol.iterator]()}_dfsEntries(C,s){C&&(C.left&&this._dfsEntries(C.left,s),C.value&&s.push([C.key,C.value]),C.mid&&this._dfsEntries(C.mid,s),C.right&&this._dfsEntries(C.right,s))}}e.TernarySearchTree=_}),define(ee[20],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function L(u){return typeof u=="string"}e.isString=L;function k(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&!(u instanceof RegExp)&&!(u instanceof Date)}e.isObject=k;function y(u){const h=Object.getPrototypeOf(Uint8Array);return typeof u=="object"&&u instanceof h}e.isTypedArray=y;function D(u){return typeof u=="number"&&!isNaN(u)}e.isNumber=D;function S(u){return!!u&&typeof u[Symbol.iterator]=="function"}e.isIterable=S;function m(u){return u===!0||u===!1}e.isBoolean=m;function _(u){return typeof u>"u"}e.isUndefined=_;function v(u){return!C(u)}e.isDefined=v;function C(u){return _(u)||u===null}e.isUndefinedOrNull=C;function s(u,h){if(!u)throw new Error(h?`Unexpected type, expected '${h}'`:"Unexpected type")}e.assertType=s;function n(u){if(C(u))throw new Error("Assertion Failed: argument is undefined or null");return u}e.assertIsDefined=n;function i(u){return typeof u=="function"}e.isFunction=i;function t(u,h){const l=Math.min(u.length,h.length);for(let c=0;c<l;c++)a(u[c],h[c])}e.validateConstraints=t;function a(u,h){if(L(h)){if(typeof u!==h)throw new Error(`argument does not match constraint: typeof ${h}`)}else if(i(h)){try{if(u instanceof h)return}catch{}if(!C(u)&&u.constructor===h||h.length===1&&h.call(void 0,u)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a}),define(ee[26],te([1,0,20]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const k=Object.create(null);function y(S,m){if((0,L.isString)(m)){const _=k[m];if(_===void 0)throw new Error(`${S} references an unknown codicon: ${m}`);m=_}return k[S]=m,{id:S}}function D(){return k}e.getCodiconFontCharacters=D,e.Codicon={add:y("add",6e4),plus:y("plus",6e4),gistNew:y("gist-new",6e4),repoCreate:y("repo-create",6e4),lightbulb:y("lightbulb",60001),lightBulb:y("light-bulb",60001),repo:y("repo",60002),repoDelete:y("repo-delete",60002),gistFork:y("gist-fork",60003),repoForked:y("repo-forked",60003),gitPullRequest:y("git-pull-request",60004),gitPullRequestAbandoned:y("git-pull-request-abandoned",60004),recordKeys:y("record-keys",60005),keyboard:y("keyboard",60005),tag:y("tag",60006),tagAdd:y("tag-add",60006),tagRemove:y("tag-remove",60006),gitPullRequestLabel:y("git-pull-request-label",60006),person:y("person",60007),personFollow:y("person-follow",60007),personOutline:y("person-outline",60007),personFilled:y("person-filled",60007),gitBranch:y("git-branch",60008),gitBranchCreate:y("git-branch-create",60008),gitBranchDelete:y("git-branch-delete",60008),sourceControl:y("source-control",60008),mirror:y("mirror",60009),mirrorPublic:y("mirror-public",60009),star:y("star",60010),starAdd:y("star-add",60010),starDelete:y("star-delete",60010),starEmpty:y("star-empty",60010),comment:y("comment",60011),commentAdd:y("comment-add",60011),alert:y("alert",60012),warning:y("warning",60012),search:y("search",60013),searchSave:y("search-save",60013),logOut:y("log-out",60014),signOut:y("sign-out",60014),logIn:y("log-in",60015),signIn:y("sign-in",60015),eye:y("eye",60016),eyeUnwatch:y("eye-unwatch",60016),eyeWatch:y("eye-watch",60016),circleFilled:y("circle-filled",60017),primitiveDot:y("primitive-dot",60017),closeDirty:y("close-dirty",60017),debugBreakpoint:y("debug-breakpoint",60017),debugBreakpointDisabled:y("debug-breakpoint-disabled",60017),debugHint:y("debug-hint",60017),primitiveSquare:y("primitive-square",60018),edit:y("edit",60019),pencil:y("pencil",60019),info:y("info",60020),issueOpened:y("issue-opened",60020),gistPrivate:y("gist-private",60021),gitForkPrivate:y("git-fork-private",60021),lock:y("lock",60021),mirrorPrivate:y("mirror-private",60021),close:y("close",60022),removeClose:y("remove-close",60022),x:y("x",60022),repoSync:y("repo-sync",60023),sync:y("sync",60023),clone:y("clone",60024),desktopDownload:y("desktop-download",60024),beaker:y("beaker",60025),microscope:y("microscope",60025),vm:y("vm",60026),deviceDesktop:y("device-desktop",60026),file:y("file",60027),fileText:y("file-text",60027),more:y("more",60028),ellipsis:y("ellipsis",60028),kebabHorizontal:y("kebab-horizontal",60028),mailReply:y("mail-reply",60029),reply:y("reply",60029),organization:y("organization",60030),organizationFilled:y("organization-filled",60030),organizationOutline:y("organization-outline",60030),newFile:y("new-file",60031),fileAdd:y("file-add",60031),newFolder:y("new-folder",60032),fileDirectoryCreate:y("file-directory-create",60032),trash:y("trash",60033),trashcan:y("trashcan",60033),history:y("history",60034),clock:y("clock",60034),folder:y("folder",60035),fileDirectory:y("file-directory",60035),symbolFolder:y("symbol-folder",60035),logoGithub:y("logo-github",60036),markGithub:y("mark-github",60036),github:y("github",60036),terminal:y("terminal",60037),console:y("console",60037),repl:y("repl",60037),zap:y("zap",60038),symbolEvent:y("symbol-event",60038),error:y("error",60039),stop:y("stop",60039),variable:y("variable",60040),symbolVariable:y("symbol-variable",60040),array:y("array",60042),symbolArray:y("symbol-array",60042),symbolModule:y("symbol-module",60043),symbolPackage:y("symbol-package",60043),symbolNamespace:y("symbol-namespace",60043),symbolObject:y("symbol-object",60043),symbolMethod:y("symbol-method",60044),symbolFunction:y("symbol-function",60044),symbolConstructor:y("symbol-constructor",60044),symbolBoolean:y("symbol-boolean",60047),symbolNull:y("symbol-null",60047),symbolNumeric:y("symbol-numeric",60048),symbolNumber:y("symbol-number",60048),symbolStructure:y("symbol-structure",60049),symbolStruct:y("symbol-struct",60049),symbolParameter:y("symbol-parameter",60050),symbolTypeParameter:y("symbol-type-parameter",60050),symbolKey:y("symbol-key",60051),symbolText:y("symbol-text",60051),symbolReference:y("symbol-reference",60052),goToFile:y("go-to-file",60052),symbolEnum:y("symbol-enum",60053),symbolValue:y("symbol-value",60053),symbolRuler:y("symbol-ruler",60054),symbolUnit:y("symbol-unit",60054),activateBreakpoints:y("activate-breakpoints",60055),archive:y("archive",60056),arrowBoth:y("arrow-both",60057),arrowDown:y("arrow-down",60058),arrowLeft:y("arrow-left",60059),arrowRight:y("arrow-right",60060),arrowSmallDown:y("arrow-small-down",60061),arrowSmallLeft:y("arrow-small-left",60062),arrowSmallRight:y("arrow-small-right",60063),arrowSmallUp:y("arrow-small-up",60064),arrowUp:y("arrow-up",60065),bell:y("bell",60066),bold:y("bold",60067),book:y("book",60068),bookmark:y("bookmark",60069),debugBreakpointConditionalUnverified:y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:y("debug-breakpoint-data-unverified",60072),debugBreakpointData:y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:y("debug-breakpoint-log-disabled",60075),briefcase:y("briefcase",60076),broadcast:y("broadcast",60077),browser:y("browser",60078),bug:y("bug",60079),calendar:y("calendar",60080),caseSensitive:y("case-sensitive",60081),check:y("check",60082),checklist:y("checklist",60083),chevronDown:y("chevron-down",60084),dropDownButton:y("drop-down-button",60084),chevronLeft:y("chevron-left",60085),chevronRight:y("chevron-right",60086),chevronUp:y("chevron-up",60087),chromeClose:y("chrome-close",60088),chromeMaximize:y("chrome-maximize",60089),chromeMinimize:y("chrome-minimize",60090),chromeRestore:y("chrome-restore",60091),circle:y("circle",60092),circleOutline:y("circle-outline",60092),debugBreakpointUnverified:y("debug-breakpoint-unverified",60092),circleSlash:y("circle-slash",60093),circuitBoard:y("circuit-board",60094),clearAll:y("clear-all",60095),clippy:y("clippy",60096),closeAll:y("close-all",60097),cloudDownload:y("cloud-download",60098),cloudUpload:y("cloud-upload",60099),code:y("code",60100),collapseAll:y("collapse-all",60101),colorMode:y("color-mode",60102),commentDiscussion:y("comment-discussion",60103),compareChanges:y("compare-changes",60157),creditCard:y("credit-card",60105),dash:y("dash",60108),dashboard:y("dashboard",60109),database:y("database",60110),debugContinue:y("debug-continue",60111),debugDisconnect:y("debug-disconnect",60112),debugPause:y("debug-pause",60113),debugRestart:y("debug-restart",60114),debugStart:y("debug-start",60115),debugStepInto:y("debug-step-into",60116),debugStepOut:y("debug-step-out",60117),debugStepOver:y("debug-step-over",60118),debugStop:y("debug-stop",60119),debug:y("debug",60120),deviceCameraVideo:y("device-camera-video",60121),deviceCamera:y("device-camera",60122),deviceMobile:y("device-mobile",60123),diffAdded:y("diff-added",60124),diffIgnored:y("diff-ignored",60125),diffModified:y("diff-modified",60126),diffRemoved:y("diff-removed",60127),diffRenamed:y("diff-renamed",60128),diff:y("diff",60129),discard:y("discard",60130),editorLayout:y("editor-layout",60131),emptyWindow:y("empty-window",60132),exclude:y("exclude",60133),extensions:y("extensions",60134),eyeClosed:y("eye-closed",60135),fileBinary:y("file-binary",60136),fileCode:y("file-code",60137),fileMedia:y("file-media",60138),filePdf:y("file-pdf",60139),fileSubmodule:y("file-submodule",60140),fileSymlinkDirectory:y("file-symlink-directory",60141),fileSymlinkFile:y("file-symlink-file",60142),fileZip:y("file-zip",60143),files:y("files",60144),filter:y("filter",60145),flame:y("flame",60146),foldDown:y("fold-down",60147),foldUp:y("fold-up",60148),fold:y("fold",60149),folderActive:y("folder-active",60150),folderOpened:y("folder-opened",60151),gear:y("gear",60152),gift:y("gift",60153),gistSecret:y("gist-secret",60154),gist:y("gist",60155),gitCommit:y("git-commit",60156),gitCompare:y("git-compare",60157),gitMerge:y("git-merge",60158),githubAction:y("github-action",60159),githubAlt:y("github-alt",60160),globe:y("globe",60161),grabber:y("grabber",60162),graph:y("graph",60163),gripper:y("gripper",60164),heart:y("heart",60165),home:y("home",60166),horizontalRule:y("horizontal-rule",60167),hubot:y("hubot",60168),inbox:y("inbox",60169),issueClosed:y("issue-closed",60324),issueReopened:y("issue-reopened",60171),issues:y("issues",60172),italic:y("italic",60173),jersey:y("jersey",60174),json:y("json",60175),bracket:y("bracket",60175),kebabVertical:y("kebab-vertical",60176),key:y("key",60177),law:y("law",60178),lightbulbAutofix:y("lightbulb-autofix",60179),linkExternal:y("link-external",60180),link:y("link",60181),listOrdered:y("list-ordered",60182),listUnordered:y("list-unordered",60183),liveShare:y("live-share",60184),loading:y("loading",60185),location:y("location",60186),mailRead:y("mail-read",60187),mail:y("mail",60188),markdown:y("markdown",60189),megaphone:y("megaphone",60190),mention:y("mention",60191),milestone:y("milestone",60192),gitPullRequestMilestone:y("git-pull-request-milestone",60192),mortarBoard:y("mortar-board",60193),move:y("move",60194),multipleWindows:y("multiple-windows",60195),mute:y("mute",60196),noNewline:y("no-newline",60197),note:y("note",60198),octoface:y("octoface",60199),openPreview:y("open-preview",60200),package_:y("package",60201),paintcan:y("paintcan",60202),pin:y("pin",60203),play:y("play",60204),run:y("run",60204),plug:y("plug",60205),preserveCase:y("preserve-case",60206),preview:y("preview",60207),project:y("project",60208),pulse:y("pulse",60209),question:y("question",60210),quote:y("quote",60211),radioTower:y("radio-tower",60212),reactions:y("reactions",60213),references:y("references",60214),refresh:y("refresh",60215),regex:y("regex",60216),remoteExplorer:y("remote-explorer",60217),remote:y("remote",60218),remove:y("remove",60219),replaceAll:y("replace-all",60220),replace:y("replace",60221),repoClone:y("repo-clone",60222),repoForcePush:y("repo-force-push",60223),repoPull:y("repo-pull",60224),repoPush:y("repo-push",60225),report:y("report",60226),requestChanges:y("request-changes",60227),rocket:y("rocket",60228),rootFolderOpened:y("root-folder-opened",60229),rootFolder:y("root-folder",60230),rss:y("rss",60231),ruby:y("ruby",60232),saveAll:y("save-all",60233),saveAs:y("save-as",60234),save:y("save",60235),screenFull:y("screen-full",60236),screenNormal:y("screen-normal",60237),searchStop:y("search-stop",60238),server:y("server",60240),settingsGear:y("settings-gear",60241),settings:y("settings",60242),shield:y("shield",60243),smiley:y("smiley",60244),sortPrecedence:y("sort-precedence",60245),splitHorizontal:y("split-horizontal",60246),splitVertical:y("split-vertical",60247),squirrel:y("squirrel",60248),starFull:y("star-full",60249),starHalf:y("star-half",60250),symbolClass:y("symbol-class",60251),symbolColor:y("symbol-color",60252),symbolCustomColor:y("symbol-customcolor",60252),symbolConstant:y("symbol-constant",60253),symbolEnumMember:y("symbol-enum-member",60254),symbolField:y("symbol-field",60255),symbolFile:y("symbol-file",60256),symbolInterface:y("symbol-interface",60257),symbolKeyword:y("symbol-keyword",60258),symbolMisc:y("symbol-misc",60259),symbolOperator:y("symbol-operator",60260),symbolProperty:y("symbol-property",60261),wrench:y("wrench",60261),wrenchSubaction:y("wrench-subaction",60261),symbolSnippet:y("symbol-snippet",60262),tasklist:y("tasklist",60263),telescope:y("telescope",60264),textSize:y("text-size",60265),threeBars:y("three-bars",60266),thumbsdown:y("thumbsdown",60267),thumbsup:y("thumbsup",60268),tools:y("tools",60269),triangleDown:y("triangle-down",60270),triangleLeft:y("triangle-left",60271),triangleRight:y("triangle-right",60272),triangleUp:y("triangle-up",60273),twitter:y("twitter",60274),unfold:y("unfold",60275),unlock:y("unlock",60276),unmute:y("unmute",60277),unverified:y("unverified",60278),verified:y("verified",60279),versions:y("versions",60280),vmActive:y("vm-active",60281),vmOutline:y("vm-outline",60282),vmRunning:y("vm-running",60283),watch:y("watch",60284),whitespace:y("whitespace",60285),wholeWord:y("whole-word",60286),window:y("window",60287),wordWrap:y("word-wrap",60288),zoomIn:y("zoom-in",60289),zoomOut:y("zoom-out",60290),listFilter:y("list-filter",60291),listFlat:y("list-flat",60292),listSelection:y("list-selection",60293),selection:y("selection",60293),listTree:y("list-tree",60294),debugBreakpointFunctionUnverified:y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:y("debug-breakpoint-function-disabled",60296),debugStackframeActive:y("debug-stackframe-active",60297),circleSmallFilled:y("circle-small-filled",60298),debugStackframeDot:y("debug-stackframe-dot",60298),debugStackframe:y("debug-stackframe",60299),debugStackframeFocused:y("debug-stackframe-focused",60299),debugBreakpointUnsupported:y("debug-breakpoint-unsupported",60300),symbolString:y("symbol-string",60301),debugReverseContinue:y("debug-reverse-continue",60302),debugStepBack:y("debug-step-back",60303),debugRestartFrame:y("debug-restart-frame",60304),callIncoming:y("call-incoming",60306),callOutgoing:y("call-outgoing",60307),menu:y("menu",60308),expandAll:y("expand-all",60309),feedback:y("feedback",60310),gitPullRequestReviewer:y("git-pull-request-reviewer",60310),groupByRefType:y("group-by-ref-type",60311),ungroupByRefType:y("ungroup-by-ref-type",60312),account:y("account",60313),gitPullRequestAssignee:y("git-pull-request-assignee",60313),bellDot:y("bell-dot",60314),debugConsole:y("debug-console",60315),library:y("library",60316),output:y("output",60317),runAll:y("run-all",60318),syncIgnored:y("sync-ignored",60319),pinned:y("pinned",60320),githubInverted:y("github-inverted",60321),debugAlt:y("debug-alt",60305),serverProcess:y("server-process",60322),serverEnvironment:y("server-environment",60323),pass:y("pass",60324),stopCircle:y("stop-circle",60325),playCircle:y("play-circle",60326),record:y("record",60327),debugAltSmall:y("debug-alt-small",60328),vmConnect:y("vm-connect",60329),cloud:y("cloud",60330),merge:y("merge",60331),exportIcon:y("export",60332),graphLeft:y("graph-left",60333),magnet:y("magnet",60334),notebook:y("notebook",60335),redo:y("redo",60336),checkAll:y("check-all",60337),pinnedDirty:y("pinned-dirty",60338),passFilled:y("pass-filled",60339),circleLargeFilled:y("circle-large-filled",60340),circleLarge:y("circle-large",60341),circleLargeOutline:y("circle-large-outline",60341),combine:y("combine",60342),gather:y("gather",60342),table:y("table",60343),variableGroup:y("variable-group",60344),typeHierarchy:y("type-hierarchy",60345),typeHierarchySub:y("type-hierarchy-sub",60346),typeHierarchySuper:y("type-hierarchy-super",60347),gitPullRequestCreate:y("git-pull-request-create",60348),runAbove:y("run-above",60349),runBelow:y("run-below",60350),notebookTemplate:y("notebook-template",60351),debugRerun:y("debug-rerun",60352),workspaceTrusted:y("workspace-trusted",60353),workspaceUntrusted:y("workspace-untrusted",60354),workspaceUnspecified:y("workspace-unspecified",60355),terminalCmd:y("terminal-cmd",60356),terminalDebian:y("terminal-debian",60357),terminalLinux:y("terminal-linux",60358),terminalPowershell:y("terminal-powershell",60359),terminalTmux:y("terminal-tmux",60360),terminalUbuntu:y("terminal-ubuntu",60361),terminalBash:y("terminal-bash",60362),arrowSwap:y("arrow-swap",60363),copy:y("copy",60364),personAdd:y("person-add",60365),filterFilled:y("filter-filled",60366),wand:y("wand",60367),debugLineByLine:y("debug-line-by-line",60368),inspect:y("inspect",60369),layers:y("layers",60370),layersDot:y("layers-dot",60371),layersActive:y("layers-active",60372),compass:y("compass",60373),compassDot:y("compass-dot",60374),compassActive:y("compass-active",60375),azure:y("azure",60376),issueDraft:y("issue-draft",60377),gitPullRequestClosed:y("git-pull-request-closed",60378),gitPullRequestDraft:y("git-pull-request-draft",60379),debugAll:y("debug-all",60380),debugCoverage:y("debug-coverage",60381),runErrors:y("run-errors",60382),folderLibrary:y("folder-library",60383),debugContinueSmall:y("debug-continue-small",60384),beakerStop:y("beaker-stop",60385),graphLine:y("graph-line",60386),graphScatter:y("graph-scatter",60387),pieChart:y("pie-chart",60388),bracketDot:y("bracket-dot",60389),bracketError:y("bracket-error",60390),lockSmall:y("lock-small",60391),azureDevops:y("azure-devops",60392),verifiedFilled:y("verified-filled",60393),newLine:y("newline",60394),layout:y("layout",60395),layoutActivitybarLeft:y("layout-activitybar-left",60396),layoutActivitybarRight:y("layout-activitybar-right",60397),layoutPanelLeft:y("layout-panel-left",60398),layoutPanelCenter:y("layout-panel-center",60399),layoutPanelJustify:y("layout-panel-justify",60400),layoutPanelRight:y("layout-panel-right",60401),layoutPanel:y("layout-panel",60402),layoutSidebarLeft:y("layout-sidebar-left",60403),layoutSidebarRight:y("layout-sidebar-right",60404),layoutStatusbar:y("layout-statusbar",60405),layoutMenubar:y("layout-menubar",60406),layoutCentered:y("layout-centered",60407),layoutSidebarRightOff:y("layout-sidebar-right-off",60416),layoutPanelOff:y("layout-panel-off",60417),layoutSidebarLeftOff:y("layout-sidebar-left-off",60418),target:y("target",60408),indent:y("indent",60409),recordSmall:y("record-small",60410),errorSmall:y("error-small",60411),arrowCircleDown:y("arrow-circle-down",60412),arrowCircleLeft:y("arrow-circle-left",60413),arrowCircleRight:y("arrow-circle-right",60414),arrowCircleUp:y("arrow-circle-up",60415),heartFilled:y("heart-filled",60420),map:y("map",60421),mapFilled:y("map-filled",60422),circleSmall:y("circle-small",60423),bellSlash:y("bell-slash",60424),bellSlashDot:y("bell-slash-dot",60425),commentUnresolved:y("comment-unresolved",60426),gitPullRequestGoToChanges:y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:y("git-pull-request-new-changes",60428),searchFuzzy:y("search-fuzzy",60429),commentDraft:y("comment-draft",60430),send:y("send",60431),sparkle:y("sparkle",60432),insert:y("insert",60433),mic:y("mic",60434),dialogError:y("dialog-error","error"),dialogWarning:y("dialog-warning","warning"),dialogInfo:y("dialog-info","info"),dialogClose:y("dialog-close","close"),treeItemExpanded:y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:y("tree-filter-on-type-off","list-selection"),treeFilterClear:y("tree-filter-clear","close"),treeItemLoading:y("tree-item-loading","loading"),menuSelection:y("menu-selection","check"),menuSubmenu:y("menu-submenu","chevron-right"),menuBarMore:y("menubar-more","more"),scrollbarButtonLeft:y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:y("scrollbar-button-down","triangle-down"),toolBarMore:y("toolbar-more","more"),quickInputBack:y("quick-input-back","arrow-left")}}),define(ee[52],te([1,0,20]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([a,u])=>{t[a]=u&&typeof u=="object"?k(u):u}),t}e.deepClone=k;function y(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const a=t.shift();Object.freeze(a);for(const u in a)if(D.call(a,u)){const h=a[u];typeof h=="object"&&!Object.isFrozen(h)&&!(0,L.isTypedArray)(h)&&t.push(h)}}return i}e.deepFreeze=y;const D=Object.prototype.hasOwnProperty;function S(i,t){return m(i,t,new Set)}e.cloneAndChange=S;function m(i,t,a){if((0,L.isUndefinedOrNull)(i))return i;const u=t(i);if(typeof u<"u")return u;if(Array.isArray(i)){const h=[];for(const l of i)h.push(m(l,t,a));return h}if((0,L.isObject)(i)){if(a.has(i))throw new Error("Cannot clone recursive data-structure");a.add(i);const h={};for(const l in i)D.call(i,l)&&(h[l]=m(i[l],t,a));return a.delete(i),h}return i}function _(i,t,a=!0){return(0,L.isObject)(i)?((0,L.isObject)(t)&&Object.keys(t).forEach(u=>{u in i?a&&((0,L.isObject)(i[u])&&(0,L.isObject)(t[u])?_(i[u],t[u],a):i[u]=t[u]):i[u]=t[u]}),i):t}e.mixin=_;function v(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let a,u;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(a=0;a<i.length;a++)if(!v(i[a],t[a]))return!1}else{const h=[];for(u in i)h.push(u);h.sort();const l=[];for(u in t)l.push(u);if(l.sort(),!v(h,l))return!1;for(a=0;a<h.length;a++)if(!v(i[h[a]],t[h[a]]))return!1}return!0}e.equals=v;function C(i){let t=[];for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}e.getAllPropertyNames=C;function s(i){const t=[];for(const a of C(i))typeof i[a]=="function"&&t.push(a);return t}e.getAllMethodNames=s;function n(i,t){const a=h=>function(){const l=Array.prototype.slice.call(arguments,0);return t(h,l)},u={};for(const h of i)u[h]=a(h);return u}e.createProxyObject=n}),define(ee[27],te([1,0,26]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function S(m){return m&&typeof m=="object"&&typeof m.id=="string"}D.isThemeColor=S})(k||(e.ThemeColor=k={}));var y;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function m(h){const l=S.exec(h.id);if(!l)return m(L.Codicon.error);const[,c,o]=l,d=["codicon","codicon-"+c];return o&&d.push("codicon-modifier-"+o.substring(1)),d}D.asClassNameArray=m;function _(h){return m(h).join(" ")}D.asClassName=_;function v(h){return"."+m(h).join(".")}D.asCSSSelector=v;function C(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||k.isThemeColor(h.color))}D.isThemeIcon=C;const s=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function n(h){const l=s.exec(h);if(!l)return;const[,c]=l;return{id:c}}D.fromString=n;function i(h){return{id:h}}D.fromId=i;function t(h,l){let c=h.id;const o=c.lastIndexOf("~");return o!==-1&&(c=c.substring(0,o)),l&&(c=`${c}~${l}`),{id:c}}D.modify=t;function a(h){const l=h.id.lastIndexOf("~");if(l!==-1)return h.id.substring(l+1)}D.getModifier=a;function u(h,l){var c,o;return h.id===l.id&&((c=h.color)===null||c===void 0?void 0:c.id)===((o=l.color)===null||o===void 0?void 0:o.id)}D.isEqual=u})(y||(e.ThemeIcon=y={}))}),define(ee[119],te([1,0,68,10,27]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",S=new RegExp(`\\$\\(${y.ThemeIcon.iconNameExpression}(?:${y.ThemeIcon.iconModifierExpression})?\\)`,"g"),m=new RegExp(`(\\\\)?${S.source}`,"g");function _(h){return h.replace(m,(l,c)=>c?l:`\\${l}`)}e.escapeIcons=_;const v=new RegExp(`\\\\${S.source}`,"g");function C(h){return h.replace(v,l=>`\\${l}`)}e.markdownEscapeEscapedIcons=C;const s=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function n(h){return h.indexOf(D)===-1?h:h.replace(s,(l,c,o,d)=>o?l:c||d||"")}e.stripIcons=n;function i(h){return h?h.replace(/\$\((.*?)\)/g,(l,c)=>` ${c} `).trim():""}e.getCodiconAriaLabel=i;const t=new RegExp(`\\$\\(${y.ThemeIcon.iconNameCharacter}+\\)`,"g");function a(h){t.lastIndex=0;let l="";const c=[];let o=0;for(;;){const d=t.lastIndex,r=t.exec(h),g=h.substring(d,r?.index);if(g.length>0){l+=g;for(let f=0;f<g.length;f++)c.push(o)}if(!r)break;o+=r[0].length}return{text:l,iconOffsets:c}}e.parseLabelWithIcons=a;function u(h,l,c=!1){const{text:o,iconOffsets:d}=l;if(!d||d.length===0)return(0,L.matchesFuzzy)(h,o,c);const r=(0,k.ltrim)(o," "),g=o.length-r.length,f=(0,L.matchesFuzzy)(h,r,c);if(f)for(const p of f){const b=d[p.start+g]+g;p.start+=b,p.end+=b}return f}e.matchesFuzzyIconAware=u}),define(ee[169],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function L(y){return y<0?0:y>255?255:y|0}e.toUint8=L;function k(y){return y<0?0:y>4294967295?4294967295:y|0}e.toUint32=k}),define(ee[170],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let L;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?L=crypto.getRandomValues.bind(crypto):L=function(D){for(let S=0;S<D.length;S++)D[S]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),y=[];for(let D=0;D<256;D++)y.push(D.toString(16).padStart(2,"0"));return function(){L(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let S=0,m="";return m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+="-",m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m+=y[k[S++]],m}}()}),define(ee[171],te([1,0,14,47,170]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.matchesMimeType=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function D(s){return{asString:()=>Se(this,void 0,void 0,function*(){return s}),asFile:()=>{},value:typeof s=="string"?s:void 0}}e.createStringDataTransferItem=D;function S(s,n,i){const t={id:(0,y.generateUuid)(),name:s,uri:n,data:i};return{asString:()=>Se(this,void 0,void 0,function*(){return""}),asFile:()=>t,value:void 0}}e.createFileDataTransferItem=S;class m{constructor(){this._entries=new Map}get size(){let n=0;for(const i of this._entries)n++;return n}has(n){return this._entries.has(this.toKey(n))}matches(n){const i=[...this._entries.keys()];return k.Iterable.some(this,([t,a])=>a.asFile())&&i.push("files"),C(_(n),i)}get(n){var i;return(i=this._entries.get(this.toKey(n)))===null||i===void 0?void 0:i[0]}append(n,i){const t=this._entries.get(n);t?t.push(i):this._entries.set(this.toKey(n),[i])}replace(n,i){this._entries.set(this.toKey(n),[i])}delete(n){this._entries.delete(this.toKey(n))}*[Symbol.iterator](){for(const[n,i]of this._entries)for(const t of i)yield[n,t]}toKey(n){return _(n)}}e.VSDataTransfer=m;function _(s){return s.toLowerCase()}function v(s,n){return C(_(s),n.map(_))}e.matchesMimeType=v;function C(s,n){if(s==="*/*")return n.length>0;if(n.includes(s))return!0;const i=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[t,a,u]=i;return u==="*"?n.some(h=>h.startsWith(a+"/")):!1}e.UriList=Object.freeze({create:s=>(0,L.distinct)(s.map(n=>n.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>e.UriList.split(s).filter(n=>!n.startsWith("#"))})}),define(ee[264],te([11]),{}),define(ee[396],te([11]),{}),define(ee[397],te([11]),{}),define(ee[398],te([11]),{}),define(ee[399],te([11]),{}),define(ee[172],te([1,0,398,399]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ee[400],te([11]),{}),define(ee[401],te([11]),{}),define(ee[265],te([11]),{}),define(ee[266],te([11]),{}),define(ee[402],te([11]),{}),define(ee[403],te([11]),{}),define(ee[404],te([11]),{}),define(ee[405],te([11]),{}),define(ee[267],te([11]),{}),define(ee[406],te([11]),{}),define(ee[199],te([1,0,406]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[407],te([11]),{}),define(ee[408],te([11]),{}),define(ee[409],te([11]),{}),define(ee[410],te([11]),{}),define(ee[411],te([11]),{}),define(ee[412],te([11]),{}),define(ee[413],te([11]),{}),define(ee[414],te([11]),{}),define(ee[415],te([11]),{}),define(ee[416],te([11]),{}),define(ee[417],te([11]),{}),define(ee[418],te([11]),{}),define(ee[419],te([11]),{}),define(ee[420],te([11]),{}),define(ee[421],te([11]),{}),define(ee[422],te([11]),{}),define(ee[423],te([11]),{}),define(ee[424],te([11]),{}),define(ee[425],te([11]),{}),define(ee[426],te([11]),{}),define(ee[427],te([11]),{}),define(ee[428],te([11]),{}),define(ee[429],te([11]),{}),define(ee[430],te([11]),{}),define(ee[431],te([11]),{}),define(ee[432],te([11]),{}),define(ee[433],te([11]),{}),define(ee[434],te([11]),{}),define(ee[435],te([11]),{}),define(ee[436],te([11]),{}),define(ee[437],te([11]),{}),define(ee[438],te([11]),{}),define(ee[439],te([11]),{}),define(ee[440],te([11]),{}),define(ee[200],te([11]),{}),define(ee[441],te([11]),{}),define(ee[442],te([11]),{}),define(ee[443],te([11]),{}),define(ee[444],te([11]),{}),define(ee[445],te([11]),{}),define(ee[446],te([11]),{}),define(ee[447],te([11]),{}),define(ee[448],te([11]),{}),define(ee[449],te([11]),{}),define(ee[450],te([11]),{}),define(ee[451],te([11]),{}),define(ee[452],te([11]),{}),define(ee[453],te([11]),{}),define(ee[454],te([11]),{}),define(ee[455],te([11]),{}),define(ee[456],te([11]),{}),define(ee[457],te([11]),{}),define(ee[458],te([11]),{}),define(ee[459],te([11]),{}),define(ee[460],te([11]),{}),define(ee[461],te([11]),{}),define(ee[462],te([11]),{}),define(ee[463],te([11]),{}),define(ee[464],te([11]),{}),define(ee[465],te([11]),{}),define(ee[466],te([11]),{}),define(ee[467],te([11]),{}),define(ee[468],te([11]),{}),define(ee[469],te([11]),{}),define(ee[470],te([11]),{}),define(ee[471],te([11]),{}),define(ee[472],te([11]),{}),define(ee[268],te([11]),{}),define(ee[473],te([11]),{}),define(ee[474],te([11]),{}),define(ee[173],te([11]),{}),define(ee[475],te([11]),{}),define(ee[69],te([1,0,37]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function k(y,D){y instanceof L.FastDomNode?(y.setFontFamily(D.getMassagedFontFamily()),y.setFontWeight(D.fontWeight),y.setFontSize(D.fontSize),y.setFontFeatureSettings(D.fontFeatureSettings),y.setFontVariationSettings(D.fontVariationSettings),y.setLineHeight(D.lineHeight),y.setLetterSpacing(D.letterSpacing)):(y.style.fontFamily=D.getMassagedFontFamily(),y.style.fontWeight=D.fontWeight,y.style.fontSize=D.fontSize+"px",y.style.fontFeatureSettings=D.fontFeatureSettings,y.style.fontVariationSettings=D.fontVariationSettings,y.style.lineHeight=D.lineHeight+"px",y.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=k}),define(ee[476],te([1,0,69]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class k{constructor(m,_){this.chr=m,this.type=_,this.width=0}fulfill(m){this.width=m}}e.CharWidthRequest=k;class y{constructor(m,_){this._bareFontInfo=m,this._requests=_,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";const _=document.createElement("div");(0,L.applyFontInfo)(_,this._bareFontInfo),m.appendChild(_);const v=document.createElement("div");(0,L.applyFontInfo)(v,this._bareFontInfo),v.style.fontWeight="bold",m.appendChild(v);const C=document.createElement("div");(0,L.applyFontInfo)(C,this._bareFontInfo),C.style.fontStyle="italic",m.appendChild(C);const s=[];for(const n of this._requests){let i;n.type===0&&(i=_),n.type===2&&(i=v),n.type===1&&(i=C),i.appendChild(document.createElement("br"));const t=document.createElement("span");y._render(t,n),i.appendChild(t),s.push(t)}this._container=m,this._testElements=s}static _render(m,_){if(_.chr===" "){let v="\xA0";for(let C=0;C<8;C++)v+=v;m.innerText=v}else{let v=_.chr;for(let C=0;C<8;C++)v+=v;m.textContent=v}}_readFromDomElements(){for(let m=0,_=this._requests.length;m<_;m++){const v=this._requests[m],C=this._testElements[m];v.fulfill(C.offsetWidth/256)}}}function D(S,m){new y(S,m).read()}e.readCharWidths=D}),define(ee[269],te([1,0,2,6]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class y extends L.Disposable{constructor(S,m){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,m)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let S=null;const m=()=>{S?this.observe({width:S.width,height:S.height}):this.observe()};let _=!1,v=!1;const C=()=>{if(_&&!v)try{_=!1,v=!0,m()}finally{requestAnimationFrame(()=>{v=!1,C()})}};this._resizeObserver=new ResizeObserver(s=>{S=s&&s[0]&&s[0].contentRect?s[0].contentRect:null,_=!0,C()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,m){let _=0,v=0;m?(_=m.width,v=m.height):this._referenceDomElement&&(_=this._referenceDomElement.clientWidth,v=this._referenceDomElement.clientHeight),_=Math.max(5,_),v=Math.max(5,v),(this._width!==_||this._height!==v)&&(this._width=_,this._height=v,S&&this._onDidChange.fire())}}e.ElementSizeObserver=y}),define(ee[477],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class L{constructor(_,v){this.key=_,this.migrate=v}apply(_){const v=L._read(_,this.key),C=n=>L._read(_,n),s=(n,i)=>L._write(_,n,i);this.migrate(v,C,s)}static _read(_,v){if(typeof _>"u")return;const C=v.indexOf(".");if(C>=0){const s=v.substring(0,C);return this._read(_[s],v.substring(C+1))}return _[v]}static _write(_,v,C){const s=v.indexOf(".");if(s>=0){const n=v.substring(0,s);_[n]=_[n]||{},this._write(_[n],v.substring(s+1),C);return}_[v]=C}}e.EditorSettingMigration=L,L.items=[];function k(m,_){L.items.push(new L(m,_))}function y(m,_){k(m,(v,C,s)=>{if(typeof v<"u"){for(const[n,i]of _)if(v===n){s(m,i);return}}})}function D(m){L.items.forEach(_=>_.apply(m))}e.migrateOptions=D,y("wordWrap",[[!0,"on"],[!1,"off"]]),y("lineNumbers",[[!0,"on"],[!1,"off"]]),y("cursorBlinking",[["visible","solid"]]),y("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),y("renderLineHighlight",[[!0,"line"],[!1,"none"]]),y("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),y("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),y("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("autoIndent",[[!1,"advanced"],[!0,"full"]]),y("matchBrackets",[[!0,"always"],[!1,"never"]]),y("renderFinalNewline",[[!0,"on"],[!1,"off"]]),y("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),k("autoClosingBrackets",(m,_,v)=>{m===!1&&(v("autoClosingBrackets","never"),typeof _("autoClosingQuotes")>"u"&&v("autoClosingQuotes","never"),typeof _("autoSurround")>"u"&&v("autoSurround","never"))}),k("renderIndentGuides",(m,_,v)=>{typeof m<"u"&&(v("renderIndentGuides",void 0),typeof _("guides.indentation")>"u"&&v("guides.indentation",!!m))}),k("highlightActiveIndentGuide",(m,_,v)=>{typeof m<"u"&&(v("highlightActiveIndentGuide",void 0),typeof _("guides.highlightActiveIndentation")>"u"&&v("guides.highlightActiveIndentation",!!m))});const S={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(m,_,v)=>{if(m&&typeof m=="object"){for(const C of Object.entries(S))m[C[0]]===!1&&typeof _(`suggest.${C[1]}`)>"u"&&v(`suggest.${C[1]}`,!1);v("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(m,_,v)=>{if(typeof m=="boolean"){const C=m?"on":"off";v("quickSuggestions",{comments:C,strings:C,other:C})}}),k("experimental.stickyScroll.enabled",(m,_,v)=>{typeof m=="boolean"&&(v("experimental.stickyScroll.enabled",void 0),typeof _("stickyScroll.enabled")>"u"&&v("stickyScroll.enabled",m))}),k("experimental.stickyScroll.maxLineCount",(m,_,v)=>{typeof m=="number"&&(v("experimental.stickyScroll.maxLineCount",void 0),typeof _("stickyScroll.maxLineCount")>"u"&&v("stickyScroll.maxLineCount",m))})}),define(ee[201],te([1,0,6]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new L.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(D){return D==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(D,S){S==="terminalFocus"?this._tabFocusTerminal=D:this._tabFocusEditor=D,this._onDidChangeTabFocus.fire()}}e.TabFocus=new k}),define(ee[120],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class L{static capture(y){if(y.getScrollTop()===0||y.hasPendingScrollAnimation())return new L(y.getScrollTop(),y.getContentHeight(),null,0,null);let D=null,S=0;const m=y.getVisibleRanges();if(m.length>0){D=m[0].getStartPosition();const _=y.getTopForPosition(D.lineNumber,D.column);S=y.getScrollTop()-_}return new L(y.getScrollTop(),y.getContentHeight(),D,S,y.getPosition())}constructor(y,D,S,m,_){this._initialScrollTop=y,this._initialContentHeight=D,this._visiblePosition=S,this._visiblePositionScrollDelta=m,this._cursorPosition=_}restore(y){if(!(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())&&this._visiblePosition){const D=y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);y.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(y){if(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())return;const D=y.getPosition();if(!this._cursorPosition||!D)return;const S=y.getTopForLineNumber(D.lineNumber)-y.getTopForLineNumber(this._cursorPosition.lineNumber);y.setScrollTop(y.getScrollTop()+S)}}e.StableEditorScrollState=L}),define(ee[142],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class L{constructor(C,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=C,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(C){return C-this.scrollTop}getVerticalOffsetForLineNumber(C,s){return this._viewLayout.getVerticalOffsetForLineNumber(C,s)}getVerticalOffsetAfterLineNumber(C,s){return this._viewLayout.getVerticalOffsetAfterLineNumber(C,s)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=L;class k extends L{constructor(C,s,n){super(C,s),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(C,s){return this._viewLines.linesVisibleRangesForRange(C,s)}visibleRangeForPosition(C){return this._viewLines.visibleRangeForPosition(C)}}e.RenderingContext=k;class y{constructor(C,s,n,i){this.outsideRenderedLine=C,this.lineNumber=s,this.ranges=n,this.continuesOnNextLine=i}}e.LineVisibleRanges=y;class D{static from(C){const s=new Array(C.length);for(let n=0,i=C.length;n<i;n++){const t=C[n];s[n]=new D(t.left,t.width)}return s}constructor(C,s){this._horizontalRangeBrand=void 0,this.left=Math.round(C),this.width=Math.round(s)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(C,s){this._floatHorizontalRangeBrand=void 0,this.left=C,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(C,s){return C.left-s.left}}e.FloatHorizontalRange=S;class m{constructor(C,s){this.outsideRenderedLine=C,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=m;class _{constructor(C,s){this.outsideRenderedLine=C,this.ranges=s}}e.VisibleRanges=_}),define(ee[478],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class L{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const y=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=y.left,this._clientRectScale=y.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(y,D){this._domNode=y,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=L}),define(ee[479],te([1,0,142]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,m,_,v){const C=this._createRange();try{return C.setStart(D,S),C.setEnd(m,_),C.getClientRects()}catch{return null}finally{this._detachRange(C,v)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(L.FloatHorizontalRange.compare);const S=[];let m=0,_=D[0];for(let v=1,C=D.length;v<C;v++){const s=D[v];_.left+_.width+.9>=s.left?_.width=Math.max(_.width,s.left+s.width-_.left):(S[m++]=_,_=s)}return S[m++]=_,S}static _createHorizontalRangesFromClientRects(D,S,m){if(!D||D.length===0)return null;const _=[];for(let v=0,C=D.length;v<C;v++){const s=D[v];_[v]=new L.FloatHorizontalRange(Math.max(0,(s.left-S)/m),s.width/m)}return this._mergeAdjacentRanges(_)}static readHorizontalRanges(D,S,m,_,v,C){const n=D.children.length-1;if(0>n)return null;if(S=Math.min(n,Math.max(0,S)),_=Math.min(n,Math.max(0,_)),S===_&&m===v&&m===0&&!D.children[S].firstChild){const u=D.children[S].getClientRects();return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,C.clientRectDeltaLeft,C.clientRectScale)}S!==_&&_>0&&v===0&&(_--,v=1073741824);let i=D.children[S].firstChild,t=D.children[_].firstChild;if((!i||!t)&&(!i&&m===0&&S>0&&(i=D.children[S-1].firstChild,m=1073741824),!t&&v===0&&_>0&&(t=D.children[_-1].firstChild,v=1073741824)),!i||!t)return null;m=Math.min(i.textContent.length,Math.max(0,m)),v=Math.min(t.textContent.length,Math.max(0,v));const a=this._readClientRects(i,m,t,v,C.endNode);return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(a,C.clientRectDeltaLeft,C.clientRectScale)}}e.RangeUtil=k}),define(ee[270],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let y=32;y<=126;y++)k.push(y);return k.push(65533),k})();const L=(k,y)=>(k-=32,k<0||k>96?y<=2?(k+96)%96:96-1:k);e.getCharIndex=L}),define(ee[480],te([1,0,270,169]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class y{constructor(S,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=y.soften(S,12/15),this.charDataLight=y.soften(S,50/60)}static soften(S,m){const _=new Uint8ClampedArray(S.length);for(let v=0,C=S.length;v<C;v++)_[v]=(0,k.toUint8)(S[v]*m);return _}renderChar(S,m,_,v,C,s,n,i,t,a,u){const h=1*this.scale,l=2*this.scale,c=u?1:l;if(m+h>S.width||_+c>S.height){console.warn("bad render request outside image data");return}const o=a?this.charDataLight:this.charDataNormal,d=(0,L.getCharIndex)(v,t),r=S.width*4,g=n.r,f=n.g,p=n.b,b=C.r-g,w=C.g-f,E=C.b-p,I=Math.max(s,i),N=S.data;let R=d*h*l,F=_*r+m*4;for(let M=0;M<c;M++){let A=F;for(let T=0;T<h;T++){const O=o[R++]/255*(s/255);N[A++]=g+b*O,N[A++]=f+w*O,N[A++]=p+E*O,N[A++]=I}F+=r}}blockRenderChar(S,m,_,v,C,s,n,i){const t=1*this.scale,a=2*this.scale,u=i?1:a;if(m+t>S.width||_+u>S.height){console.warn("bad render request outside image data");return}const h=S.width*4,l=.5*(C/255),c=s.r,o=s.g,d=s.b,r=v.r-c,g=v.g-o,f=v.b-d,p=c+r*l,b=o+g*l,w=d+f*l,E=Math.max(C,n),I=S.data;let N=_*h+m*4;for(let R=0;R<u;R++){let F=N;for(let M=0;M<t;M++)I[F++]=p,I[F++]=b,I[F++]=w,I[F++]=E;N+=h}}}e.MinimapCharRenderer=y}),define(ee[481],te([1,0,97]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},y=D=>{const S=new Uint8ClampedArray(D.length/2);for(let m=0;m<D.length;m+=2)S[m>>1]=k[D[m]]<<4|k[D[m+1]]&15;return S};e.prebakedMiniMaps={1:(0,L.once)(()=>y("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,L.once)(()=>y("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[482],te([1,0,480,270,481,169]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(_,v){if(this.lastCreated&&_===this.lastCreated.scale&&v===this.lastFontFamily)return this.lastCreated;let C;return y.prebakedMiniMaps[_]?C=new L.MinimapCharRenderer(y.prebakedMiniMaps[_](),_):C=S.createFromSampleData(S.createSampleData(v).data,_),this.lastFontFamily=v,this.lastCreated=C,C}static createSampleData(_){const v=document.createElement("canvas"),C=v.getContext("2d");v.style.height="16px",v.height=16,v.width=96*10,v.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold 16px ${_}`,C.textBaseline="middle";let s=0;for(const n of k.allCharCodes)C.fillText(String.fromCharCode(n),s,16/2),s+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(_,v){if(_.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const s=S._downsample(_,v);return new L.MinimapCharRenderer(s,v)}static _downsampleChar(_,v,C,s,n){const i=1*n,t=2*n;let a=s,u=0;for(let h=0;h<t;h++){const l=h/t*16,c=(h+1)/t*16;for(let o=0;o<i;o++){const d=o/i*10,r=(o+1)/i*10;let g=0,f=0;for(let b=l;b<c;b++){const w=v+Math.floor(b)*3840,E=1-(b-Math.floor(b));for(let I=d;I<r;I++){const N=1-(I-Math.floor(I)),R=w+Math.floor(I)*4,F=N*E;f+=F,g+=_[R]*_[R+3]/255*F}}const p=g/f;u=Math.max(u,p),C[a++]=(0,D.toUint8)(p)}}return u}static _downsample(_,v){const C=2*v*1*v,s=C*96,n=new Uint8ClampedArray(s);let i=0,t=0,a=0;for(let u=0;u<96;u++)a=Math.max(a,this._downsampleChar(_,t,n,i,v)),i+=C,t+=10*4;if(a>0){const u=255/a;for(let h=0;h<s;h++)n[h]*=u}return n}}e.MinimapCharRendererFactory=S}),define(ee[483],te([1,0,6,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class y extends k.Disposable{constructor(){super(...arguments),this._id=++y.idCounter,this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(S){return this._targetEditor.getVisibleColumnFromPosition(S)}getPosition(){return this._targetEditor.getPosition()}setPosition(S,m="api"){this._targetEditor.setPosition(S,m)}revealLine(S,m=0){this._targetEditor.revealLine(S,m)}revealLineInCenter(S,m=0){this._targetEditor.revealLineInCenter(S,m)}revealLineInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealLineInCenterIfOutsideViewport(S,m)}revealLineNearTop(S,m=0){this._targetEditor.revealLineNearTop(S,m)}revealPosition(S,m=0){this._targetEditor.revealPosition(S,m)}revealPositionInCenter(S,m=0){this._targetEditor.revealPositionInCenter(S,m)}revealPositionInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(S,m)}revealPositionNearTop(S,m=0){this._targetEditor.revealPositionNearTop(S,m)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(S,m="api"){this._targetEditor.setSelection(S,m)}setSelections(S,m="api"){this._targetEditor.setSelections(S,m)}revealLines(S,m,_=0){this._targetEditor.revealLines(S,m,_)}revealLinesInCenter(S,m,_=0){this._targetEditor.revealLinesInCenter(S,m,_)}revealLinesInCenterIfOutsideViewport(S,m,_=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(S,m,_)}revealLinesNearTop(S,m,_=0){this._targetEditor.revealLinesNearTop(S,m,_)}revealRange(S,m=0,_=!1,v=!0){this._targetEditor.revealRange(S,m,_,v)}revealRangeInCenter(S,m=0){this._targetEditor.revealRangeInCenter(S,m)}revealRangeInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(S,m)}revealRangeNearTop(S,m=0){this._targetEditor.revealRangeNearTop(S,m)}revealRangeNearTopIfOutsideViewport(S,m=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(S,m)}revealRangeAtTop(S,m=0){this._targetEditor.revealRangeAtTop(S,m)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(S,m,_){this._targetEditor.trigger(S,m,_)}createDecorationsCollection(S){return this._targetEditor.createDecorationsCollection(S)}changeDecorations(S){return this._targetEditor.changeDecorations(S)}}e.DelegatingEditor=y,y.idCounter=0}),define(ee[271],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(ee[143],te([1,0,6]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ee[121],te([1,0,169]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){const m=(0,L.toUint8)(S);this._defaultValue=m,this._asciiMap=k._createAsciiMap(m),this._map=new Map}static _createAsciiMap(S){const m=new Uint8Array(256);return m.fill(S),m}set(S,m){const _=(0,L.toUint8)(m);S>=0&&S<256?this._asciiMap[S]=_:this._map.set(S,_)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class y{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}e.CharacterSet=y}),define(ee[80],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,S,m){return D===9?k.nextRenderTabStop(S,m):L.isFullWidthCharacter(D)||L.isEmojiImprecise(D)?S+2:S+1}static visibleColumnFromColumn(D,S,m){const _=Math.min(S-1,D.length),v=D.substring(0,_),C=new L.GraphemeIterator(v);let s=0;for(;!C.eol();){const n=L.getNextCodePoint(v,_,C.offset);C.nextGraphemeLength(),s=this._nextVisibleColumn(n,s,m)}return s}static columnFromVisibleColumn(D,S,m){if(S<=0)return 1;const _=D.length,v=new L.GraphemeIterator(D);let C=0,s=1;for(;!v.eol();){const n=L.getNextCodePoint(D,_,v.offset);v.nextGraphemeLength();const i=this._nextVisibleColumn(n,C,m),t=v.offset+1;if(i>=S){const a=S-C;return i-S<a?t:s}C=i,s=t}return _+1}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=k}),define(ee[122],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function L(k){let y=0,D=0,S=0,m=0;for(let _=0,v=k.length;_<v;_++){const C=k.charCodeAt(_);C===13?(y===0&&(D=_),y++,_+1<v&&k.charCodeAt(_+1)===10?(m|=2,_++):m|=3,S=_+1):C===10&&(m|=1,y===0&&(D=_),y++,S=_+1)}return y===0&&(D=k.length),[y,D,k.length-S,m]}e.countEOL=L}),define(ee[202],te([1,0,10,80]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function y(S,m,_){let v=0;for(let s=0;s<S.length;s++)S.charAt(s)==="	"?v=k.CursorColumns.nextIndentTabStop(v,m):v++;let C="";if(!_){const s=Math.floor(v/m);v=v%m;for(let n=0;n<s;n++)C+="	"}for(let s=0;s<v;s++)C+=" ";return C}function D(S,m,_){let v=L.firstNonWhitespaceIndex(S);return v===-1&&(v=S.length),y(S.substring(0,v),m,_)+S.substring(v)}e.normalizeIndentation=D}),define(ee[81],te([1,0,9]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(S,m){let _=0;for(;_<m.length&&m[_].endExclusive<S.start;)_++;let v=_;for(;v<m.length&&m[v].start<=S.endExclusive;)v++;if(_===v)m.splice(_,0,S);else{const C=Math.min(S.start,m[_].start),s=Math.max(S.endExclusive,m[v-1].endExclusive);m.splice(_,v-_,new k(C,s))}}static tryCreate(S,m){if(!(S>m))return new k(S,m)}static ofLength(S){return new k(0,S)}constructor(S,m){if(this.start=S,this.endExclusive=m,S>m)throw new L.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(S){return new k(this.start+S,this.endExclusive+S)}deltaStart(S){return new k(this.start+S,this.endExclusive)}deltaEnd(S){return new k(this.start,this.endExclusive+S)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(S){return this.start===S.start&&this.endExclusive===S.endExclusive}containsRange(S){return this.start<=S.start&&S.endExclusive<=this.endExclusive}contains(S){return this.start<=S&&S<this.endExclusive}join(S){return new k(Math.min(this.start,S.start),Math.max(this.endExclusive,S.endExclusive))}intersect(S){const m=Math.max(this.start,S.start),_=Math.min(this.endExclusive,S.endExclusive);if(m<=_)return new k(m,_)}slice(S){return S.slice(this.start,this.endExclusive)}clip(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,S))}clipCyclic(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return S<this.start?this.endExclusive-(this.start-S)%this.length:S>=this.endExclusive?this.start+(S-this.start)%this.length:S}forEach(S){for(let m=this.start;m<this.endExclusive;m++)S(m)}}e.OffsetRange=k;class y{constructor(){this._sortedRanges=[]}addRange(S){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<S.start;)m++;let _=m;for(;_<this._sortedRanges.length&&this._sortedRanges[_].start<=S.endExclusive;)_++;if(m===_)this._sortedRanges.splice(m,0,S);else{const v=Math.min(S.start,this._sortedRanges[m].start),C=Math.max(S.endExclusive,this._sortedRanges[_-1].endExclusive);this._sortedRanges.splice(m,_-m,new k(v,C))}}toString(){return this._sortedRanges.map(S=>S.toString()).join(", ")}intersectsStrict(S){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<=S.start;)m++;return m<this._sortedRanges.length&&this._sortedRanges[m].start<S.endExclusive}intersectWithRange(S){const m=new y;for(const _ of this._sortedRanges){const v=_.intersect(S);v&&m.addRange(v)}return m}intersectWithRangeLength(S){return this.intersectWithRange(S).length}get length(){return this._sortedRanges.reduce((S,m)=>S+m.length,0)}}e.OffsetRangeSet=y}),define(ee[12],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class L{constructor(y,D){this.lineNumber=y,this.column=D}with(y=this.lineNumber,D=this.column){return y===this.lineNumber&&D===this.column?this:new L(y,D)}delta(y=0,D=0){return this.with(this.lineNumber+y,this.column+D)}equals(y){return L.equals(this,y)}static equals(y,D){return!y&&!D?!0:!!y&&!!D&&y.lineNumber===D.lineNumber&&y.column===D.column}isBefore(y){return L.isBefore(this,y)}static isBefore(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<D.column}isBeforeOrEqual(y){return L.isBeforeOrEqual(this,y)}static isBeforeOrEqual(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<=D.column}static compare(y,D){const S=y.lineNumber|0,m=D.lineNumber|0;if(S===m){const _=y.column|0,v=D.column|0;return _-v}return S-m}clone(){return new L(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(y){return new L(y.lineNumber,y.column)}static isIPosition(y){return y&&typeof y.lineNumber=="number"&&typeof y.column=="number"}}e.Position=L}),define(ee[272],te([1,0,12]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var S;(S=this.onKeyDown)===null||S===void 0||S.call(this,D)}emitKeyUp(D){var S;(S=this.onKeyUp)===null||S===void 0||S.call(this,D)}emitContextMenu(D){var S;(S=this.onContextMenu)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var S;(S=this.onMouseMove)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var S;(S=this.onMouseLeave)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var S;(S=this.onMouseDown)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var S;(S=this.onMouseUp)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var S;(S=this.onMouseDrag)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var S;(S=this.onMouseDrop)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var S;(S=this.onMouseWheel)===null||S===void 0||S.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,S){const m=Object.assign({},D);return m.position&&(m.position=S.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=S.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,S)),m}static convertViewToModelViewZoneData(D,S){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?S.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?S.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:S.convertViewPositionToModelPosition(D.position),afterLineNumber:S.convertViewPositionToModelPosition(new L.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(ee[5],te([1,0,12]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,S,m,_){D>m||D===m&&S>_?(this.startLineNumber=m,this.startColumn=_,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=m,this.endColumn=_)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}static strictContainsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<=D.startColumn||S.lineNumber===D.endLineNumber&&S.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,S){let m,_,v,C;return S.startLineNumber<D.startLineNumber?(m=S.startLineNumber,_=S.startColumn):S.startLineNumber===D.startLineNumber?(m=S.startLineNumber,_=Math.min(S.startColumn,D.startColumn)):(m=D.startLineNumber,_=D.startColumn),S.endLineNumber>D.endLineNumber?(v=S.endLineNumber,C=S.endColumn):S.endLineNumber===D.endLineNumber?(v=S.endLineNumber,C=Math.max(S.endColumn,D.endColumn)):(v=D.endLineNumber,C=D.endColumn),new k(m,_,v,C)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,S){let m=D.startLineNumber,_=D.startColumn,v=D.endLineNumber,C=D.endColumn;const s=S.startLineNumber,n=S.startColumn,i=S.endLineNumber,t=S.endColumn;return m<s?(m=s,_=n):m===s&&(_=Math.max(_,n)),v>i?(v=i,C=t):v===i&&(C=Math.min(C,t)),m>v||m===v&&_>C?null:new k(m,_,v,C)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,S){return!D&&!S?!0:!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new L.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new L.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new k(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new k(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,S=D){return new k(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const v=D.startLineNumber|0,C=S.startLineNumber|0;if(v===C){const s=D.startColumn|0,n=S.startColumn|0;if(s===n){const i=D.endLineNumber|0,t=S.endLineNumber|0;if(i===t){const a=D.endColumn|0,u=S.endColumn|0;return a-u}return i-t}return s-n}return v-C}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(ee[273],te([1,0,10,5]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class y{constructor(m,_,v,C,s){this.value=m,this.selectionStart=_,this.selectionEnd=v,this.selection=C,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(m,_){const v=m.getValue(),C=m.getSelectionStart(),s=m.getSelectionEnd();let n;if(_){const i=v.substring(0,C),t=_.value.substring(0,_.selectionStart);i===t&&(n=_.newlineCountBeforeSelection)}return new y(v,C,s,null,n)}collapseSelection(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(m,_,v){e._debugComposition&&console.log(`writeToTextArea ${m}: ${this.toString()}`),_.setValue(m,this.value),v&&_.setSelectionRange(m,this.selectionStart,this.selectionEnd)}deduceEditorPosition(m){var _,v,C,s,n,i,t,a;if(m<=this.selectionStart){const l=this.value.substring(m,this.selectionStart);return this._finishDeduceEditorPosition((v=(_=this.selection)===null||_===void 0?void 0:_.getStartPosition())!==null&&v!==void 0?v:null,l,-1)}if(m>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,m);return this._finishDeduceEditorPosition((s=(C=this.selection)===null||C===void 0?void 0:C.getEndPosition())!==null&&s!==void 0?s:null,l,1)}const u=this.value.substring(this.selectionStart,m);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((i=(n=this.selection)===null||n===void 0?void 0:n.getStartPosition())!==null&&i!==void 0?i:null,u,1);const h=this.value.substring(m,this.selectionEnd);return this._finishDeduceEditorPosition((a=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&a!==void 0?a:null,h,-1)}_finishDeduceEditorPosition(m,_,v){let C=0,s=-1;for(;(s=_.indexOf(`
`,s+1))!==-1;)C++;return[m,v*_.length,C]}static deduceInput(m,_,v){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`));const C=Math.min(L.commonPrefixLength(m.value,_.value),m.selectionStart,_.selectionStart),s=Math.min(L.commonSuffixLength(m.value,_.value),m.value.length-m.selectionEnd,_.value.length-_.selectionEnd),n=m.value.substring(C,m.value.length-s),i=_.value.substring(C,_.value.length-s),t=m.selectionStart-C,a=m.selectionEnd-C,u=_.selectionStart-C,h=_.selectionEnd-C;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${t}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${u}, selectionEnd: ${h}`)),u===h){const c=m.selectionStart-C;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${c} chars`),{text:i,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}const l=a-t;return{text:i,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(m,_){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`)),m.value===_.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:_.selectionEnd-m.selectionEnd};const v=Math.min(L.commonPrefixLength(m.value,_.value),m.selectionEnd),C=Math.min(L.commonSuffixLength(m.value,_.value),m.value.length-m.selectionEnd),s=m.value.substring(v,m.value.length-C),n=_.value.substring(v,_.value.length-C),i=m.selectionStart-v,t=m.selectionEnd-v,a=_.selectionStart-v,u=_.selectionEnd-v;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${i}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${a}, selectionEnd: ${u}`)),{text:n,replacePrevCharCnt:t,replaceNextCharCnt:s.length-t,positionDelta:u-n.length}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,void 0);class D{static _getPageOfLine(m,_){return Math.floor((m-1)/_)}static _getRangeForPage(m,_){const v=m*_,C=v+1,s=v+_;return new k.Range(C,1,s+1,1)}static fromEditorSelection(m,_,v,C){const n=D._getPageOfLine(_.startLineNumber,v),i=D._getRangeForPage(n,v),t=D._getPageOfLine(_.endLineNumber,v),a=D._getRangeForPage(t,v);let u=i.intersectRanges(new k.Range(1,1,_.startLineNumber,_.startColumn));if(C&&m.getValueLengthInRange(u,1)>500){const g=m.modifyPosition(u.getEndPosition(),-500);u=k.Range.fromPositions(g,u.getEndPosition())}const h=m.getValueInRange(u,1),l=m.getLineCount(),c=m.getLineMaxColumn(l);let o=a.intersectRanges(new k.Range(_.endLineNumber,_.endColumn,l,c));if(C&&m.getValueLengthInRange(o,1)>500){const g=m.modifyPosition(o.getStartPosition(),500);o=k.Range.fromPositions(o.getStartPosition(),g)}const d=m.getValueInRange(o,1);let r;if(n===t||n+1===t)r=m.getValueInRange(_,1);else{const g=i.intersectRanges(_),f=a.intersectRanges(_);r=m.getValueInRange(g,1)+String.fromCharCode(8230)+m.getValueInRange(f,1)}return C&&r.length>2*500&&(r=r.substring(0,500)+String.fromCharCode(8230)+r.substring(r.length-500,r.length)),new y(h+r+d,h.length,h.length+r.length,_,u.endLineNumber-u.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(ee[484],te([1,0,14,19,9,47,12,5]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class _{remove(){var i;(i=this.parent)===null||i===void 0||i.children.delete(this.id)}static findId(i,t){let a;typeof i=="string"?a=`${t.id}/${i}`:(a=`${t.id}/${i.name}`,t.children.get(a)!==void 0&&(a=`${t.id}/${i.name}_${i.range.startLineNumber}_${i.range.startColumn}`));let u=a;for(let h=0;t.children.get(u)!==void 0;h++)u=`${a}_${h}`;return u}static empty(i){return i.children.size===0}}e.TreeElement=_;class v extends _{constructor(i,t,a){super(),this.id=i,this.parent=t,this.symbol=a,this.children=new Map}}e.OutlineElement=v;class C extends _{constructor(i,t,a,u){super(),this.id=i,this.parent=t,this.label=a,this.order=u,this.children=new Map}}e.OutlineGroup=C;class s extends _{static create(i,t,a){const u=new k.CancellationTokenSource(a),h=new s(t.uri),l=i.ordered(t),c=l.map((d,r)=>{var g;const f=_.findId(`provider_${r}`,h),p=new C(f,h,(g=d.displayName)!==null&&g!==void 0?g:"Unknown Outline Provider",r);return Promise.resolve(d.provideDocumentSymbols(t,u.token)).then(b=>{for(const w of b||[])s._makeOutlineElement(w,p);return p},b=>((0,y.onUnexpectedExternalError)(b),p)).then(b=>{_.empty(b)?b.remove():h._groups.set(f,b)})}),o=i.onDidChange(()=>{const d=i.ordered(t);(0,L.equals)(d,l)||u.cancel()});return Promise.all(c).then(()=>u.token.isCancellationRequested&&!a.isCancellationRequested?s.create(i,t,a):h._compact()).finally(()=>{u.dispose(),o.dispose()})}static _makeOutlineElement(i,t){const a=_.findId(i,t),u=new v(a,t,i);if(i.children)for(const h of i.children)s._makeOutlineElement(h,u);t.children.set(u.id,u)}constructor(i){super(),this.uri=i,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let i=0;for(const[t,a]of this._groups)a.children.size===0?this._groups.delete(t):i+=1;if(i!==1)this.children=this._groups;else{const t=D.Iterable.first(this._groups.values());for(const[,a]of t.children)a.parent=this,this.children.set(a.id,a)}return this}getTopLevelSymbols(){const i=[];for(const t of this.children.values())t instanceof v?i.push(t.symbol):i.push(...D.Iterable.map(t.children.values(),a=>a.symbol));return i.sort((t,a)=>m.Range.compareRangesUsingStarts(t.range,a.range))}asListOfDocumentSymbols(){const i=this.getTopLevelSymbols(),t=[];return s._flattenDocumentSymbols(t,i,""),t.sort((a,u)=>S.Position.compare(m.Range.getStartPosition(a.range),m.Range.getStartPosition(u.range))||S.Position.compare(m.Range.getEndPosition(u.range),m.Range.getEndPosition(a.range)))}static _flattenDocumentSymbols(i,t,a){for(const u of t)i.push({kind:u.kind,tags:u.tags,name:u.name,detail:u.detail,containerName:u.containerName||a,range:u.range,selectionRange:u.selectionRange,children:void 0}),u.children&&s._flattenDocumentSymbols(i,u.children,u.name)}}e.OutlineModel=s}),define(ee[70],te([1,0,5]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,S){return{range:new L.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ee[485],te([1,0,10,70,5]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(_,v){this._selection=_,this._cursors=v,this._selectionId=null}getEditOperations(_,v){const C=S(_,this._cursors);for(let s=0,n=C.length;s<n;s++){const i=C[s];v.addEditOperation(i.range,i.text)}this._selectionId=v.trackSelection(this._selection)}computeCursorState(_,v){return v.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(m,_){_.sort((i,t)=>i.lineNumber===t.lineNumber?i.column-t.column:i.lineNumber-t.lineNumber);for(let i=_.length-2;i>=0;i--)_[i].lineNumber===_[i+1].lineNumber&&_.splice(i,1);const v=[];let C=0,s=0;const n=_.length;for(let i=1,t=m.getLineCount();i<=t;i++){const a=m.getLineContent(i),u=a.length+1;let h=0;if(s<n&&_[s].lineNumber===i&&(h=_[s].column,s++,h===u)||a.length===0)continue;const l=L.lastNonWhitespaceIndex(a);let c=0;if(l===-1)c=1;else if(l!==a.length-1)c=l+2;else continue;c=Math.max(h,c),v[C++]=k.EditOperation.delete(new y.Range(i,c,i,u))}return v}e.trimTrailingWhitespace=S}),define(ee[64],te([1,0,9,81,5,78]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class S{static fromRange(v){return new S(v.startLineNumber,v.endLineNumber)}static joinMany(v){if(v.length===0)return[];let C=new m(v[0].slice());for(let s=1;s<v.length;s++)C=C.getUnion(new m(v[s].slice()));return C.ranges}static ofLength(v,C){return new S(v,v+C)}static deserialize(v){return new S(v[0],v[1])}constructor(v,C){if(v>C)throw new L.BugIndicatingError(`startLineNumber ${v} cannot be after endLineNumberExclusive ${C}`);this.startLineNumber=v,this.endLineNumberExclusive=C}contains(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(v){return new S(this.startLineNumber+v,this.endLineNumberExclusive+v)}deltaLength(v){return new S(this.startLineNumber,this.endLineNumberExclusive+v)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(v){return new S(Math.min(this.startLineNumber,v.startLineNumber),Math.max(this.endLineNumberExclusive,v.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(v){const C=Math.max(this.startLineNumber,v.startLineNumber),s=Math.min(this.endLineNumberExclusive,v.endLineNumberExclusive);if(C<=s)return new S(C,s)}intersectsStrict(v){return this.startLineNumber<v.endLineNumberExclusive&&v.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(v){return this.startLineNumber<=v.endLineNumberExclusive&&v.startLineNumber<=this.endLineNumberExclusive}equals(v){return this.startLineNumber===v.startLineNumber&&this.endLineNumberExclusive===v.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new y.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new y.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(v){const C=[];for(let s=this.startLineNumber;s<this.endLineNumberExclusive;s++)C.push(v(s));return C}forEach(v){for(let C=this.startLineNumber;C<this.endLineNumberExclusive;C++)v(C)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=S;class m{constructor(v=[]){this._normalizedRanges=v}get ranges(){return this._normalizedRanges}addRange(v){if(v.length===0)return;const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,n=>n.endLineNumberExclusive>=v.startLineNumber),s=(0,D.findLastIdxMonotonous)(this._normalizedRanges,n=>n.startLineNumber<=v.endLineNumberExclusive)+1;if(C===s)this._normalizedRanges.splice(C,0,v);else if(C===s-1){const n=this._normalizedRanges[C];this._normalizedRanges[C]=n.join(v)}else{const n=this._normalizedRanges[C].join(this._normalizedRanges[s-1]).join(v);this._normalizedRanges.splice(C,s-C,n)}}contains(v){const C=(0,D.findLastMonotonous)(this._normalizedRanges,s=>s.startLineNumber<=v);return!!C&&C.endLineNumberExclusive>v}getUnion(v){if(this._normalizedRanges.length===0)return v;if(v._normalizedRanges.length===0)return this;const C=[];let s=0,n=0,i=null;for(;s<this._normalizedRanges.length||n<v._normalizedRanges.length;){let t=null;if(s<this._normalizedRanges.length&&n<v._normalizedRanges.length){const a=this._normalizedRanges[s],u=v._normalizedRanges[n];a.startLineNumber<u.startLineNumber?(t=a,s++):(t=u,n++)}else s<this._normalizedRanges.length?(t=this._normalizedRanges[s],s++):(t=v._normalizedRanges[n],n++);i===null?i=t:i.endLineNumberExclusive>=t.startLineNumber?i=new S(i.startLineNumber,Math.max(i.endLineNumberExclusive,t.endLineNumberExclusive)):(C.push(i),i=t)}return i!==null&&C.push(i),new m(C)}subtractFrom(v){const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=v.startLineNumber),s=(0,D.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=v.endLineNumberExclusive)+1;if(C===s)return new m([v]);const n=[];let i=v.startLineNumber;for(let t=C;t<s;t++){const a=this._normalizedRanges[t];a.startLineNumber>i&&n.push(new S(i,a.startLineNumber)),i=a.endLineNumberExclusive}return i<v.endLineNumberExclusive&&n.push(new S(i,v.endLineNumberExclusive)),new m(n)}toString(){return this._normalizedRanges.map(v=>v.toString()).join(", ")}getIntersection(v){const C=[];let s=0,n=0;for(;s<this._normalizedRanges.length&&n<v._normalizedRanges.length;){const i=this._normalizedRanges[s],t=v._normalizedRanges[n],a=i.intersect(t);a&&!a.isEmpty&&C.push(a),i.endLineNumberExclusive<t.endLineNumberExclusive?s++:n++}return new m(C)}getWithDelta(v){return new m(this._normalizedRanges.map(C=>C.delta(v)))}}e.LineRangeSet=m}),define(ee[274],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class L{constructor(y,D,S,m){this._rgba8Brand=void 0,this.r=L._clamp(y),this.g=L._clamp(D),this.b=L._clamp(S),this.a=L._clamp(m)}equals(y){return this.r===y.r&&this.g===y.g&&this.b===y.b&&this.a===y.a}static _clamp(y){return y<0?0:y>255?255:y|0}}e.RGBA8=L,L.Empty=new L(0,0,0,0)}),define(ee[24],te([1,0,12,5]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class y extends k.Range{constructor(S,m,_,v){super(S,m,_,v),this.selectionStartLineNumber=S,this.selectionStartColumn=m,this.positionLineNumber=_,this.positionColumn=v}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return y.selectionsEqual(this,S)}static selectionsEqual(S,m){return S.selectionStartLineNumber===m.selectionStartLineNumber&&S.selectionStartColumn===m.selectionStartColumn&&S.positionLineNumber===m.positionLineNumber&&S.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,m){return this.getDirection()===0?new y(this.startLineNumber,this.startColumn,S,m):new y(S,m,this.startLineNumber,this.startColumn)}getPosition(){return new L.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new L.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,m){return this.getDirection()===0?new y(S,m,this.endLineNumber,this.endColumn):new y(this.endLineNumber,this.endColumn,S,m)}static fromPositions(S,m=S){return new y(S.lineNumber,S.column,m.lineNumber,m.column)}static fromRange(S,m){return m===0?new y(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new y(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new y(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,m){if(S&&!m||!S&&m)return!1;if(!S&&!m)return!0;if(S.length!==m.length)return!1;for(let _=0,v=S.length;_<v;_++)if(!this.selectionsEqual(S[_],m[_]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,m,_,v,C){return C===0?new y(S,m,_,v):new y(_,v,S,m)}}e.Selection=y}),define(ee[123],te([1,0,24]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(v,C,s=!1){this._range=v,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const n=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(n.getEndPosition())}}e.ReplaceCommand=k;class y{constructor(v,C){this._range=v,this._text=C}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const n=C.getInverseEditOperations()[0].range;return L.Selection.fromRange(n,0)}}e.ReplaceCommandThatSelectsText=y;class D{constructor(v,C,s=!1){this._range=v,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const n=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(n.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(v,C,s,n,i=!1){this._range=v,this._text=C,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=i}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const n=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class m{constructor(v,C,s,n=!1){this._range=v,this._text=C,this._initialSelection=s,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(v,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(ee[486],te([1,0,5,24]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class y{constructor(m,_,v){this._range=m,this._charBeforeSelection=_,this._charAfterSelection=v}getEditOperations(m,_){_.addTrackedEditOperation(new L.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new L.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(m,_){const v=_.getInverseEditOperations(),C=v[0].range,s=v[1].range;return new k.Selection(C.endLineNumber,C.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=y;class D{constructor(m,_,v){this._position=m,this._text=_,this._charAfter=v}getEditOperations(m,_){_.addTrackedEditOperation(new L.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(m,_){const C=_.getInverseEditOperations()[0].range;return new k.Selection(C.endLineNumber,C.startColumn,C.endLineNumber,C.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(ee[174],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ee[144],te([1,0,121]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends L.CharacterClassifier{constructor(S){super(0);for(let m=0,_=S.length;m<_;m++)this.set(S.charCodeAt(m),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function y(D){const S={};return m=>(S.hasOwnProperty(m)||(S[m]=D(m)),S[m])}e.getMapForWordSeparators=y(D=>new k(D))}),define(ee[145],te([1,0,47,62]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(v=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const s of e.USUAL_WORD_SEPARATORS)v.indexOf(s)>=0||(C+="\\"+s);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=y();function D(v){let C=e.DEFAULT_WORD_REGEXP;if(v&&v instanceof RegExp)if(v.global)C=v;else{let s="g";v.ignoreCase&&(s+="i"),v.multiline&&(s+="m"),v.unicode&&(s+="u"),C=new RegExp(v.source,s)}return C.lastIndex=0,C}e.ensureValidWordDefinition=D;const S=new k.LinkedList;S.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function m(v,C,s,n,i){if(i||(i=L.Iterable.first(S)),s.length>i.maxLen){let l=v-i.maxLen/2;return l<0?l=0:n+=l,s=s.substring(l,v+i.maxLen/2),m(v,C,s,n,i)}const t=Date.now(),a=v-1-n;let u=-1,h=null;for(let l=1;!(Date.now()-t>=i.timeBudget);l++){const c=a-i.windowSize*l;C.lastIndex=Math.max(0,c);const o=_(C,s,a,u);if(!o&&h||(h=o,c<=0))break;u=c}if(h){const l={word:h[0],startColumn:n+1+h.index,endColumn:n+1+h.index+h[0].length};return C.lastIndex=0,l}return null}e.getWordAtText=m;function _(v,C,s,n){let i;for(;i=v.exec(C);){const t=i.index||0;if(t<=s&&v.lastIndex>=s)return i;if(n>0&&t>n)return null}return null}}),define(ee[275],te([1,0,80]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,S,m){const _=D.length;let v=0,C=-1,s=-1;for(let n=0;n<_;n++){if(n===S)return[C,s,v];switch(v%m===0&&(C=n,s=v),D.charCodeAt(n)){case 32:v+=1;break;case 9:v=L.CursorColumns.nextRenderTabStop(v,m);break;default:return[-1,-1,-1]}}return S===_?[C,s,v]:[-1,-1,-1]}static atomicPosition(D,S,m,_){const v=D.length,[C,s,n]=k.whitespaceVisibleColumn(D,S,m);if(n===-1)return-1;let i;switch(_){case 0:i=!0;break;case 1:i=!1;break;case 2:if(n%m===0)return S;i=n%m<=m/2;break}if(i){if(C===-1)return-1;let u=s;for(let h=C;h<v;++h){if(u===s+m)return C;switch(D.charCodeAt(h)){case 32:u+=1;break;case 9:u=L.CursorColumns.nextRenderTabStop(u,m);break;default:return-1}}return u===s+m?C:-1}const t=L.CursorColumns.nextRenderTabStop(n,m);let a=n;for(let u=S;u<v;u++){if(a===t)return u;switch(D.charCodeAt(u)){case 32:a+=1;break;case 9:a=L.CursorColumns.nextRenderTabStop(a,m);break;default:return-1}}return a===t?v:-1}}e.AtomicTabMoveOperations=k}),define(ee[487],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class L{constructor(y,D,S,m){this._cursorContextBrand=void 0,this.model=y,this.viewModel=D,this.coordinatesConverter=S,this.cursorConfig=m}}e.CursorContext=L}),define(ee[146],te([1,0,14,9,81]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class D{static trivial(C,s){return new D([new S(new y.OffsetRange(0,C.length),new y.OffsetRange(0,s.length))],!1)}static trivialTimedOut(C,s){return new D([new S(new y.OffsetRange(0,C.length),new y.OffsetRange(0,s.length))],!0)}constructor(C,s){this.diffs=C,this.hitTimeout=s}}e.DiffAlgorithmResult=D;class S{static invert(C,s){const n=[];return(0,L.forEachAdjacent)(C,(i,t)=>{const a=i?i.seq1Range.endExclusive:0,u=i?i.seq2Range.endExclusive:0,h=t?t.seq1Range.start:s,l=t?t.seq2Range.start:(i?i.seq2Range.endExclusive-i.seq1Range.endExclusive:0)+s;n.push(new S(new y.OffsetRange(a,h),new y.OffsetRange(u,l)))}),n}constructor(C,s){this.seq1Range=C,this.seq2Range=s}swap(){return new S(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(C){return new S(this.seq1Range.join(C.seq1Range),this.seq2Range.join(C.seq2Range))}delta(C){return C===0?this:new S(this.seq1Range.delta(C),this.seq2Range.delta(C))}}e.SequenceDiff=S;class m{isValid(){return!0}}e.InfiniteTimeout=m,m.instance=new m;class _{constructor(C){if(this.timeout=C,this.startTime=Date.now(),this.valid=!0,C<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=_}),define(ee[276],te([1,0,81,146]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class y{compute(v,C,s=k.InfiniteTimeout.instance){if(v.length===0||C.length===0)return k.DiffAlgorithmResult.trivial(v,C);function n(d,r){for(;d<v.length&&r<C.length&&v.getElement(d)===C.getElement(r);)d++,r++;return d}let i=0;const t=new S;t.set(0,n(0,0));const a=new m;a.set(0,t.get(0)===0?null:new D(null,0,0,t.get(0)));let u=0;e:for(;;){if(i++,!s.isValid())return k.DiffAlgorithmResult.trivialTimedOut(v,C);const d=-Math.min(i,C.length+i%2),r=Math.min(i,v.length+i%2);for(u=d;u<=r;u+=2){const g=u===r?-1:t.get(u+1),f=u===d?-1:t.get(u-1)+1,p=Math.min(Math.max(g,f),v.length),b=p-u;if(p>v.length||b>C.length)continue;const w=n(p,b);t.set(u,w);const E=p===g?a.get(u+1):a.get(u-1);if(a.set(u,w!==p?new D(E,p,b,w-p):E),t.get(u)===v.length&&t.get(u)-u===C.length)break e}}let h=a.get(u);const l=[];let c=v.length,o=C.length;for(;;){const d=h?h.x+h.length:0,r=h?h.y+h.length:0;if((d!==c||r!==o)&&l.push(new k.SequenceDiff(new L.OffsetRange(d,c),new L.OffsetRange(r,o))),!h)break;c=h.x,o=h.y,h=h.prev}return l.reverse(),new k.DiffAlgorithmResult(l,!1)}}e.MyersDiffAlgorithm=y;class D{constructor(v,C,s,n){this.prev=v,this.x=C,this.y=s,this.length=n}}class S{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,C){if(v<0){if(v=-v-1,v>=this.negativeArr.length){const s=this.negativeArr;this.negativeArr=new Int32Array(s.length*2),this.negativeArr.set(s)}this.negativeArr[v]=C}else{if(v>=this.positiveArr.length){const s=this.positiveArr;this.positiveArr=new Int32Array(s.length*2),this.positiveArr.set(s)}this.positiveArr[v]=C}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,C){v<0?(v=-v-1,this.negativeArr[v]=C):this.positiveArr[v]=C}}}),define(ee[488],te([1,0,81,146]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeVeryShortMatchingTextBetweenLongDiffs=e.removeVeryShortMatchingLinesBetweenDiffs=e.extendDiffsToEntireWordIfAppropriate=e.removeShortMatches=e.optimizeSequenceDiffs=void 0;function y(i,t,a){let u=a;return u=D(i,t,u),u=S(i,t,u),u}e.optimizeSequenceDiffs=y;function D(i,t,a){if(a.length===0)return a;const u=[];u.push(a[0]);for(let l=1;l<a.length;l++){const c=u[u.length-1];let o=a[l];if(o.seq1Range.isEmpty||o.seq2Range.isEmpty){const d=o.seq1Range.start-c.seq1Range.endExclusive;let r;for(r=1;r<=d&&!(i.getElement(o.seq1Range.start-r)!==i.getElement(o.seq1Range.endExclusive-r)||t.getElement(o.seq2Range.start-r)!==t.getElement(o.seq2Range.endExclusive-r));r++);if(r--,r===d){u[u.length-1]=new k.SequenceDiff(new L.OffsetRange(c.seq1Range.start,o.seq1Range.endExclusive-d),new L.OffsetRange(c.seq2Range.start,o.seq2Range.endExclusive-d));continue}o=o.delta(-r)}u.push(o)}const h=[];for(let l=0;l<u.length-1;l++){const c=u[l+1];let o=u[l];if(o.seq1Range.isEmpty||o.seq2Range.isEmpty){const d=c.seq1Range.start-o.seq1Range.endExclusive;let r;for(r=0;r<d&&!(i.getElement(o.seq1Range.start+r)!==i.getElement(o.seq1Range.endExclusive+r)||t.getElement(o.seq2Range.start+r)!==t.getElement(o.seq2Range.endExclusive+r));r++);if(r===d){u[l+1]=new k.SequenceDiff(new L.OffsetRange(o.seq1Range.start+d,c.seq1Range.endExclusive),new L.OffsetRange(o.seq2Range.start+d,c.seq2Range.endExclusive));continue}r>0&&(o=o.delta(r))}h.push(o)}return u.length>0&&h.push(u[u.length-1]),h}function S(i,t,a){if(!i.getBoundaryScore||!t.getBoundaryScore)return a;for(let u=0;u<a.length;u++){const h=u>0?a[u-1]:void 0,l=a[u],c=u+1<a.length?a[u+1]:void 0,o=new L.OffsetRange(h?h.seq1Range.start+1:0,c?c.seq1Range.endExclusive-1:i.length),d=new L.OffsetRange(h?h.seq2Range.start+1:0,c?c.seq2Range.endExclusive-1:t.length);l.seq1Range.isEmpty?a[u]=m(l,i,t,o,d):l.seq2Range.isEmpty&&(a[u]=m(l.swap(),t,i,d,o).swap())}return a}function m(i,t,a,u,h){let c=1;for(;i.seq1Range.start-c>=u.start&&i.seq2Range.start-c>=h.start&&a.isStronglyEqual(i.seq2Range.start-c,i.seq2Range.endExclusive-c)&&c<100;)c++;c--;let o=0;for(;i.seq1Range.start+o<u.endExclusive&&i.seq2Range.endExclusive+o<h.endExclusive&&a.isStronglyEqual(i.seq2Range.start+o,i.seq2Range.endExclusive+o)&&o<100;)o++;if(c===0&&o===0)return i;let d=0,r=-1;for(let g=-c;g<=o;g++){const f=i.seq2Range.start+g,p=i.seq2Range.endExclusive+g,b=i.seq1Range.start+g,w=t.getBoundaryScore(b)+a.getBoundaryScore(f)+a.getBoundaryScore(p);w>r&&(r=w,d=g)}return i.delta(d)}function _(i,t,a){const u=[];for(const h of a){const l=u[u.length-1];if(!l){u.push(h);continue}h.seq1Range.start-l.seq1Range.endExclusive<=2||h.seq2Range.start-l.seq2Range.endExclusive<=2?u[u.length-1]=new k.SequenceDiff(l.seq1Range.join(h.seq1Range),l.seq2Range.join(h.seq2Range)):u.push(h)}return u}e.removeShortMatches=_;function v(i,t,a){const u=[];let h;function l(){if(!h)return;const o=h.s1Range.length-h.deleted,d=h.s2Range.length-h.added;Math.max(h.deleted,h.added)+(h.count-1)>o&&u.push(new k.SequenceDiff(h.s1Range,h.s2Range)),h=void 0}for(const o of a){let d=function(b,w){var E,I,N,R;if(!h||!h.s1Range.containsRange(b)||!h.s2Range.containsRange(w))if(h&&!(h.s1Range.endExclusive<b.start&&h.s2Range.endExclusive<w.start)){const A=L.OffsetRange.tryCreate(h.s1Range.endExclusive,b.start),T=L.OffsetRange.tryCreate(h.s2Range.endExclusive,w.start);h.deleted+=(E=A?.length)!==null&&E!==void 0?E:0,h.added+=(I=T?.length)!==null&&I!==void 0?I:0,h.s1Range=h.s1Range.join(b),h.s2Range=h.s2Range.join(w)}else l(),h={added:0,deleted:0,count:0,s1Range:b,s2Range:w};const F=b.intersect(o.seq1Range),M=w.intersect(o.seq2Range);h.count++,h.deleted+=(N=F?.length)!==null&&N!==void 0?N:0,h.added+=(R=M?.length)!==null&&R!==void 0?R:0};const r=i.findWordContaining(o.seq1Range.start-1),g=t.findWordContaining(o.seq2Range.start-1),f=i.findWordContaining(o.seq1Range.endExclusive),p=t.findWordContaining(o.seq2Range.endExclusive);r&&f&&g&&p&&r.equals(f)&&g.equals(p)?d(r,g):(r&&g&&d(r,g),f&&p&&d(f,p))}return l(),C(a,u)}e.extendDiffsToEntireWordIfAppropriate=v;function C(i,t){const a=[];for(;i.length>0||t.length>0;){const u=i[0],h=t[0];let l;u&&(!h||u.seq1Range.start<h.seq1Range.start)?l=i.shift():l=t.shift(),a.length>0&&a[a.length-1].seq1Range.endExclusive>=l.seq1Range.start?a[a.length-1]=a[a.length-1].join(l):a.push(l)}return a}function s(i,t,a){let u=a;if(u.length===0)return u;let h=0,l;do{l=!1;const c=[u[0]];for(let o=1;o<u.length;o++){let g=function(p,b){const w=new L.OffsetRange(r.seq1Range.endExclusive,d.seq1Range.start);return i.getText(w).replace(/\s/g,"").length<=4&&(p.seq1Range.length+p.seq2Range.length>5||b.seq1Range.length+b.seq2Range.length>5)};const d=u[o],r=c[c.length-1];g(r,d)?(l=!0,c[c.length-1]=c[c.length-1].join(d)):c.push(d)}u=c}while(h++<10&&l);return u}e.removeVeryShortMatchingLinesBetweenDiffs=s;function n(i,t,a){let u=a;if(u.length===0)return u;let h=0,l;do{l=!1;const c=[u[0]];for(let o=1;o<u.length;o++){let g=function(p,b){const w=new L.OffsetRange(r.seq1Range.endExclusive,d.seq1Range.start);if(i.countLinesIn(w)>5||w.length>500)return!1;const I=i.getText(w).trim();if(I.length>20||I.split(/\r\n|\r|\n/).length>1)return!1;const N=i.countLinesIn(p.seq1Range),R=p.seq1Range.length,F=t.countLinesIn(p.seq2Range),M=p.seq2Range.length,A=i.countLinesIn(b.seq1Range),T=b.seq1Range.length,O=t.countLinesIn(b.seq2Range),P=b.seq2Range.length,x=2*40+50;function z(q){return Math.min(q,x)}return Math.pow(Math.pow(z(N*40+R),1.5)+Math.pow(z(F*40+M),1.5),1.5)+Math.pow(Math.pow(z(A*40+T),1.5)+Math.pow(z(O*40+P),1.5),1.5)>Math.pow(Math.pow(x,1.5),1.5)*1.3};const d=u[o],r=c[c.length-1];g(r,d)?(l=!0,c[c.length-1]=c[c.length-1].join(d)):c.push(d)}u=c}while(h++<10&&l);for(let c=0;c<u.length;c++){const o=u[c];let d=o.seq1Range,r=o.seq2Range;const g=i.extendToFullLines(o.seq1Range),f=i.getText(new L.OffsetRange(g.start,o.seq1Range.start));f.length>0&&f.trim().length<=3&&o.seq1Range.length+o.seq2Range.length>100&&(d=o.seq1Range.deltaStart(-f.length),r=o.seq2Range.deltaStart(-f.length));const p=i.getText(new L.OffsetRange(o.seq1Range.endExclusive,g.endExclusive));p.length>0&&p.trim().length<=3&&o.seq1Range.length+o.seq2Range.length>150&&(d=d.deltaEnd(p.length),r=r.deltaEnd(p.length)),u[c]=new k.SequenceDiff(d,r)}return u}e.removeVeryShortMatchingTextBetweenLongDiffs=n}),define(ee[489],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class L{constructor(D,S){this.trimmedHash=D,this.lines=S}getElement(D){return this.trimmedHash[D]}get length(){return this.trimmedHash.length}getBoundaryScore(D){const S=D===0?0:k(this.lines[D-1]),m=D===this.lines.length?0:k(this.lines[D]);return 1e3-(S+m)}getText(D){return this.lines.slice(D.start,D.endExclusive).join(`
`)}isStronglyEqual(D,S){return this.lines[D]===this.lines[S]}}e.LineSequence=L;function k(y){let D=0;for(;D<y.length&&(y.charCodeAt(D)===32||y.charCodeAt(D)===9);)D++;return D}}),define(ee[203],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.isSpace=e.Array2D=void 0;class L{constructor(S,m){this.width=S,this.height=m,this.array=[],this.array=new Array(S*m)}get(S,m){return this.array[S+m*this.width]}set(S,m,_){this.array[S+m*this.width]=_}}e.Array2D=L;function k(D){return D===32||D===9}e.isSpace=k;class y{static getKey(S){let m=this.chrKeys.get(S);return m===void 0&&(m=this.chrKeys.size,this.chrKeys.set(S,m)),m}constructor(S,m,_){this.range=S,this.lines=m,this.source=_,this.histogram=[];let v=0;for(let C=S.startLineNumber-1;C<S.endLineNumberExclusive-1;C++){const s=m[C];for(let i=0;i<s.length;i++){v++;const t=s[i],a=y.getKey(t);this.histogram[a]=(this.histogram[a]||0)+1}v++;const n=y.getKey(`
`);this.histogram[n]=(this.histogram[n]||0)+1}this.totalCount=v}computeSimilarity(S){var m,_;let v=0;const C=Math.max(this.histogram.length,S.histogram.length);for(let s=0;s<C;s++)v+=Math.abs(((m=this.histogram[s])!==null&&m!==void 0?m:0)-((_=S.histogram[s])!==null&&_!==void 0?_:0));return 1-v/(this.totalCount+S.totalCount)}}e.LineRangeFragment=y,y.chrKeys=new Map}),define(ee[490],te([1,0,81,146,203]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(m,_,v=k.InfiniteTimeout.instance,C){if(m.length===0||_.length===0)return k.DiffAlgorithmResult.trivial(m,_);const s=new y.Array2D(m.length,_.length),n=new y.Array2D(m.length,_.length),i=new y.Array2D(m.length,_.length);for(let o=0;o<m.length;o++)for(let d=0;d<_.length;d++){if(!v.isValid())return k.DiffAlgorithmResult.trivialTimedOut(m,_);const r=o===0?0:s.get(o-1,d),g=d===0?0:s.get(o,d-1);let f;m.getElement(o)===_.getElement(d)?(o===0||d===0?f=0:f=s.get(o-1,d-1),o>0&&d>0&&n.get(o-1,d-1)===3&&(f+=i.get(o-1,d-1)),f+=C?C(o,d):1):f=-1;const p=Math.max(r,g,f);if(p===f){const b=o>0&&d>0?i.get(o-1,d-1):0;i.set(o,d,b+1),n.set(o,d,3)}else p===r?(i.set(o,d,0),n.set(o,d,1)):p===g&&(i.set(o,d,0),n.set(o,d,2));s.set(o,d,p)}const t=[];let a=m.length,u=_.length;function h(o,d){(o+1!==a||d+1!==u)&&t.push(new k.SequenceDiff(new L.OffsetRange(o+1,a),new L.OffsetRange(d+1,u))),a=o,u=d}let l=m.length-1,c=_.length-1;for(;l>=0&&c>=0;)n.get(l,c)===3?(h(l,c),l--,c--):n.get(l,c)===1?l--:c--;return h(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=D}),define(ee[277],te([1,0,78,81,12,5,203]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class m{constructor(i,t,a){this.lines=i,this.considerWhitespaceChanges=a,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let u=!1;t.start>0&&t.endExclusive>=i.length&&(t=new k.OffsetRange(t.start-1,t.endExclusive),u=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let h=this.lineRange.start;h<this.lineRange.endExclusive;h++){let l=i[h],c=0;if(u)c=l.length,l="",u=!1;else if(!a){const o=l.trimStart();c=l.length-o.length,l=o.trimEnd()}this.additionalOffsetByLine.push(c);for(let o=0;o<l.length;o++)this.elements.push(l.charCodeAt(o));h<i.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLine[h-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(i){return this.elements.slice(i.start,i.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(i){return this.elements[i]}get length(){return this.elements.length}getBoundaryScore(i){const t=s(i>0?this.elements[i-1]:-1),a=s(i<this.elements.length?this.elements[i]:-1);if(t===6&&a===7)return 0;let u=0;return t!==a&&(u+=10,a===1&&(u+=1)),u+=C(t),u+=C(a),u}translateOffset(i){if(this.lineRange.isEmpty)return new y.Position(this.lineRange.start+1,1);const t=(0,L.findLastIdxMonotonous)(this.firstCharOffsetByLine,a=>a<=i);return new y.Position(this.lineRange.start+t+1,i-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(i){return D.Range.fromPositions(this.translateOffset(i.start),this.translateOffset(i.endExclusive))}findWordContaining(i){if(i<0||i>=this.elements.length||!_(this.elements[i]))return;let t=i;for(;t>0&&_(this.elements[t-1]);)t--;let a=i;for(;a<this.elements.length&&_(this.elements[a]);)a++;return new k.OffsetRange(t,a)}countLinesIn(i){return this.translateOffset(i.endExclusive).lineNumber-this.translateOffset(i.start).lineNumber}isStronglyEqual(i,t){return this.elements[i]===this.elements[t]}extendToFullLines(i){var t,a;const u=(t=(0,L.findLastMonotonous)(this.firstCharOffsetByLine,l=>l<=i.start))!==null&&t!==void 0?t:0,h=(a=(0,L.findFirstMonotonous)(this.firstCharOffsetByLine,l=>i.endExclusive<=l))!==null&&a!==void 0?a:this.elements.length;return new k.OffsetRange(u,h)}}e.LinesSliceCharSequence=m;function _(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const v={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function C(n){return v[n]}function s(n){return n===10?7:n===13?6:(0,S.isSpace)(n)?5:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:4}}),define(ee[204],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class L{constructor(D,S,m){this.changes=D,this.moves=S,this.hitTimeout=m}}e.LinesDiff=L;class k{constructor(D,S){this.lineRangeMapping=D,this.changes=S}}e.MovedText=k}),define(ee[108],te([1,0,64]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class k{static inverse(m,_,v){const C=[];let s=1,n=1;for(const t of m){const a=new y(new L.LineRange(s,t.original.startLineNumber),new L.LineRange(n,t.modified.startLineNumber),void 0);a.modified.isEmpty||C.push(a),s=t.original.endLineNumberExclusive,n=t.modified.endLineNumberExclusive}const i=new y(new L.LineRange(s,_+1),new L.LineRange(n,v+1),void 0);return i.modified.isEmpty||C.push(i),C}constructor(m,_){this.original=m,this.modified=_}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}join(m){return new k(this.original.join(m.original),this.modified.join(m.modified))}}e.LineRangeMapping=k;class y extends k{constructor(m,_,v){super(m,_),this.innerChanges=v}}e.DetailedLineRangeMapping=y;class D{constructor(m,_){this.originalRange=m,this.modifiedRange=_}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.RangeMapping=D}),define(ee[491],te([1,0,146,108,14,78,163,64,81,277,203,276]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=void 0;function n(l,c,o,d,r,g){let{moves:f,excludedChanges:p}=i(l,c,o,g);if(!g.isValid())return[];const b=l.filter(E=>!p.has(E)),w=t(b,d,r,c,o,g);return(0,y.pushMany)(f,w),f=u(f),f=f.filter(E=>E.original.toOffsetRange().slice(c).map(N=>N.trim()).join(`
`).length>=10),f=h(l,f),f}e.computeMovedLines=n;function i(l,c,o,d){const r=[],g=l.filter(b=>b.modified.isEmpty&&b.original.length>=3).map(b=>new C.LineRangeFragment(b.original,c,b)),f=new Set(l.filter(b=>b.original.isEmpty&&b.modified.length>=3).map(b=>new C.LineRangeFragment(b.modified,o,b))),p=new Set;for(const b of g){let w=-1,E;for(const I of f){const N=b.computeSimilarity(I);N>w&&(w=N,E=I)}if(w>.9&&E&&(f.delete(E),r.push(new k.LineRangeMapping(b.range,E.range)),p.add(b.source),p.add(E.source)),!d.isValid())return{moves:r,excludedChanges:p}}return{moves:r,excludedChanges:p}}function t(l,c,o,d,r,g){const f=[],p=new S.SetMap;for(const N of l)for(let R=N.original.startLineNumber;R<N.original.endLineNumberExclusive-2;R++){const F=`${c[R-1]}:${c[R+1-1]}:${c[R+2-1]}`;p.add(F,{range:new m.LineRange(R,R+3)})}const b=[];l.sort((0,y.compareBy)(N=>N.modified.startLineNumber,y.numberComparator));for(const N of l){let R=[];for(let F=N.modified.startLineNumber;F<N.modified.endLineNumberExclusive-2;F++){const M=`${o[F-1]}:${o[F+1-1]}:${o[F+2-1]}`,A=new m.LineRange(F,F+3),T=[];p.forEach(M,({range:O})=>{for(const x of R)if(x.originalLineRange.endLineNumberExclusive+1===O.endLineNumberExclusive&&x.modifiedLineRange.endLineNumberExclusive+1===A.endLineNumberExclusive){x.originalLineRange=new m.LineRange(x.originalLineRange.startLineNumber,O.endLineNumberExclusive),x.modifiedLineRange=new m.LineRange(x.modifiedLineRange.startLineNumber,A.endLineNumberExclusive),T.push(x);return}const P={modifiedLineRange:A,originalLineRange:O};b.push(P),T.push(P)}),R=T}if(!g.isValid())return[]}b.sort((0,y.reverseOrder)((0,y.compareBy)(N=>N.modifiedLineRange.length,y.numberComparator)));const w=new m.LineRangeSet,E=new m.LineRangeSet;for(const N of b){const R=N.modifiedLineRange.startLineNumber-N.originalLineRange.startLineNumber,F=w.subtractFrom(N.modifiedLineRange),M=E.subtractFrom(N.originalLineRange).getWithDelta(R),A=F.getIntersection(M);for(const T of A.ranges){if(T.length<3)continue;const O=T,P=T.delta(-R);f.push(new k.LineRangeMapping(P,O)),w.addRange(O),E.addRange(P)}}f.sort((0,y.compareBy)(N=>N.original.startLineNumber,y.numberComparator));const I=new D.MonotonousArray(l);for(let N=0;N<f.length;N++){const R=f[N],F=I.findLastMonotonous(q=>q.original.startLineNumber<=R.original.startLineNumber),M=(0,D.findLastMonotonous)(l,q=>q.modified.startLineNumber<=R.modified.startLineNumber),A=Math.max(R.original.startLineNumber-F.original.startLineNumber,R.modified.startLineNumber-M.modified.startLineNumber),T=I.findLastMonotonous(q=>q.original.startLineNumber<R.original.endLineNumberExclusive),O=(0,D.findLastMonotonous)(l,q=>q.modified.startLineNumber<R.modified.endLineNumberExclusive),P=Math.max(T.original.endLineNumberExclusive-R.original.endLineNumberExclusive,O.modified.endLineNumberExclusive-R.modified.endLineNumberExclusive);let x;for(x=0;x<A;x++){const q=R.original.startLineNumber-x-1,B=R.modified.startLineNumber-x-1;if(w.contains(B)||E.contains(q)||!a(d[q-1],r[B-1],g))break}x>0&&(E.addRange(new m.LineRange(R.original.startLineNumber-x,R.original.startLineNumber)),w.addRange(new m.LineRange(R.modified.startLineNumber-x,R.modified.startLineNumber)));let z;for(z=0;z<P;z++){const q=R.original.endLineNumberExclusive+z,B=R.modified.endLineNumberExclusive+z;if(w.contains(B)||E.contains(q)||!a(d[q-1],r[B-1],g))break}z>0&&(E.addRange(new m.LineRange(R.original.endLineNumberExclusive,R.original.endLineNumberExclusive+z)),w.addRange(new m.LineRange(R.modified.endLineNumberExclusive,R.modified.endLineNumberExclusive+z))),(x>0||z>0)&&(f[N]=new k.LineRangeMapping(new m.LineRange(R.original.startLineNumber-x,R.original.endLineNumberExclusive+z),new m.LineRange(R.modified.startLineNumber-x,R.modified.endLineNumberExclusive+z)))}return f}function a(l,c,o){if(l.trim()===c.trim())return!0;if(l.length>300&&c.length>300)return!1;const r=new s.MyersDiffAlgorithm().compute(new v.LinesSliceCharSequence([l],new _.OffsetRange(0,1),!1),new v.LinesSliceCharSequence([c],new _.OffsetRange(0,1),!1),o);let g=0;const f=L.SequenceDiff.invert(r.diffs,l.length);for(const E of f)E.seq1Range.forEach(I=>{(0,C.isSpace)(l.charCodeAt(I))||g++});function p(E){let I=0;for(let N=0;N<l.length;N++)(0,C.isSpace)(E.charCodeAt(N))||I++;return I}const b=p(l.length>c.length?l:c);return g/b>.6&&b>10}function u(l){if(l.length===0)return l;l.sort((0,y.compareBy)(o=>o.original.startLineNumber,y.numberComparator));const c=[l[0]];for(let o=1;o<l.length;o++){const d=c[c.length-1],r=l[o],g=r.original.startLineNumber-d.original.endLineNumberExclusive,f=r.modified.startLineNumber-d.modified.endLineNumberExclusive;if(g>=0&&f>=0&&g+f<=2){c[c.length-1]=d.join(r);continue}c.push(r)}return c}function h(l,c){const o=new D.MonotonousArray(l);return c=c.filter(d=>{const r=o.findLastMonotonous(b=>b.original.endLineNumberExclusive<=d.original.startLineNumber)||new k.LineRangeMapping(new m.LineRange(1,1),new m.LineRange(1,1)),g=d.modified.startLineNumber-r.modified.endLineNumberExclusive,f=d.original.startLineNumber-r.original.endLineNumberExclusive;return g!==f}),c}}),define(ee[278],te([1,0,14,96,64,81,5,146,490,276,491,488,204,108,277,489]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLineRangeMapping=e.lineRangeMappingFromRangeMappings=e.DefaultLinesDiffComputer=void 0;class u{constructor(){this.dynamicProgrammingDiffing=new _.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new v.MyersDiffAlgorithm}computeDiff(o,d,r){if(o.length<=1&&(0,L.equals)(o,d,(q,B)=>q===B))return new n.LinesDiff([],[],!1);if(o.length===1&&o[0].length===0||d.length===1&&d[0].length===0)return new n.LinesDiff([new i.DetailedLineRangeMapping(new y.LineRange(1,o.length+1),new y.LineRange(1,d.length+1),[new i.RangeMapping(new S.Range(1,1,o.length,o[0].length+1),new S.Range(1,1,d.length,d[0].length+1))])],[],!1);const g=r.maxComputationTimeMs===0?m.InfiniteTimeout.instance:new m.DateTimeout(r.maxComputationTimeMs),f=!r.ignoreTrimWhitespace,p=new Map;function b(q){let B=p.get(q);return B===void 0&&(B=p.size,p.set(q,B)),B}const w=o.map(q=>b(q.trim())),E=d.map(q=>b(q.trim())),I=new a.LineSequence(w,o),N=new a.LineSequence(E,d),R=(()=>I.length+N.length<1700?this.dynamicProgrammingDiffing.compute(I,N,g,(q,B)=>o[q]===d[B]?d[B].length===0?.1:1+Math.log(1+d[B].length):.99):this.myersDiffingAlgorithm.compute(I,N))();let F=R.diffs,M=R.hitTimeout;F=(0,s.optimizeSequenceDiffs)(I,N,F),F=(0,s.removeVeryShortMatchingLinesBetweenDiffs)(I,N,F);const A=[],T=q=>{if(f)for(let B=0;B<q;B++){const $=O+B,X=P+B;if(o[$]!==d[X]){const ne=this.refineDiff(o,d,new m.SequenceDiff(new D.OffsetRange($,$+1),new D.OffsetRange(X,X+1)),g,f);for(const oe of ne.mappings)A.push(oe);ne.hitTimeout&&(M=!0)}}};let O=0,P=0;for(const q of F){(0,k.assertFn)(()=>q.seq1Range.start-O===q.seq2Range.start-P);const B=q.seq1Range.start-O;T(B),O=q.seq1Range.endExclusive,P=q.seq2Range.endExclusive;const $=this.refineDiff(o,d,q,g,f);$.hitTimeout&&(M=!0);for(const X of $.mappings)A.push(X)}T(o.length-O);const x=h(A,o,d);let z=[];return r.computeMoves&&(z=this.computeMoves(x,o,d,w,E,g,f)),(0,k.assertFn)(()=>{function q($,X){if($.lineNumber<1||$.lineNumber>X.length)return!1;const ne=X[$.lineNumber-1];return!($.column<1||$.column>ne.length+1)}function B($,X){return!($.startLineNumber<1||$.startLineNumber>X.length+1||$.endLineNumberExclusive<1||$.endLineNumberExclusive>X.length+1)}for(const $ of x){if(!$.innerChanges)return!1;for(const X of $.innerChanges)if(!(q(X.modifiedRange.getStartPosition(),d)&&q(X.modifiedRange.getEndPosition(),d)&&q(X.originalRange.getStartPosition(),o)&&q(X.originalRange.getEndPosition(),o)))return!1;if(!B($.modified,d)||!B($.original,o))return!1}return!0}),new n.LinesDiff(x,z,M)}computeMoves(o,d,r,g,f,p,b){return(0,C.computeMovedLines)(o,d,r,g,f,p).map(I=>{const N=this.refineDiff(d,r,new m.SequenceDiff(I.original.toOffsetRange(),I.modified.toOffsetRange()),p,b),R=h(N.mappings,d,r,!0);return new n.MovedText(I,R)})}refineDiff(o,d,r,g,f){const p=new t.LinesSliceCharSequence(o,r.seq1Range,f),b=new t.LinesSliceCharSequence(d,r.seq2Range,f),w=p.length+b.length<500?this.dynamicProgrammingDiffing.compute(p,b,g):this.myersDiffingAlgorithm.compute(p,b,g);let E=w.diffs;return E=(0,s.optimizeSequenceDiffs)(p,b,E),E=(0,s.extendDiffsToEntireWordIfAppropriate)(p,b,E),E=(0,s.removeShortMatches)(p,b,E),E=(0,s.removeVeryShortMatchingTextBetweenLongDiffs)(p,b,E),{mappings:E.map(N=>new i.RangeMapping(p.translateRange(N.seq1Range),b.translateRange(N.seq2Range))),hitTimeout:w.hitTimeout}}}e.DefaultLinesDiffComputer=u;function h(c,o,d,r=!1){const g=[];for(const f of(0,L.groupAdjacentBy)(c.map(p=>l(p,o,d)),(p,b)=>p.original.overlapOrTouch(b.original)||p.modified.overlapOrTouch(b.modified))){const p=f[0],b=f[f.length-1];g.push(new i.DetailedLineRangeMapping(p.original.join(b.original),p.modified.join(b.modified),f.map(w=>w.innerChanges[0])))}return(0,k.assertFn)(()=>!r&&g.length>0&&g[0].original.startLineNumber!==g[0].modified.startLineNumber?!1:(0,k.checkAdjacentItems)(g,(f,p)=>p.original.startLineNumber-f.original.endLineNumberExclusive===p.modified.startLineNumber-f.modified.endLineNumberExclusive&&f.original.endLineNumberExclusive<p.original.startLineNumber&&f.modified.endLineNumberExclusive<p.modified.startLineNumber)),g}e.lineRangeMappingFromRangeMappings=h;function l(c,o,d){let r=0,g=0;c.modifiedRange.endColumn===1&&c.originalRange.endColumn===1&&c.originalRange.startLineNumber+r<=c.originalRange.endLineNumber&&c.modifiedRange.startLineNumber+r<=c.modifiedRange.endLineNumber&&(g=-1),c.modifiedRange.startColumn-1>=d[c.modifiedRange.startLineNumber-1].length&&c.originalRange.startColumn-1>=o[c.originalRange.startLineNumber-1].length&&c.originalRange.startLineNumber<=c.originalRange.endLineNumber+g&&c.modifiedRange.startLineNumber<=c.modifiedRange.endLineNumber+g&&(r=1);const f=new y.LineRange(c.originalRange.startLineNumber+r,c.originalRange.endLineNumber+1+g),p=new y.LineRange(c.modifiedRange.startLineNumber+r,c.modifiedRange.endLineNumber+1+g);return new i.DetailedLineRangeMapping(f,p,[c])}e.getLineRangeMapping=l}),define(ee[492],te([1,0,168,204,108,10,5,96,64]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const v=3;class C{computeDiff(r,g,f){var p;const w=new h(r,g,{maxComputationTime:f.maxComputationTimeMs,shouldIgnoreTrimWhitespace:f.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),E=[];let I=null;for(const N of w.changes){let R;N.originalEndLineNumber===0?R=new _.LineRange(N.originalStartLineNumber+1,N.originalStartLineNumber+1):R=new _.LineRange(N.originalStartLineNumber,N.originalEndLineNumber+1);let F;N.modifiedEndLineNumber===0?F=new _.LineRange(N.modifiedStartLineNumber+1,N.modifiedStartLineNumber+1):F=new _.LineRange(N.modifiedStartLineNumber,N.modifiedEndLineNumber+1);let M=new y.DetailedLineRangeMapping(R,F,(p=N.charChanges)===null||p===void 0?void 0:p.map(A=>new y.RangeMapping(new S.Range(A.originalStartLineNumber,A.originalStartColumn,A.originalEndLineNumber,A.originalEndColumn),new S.Range(A.modifiedStartLineNumber,A.modifiedStartColumn,A.modifiedEndLineNumber,A.modifiedEndColumn))));I&&(I.modified.endLineNumberExclusive===M.modified.startLineNumber||I.original.endLineNumberExclusive===M.original.startLineNumber)&&(M=new y.DetailedLineRangeMapping(I.original.join(M.original),I.modified.join(M.modified),I.innerChanges&&M.innerChanges?I.innerChanges.concat(M.innerChanges):void 0),E.pop()),E.push(M),I=M}return(0,m.assertFn)(()=>(0,m.checkAdjacentItems)(E,(N,R)=>R.original.startLineNumber-N.original.endLineNumberExclusive===R.modified.startLineNumber-N.modified.endLineNumberExclusive&&N.original.endLineNumberExclusive<R.original.startLineNumber&&N.modified.endLineNumberExclusive<R.modified.startLineNumber)),new k.LinesDiff(E,[],w.quitEarly)}}e.LegacyLinesDiffComputer=C;function s(d,r,g,f){return new L.LcsDiff(d,r,g).ComputeDiff(f)}class n{constructor(r){const g=[],f=[];for(let p=0,b=r.length;p<b;p++)g[p]=l(r[p],1),f[p]=c(r[p],1);this.lines=r,this._startColumns=g,this._endColumns=f}getElements(){const r=[];for(let g=0,f=this.lines.length;g<f;g++)r[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return r}getStrictElement(r){return this.lines[r]}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,g,f){const p=[],b=[],w=[];let E=0;for(let I=g;I<=f;I++){const N=this.lines[I],R=r?this._startColumns[I]:1,F=r?this._endColumns[I]:N.length+1;for(let M=R;M<F;M++)p[E]=N.charCodeAt(M-1),b[E]=I+1,w[E]=M,E++;!r&&I<f&&(p[E]=10,b[E]=I+1,w[E]=N.length+1,E++)}return new i(p,b,w)}}class i{constructor(r,g,f){this._charCodes=r,this._lineNumbers=g,this._columns=f}toString(){return"["+this._charCodes.map((r,g)=>(r===10?"\\n":String.fromCharCode(r))+`-(${this._lineNumbers[g]},${this._columns[g]})`).join(", ")+"]"}_assertIndex(r,g){if(r<0||r>=g.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(r){return r>0&&r===this._lineNumbers.length?this.getEndLineNumber(r-1):(this._assertIndex(r,this._lineNumbers),this._lineNumbers[r])}getEndLineNumber(r){return r===-1?this.getStartLineNumber(r+1):(this._assertIndex(r,this._lineNumbers),this._charCodes[r]===10?this._lineNumbers[r]+1:this._lineNumbers[r])}getStartColumn(r){return r>0&&r===this._columns.length?this.getEndColumn(r-1):(this._assertIndex(r,this._columns),this._columns[r])}getEndColumn(r){return r===-1?this.getStartColumn(r+1):(this._assertIndex(r,this._columns),this._charCodes[r]===10?1:this._columns[r]+1)}}class t{constructor(r,g,f,p,b,w,E,I){this.originalStartLineNumber=r,this.originalStartColumn=g,this.originalEndLineNumber=f,this.originalEndColumn=p,this.modifiedStartLineNumber=b,this.modifiedStartColumn=w,this.modifiedEndLineNumber=E,this.modifiedEndColumn=I}static createFromDiffChange(r,g,f){const p=g.getStartLineNumber(r.originalStart),b=g.getStartColumn(r.originalStart),w=g.getEndLineNumber(r.originalStart+r.originalLength-1),E=g.getEndColumn(r.originalStart+r.originalLength-1),I=f.getStartLineNumber(r.modifiedStart),N=f.getStartColumn(r.modifiedStart),R=f.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),F=f.getEndColumn(r.modifiedStart+r.modifiedLength-1);return new t(p,b,w,E,I,N,R,F)}}function a(d){if(d.length<=1)return d;const r=[d[0]];let g=r[0];for(let f=1,p=d.length;f<p;f++){const b=d[f],w=b.originalStart-(g.originalStart+g.originalLength),E=b.modifiedStart-(g.modifiedStart+g.modifiedLength);Math.min(w,E)<v?(g.originalLength=b.originalStart+b.originalLength-g.originalStart,g.modifiedLength=b.modifiedStart+b.modifiedLength-g.modifiedStart):(r.push(b),g=b)}return r}class u{constructor(r,g,f,p,b){this.originalStartLineNumber=r,this.originalEndLineNumber=g,this.modifiedStartLineNumber=f,this.modifiedEndLineNumber=p,this.charChanges=b}static createFromDiffResult(r,g,f,p,b,w,E){let I,N,R,F,M;if(g.originalLength===0?(I=f.getStartLineNumber(g.originalStart)-1,N=0):(I=f.getStartLineNumber(g.originalStart),N=f.getEndLineNumber(g.originalStart+g.originalLength-1)),g.modifiedLength===0?(R=p.getStartLineNumber(g.modifiedStart)-1,F=0):(R=p.getStartLineNumber(g.modifiedStart),F=p.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),w&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&b()){const A=f.createCharSequence(r,g.originalStart,g.originalStart+g.originalLength-1),T=p.createCharSequence(r,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);if(A.getElements().length>0&&T.getElements().length>0){let O=s(A,T,b,!0).changes;E&&(O=a(O)),M=[];for(let P=0,x=O.length;P<x;P++)M.push(t.createFromDiffChange(O[P],A,T))}}return new u(I,N,R,F,M)}}class h{constructor(r,g,f){this.shouldComputeCharChanges=f.shouldComputeCharChanges,this.shouldPostProcessCharChanges=f.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=f.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=f.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=g,this.original=new n(r),this.modified=new n(g),this.continueLineDiff=o(f.maxComputationTime),this.continueCharDiff=o(f.maxComputationTime===0?0:Math.min(f.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const r=s(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=r.changes,f=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const E=[];for(let I=0,N=g.length;I<N;I++)E.push(u.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[I],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:f,changes:E}}const p=[];let b=0,w=0;for(let E=-1,I=g.length;E<I;E++){const N=E+1<I?g[E+1]:null,R=N?N.originalStart:this.originalLines.length,F=N?N.modifiedStart:this.modifiedLines.length;for(;b<R&&w<F;){const M=this.originalLines[b],A=this.modifiedLines[w];if(M!==A){{let T=l(M,1),O=l(A,1);for(;T>1&&O>1;){const P=M.charCodeAt(T-2),x=A.charCodeAt(O-2);if(P!==x)break;T--,O--}(T>1||O>1)&&this._pushTrimWhitespaceCharChange(p,b+1,1,T,w+1,1,O)}{let T=c(M,1),O=c(A,1);const P=M.length+1,x=A.length+1;for(;T<P&&O<x;){const z=M.charCodeAt(T-1),q=M.charCodeAt(O-1);if(z!==q)break;T++,O++}(T<P||O<x)&&this._pushTrimWhitespaceCharChange(p,b+1,T,P,w+1,O,x)}}b++,w++}N&&(p.push(u.createFromDiffResult(this.shouldIgnoreTrimWhitespace,N,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),b+=N.originalLength,w+=N.modifiedLength)}return{quitEarly:f,changes:p}}_pushTrimWhitespaceCharChange(r,g,f,p,b,w,E){if(this._mergeTrimWhitespaceCharChange(r,g,f,p,b,w,E))return;let I;this.shouldComputeCharChanges&&(I=[new t(g,f,g,p,b,w,b,E)]),r.push(new u(g,g,b,b,I))}_mergeTrimWhitespaceCharChange(r,g,f,p,b,w,E){const I=r.length;if(I===0)return!1;const N=r[I-1];return N.originalEndLineNumber===0||N.modifiedEndLineNumber===0?!1:N.originalEndLineNumber===g&&N.modifiedEndLineNumber===b?(this.shouldComputeCharChanges&&N.charChanges&&N.charChanges.push(new t(g,f,g,p,b,w,b,E)),!0):N.originalEndLineNumber+1===g&&N.modifiedEndLineNumber+1===b?(N.originalEndLineNumber=g,N.modifiedEndLineNumber=b,this.shouldComputeCharChanges&&N.charChanges&&N.charChanges.push(new t(g,f,g,p,b,w,b,E)),!0):!1}}e.DiffComputer=h;function l(d,r){const g=D.firstNonWhitespaceIndex(d);return g===-1?r:g+1}function c(d,r){const g=D.lastNonWhitespaceIndex(d);return g===-1?r:g+2}function o(d){if(d===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<d}}),define(ee[493],te([1,0,492,278]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new L.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(ee[279],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class L{constructor(y,D,S,m,_,v){this.id=y,this.label=D,this.alias=S,this._precondition=m,this._run=_,this._contextKeyService=v}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(y){return this.isSupported()?this._run(y):Promise.resolve(void 0)}}e.InternalEditorAction=L}),define(ee[175],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[176],te([1,0,175]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===L.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function y(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===L.EditorType.IDiffEditor:!1}e.isDiffEditor=y;function D(m){return!!m&&typeof m=="object"&&typeof m.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function S(m){return k(m)?m:y(m)?m.getModifiedEditor():D(m)&&k(m.activeCodeEditor)?m.activeCodeEditor:null}e.getCodeEditor=S}),define(ee[147],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditorFeatures=e.registerEditorFeature=void 0;const L=[];function k(D){L.push(D)}e.registerEditorFeature=k;function y(){return L.slice(0)}e.getEditorFeatures=y}),define(ee[494],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class L{get type(){return this._theme.type}get value(){return this._theme}constructor(y){this._theme=y}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=L}),define(ee[124],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class L{static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static containsBalancedBrackets(y){return(y&1024)!==0}static getFontStyle(y){return(y&30720)>>>11}static getForeground(y){return(y&16744448)>>>15}static getBackground(y){return(y&4278190080)>>>24}static getClassNameFromMetadata(y){let S="mtk"+this.getForeground(y);const m=this.getFontStyle(y);return m&1&&(S+=" mtki"),m&2&&(S+=" mtkb"),m&4&&(S+=" mtku"),m&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(y,D){const S=this.getForeground(y),m=this.getFontStyle(y);let _=`color: ${D[S]};`;m&1&&(_+="font-style: italic;"),m&2&&(_+="font-weight: bold;");let v="";return m&4&&(v+=" underline"),m&8&&(v+=" line-through"),v&&(_+=`text-decoration:${v};`),_}static getPresentationFromMetadata(y){const D=this.getForeground(y),S=this.getFontStyle(y);return{foreground:D,italic:!!(S&1),bold:!!(S&2),underline:!!(S&4),strikethrough:!!(S&8)}}}e.TokenMetadata=L}),define(ee[495],te([1,0,36]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=void 0;function k(n){const i=[];for(const t of n){const a=Number(t);(a||a===0&&t.replace(/\s/g,"")!=="")&&i.push(a)}return i}function y(n,i,t,a){return{red:n/255,blue:t/255,green:i/255,alpha:a}}function D(n,i){const t=i.index,a=i[0].length;if(!t)return;const u=n.positionAt(t);return{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:u.lineNumber,endColumn:u.column+a}}function S(n,i){if(!n)return;const t=L.Color.Format.CSS.parseHex(i);if(t)return{range:n,color:y(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function m(n,i,t){if(!n||i.length!==1)return;const u=i[0].values(),h=k(u);return{range:n,color:y(h[0],h[1],h[2],t?h[3]:1)}}function _(n,i,t){if(!n||i.length!==1)return;const u=i[0].values(),h=k(u),l=new L.Color(new L.HSLA(h[0],h[1]/100,h[2]/100,t?h[3]:1));return{range:n,color:y(l.rgba.r,l.rgba.g,l.rgba.b,l.rgba.a)}}function v(n,i){return typeof n=="string"?[...n.matchAll(i)]:n.findMatches(i)}function C(n){const i=[],a=v(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(a.length>0)for(const u of a){const h=u.filter(d=>d!==void 0),l=h[1],c=h[2];if(!c)continue;let o;if(l==="rgb"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;o=m(D(n,u),v(c,d),!1)}else if(l==="rgba"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;o=m(D(n,u),v(c,d),!0)}else if(l==="hsl"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;o=_(D(n,u),v(c,d),!1)}else if(l==="hsla"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;o=_(D(n,u),v(c,d),!0)}else l==="#"&&(o=S(D(n,u),l+c));o&&i.push(o)}return i}function s(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:C(n)}e.computeDefaultDocumentColors=s}),define(ee[109],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var L;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(L||(e.IndentAction=L={}));class k{constructor(m){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=m.open,this.close=m.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(m.notIn))for(let _=0,v=m.notIn.length;_<v;_++)switch(m.notIn[_]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(m){switch(m){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(m,_){if(m.getTokenCount()===0)return!0;const v=m.findTokenIndexAtOffset(_-2),C=m.getStandardTokenType(v);return this.isOK(C)}_findNeutralCharacterInRange(m,_){for(let v=m;v<=_;v++){const C=String.fromCharCode(v);if(!this.open.includes(C)&&!this.close.includes(C))return C}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class y{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const _ of m)D(this.autoClosingPairsOpenByStart,_.open.charAt(0),_),D(this.autoClosingPairsOpenByEnd,_.open.charAt(_.open.length-1),_),D(this.autoClosingPairsCloseByStart,_.close.charAt(0),_),D(this.autoClosingPairsCloseByEnd,_.close.charAt(_.close.length-1),_),_.close.length===1&&_.open.length===1&&D(this.autoClosingPairsCloseSingleChar,_.close,_)}}e.AutoClosingPairs=y;function D(S,m,_){S.has(m)?S.get(m).push(_):S.set(m,[_])}}),define(ee[496],te([1,0,121]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class k{constructor(n,i,t){const a=new Uint8Array(n*i);for(let u=0,h=n*i;u<h;u++)a[u]=t;this._data=a,this.rows=n,this.cols=i}get(n,i){return this._data[n*this.cols+i]}set(n,i,t){this._data[n*this.cols+i]=t}}class y{constructor(n){let i=0,t=0;for(let u=0,h=n.length;u<h;u++){const[l,c,o]=n[u];c>i&&(i=c),l>t&&(t=l),o>t&&(t=o)}i++,t++;const a=new k(t,i,0);for(let u=0,h=n.length;u<h;u++){const[l,c,o]=n[u];a.set(l,c,o)}this._states=a,this._maxCharCode=i}nextState(n,i){return i<0||i>=this._maxCharCode?0:this._states.get(n,i)}}e.StateMachine=y;let D=null;function S(){return D===null&&(D=new y([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let m=null;function _(){if(m===null){m=new L.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<s.length;i++)m.set(s.charCodeAt(i),1);const n=".,;:";for(let i=0;i<n.length;i++)m.set(n.charCodeAt(i),2)}return m}class v{static _createLink(n,i,t,a,u){let h=u-1;do{const l=i.charCodeAt(h);if(n.get(l)!==2)break;h--}while(h>a);if(a>0){const l=i.charCodeAt(a-1),c=i.charCodeAt(h);(l===40&&c===41||l===91&&c===93||l===123&&c===125)&&h--}return{range:{startLineNumber:t,startColumn:a+1,endLineNumber:t,endColumn:h+2},url:i.substring(a,h+1)}}static computeLinks(n,i=S()){const t=_(),a=[];for(let u=1,h=n.getLineCount();u<=h;u++){const l=n.getLineContent(u),c=l.length;let o=0,d=0,r=0,g=1,f=!1,p=!1,b=!1,w=!1;for(;o<c;){let E=!1;const I=l.charCodeAt(o);if(g===13){let N;switch(I){case 40:f=!0,N=0;break;case 41:N=f?0:1;break;case 91:b=!0,p=!0,N=0;break;case 93:b=!1,N=p?0:1;break;case 123:w=!0,N=0;break;case 125:N=w?0:1;break;case 39:case 34:case 96:r===I?N=1:r===39||r===34||r===96?N=0:N=1;break;case 42:N=r===42?1:0;break;case 124:N=r===124?1:0;break;case 32:N=b?0:1;break;default:N=t.get(I)}N===1&&(a.push(v._createLink(t,l,u,d,o)),E=!0)}else if(g===12){let N;I===91?(p=!0,N=0):N=t.get(I),N===1?E=!0:g=13}else g=i.nextState(g,I),g===0&&(E=!0);E&&(g=1,f=!1,p=!1,w=!1,d=o+1,r=I),o++}g===13&&a.push(v._createLink(t,l,u,d,c))}return a}}e.LinkComputer=v;function C(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:v.computeLinks(s)}e.computeLinks=C}),define(ee[125],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function L(D,S){const m=D.getCount(),_=D.findTokenIndexAtOffset(S),v=D.getLanguageId(_);let C=_;for(;C+1<m&&D.getLanguageId(C+1)===v;)C++;let s=_;for(;s>0&&D.getLanguageId(s-1)===v;)s--;return new k(D,v,s,C+1,D.getStartOffset(s),D.getEndOffset(C))}e.createScopedLineTokens=L;class k{constructor(S,m,_,v,C,s){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=m,this._firstTokenIndex=_,this._lastTokenIndex=v,this.firstCharOffset=C,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function y(D){return(D&3)!==0}e.ignoreBracketsInToken=y}),define(ee[71],te([1,0,12,5,24,125,80,202]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const _=()=>!0,v=()=>!1,C=l=>l===" "||l==="	";class s{static shouldRecreate(c){return c.hasChanged(142)||c.hasChanged(128)||c.hasChanged(36)||c.hasChanged(75)||c.hasChanged(77)||c.hasChanged(78)||c.hasChanged(6)||c.hasChanged(10)||c.hasChanged(8)||c.hasChanged(9)||c.hasChanged(13)||c.hasChanged(126)||c.hasChanged(49)||c.hasChanged(89)}constructor(c,o,d,r){this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=c;const g=d.options,f=g.get(142),p=g.get(49);this.readOnly=g.get(89),this.tabSize=o.tabSize,this.indentSize=o.indentSize,this.insertSpaces=o.insertSpaces,this.stickyTabStops=g.get(114),this.lineHeight=p.lineHeight,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=g.get(126),this.wordSeparators=g.get(128),this.emptySelectionClipboard=g.get(36),this.copyWithSyntaxHighlighting=g.get(24),this.multiCursorMergeOverlapping=g.get(75),this.multiCursorPaste=g.get(77),this.multiCursorLimit=g.get(78),this.autoClosingBrackets=g.get(6),this.autoClosingQuotes=g.get(10),this.autoClosingDelete=g.get(8),this.autoClosingOvertype=g.get(9),this.autoSurround=g.get(13),this.autoIndent=g.get(11),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(c,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(c,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(c).getAutoClosingPairs();const b=this.languageConfigurationService.getLanguageConfiguration(c).getSurroundingPairs();if(b)for(const w of b)this.surroundingPairs[w.open]=w.close}get electricChars(){var c;if(!this._electricChars){this._electricChars={};const o=(c=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||c===void 0?void 0:c.getElectricCharacters();if(o)for(const d of o)this._electricChars[d]=!0}return this._electricChars}onElectricCharacter(c,o,d){const r=(0,D.createScopedLineTokens)(o,d-1),g=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return g?g.onElectricCharacter(c,r,d-r.firstCharOffset):null}normalizeIndentation(c){return(0,m.normalizeIndentation)(c,this.indentSize,this.insertSpaces)}_getShouldAutoClose(c,o,d){switch(o){case"beforeWhitespace":return C;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(c,d);case"always":return _;case"never":return v}}_getLanguageDefinedShouldAutoClose(c,o){const d=this.languageConfigurationService.getLanguageConfiguration(c).getAutoCloseBeforeSet(o);return r=>d.indexOf(r)!==-1}visibleColumnFromColumn(c,o){return S.CursorColumns.visibleColumnFromColumn(c.getLineContent(o.lineNumber),o.column,this.tabSize)}columnFromVisibleColumn(c,o,d){const r=S.CursorColumns.columnFromVisibleColumn(c.getLineContent(o),d,this.tabSize),g=c.getLineMinColumn(o);if(r<g)return g;const f=c.getLineMaxColumn(o);return r>f?f:r}}e.CursorConfiguration=s;class n{static fromModelState(c){return new i(c)}static fromViewState(c){return new t(c)}static fromModelSelection(c){const o=y.Selection.liftSelection(c),d=new a(k.Range.fromPositions(o.getSelectionStart()),0,0,o.getPosition(),0);return n.fromModelState(d)}static fromModelSelections(c){const o=[];for(let d=0,r=c.length;d<r;d++)o[d]=this.fromModelSelection(c[d]);return o}constructor(c,o){this._cursorStateBrand=void 0,this.modelState=c,this.viewState=o}equals(c){return this.viewState.equals(c.viewState)&&this.modelState.equals(c.modelState)}}e.CursorState=n;class i{constructor(c){this.modelState=c,this.viewState=null}}e.PartialModelCursorState=i;class t{constructor(c){this.modelState=null,this.viewState=c}}e.PartialViewCursorState=t;class a{constructor(c,o,d,r,g){this.selectionStart=c,this.selectionStartKind=o,this.selectionStartLeftoverVisibleColumns=d,this.position=r,this.leftoverVisibleColumns=g,this._singleCursorStateBrand=void 0,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(c){return this.selectionStartLeftoverVisibleColumns===c.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===c.leftoverVisibleColumns&&this.selectionStartKind===c.selectionStartKind&&this.position.equals(c.position)&&this.selectionStart.equalsRange(c.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(c,o,d,r){return c?new a(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new L.Position(o,d),r):new a(new k.Range(o,d,o,d),0,r,new L.Position(o,d),r)}static _computeSelection(c,o){return c.isEmpty()||!o.isBeforeOrEqual(c.getStartPosition())?y.Selection.fromPositions(c.getStartPosition(),o):y.Selection.fromPositions(c.getEndPosition(),o)}}e.SingleCursorState=a;class u{constructor(c,o,d){this._editOperationResultBrand=void 0,this.type=c,this.commands=o,this.shouldPushStackElementBefore=d.shouldPushStackElementBefore,this.shouldPushStackElementAfter=d.shouldPushStackElementAfter}}e.EditOperationResult=u;function h(l){return l==="'"||l==='"'||l==="`"}e.isQuote=h}),define(ee[497],te([1,0,71,12,5]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(m,_,v,C,s,n){const i=Math.abs(s-v)+1,t=v>s,a=C>n,u=C<n,h=[];for(let l=0;l<i;l++){const c=v+(t?-l:l),o=m.columnFromVisibleColumn(_,c,C),d=m.columnFromVisibleColumn(_,c,n),r=m.visibleColumnFromColumn(_,new k.Position(c,o)),g=m.visibleColumnFromColumn(_,new k.Position(c,d));u&&(r>n||g<C)||a&&(g>C||r<n)||h.push(new L.SingleCursorState(new y.Range(c,o,c,o),0,0,new k.Position(c,d),0))}if(h.length===0)for(let l=0;l<i;l++){const c=v+(t?-l:l),o=_.getLineMaxColumn(c);h.push(new L.SingleCursorState(new y.Range(c,o,c,o),0,0,new k.Position(c,o),0))}return{viewStates:h,reversed:t,fromLineNumber:v,fromVisualColumn:C,toLineNumber:s,toVisualColumn:n}}static columnSelectLeft(m,_,v){let C=v.toViewVisualColumn;return C>0&&C--,D.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,C)}static columnSelectRight(m,_,v){let C=0;const s=Math.min(v.fromViewLineNumber,v.toViewLineNumber),n=Math.max(v.fromViewLineNumber,v.toViewLineNumber);for(let t=s;t<=n;t++){const a=_.getLineMaxColumn(t),u=m.visibleColumnFromColumn(_,new k.Position(t,a));C=Math.max(C,u)}let i=v.toViewVisualColumn;return i<C&&i++,this.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,i)}static columnSelectUp(m,_,v,C){const s=C?m.pageSize:1,n=Math.max(1,v.toViewLineNumber-s);return this.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,n,v.toViewVisualColumn)}static columnSelectDown(m,_,v,C){const s=C?m.pageSize:1,n=Math.min(_.getLineCount(),v.toViewLineNumber+s);return this.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,n,v.toViewVisualColumn)}}e.ColumnSelection=D}),define(ee[205],te([1,0,10,80,12,5,275,71]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class _{constructor(s,n,i){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=n,this.leftoverVisibleColumns=i}}e.CursorPosition=_;class v{static leftPosition(s,n){if(n.column>s.getLineMinColumn(n.lineNumber))return n.delta(void 0,-L.prevCharLength(s.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const i=n.lineNumber-1;return new y.Position(i,s.getLineMaxColumn(i))}else return n}static leftPositionAtomicSoftTabs(s,n,i){if(n.column<=s.getLineIndentColumn(n.lineNumber)){const t=s.getLineMinColumn(n.lineNumber),a=s.getLineContent(n.lineNumber),u=S.AtomicTabMoveOperations.atomicPosition(a,n.column-1,i,0);if(u!==-1&&u+1>=t)return new y.Position(n.lineNumber,u+1)}return this.leftPosition(s,n)}static left(s,n,i){const t=s.stickyTabStops?v.leftPositionAtomicSoftTabs(n,i,s.tabSize):v.leftPosition(n,i);return new _(t.lineNumber,t.column,0)}static moveLeft(s,n,i,t,a){let u,h;if(i.hasSelection()&&!t)u=i.selection.startLineNumber,h=i.selection.startColumn;else{const l=i.position.delta(void 0,-(a-1)),c=n.normalizePosition(v.clipPositionColumn(l,n),0),o=v.left(s,n,c);u=o.lineNumber,h=o.column}return i.move(t,u,h,0)}static clipPositionColumn(s,n){return new y.Position(s.lineNumber,v.clipRange(s.column,n.getLineMinColumn(s.lineNumber),n.getLineMaxColumn(s.lineNumber)))}static clipRange(s,n,i){return s<n?n:s>i?i:s}static rightPosition(s,n,i){return i<s.getLineMaxColumn(n)?i=i+L.nextCharLength(s.getLineContent(n),i-1):n<s.getLineCount()&&(n=n+1,i=s.getLineMinColumn(n)),new y.Position(n,i)}static rightPositionAtomicSoftTabs(s,n,i,t,a){if(i<s.getLineIndentColumn(n)){const u=s.getLineContent(n),h=S.AtomicTabMoveOperations.atomicPosition(u,i-1,t,1);if(h!==-1)return new y.Position(n,h+1)}return this.rightPosition(s,n,i)}static right(s,n,i){const t=s.stickyTabStops?v.rightPositionAtomicSoftTabs(n,i.lineNumber,i.column,s.tabSize,s.indentSize):v.rightPosition(n,i.lineNumber,i.column);return new _(t.lineNumber,t.column,0)}static moveRight(s,n,i,t,a){let u,h;if(i.hasSelection()&&!t)u=i.selection.endLineNumber,h=i.selection.endColumn;else{const l=i.position.delta(void 0,a-1),c=n.normalizePosition(v.clipPositionColumn(l,n),1),o=v.right(s,n,c);u=o.lineNumber,h=o.column}return i.move(t,u,h,0)}static vertical(s,n,i,t,a,u,h,l){const c=k.CursorColumns.visibleColumnFromColumn(n.getLineContent(i),t,s.tabSize)+a,o=n.getLineCount(),d=i===1&&t===1,r=i===o&&t===n.getLineMaxColumn(i),g=u<i?d:r;if(i=u,i<1?(i=1,h?t=n.getLineMinColumn(i):t=Math.min(n.getLineMaxColumn(i),t)):i>o?(i=o,h?t=n.getLineMaxColumn(i):t=Math.min(n.getLineMaxColumn(i),t)):t=s.columnFromVisibleColumn(n,i,c),g?a=0:a=c-k.CursorColumns.visibleColumnFromColumn(n.getLineContent(i),t,s.tabSize),l!==void 0){const f=new y.Position(i,t),p=n.normalizePosition(f,l);a=a+(t-p.column),i=p.lineNumber,t=p.column}return new _(i,t,a)}static down(s,n,i,t,a,u,h){return this.vertical(s,n,i,t,a,i+u,h,4)}static moveDown(s,n,i,t,a){let u,h;i.hasSelection()&&!t?(u=i.selection.endLineNumber,h=i.selection.endColumn):(u=i.position.lineNumber,h=i.position.column);let l=0,c;do if(c=v.down(s,n,u+l,h,i.leftoverVisibleColumns,a,!0),n.normalizePosition(new y.Position(c.lineNumber,c.column),2).lineNumber>u)break;while(l++<10&&u+l<n.getLineCount());return i.move(t,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(s,n,i){const t=i.selection,a=v.down(s,n,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),u=v.down(s,n,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(a.lineNumber,a.column,a.lineNumber,a.column),0,a.leftoverVisibleColumns,new y.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(s,n,i,t,a,u,h){return this.vertical(s,n,i,t,a,i-u,h,3)}static moveUp(s,n,i,t,a){let u,h;i.hasSelection()&&!t?(u=i.selection.startLineNumber,h=i.selection.startColumn):(u=i.position.lineNumber,h=i.position.column);const l=v.up(s,n,u,h,i.leftoverVisibleColumns,a,!0);return i.move(t,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(s,n,i){const t=i.selection,a=v.up(s,n,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),u=v.up(s,n,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(a.lineNumber,a.column,a.lineNumber,a.column),0,a.leftoverVisibleColumns,new y.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(s,n){return s.getLineFirstNonWhitespaceColumn(n)===0}static moveToPrevBlankLine(s,n,i,t){let a=i.position.lineNumber;for(;a>1&&this._isBlankLine(n,a);)a--;for(;a>1&&!this._isBlankLine(n,a);)a--;return i.move(t,a,n.getLineMinColumn(a),0)}static moveToNextBlankLine(s,n,i,t){const a=n.getLineCount();let u=i.position.lineNumber;for(;u<a&&this._isBlankLine(n,u);)u++;for(;u<a&&!this._isBlankLine(n,u);)u++;return i.move(t,u,n.getLineMinColumn(u),0)}static moveToBeginningOfLine(s,n,i,t){const a=i.position.lineNumber,u=n.getLineMinColumn(a),h=n.getLineFirstNonWhitespaceColumn(a)||u;let l;return i.position.column===h?l=u:l=h,i.move(t,a,l,0)}static moveToEndOfLine(s,n,i,t,a){const u=i.position.lineNumber,h=n.getLineMaxColumn(u);return i.move(t,u,h,a?1073741824-h:0)}static moveToBeginningOfBuffer(s,n,i,t){return i.move(t,1,1,0)}static moveToEndOfBuffer(s,n,i,t){const a=n.getLineCount(),u=n.getLineMaxColumn(a);return i.move(t,a,u,0)}}e.MoveOperations=v}),define(ee[206],te([1,0,10,123,71,80,205,5,12]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(s,n,i,t){const a=[];let u=s!==3;for(let h=0,l=t.length;h<l;h++){const c=t[h];let o=c;if(o.isEmpty()){const d=c.getPosition(),r=S.MoveOperations.right(n,i,d);o=new m.Range(r.lineNumber,r.column,d.lineNumber,d.column)}if(o.isEmpty()){a[h]=null;continue}o.startLineNumber!==o.endLineNumber&&(u=!0),a[h]=new k.ReplaceCommand(o,"")}return[u,a]}static isAutoClosingPairDelete(s,n,i,t,a,u,h){if(n==="never"&&i==="never"||s==="never")return!1;for(let l=0,c=u.length;l<c;l++){const o=u[l],d=o.getPosition();if(!o.isEmpty())return!1;const r=a.getLineContent(d.lineNumber);if(d.column<2||d.column>=r.length+1)return!1;const g=r.charAt(d.column-2),f=t.get(g);if(!f)return!1;if((0,y.isQuote)(g)){if(i==="never")return!1}else if(n==="never")return!1;const p=r.charAt(d.column-1);let b=!1;for(const w of f)w.open===g&&w.close===p&&(b=!0);if(!b)return!1;if(s==="auto"){let w=!1;for(let E=0,I=h.length;E<I;E++){const N=h[E];if(d.lineNumber===N.startLineNumber&&d.column===N.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(s,n,i){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a].getPosition(),l=new m.Range(h.lineNumber,h.column-1,h.lineNumber,h.column+1);t[a]=new k.ReplaceCommand(l,"")}return[!0,t]}static deleteLeft(s,n,i,t,a){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,i,t,a))return this._runAutoClosingPairDelete(n,i,t);const u=[];let h=s!==2;for(let l=0,c=t.length;l<c;l++){const o=v.getDeleteRange(t[l],i,n);if(o.isEmpty()){u[l]=null;continue}o.startLineNumber!==o.endLineNumber&&(h=!0),u[l]=new k.ReplaceCommand(o,"")}return[h,u]}static getDeleteRange(s,n,i){if(!s.isEmpty())return s;const t=s.getPosition();if(i.useTabStops&&t.column>1){const a=n.getLineContent(t.lineNumber),u=L.firstNonWhitespaceIndex(a),h=u===-1?a.length+1:u+1;if(t.column<=h){const l=i.visibleColumnFromColumn(n,t),c=D.CursorColumns.prevIndentTabStop(l,i.indentSize),o=i.columnFromVisibleColumn(n,t.lineNumber,c);return new m.Range(t.lineNumber,o,t.lineNumber,t.column)}}return m.Range.fromPositions(v.getPositionAfterDeleteLeft(t,n),t)}static getPositionAfterDeleteLeft(s,n){if(s.column>1){const i=L.getLeftDeleteOffset(s.column-1,n.getLineContent(s.lineNumber));return s.with(void 0,i+1)}else if(s.lineNumber>1){const i=s.lineNumber-1;return new _.Position(i,n.getLineMaxColumn(i))}else return s}static cut(s,n,i){const t=[];let a=null;i.sort((u,h)=>_.Position.compare(u.getStartPosition(),h.getEndPosition()));for(let u=0,h=i.length;u<h;u++){const l=i[u];if(l.isEmpty())if(s.emptySelectionClipboard){const c=l.getPosition();let o,d,r,g;c.lineNumber<n.getLineCount()?(o=c.lineNumber,d=1,r=c.lineNumber+1,g=1):c.lineNumber>1&&a?.endLineNumber!==c.lineNumber?(o=c.lineNumber-1,d=n.getLineMaxColumn(c.lineNumber-1),r=c.lineNumber,g=n.getLineMaxColumn(c.lineNumber)):(o=c.lineNumber,d=1,r=c.lineNumber,g=n.getLineMaxColumn(c.lineNumber));const f=new m.Range(o,d,r,g);a=f,f.isEmpty()?t[u]=null:t[u]=new k.ReplaceCommand(f,"")}else t[u]=null;else t[u]=new k.ReplaceCommand(l,"")}return new y.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(ee[177],te([1,0,10,71,206,144,12,5]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class _{static _createWord(n,i,t,a,u){return{start:a,end:u,wordType:i,nextCharClass:t}}static _findPreviousWordOnLine(n,i,t){const a=i.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(a,n,t)}static _doFindPreviousWordOnLine(n,i,t){let a=0;for(let u=t.column-2;u>=0;u--){const h=n.charCodeAt(u),l=i.get(h);if(l===0){if(a===2)return this._createWord(n,a,l,u+1,this._findEndOfWord(n,i,a,u+1));a=1}else if(l===2){if(a===1)return this._createWord(n,a,l,u+1,this._findEndOfWord(n,i,a,u+1));a=2}else if(l===1&&a!==0)return this._createWord(n,a,l,u+1,this._findEndOfWord(n,i,a,u+1))}return a!==0?this._createWord(n,a,1,0,this._findEndOfWord(n,i,a,0)):null}static _findEndOfWord(n,i,t,a){const u=n.length;for(let h=a;h<u;h++){const l=n.charCodeAt(h),c=i.get(l);if(c===1||t===1&&c===2||t===2&&c===0)return h}return u}static _findNextWordOnLine(n,i,t){const a=i.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(a,n,t)}static _doFindNextWordOnLine(n,i,t){let a=0;const u=n.length;for(let h=t.column-1;h<u;h++){const l=n.charCodeAt(h),c=i.get(l);if(c===0){if(a===2)return this._createWord(n,a,c,this._findStartOfWord(n,i,a,h-1),h);a=1}else if(c===2){if(a===1)return this._createWord(n,a,c,this._findStartOfWord(n,i,a,h-1),h);a=2}else if(c===1&&a!==0)return this._createWord(n,a,c,this._findStartOfWord(n,i,a,h-1),h)}return a!==0?this._createWord(n,a,1,this._findStartOfWord(n,i,a,u-1),u):null}static _findStartOfWord(n,i,t,a){for(let u=a;u>=0;u--){const h=n.charCodeAt(u),l=i.get(h);if(l===1||t===1&&l===2||t===2&&l===0)return u+1}return 0}static moveWordLeft(n,i,t,a){let u=t.lineNumber,h=t.column;h===1&&u>1&&(u=u-1,h=i.getLineMaxColumn(u));let l=_._findPreviousWordOnLine(n,i,new S.Position(u,h));if(a===0)return new S.Position(u,l?l.start+1:1);if(a===1)return l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=_._findPreviousWordOnLine(n,i,new S.Position(u,l.start+1))),new S.Position(u,l?l.start+1:1);if(a===3){for(;l&&l.wordType===2;)l=_._findPreviousWordOnLine(n,i,new S.Position(u,l.start+1));return new S.Position(u,l?l.start+1:1)}return l&&h<=l.end+1&&(l=_._findPreviousWordOnLine(n,i,new S.Position(u,l.start+1))),new S.Position(u,l?l.end+1:1)}static _moveWordPartLeft(n,i){const t=i.lineNumber,a=n.getLineMaxColumn(t);if(i.column===1)return t>1?new S.Position(t-1,n.getLineMaxColumn(t-1)):i;const u=n.getLineContent(t);for(let h=i.column-1;h>1;h--){const l=u.charCodeAt(h-2),c=u.charCodeAt(h-1);if(l===95&&c!==95)return new S.Position(t,h);if(l===45&&c!==45)return new S.Position(t,h);if((L.isLowerAsciiLetter(l)||L.isAsciiDigit(l))&&L.isUpperAsciiLetter(c))return new S.Position(t,h);if(L.isUpperAsciiLetter(l)&&L.isUpperAsciiLetter(c)&&h+1<a){const o=u.charCodeAt(h);if(L.isLowerAsciiLetter(o)||L.isAsciiDigit(o))return new S.Position(t,h)}}return new S.Position(t,1)}static moveWordRight(n,i,t,a){let u=t.lineNumber,h=t.column,l=!1;h===i.getLineMaxColumn(u)&&u<i.getLineCount()&&(l=!0,u=u+1,h=1);let c=_._findNextWordOnLine(n,i,new S.Position(u,h));if(a===2)c&&c.wordType===2&&c.end-c.start===1&&c.nextCharClass===0&&(c=_._findNextWordOnLine(n,i,new S.Position(u,c.end+1))),c?h=c.end+1:h=i.getLineMaxColumn(u);else if(a===3){for(l&&(h=0);c&&(c.wordType===2||c.start+1<=h);)c=_._findNextWordOnLine(n,i,new S.Position(u,c.end+1));c?h=c.start+1:h=i.getLineMaxColumn(u)}else c&&!l&&h>=c.start+1&&(c=_._findNextWordOnLine(n,i,new S.Position(u,c.end+1))),c?h=c.start+1:h=i.getLineMaxColumn(u);return new S.Position(u,h)}static _moveWordPartRight(n,i){const t=i.lineNumber,a=n.getLineMaxColumn(t);if(i.column===a)return t<n.getLineCount()?new S.Position(t+1,1):i;const u=n.getLineContent(t);for(let h=i.column+1;h<a;h++){const l=u.charCodeAt(h-2),c=u.charCodeAt(h-1);if(l!==95&&c===95)return new S.Position(t,h);if(l!==45&&c===45)return new S.Position(t,h);if((L.isLowerAsciiLetter(l)||L.isAsciiDigit(l))&&L.isUpperAsciiLetter(c))return new S.Position(t,h);if(L.isUpperAsciiLetter(l)&&L.isUpperAsciiLetter(c)&&h+1<a){const o=u.charCodeAt(h);if(L.isLowerAsciiLetter(o)||L.isAsciiDigit(o))return new S.Position(t,h)}}return new S.Position(t,a)}static _deleteWordLeftWhitespace(n,i){const t=n.getLineContent(i.lineNumber),a=i.column-2,u=L.lastNonWhitespaceIndex(t,a);return u+1<a?new m.Range(i.lineNumber,u+2,i.lineNumber,i.column):null}static deleteWordLeft(n,i){const t=n.wordSeparators,a=n.model,u=n.selection,h=n.whitespaceHeuristics;if(!u.isEmpty())return u;if(y.DeleteOperations.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,n.model,[n.selection],n.autoClosedCharacters)){const r=n.selection.getPosition();return new m.Range(r.lineNumber,r.column-1,r.lineNumber,r.column+1)}const l=new S.Position(u.positionLineNumber,u.positionColumn);let c=l.lineNumber,o=l.column;if(c===1&&o===1)return null;if(h){const r=this._deleteWordLeftWhitespace(a,l);if(r)return r}let d=_._findPreviousWordOnLine(t,a,l);return i===0?d?o=d.start+1:o>1?o=1:(c--,o=a.getLineMaxColumn(c)):(d&&o<=d.end+1&&(d=_._findPreviousWordOnLine(t,a,new S.Position(c,d.start+1))),d?o=d.end+1:o>1?o=1:(c--,o=a.getLineMaxColumn(c))),new m.Range(c,o,l.lineNumber,l.column)}static deleteInsideWord(n,i,t){if(!t.isEmpty())return t;const a=new S.Position(t.positionLineNumber,t.positionColumn),u=this._deleteInsideWordWhitespace(i,a);return u||this._deleteInsideWordDetermineDeleteRange(n,i,a)}static _charAtIsWhitespace(n,i){const t=n.charCodeAt(i);return t===32||t===9}static _deleteInsideWordWhitespace(n,i){const t=n.getLineContent(i.lineNumber),a=t.length;if(a===0)return null;let u=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(t,u))return null;let h=Math.min(i.column-1,a-1);if(!this._charAtIsWhitespace(t,h))return null;for(;u>0&&this._charAtIsWhitespace(t,u-1);)u--;for(;h+1<a&&this._charAtIsWhitespace(t,h+1);)h++;return new m.Range(i.lineNumber,u+1,i.lineNumber,h+2)}static _deleteInsideWordDetermineDeleteRange(n,i,t){const a=i.getLineContent(t.lineNumber),u=a.length;if(u===0)return t.lineNumber>1?new m.Range(t.lineNumber-1,i.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<i.getLineCount()?new m.Range(t.lineNumber,1,t.lineNumber+1,1):new m.Range(t.lineNumber,1,t.lineNumber,1);const h=r=>r.start+1<=t.column&&t.column<=r.end+1,l=(r,g)=>(r=Math.min(r,t.column),g=Math.max(g,t.column),new m.Range(t.lineNumber,r,t.lineNumber,g)),c=r=>{let g=r.start+1,f=r.end+1,p=!1;for(;f-1<u&&this._charAtIsWhitespace(a,f-1);)p=!0,f++;if(!p)for(;g>1&&this._charAtIsWhitespace(a,g-2);)g--;return l(g,f)},o=_._findPreviousWordOnLine(n,i,t);if(o&&h(o))return c(o);const d=_._findNextWordOnLine(n,i,t);return d&&h(d)?c(d):o&&d?l(o.end+1,d.start+1):o?l(o.start+1,o.end+1):d?l(d.start+1,d.end+1):l(1,u+1)}static _deleteWordPartLeft(n,i){if(!i.isEmpty())return i;const t=i.getPosition(),a=_._moveWordPartLeft(n,t);return new m.Range(t.lineNumber,t.column,a.lineNumber,a.column)}static _findFirstNonWhitespaceChar(n,i){const t=n.length;for(let a=i;a<t;a++){const u=n.charAt(a);if(u!==" "&&u!=="	")return a}return t}static _deleteWordRightWhitespace(n,i){const t=n.getLineContent(i.lineNumber),a=i.column-1,u=this._findFirstNonWhitespaceChar(t,a);return a+1<u?new m.Range(i.lineNumber,i.column,i.lineNumber,u+1):null}static deleteWordRight(n,i){const t=n.wordSeparators,a=n.model,u=n.selection,h=n.whitespaceHeuristics;if(!u.isEmpty())return u;const l=new S.Position(u.positionLineNumber,u.positionColumn);let c=l.lineNumber,o=l.column;const d=a.getLineCount(),r=a.getLineMaxColumn(c);if(c===d&&o===r)return null;if(h){const f=this._deleteWordRightWhitespace(a,l);if(f)return f}let g=_._findNextWordOnLine(t,a,l);return i===2?g?o=g.end+1:o<r||c===d?o=r:(c++,g=_._findNextWordOnLine(t,a,new S.Position(c,1)),g?o=g.start+1:o=a.getLineMaxColumn(c)):(g&&o>=g.start+1&&(g=_._findNextWordOnLine(t,a,new S.Position(c,g.end+1))),g?o=g.start+1:o<r||c===d?o=r:(c++,g=_._findNextWordOnLine(t,a,new S.Position(c,1)),g?o=g.start+1:o=a.getLineMaxColumn(c))),new m.Range(c,o,l.lineNumber,l.column)}static _deleteWordPartRight(n,i){if(!i.isEmpty())return i;const t=i.getPosition(),a=_._moveWordPartRight(n,t);return new m.Range(t.lineNumber,t.column,a.lineNumber,a.column)}static _createWordAtPosition(n,i,t){const a=new m.Range(i,t.start+1,i,t.end+1);return{word:n.getValueInRange(a),startColumn:a.startColumn,endColumn:a.endColumn}}static getWordAtPosition(n,i,t){const a=(0,D.getMapForWordSeparators)(i),u=_._findPreviousWordOnLine(a,n,t);if(u&&u.wordType===1&&u.start<=t.column-1&&t.column-1<=u.end)return _._createWordAtPosition(n,t.lineNumber,u);const h=_._findNextWordOnLine(a,n,t);return h&&h.wordType===1&&h.start<=t.column-1&&t.column-1<=h.end?_._createWordAtPosition(n,t.lineNumber,h):null}static word(n,i,t,a,u){const h=(0,D.getMapForWordSeparators)(n.wordSeparators),l=_._findPreviousWordOnLine(h,i,u),c=_._findNextWordOnLine(h,i,u);if(!a){let f,p;return l&&l.wordType===1&&l.start<=u.column-1&&u.column-1<=l.end?(f=l.start+1,p=l.end+1):c&&c.wordType===1&&c.start<=u.column-1&&u.column-1<=c.end?(f=c.start+1,p=c.end+1):(l?f=l.end+1:f=1,c?p=c.start+1:p=i.getLineMaxColumn(u.lineNumber)),new k.SingleCursorState(new m.Range(u.lineNumber,f,u.lineNumber,p),1,0,new S.Position(u.lineNumber,p),0)}let o,d;l&&l.wordType===1&&l.start<u.column-1&&u.column-1<l.end?(o=l.start+1,d=l.end+1):c&&c.wordType===1&&c.start<u.column-1&&u.column-1<c.end?(o=c.start+1,d=c.end+1):(o=u.column,d=u.column);const r=u.lineNumber;let g;if(t.selectionStart.containsPosition(u))g=t.selectionStart.endColumn;else if(u.isBeforeOrEqual(t.selectionStart.getStartPosition())){g=o;const f=new S.Position(r,g);t.selectionStart.containsPosition(f)&&(g=t.selectionStart.endColumn)}else{g=d;const f=new S.Position(r,g);t.selectionStart.containsPosition(f)&&(g=t.selectionStart.startColumn)}return t.move(!0,r,g,0)}}e.WordOperations=_;class v extends _{static deleteWordPartLeft(n){const i=C([_.deleteWordLeft(n,0),_.deleteWordLeft(n,2),_._deleteWordPartLeft(n.model,n.selection)]);return i.sort(m.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(n){const i=C([_.deleteWordRight(n,0),_.deleteWordRight(n,2),_._deleteWordPartRight(n.model,n.selection)]);return i.sort(m.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(n,i,t){const a=C([_.moveWordLeft(n,i,t,0),_.moveWordLeft(n,i,t,2),_._moveWordPartLeft(i,t)]);return a.sort(S.Position.compare),a[2]}static moveWordPartRight(n,i,t){const a=C([_.moveWordRight(n,i,t,0),_.moveWordRight(n,i,t,2),_._moveWordPartRight(i,t)]);return a.sort(S.Position.compare),a[0]}}e.WordPartOperations=v;function C(s){return s.filter(n=>!!n)}}),define(ee[207],te([1,0,20,71,205,177,12,5]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class _{static addCursorDown(s,n,i){const t=[];let a=0;for(let u=0,h=n.length;u<h;u++){const l=n[u];t[a++]=new k.CursorState(l.modelState,l.viewState),i?t[a++]=k.CursorState.fromModelState(y.MoveOperations.translateDown(s.cursorConfig,s.model,l.modelState)):t[a++]=k.CursorState.fromViewState(y.MoveOperations.translateDown(s.cursorConfig,s,l.viewState))}return t}static addCursorUp(s,n,i){const t=[];let a=0;for(let u=0,h=n.length;u<h;u++){const l=n[u];t[a++]=new k.CursorState(l.modelState,l.viewState),i?t[a++]=k.CursorState.fromModelState(y.MoveOperations.translateUp(s.cursorConfig,s.model,l.modelState)):t[a++]=k.CursorState.fromViewState(y.MoveOperations.translateUp(s.cursorConfig,s,l.viewState))}return t}static moveToBeginningOfLine(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a];t[a]=this._moveToLineStart(s,h,i)}return t}static _moveToLineStart(s,n,i){const t=n.viewState.position.column,a=n.modelState.position.column,u=t===a,h=n.viewState.position.lineNumber,l=s.getLineFirstNonWhitespaceColumn(h);return!u&&!(t===l)?this._moveToLineStartByView(s,n,i):this._moveToLineStartByModel(s,n,i)}static _moveToLineStartByView(s,n,i){return k.CursorState.fromViewState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,n.viewState,i))}static _moveToLineStartByModel(s,n,i){return k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,n.modelState,i))}static moveToEndOfLine(s,n,i,t){const a=[];for(let u=0,h=n.length;u<h;u++){const l=n[u];a[u]=this._moveToLineEnd(s,l,i,t)}return a}static _moveToLineEnd(s,n,i,t){const a=n.viewState.position,u=s.getLineMaxColumn(a.lineNumber),h=a.column===u,l=n.modelState.position,c=s.model.getLineMaxColumn(l.lineNumber),o=u-a.column===c-l.column;return h||o?this._moveToLineEndByModel(s,n,i,t):this._moveToLineEndByView(s,n,i,t)}static _moveToLineEndByView(s,n,i,t){return k.CursorState.fromViewState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s,n.viewState,i,t))}static _moveToLineEndByModel(s,n,i,t){return k.CursorState.fromModelState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,n.modelState,i,t))}static expandLineSelection(s,n){const i=[];for(let t=0,a=n.length;t<a;t++){const u=n[t],h=u.modelState.selection.startLineNumber,l=s.model.getLineCount();let c=u.modelState.selection.endLineNumber,o;c===l?o=s.model.getLineMaxColumn(l):(c++,o=1),i[t]=k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(h,1,h,1),0,0,new S.Position(c,o),0))}return i}static moveToBeginningOfBuffer(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a];t[a]=k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,h.modelState,i))}return t}static moveToEndOfBuffer(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a];t[a]=k.CursorState.fromModelState(y.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,h.modelState,i))}return t}static selectAll(s,n){const i=s.model.getLineCount(),t=s.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(1,1,1,1),0,0,new S.Position(i,t),0))}static line(s,n,i,t,a){const u=s.model.validatePosition(t),h=a?s.coordinatesConverter.validateViewPosition(new S.Position(a.lineNumber,a.column),u):s.coordinatesConverter.convertModelPositionToViewPosition(u);if(!i){const c=s.model.getLineCount();let o=u.lineNumber+1,d=1;return o>c&&(o=c,d=s.model.getLineMaxColumn(o)),k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(u.lineNumber,1,o,d),2,0,new S.Position(o,d),0))}const l=n.modelState.selectionStart.getStartPosition().lineNumber;if(u.lineNumber<l)return k.CursorState.fromViewState(n.viewState.move(!0,h.lineNumber,1,0));if(u.lineNumber>l){const c=s.getLineCount();let o=h.lineNumber+1,d=1;return o>c&&(o=c,d=s.getLineMaxColumn(o)),k.CursorState.fromViewState(n.viewState.move(!0,o,d,0))}else{const c=n.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(n.modelState.move(!0,c.lineNumber,c.column,0))}}static word(s,n,i,t){const a=s.model.validatePosition(t);return k.CursorState.fromModelState(D.WordOperations.word(s.cursorConfig,s.model,n.modelState,i,a))}static cancelSelection(s,n){if(!n.modelState.hasSelection())return new k.CursorState(n.modelState,n.viewState);const i=n.viewState.position.lineNumber,t=n.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new m.Range(i,t,i,t),0,0,new S.Position(i,t),0))}static moveTo(s,n,i,t,a){if(i){if(n.modelState.selectionStartKind===1)return this.word(s,n,i,t);if(n.modelState.selectionStartKind===2)return this.line(s,n,i,t,a)}const u=s.model.validatePosition(t),h=a?s.coordinatesConverter.validateViewPosition(new S.Position(a.lineNumber,a.column),u):s.coordinatesConverter.convertModelPositionToViewPosition(u);return k.CursorState.fromViewState(n.viewState.move(i,h.lineNumber,h.column,0))}static simpleMove(s,n,i,t,a,u){switch(i){case 0:return u===4?this._moveHalfLineLeft(s,n,t):this._moveLeft(s,n,t,a);case 1:return u===4?this._moveHalfLineRight(s,n,t):this._moveRight(s,n,t,a);case 2:return u===2?this._moveUpByViewLines(s,n,t,a):this._moveUpByModelLines(s,n,t,a);case 3:return u===2?this._moveDownByViewLines(s,n,t,a):this._moveDownByModelLines(s,n,t,a);case 4:return u===2?n.map(h=>k.CursorState.fromViewState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,h.viewState,t))):n.map(h=>k.CursorState.fromModelState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,h.modelState,t)));case 5:return u===2?n.map(h=>k.CursorState.fromViewState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,h.viewState,t))):n.map(h=>k.CursorState.fromModelState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,h.modelState,t)));case 6:return this._moveToViewMinColumn(s,n,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,n,t);case 8:return this._moveToViewCenterColumn(s,n,t);case 9:return this._moveToViewMaxColumn(s,n,t);case 10:return this._moveToViewLastNonWhitespaceColumn(s,n,t);default:return null}}static viewportMove(s,n,i,t,a){const u=s.getCompletelyVisibleViewRange(),h=s.coordinatesConverter.convertViewRangeToModelRange(u);switch(i){case 11:{const l=this._firstLineNumberInRange(s.model,h,a),c=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,n[0],t,l,c)]}case 13:{const l=this._lastLineNumberInRange(s.model,h,a),c=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,n[0],t,l,c)]}case 12:{const l=Math.round((h.startLineNumber+h.endLineNumber)/2),c=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,n[0],t,l,c)]}case 14:{const l=[];for(let c=0,o=n.length;c<o;c++){const d=n[c];l[c]=this.findPositionInViewportIfOutside(s,d,u,t)}return l}default:return null}}static findPositionInViewportIfOutside(s,n,i,t){const a=n.viewState.position.lineNumber;if(i.startLineNumber<=a&&a<=i.endLineNumber-1)return new k.CursorState(n.modelState,n.viewState);{let u;a>i.endLineNumber-1?u=i.endLineNumber-1:a<i.startLineNumber?u=i.startLineNumber:u=a;const h=y.MoveOperations.vertical(s.cursorConfig,s,a,n.viewState.position.column,n.viewState.leftoverVisibleColumns,u,!1);return k.CursorState.fromViewState(n.viewState.move(t,h.lineNumber,h.column,h.leftoverVisibleColumns))}}static _firstLineNumberInRange(s,n,i){let t=n.startLineNumber;return n.startColumn!==s.getLineMinColumn(t)&&t++,Math.min(n.endLineNumber,t+i-1)}static _lastLineNumberInRange(s,n,i){let t=n.startLineNumber;return n.startColumn!==s.getLineMinColumn(t)&&t++,Math.max(t,n.endLineNumber-i+1)}static _moveLeft(s,n,i,t){return n.map(a=>k.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,a.viewState,i,t)))}static _moveHalfLineLeft(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=Math.round(s.getLineContent(l).length/2);t[a]=k.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,h.viewState,i,c))}return t}static _moveRight(s,n,i,t){return n.map(a=>k.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,a.viewState,i,t)))}static _moveHalfLineRight(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=Math.round(s.getLineContent(l).length/2);t[a]=k.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,h.viewState,i,c))}return t}static _moveDownByViewLines(s,n,i,t){const a=[];for(let u=0,h=n.length;u<h;u++){const l=n[u];a[u]=k.CursorState.fromViewState(y.MoveOperations.moveDown(s.cursorConfig,s,l.viewState,i,t))}return a}static _moveDownByModelLines(s,n,i,t){const a=[];for(let u=0,h=n.length;u<h;u++){const l=n[u];a[u]=k.CursorState.fromModelState(y.MoveOperations.moveDown(s.cursorConfig,s.model,l.modelState,i,t))}return a}static _moveUpByViewLines(s,n,i,t){const a=[];for(let u=0,h=n.length;u<h;u++){const l=n[u];a[u]=k.CursorState.fromViewState(y.MoveOperations.moveUp(s.cursorConfig,s,l.viewState,i,t))}return a}static _moveUpByModelLines(s,n,i,t){const a=[];for(let u=0,h=n.length;u<h;u++){const l=n[u];a[u]=k.CursorState.fromModelState(y.MoveOperations.moveUp(s.cursorConfig,s.model,l.modelState,i,t))}return a}static _moveToViewPosition(s,n,i,t,a){return k.CursorState.fromViewState(n.viewState.move(i,t,a,0))}static _moveToModelPosition(s,n,i,t,a){return k.CursorState.fromModelState(n.modelState.move(i,t,a,0))}static _moveToViewMinColumn(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=s.getLineMinColumn(l);t[a]=this._moveToViewPosition(s,h,i,l,c)}return t}static _moveToViewFirstNonWhitespaceColumn(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=s.getLineFirstNonWhitespaceColumn(l);t[a]=this._moveToViewPosition(s,h,i,l,c)}return t}static _moveToViewCenterColumn(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=Math.round((s.getLineMaxColumn(l)+s.getLineMinColumn(l))/2);t[a]=this._moveToViewPosition(s,h,i,l,c)}return t}static _moveToViewMaxColumn(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=s.getLineMaxColumn(l);t[a]=this._moveToViewPosition(s,h,i,l,c)}return t}static _moveToViewLastNonWhitespaceColumn(s,n,i){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a],l=h.viewState.position.lineNumber,c=s.getLineLastNonWhitespaceColumn(l);t[a]=this._moveToViewPosition(s,h,i,l,c)}return t}}e.CursorMoveCommands=_;var v;(function(C){const s=function(i){if(!L.isObject(i))return!1;const t=i;return!(!L.isString(t.to)||!L.isUndefined(t.select)&&!L.isBoolean(t.select)||!L.isUndefined(t.by)&&!L.isString(t.by)||!L.isUndefined(t.value)&&!L.isNumber(t.value))};C.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function n(i){if(!i.to)return null;let t;switch(i.to){case C.RawDirection.Left:t=0;break;case C.RawDirection.Right:t=1;break;case C.RawDirection.Up:t=2;break;case C.RawDirection.Down:t=3;break;case C.RawDirection.PrevBlankLine:t=4;break;case C.RawDirection.NextBlankLine:t=5;break;case C.RawDirection.WrappedLineStart:t=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case C.RawDirection.WrappedLineColumnCenter:t=8;break;case C.RawDirection.WrappedLineEnd:t=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case C.RawDirection.ViewPortTop:t=11;break;case C.RawDirection.ViewPortBottom:t=13;break;case C.RawDirection.ViewPortCenter:t=12;break;case C.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let a=0;switch(i.by){case C.RawUnit.Line:a=1;break;case C.RawUnit.WrappedLine:a=2;break;case C.RawUnit.Character:a=3;break;case C.RawUnit.HalfLine:a=4;break}return{direction:t,unit:a,select:!!i.select,value:i.value||1}}C.parse=n})(v||(e.CursorMove=v={}))}),define(ee[498],te([1,0,71,12,5,24]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(_){this._selTrackedRange=null,this._trackSelection=!0,this._setState(_,new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0),new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(_){this._removeTrackedRange(_)}startTrackingSelection(_){this._trackSelection=!0,this._updateTrackedRange(_)}stopTrackingSelection(_){this._trackSelection=!1,this._removeTrackedRange(_)}_updateTrackedRange(_){this._trackSelection&&(this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(_){this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new L.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(_){const v=_.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!v.isEmpty()?D.Selection.fromRange(v.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(v,this.modelState.selection.getDirection())}ensureValidState(_){this._setState(_,this.modelState,this.viewState)}setState(_,v,C){this._setState(_,v,C)}static _validatePositionWithCache(_,v,C,s){return v.equals(C)?s:_.normalizePosition(v,2)}static _validateViewState(_,v){const C=v.position,s=v.selectionStart.getStartPosition(),n=v.selectionStart.getEndPosition(),i=_.normalizePosition(C,2),t=this._validatePositionWithCache(_,s,C,i),a=this._validatePositionWithCache(_,n,s,t);return C.equals(i)&&s.equals(t)&&n.equals(a)?v:new L.SingleCursorState(y.Range.fromPositions(t,a),v.selectionStartKind,v.selectionStartLeftoverVisibleColumns+s.column-t.column,i,v.leftoverVisibleColumns+C.column-i.column)}_setState(_,v,C){if(C&&(C=S._validateViewState(_.viewModel,C)),v){const s=_.model.validateRange(v.selectionStart),n=v.selectionStart.equalsRange(s)?v.selectionStartLeftoverVisibleColumns:0,i=_.model.validatePosition(v.position),t=v.position.equals(i)?v.leftoverVisibleColumns:0;v=new L.SingleCursorState(s,v.selectionStartKind,n,i,t)}else{if(!C)return;const s=_.model.validateRange(_.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),n=_.model.validatePosition(_.coordinatesConverter.convertViewPositionToModelPosition(C.position));v=new L.SingleCursorState(s,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,n,C.leftoverVisibleColumns)}if(C){const s=_.coordinatesConverter.validateViewRange(C.selectionStart,v.selectionStart),n=_.coordinatesConverter.validateViewPosition(C.position,v.position);C=new L.SingleCursorState(s,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,n,v.leftoverVisibleColumns)}else{const s=_.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(v.selectionStart.startLineNumber,v.selectionStart.startColumn)),n=_.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(v.selectionStart.endLineNumber,v.selectionStart.endColumn)),i=new y.Range(s.lineNumber,s.column,n.lineNumber,n.column),t=_.coordinatesConverter.convertModelPositionToViewPosition(v.position);C=new L.SingleCursorState(i,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,t,v.leftoverVisibleColumns)}this.modelState=v,this.viewState=C,this._updateTrackedRange(_)}}e.Cursor=S}),define(ee[499],te([1,0,14,78,71,498,12,5,24]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(s){this.context=s,this.cursors=[new D.Cursor(s)],this.lastAddedCursorIndex=0}dispose(){for(const s of this.cursors)s.dispose(this.context)}startTrackingSelections(){for(const s of this.cursors)s.startTrackingSelection(this.context)}stopTrackingSelections(){for(const s of this.cursors)s.stopTrackingSelection(this.context)}updateContext(s){this.context=s}ensureValidState(){for(const s of this.cursors)s.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(s=>s.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(s=>s.asCursorState())}getViewPositions(){return this.cursors.map(s=>s.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMinBy)(this.cursors,(0,L.compareBy)(s=>s.viewState.position,S.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMaxBy)(this.cursors,(0,L.compareBy)(s=>s.viewState.position,S.Position.compare)).viewState.position}getSelections(){return this.cursors.map(s=>s.modelState.selection)}getViewSelections(){return this.cursors.map(s=>s.viewState.selection)}setSelections(s){this.setStates(y.CursorState.fromModelSelections(s))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(s){s!==null&&(this.cursors[0].setState(this.context,s[0].modelState,s[0].viewState),this._setSecondaryStates(s.slice(1)))}_setSecondaryStates(s){const n=this.cursors.length-1,i=s.length;if(n<i){const t=i-n;for(let a=0;a<t;a++)this._addSecondaryCursor()}else if(n>i){const t=n-i;for(let a=0;a<t;a++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,s[t].modelState,s[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new D.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(s){this.lastAddedCursorIndex>=s+1&&this.lastAddedCursorIndex--,this.cursors[s+1].dispose(this.context),this.cursors.splice(s+1,1)}normalize(){if(this.cursors.length===1)return;const s=this.cursors.slice(0),n=[];for(let i=0,t=s.length;i<t;i++)n.push({index:i,selection:s[i].modelState.selection});n.sort((0,L.compareBy)(i=>i.selection,m.Range.compareRangesUsingStarts));for(let i=0;i<n.length-1;i++){const t=n[i],a=n[i+1],u=t.selection,h=a.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(h.isEmpty()||u.isEmpty()?l=h.getStartPosition().isBeforeOrEqual(u.getEndPosition()):l=h.getStartPosition().isBefore(u.getEndPosition()),l){const c=t.index<a.index?i:i+1,o=t.index<a.index?i+1:i,d=n[o].index,r=n[c].index,g=n[o].selection,f=n[c].selection;if(!g.equalsSelection(f)){const p=g.plusRange(f),b=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,w=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn;let E;d===this.lastAddedCursorIndex?(E=b,this.lastAddedCursorIndex=r):E=w;let I;E?I=new _.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):I=new _.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),n[c].selection=I;const N=y.CursorState.fromModelSelection(I);s[r].setState(this.context,N.modelState,N.viewState)}for(const p of n)p.index>d&&p.index--;s.splice(d,1),n.splice(o,1),this._removeSecondaryCursor(d-1),i--}}}}e.CursorCollection=v}),define(ee[500],te([1,0,109]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(S=>new L.StandardAutoClosingPairConditional(S)):D.brackets?this._autoClosingPairs=D.brackets.map(S=>new L.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const S=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(ee[501],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function L(y){return y.global&&(y.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&L(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&L(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&L(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&L(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=k}),define(ee[502],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class L{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(y,D,S,m,_){if(y&&D){const v=this.doNavigateValueSet(D,_);if(v)return{range:y,value:v}}if(S&&m){const v=this.doNavigateValueSet(m,_);if(v)return{range:S,value:v}}return null}doNavigateValueSet(y,D){const S=this.numberReplace(y,D);return S!==null?S:this.textReplace(y,D)}numberReplace(y,D){const S=Math.pow(10,y.length-(y.lastIndexOf(".")+1));let m=Number(y);const _=parseFloat(y);return!isNaN(m)&&!isNaN(_)&&m===_?m===0&&!D?null:(m=Math.floor(m*S),m+=D?S:-S,String(m/S)):null}textReplace(y,D){return this.valueSetsReplace(this._defaultValueSet,y,D)}valueSetsReplace(y,D,S){let m=null;for(let _=0,v=y.length;m===null&&_<v;_++)m=this.valueSetReplace(y[_],D,S);return m}valueSetReplace(y,D,S){let m=y.indexOf(D);return m>=0?(m+=S?1:-1,m<0?m=y.length-1:m%=y.length,y[m]):null}}e.BasicInplaceReplace=L,L.INSTANCE=new L}),define(ee[503],te([1,0,260]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(v,C){this.languageId=v;const s=C.brackets?y(C.brackets):[],n=new L.CachedFunction(a=>{const u=new Set;return{info:new S(this,a,u),closing:u}}),i=new L.CachedFunction(a=>{const u=new Set,h=new Set;return{info:new m(this,a,u,h),opening:u,openingColorized:h}});for(const[a,u]of s){const h=n.get(a),l=i.get(u);h.closing.add(l.info),l.opening.add(h.info)}const t=C.colorizedBracketPairs?y(C.colorizedBracketPairs):s.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,u]of t){const h=n.get(a),l=i.get(u);h.closing.add(l.info),l.openingColorized.add(h.info),l.opening.add(h.info)}this._openingBrackets=new Map([...n.cachedValues].map(([a,u])=>[a,u.info])),this._closingBrackets=new Map([...i.cachedValues].map(([a,u])=>[a,u.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(v){return this._openingBrackets.get(v)}getClosingBracketInfo(v){return this._closingBrackets.get(v)}getBracketInfo(v){return this.getOpeningBracketInfo(v)||this.getClosingBracketInfo(v)}}e.LanguageBracketsConfiguration=k;function y(_){return _.filter(([v,C])=>v!==""&&C!=="")}class D{constructor(v,C){this.config=v,this.bracketText=C}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class S extends D{constructor(v,C,s){super(v,C),this.openedBrackets=s,this.isOpeningBracket=!0}}e.OpeningBracketKind=S;class m extends D{constructor(v,C,s,n){super(v,C),this.openingBrackets=s,this.openingColorizedBrackets=n,this.isOpeningBracket=!1}closes(v){return v.config!==this.config?!1:this.openingBrackets.has(v)}closesColorized(v){return v.config!==this.config?!1:this.openingColorizedBrackets.has(v)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=m}),define(ee[504],te([1,0,9,10,109]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(_=>{const v=D._createOpenBracketRegExp(_[0]),C=D._createCloseBracketRegExp(_[1]);v&&C&&this._brackets.push({open:_[0],openRegExp:v,close:_[1],closeRegExp:C})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,_,v,C){if(m>=3)for(let s=0,n=this._regExpRules.length;s<n;s++){const i=this._regExpRules[s];if([{reg:i.beforeText,text:v},{reg:i.afterText,text:C},{reg:i.previousLineText,text:_}].every(a=>a.reg?(a.reg.lastIndex=0,a.reg.test(a.text)):!0))return i.action}if(m>=2&&v.length>0&&C.length>0)for(let s=0,n=this._brackets.length;s<n;s++){const i=this._brackets[s];if(i.openRegExp.test(v)&&i.closeRegExp.test(C))return{indentAction:y.IndentAction.IndentOutdent}}if(m>=2&&v.length>0){for(let s=0,n=this._brackets.length;s<n;s++)if(this._brackets[s].openRegExp.test(v))return{indentAction:y.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let _=k.escapeRegExpCharacters(m);return/\B/.test(_.charAt(0))||(_="\\b"+_),_+="\\s*$",D._safeRegExp(_)}static _createCloseBracketRegExp(m){let _=k.escapeRegExpCharacters(m);return/\B/.test(_.charAt(_.length-1))||(_=_+"\\b"),_="^\\s*"+_,D._safeRegExp(_)}static _safeRegExp(m){try{return new RegExp(m)}catch(_){return(0,L.onUnexpectedError)(_),null}}}e.OnEnterSupport=D}),define(ee[505],te([1,0,36]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(u,h,l,c,o){this._parsedThemeRuleBrand=void 0,this.token=u,this.index=h,this.fontStyle=l,this.foreground=c,this.background=o}}e.ParsedTokenThemeRule=k;function y(a){if(!a||!Array.isArray(a))return[];const u=[];let h=0;for(let l=0,c=a.length;l<c;l++){const o=a[l];let d=-1;if(typeof o.fontStyle=="string"){d=0;const f=o.fontStyle.split(" ");for(let p=0,b=f.length;p<b;p++)switch(f[p]){case"italic":d=d|1;break;case"bold":d=d|2;break;case"underline":d=d|4;break;case"strikethrough":d=d|8;break}}let r=null;typeof o.foreground=="string"&&(r=o.foreground);let g=null;typeof o.background=="string"&&(g=o.background),u[h++]=new k(o.token||"",l,d,r,g)}return u}e.parseTokenTheme=y;function D(a,u){a.sort((p,b)=>{const w=s(p.token,b.token);return w!==0?w:p.index-b.index});let h=0,l="000000",c="ffffff";for(;a.length>=1&&a[0].token==="";){const p=a.shift();p.fontStyle!==-1&&(h=p.fontStyle),p.foreground!==null&&(l=p.foreground),p.background!==null&&(c=p.background)}const o=new m;for(const p of u)o.getId(p);const d=o.getId(l),r=o.getId(c),g=new n(h,d,r),f=new i(g);for(let p=0,b=a.length;p<b;p++){const w=a[p];f.insert(w.token,w.fontStyle,o.getId(w.foreground),o.getId(w.background))}return new _(o,f)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(u){if(u===null)return 0;const h=u.match(S);if(!h)throw new Error("Illegal value for token color: "+u);u=h[1].toUpperCase();let l=this._color2id.get(u);return l||(l=++this._lastColorId,this._color2id.set(u,l),this._id2color[l]=L.Color.fromHex("#"+u),l)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class _{static createFromRawTokenTheme(u,h){return this.createFromParsedTokenTheme(y(u),h)}static createFromParsedTokenTheme(u,h){return D(u,h)}constructor(u,h){this._colorMap=u,this._root=h,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(u){return this._root.match(u)}match(u,h){let l=this._cache.get(h);if(typeof l>"u"){const c=this._match(h),o=C(h);l=(c.metadata|o<<8)>>>0,this._cache.set(h,l)}return(l|u<<0)>>>0}}e.TokenTheme=_;const v=/\b(comment|string|regex|regexp)\b/;function C(a){const u=a.match(v);if(!u)return 0;switch(u[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=C;function s(a,u){return a<u?-1:a>u?1:0}e.strcmp=s;class n{constructor(u,h,l){this._themeTrieElementRuleBrand=void 0,this._fontStyle=u,this._foreground=h,this._background=l,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new n(this._fontStyle,this._foreground,this._background)}acceptOverwrite(u,h,l){u!==-1&&(this._fontStyle=u),h!==0&&(this._foreground=h),l!==0&&(this._background=l),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=n;class i{constructor(u){this._themeTrieElementBrand=void 0,this._mainRule=u,this._children=new Map}match(u){if(u==="")return this._mainRule;const h=u.indexOf(".");let l,c;h===-1?(l=u,c=""):(l=u.substring(0,h),c=u.substring(h+1));const o=this._children.get(l);return typeof o<"u"?o.match(c):this._mainRule}insert(u,h,l,c){if(u===""){this._mainRule.acceptOverwrite(h,l,c);return}const o=u.indexOf(".");let d,r;o===-1?(d=u,r=""):(d=u.substring(0,o),r=u.substring(o+1));let g=this._children.get(d);typeof g>"u"&&(g=new i(this._mainRule.clone()),this._children.set(d,g)),g.insert(r,h,l,c)}}e.ThemeTrieElement=i;function t(a){const u=[];for(let h=1,l=a.length;h<l;h++){const c=a[h];u[h]=`.mtk${h} { color: ${c}; }`}return u.push(".mtki { font-style: italic; }"),u.push(".mtkb { font-weight: bold; }"),u.push(".mtku { text-decoration: underline; text-underline-position: under; }"),u.push(".mtks { text-decoration: line-through; }"),u.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),u.join(`
`)}e.generateTokensCSSForColorMap=t}),define(ee[48],te([1,0,52]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.GlyphMarginLane=e.OverviewRulerLane=void 0;var k;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var y;(function(t){t[t.Left=1]="Left",t[t.Right=2]="Right"})(y||(e.GlyphMarginLane=y={}));var D;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(D||(e.MinimapPosition=D={}));var S;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(S||(e.InjectedTextCursorStops=S={}));class m{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(a){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,a.tabSize|0),a.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,a.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!a.insertSpaces,this.defaultEOL=a.defaultEOL|0,this.trimAutoWhitespace=!!a.trimAutoWhitespace,this.bracketPairColorizationOptions=a.bracketPairColorizationOptions}equals(a){return this.tabSize===a.tabSize&&this._indentSizeIsTabSize===a._indentSizeIsTabSize&&this.indentSize===a.indentSize&&this.insertSpaces===a.insertSpaces&&this.defaultEOL===a.defaultEOL&&this.trimAutoWhitespace===a.trimAutoWhitespace&&(0,L.equals)(this.bracketPairColorizationOptions,a.bracketPairColorizationOptions)}createChangeEvent(a){return{tabSize:this.tabSize!==a.tabSize,indentSize:this.indentSize!==a.indentSize,insertSpaces:this.insertSpaces!==a.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==a.trimAutoWhitespace}}}e.TextModelResolvedOptions=m;class _{constructor(a,u){this._findMatchBrand=void 0,this.range=a,this.matches=u}}e.FindMatch=_;function v(t){return t&&typeof t.read=="function"}e.isITextSnapshot=v;class C{constructor(a,u,h,l,c,o){this.identifier=a,this.range=u,this.text=h,this.forceMoveMarkers=l,this.isAutoWhitespaceEdit=c,this._isTracked=o}}e.ValidAnnotatedEditOperation=C;class s{constructor(a,u,h){this.regex=a,this.wordSeparators=u,this.simpleSearch=h}}e.SearchData=s;class n{constructor(a,u,h){this.reverseEdits=a,this.changes=u,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=n;function i(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(ee[90],te([1,0,10,5]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class y{constructor(g,f){this.lineCount=g,this.columnCount=f}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=y,y.zero=new y(0,0);function D(r,g,f,p){return r!==f?_(f-r,p):_(0,p-g)}e.lengthDiff=D,e.lengthZero=0;function S(r){return r===0}e.lengthIsZero=S;const m=Math.pow(2,26);function _(r,g){return r*m+g}e.toLength=_;function v(r){const g=r,f=Math.floor(g/m),p=g-f*m;return new y(f,p)}e.lengthToObj=v;function C(r){return Math.floor(r/m)}e.lengthGetLineCount=C;function s(r){return r}e.lengthGetColumnCountIfZeroLineCount=s;function n(r,g){let f=r+g;return g>=m&&(f=f-r%m),f}e.lengthAdd=n;function i(r,g){return r.reduce((f,p)=>n(f,g(p)),e.lengthZero)}e.sumLengths=i;function t(r,g){return r===g}e.lengthEquals=t;function a(r,g){const f=r,p=g;if(p-f<=0)return e.lengthZero;const w=Math.floor(f/m),E=Math.floor(p/m),I=p-E*m;if(w===E){const N=f-w*m;return _(0,I-N)}else return _(E-w,I)}e.lengthDiffNonNegative=a;function u(r,g){return r<g}e.lengthLessThan=u;function h(r,g){return r<=g}e.lengthLessThanEqual=h;function l(r,g){return r>=g}e.lengthGreaterThanEqual=l;function c(r){return _(r.lineNumber-1,r.column-1)}e.positionToLength=c;function o(r,g){const f=r,p=Math.floor(f/m),b=f-p*m,w=g,E=Math.floor(w/m),I=w-E*m;return new k.Range(p+1,b+1,E+1,I+1)}e.lengthsToRange=o;function d(r){const g=(0,L.splitLines)(r);return _(g.length-1,g[g.length-1].length)}e.lengthOfString=d}),define(ee[178],te([1,0,5,90]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class y{static fromModelContentChanges(_){return _.map(C=>{const s=L.Range.lift(C.range);return new y((0,k.positionToLength)(s.getStartPosition()),(0,k.positionToLength)(s.getEndPosition()),(0,k.lengthOfString)(C.text))}).reverse()}constructor(_,v,C){this.startOffset=_,this.endOffset=v,this.newLength=C}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=y;class D{constructor(_){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(v=>S.from(v))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const v=this.edits[this.nextEditIdx],C=v?this.translateOldToCur(v.offsetObj):null;return C===null?null:(0,k.lengthDiffNonNegative)(_,C)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const v=(0,k.lengthToObj)(_);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],C=this.translateOldToCur(v.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(C,_)){this.nextEditIdx++;const s=(0,k.lengthToObj)(C),n=(0,k.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),i=s.lineCount-n.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=s.columnCount-n.columnCount;this.deltaOldToNewColumnCount=t+a,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class S{static from(_){return new S(_.startOffset,_.endOffset,_.newLength)}constructor(_,v,C){this.endOffsetBeforeObj=(0,k.lengthToObj)(v),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(_,C)),this.offsetObj=(0,k.lengthToObj)(_)}}}),define(ee[280],te([1,0,14,178,90]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(_,v){if(_.length===0)return v;if(v.length===0)return _;const C=new L.ArrayQueue(m(_)),s=m(v);s.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let n=C.dequeue();function i(h){if(h===void 0){const c=C.takeWhile(o=>!0)||[];return n&&c.unshift(n),c}const l=[];for(;n&&!(0,y.lengthIsZero)(h);){const[c,o]=n.splitAt(h);l.push(c),h=(0,y.lengthDiffNonNegative)(c.lengthAfter,h),n=o??C.dequeue()}return(0,y.lengthIsZero)(h)||l.push(new S(!1,h,h)),l}const t=[];function a(h,l,c){if(t.length>0&&(0,y.lengthEquals)(t[t.length-1].endOffset,h)){const o=t[t.length-1];t[t.length-1]=new k.TextEditInfo(o.startOffset,l,(0,y.lengthAdd)(o.newLength,c))}else t.push({startOffset:h,endOffset:l,newLength:c})}let u=y.lengthZero;for(const h of s){const l=i(h.lengthBefore);if(h.modified){const c=(0,y.sumLengths)(l,d=>d.lengthBefore),o=(0,y.lengthAdd)(u,c);a(u,o,h.lengthAfter),u=o}else for(const c of l){const o=u;u=(0,y.lengthAdd)(u,c.lengthBefore),c.modified&&a(o,u,c.lengthAfter)}}return t}e.combineTextEditInfos=D;class S{constructor(v,C,s){this.modified=v,this.lengthBefore=C,this.lengthAfter=s}splitAt(v){const C=(0,y.lengthDiffNonNegative)(v,this.lengthAfter);return(0,y.lengthEquals)(C,y.lengthZero)?[this,void 0]:this.modified?[new S(this.modified,this.lengthBefore,v),new S(this.modified,y.lengthZero,C)]:[new S(this.modified,v,v),new S(this.modified,C,C)]}toString(){return`${this.modified?"M":"U"}:${(0,y.lengthToObj)(this.lengthBefore)} -> ${(0,y.lengthToObj)(this.lengthAfter)}`}}function m(_){const v=[];let C=y.lengthZero;for(const s of _){const n=(0,y.lengthDiffNonNegative)(C,s.startOffset);(0,y.lengthIsZero)(n)||v.push(new S(!1,n,n));const i=(0,y.lengthDiffNonNegative)(s.startOffset,s.endOffset);v.push(new S(!0,i,s.newLength)),C=s.endOffset}return v}}),define(ee[506],te([1,0,90]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(m){this.lastOffset=L.lengthZero,this.nextNodes=[m],this.offsets=[L.lengthZero],this.idxs=[]}readLongestNodeAt(m,_){if((0,L.lengthLessThan)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const v=D(this.nextNodes);if(!v)return;const C=D(this.offsets);if((0,L.lengthLessThan)(m,C))return;if((0,L.lengthLessThan)(C,m))if((0,L.lengthAdd)(C,v.length)<=m)this.nextNodeAfterCurrent();else{const s=y(v);s!==-1?(this.nextNodes.push(v.getChild(s)),this.offsets.push(C),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(_(v))return this.nextNodeAfterCurrent(),v;{const s=y(v);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(v.getChild(s)),this.offsets.push(C),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const m=D(this.offsets),_=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const v=D(this.nextNodes),C=y(v,this.idxs[this.idxs.length-1]);if(C!==-1){this.nextNodes.push(v.getChild(C)),this.offsets.push((0,L.lengthAdd)(m,_.length)),this.idxs[this.idxs.length-1]=C;break}else this.idxs.pop()}}}e.NodeReader=k;function y(S,m=-1){for(;;){if(m++,m>=S.childrenLength)return-1;if(S.getChild(m))return m}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(ee[126],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const L=[];class k{static create(S,m){if(S<=128&&m.length===0){let _=k.cache[S];return _||(_=new k(S,m),k.cache[S]=_),_}return new k(S,m)}static getEmpty(){return this.empty}constructor(S,m){this.items=S,this.additionalItems=m}add(S,m){const _=m.getKey(S);let v=_>>5;if(v===0){const s=1<<_|this.items;return s===this.items?this:k.create(s,this.additionalItems)}v--;const C=this.additionalItems.slice(0);for(;C.length<v;)C.push(0);return C[v]|=1<<(_&31),k.create(this.items,C)}merge(S){const m=this.items|S.items;if(this.additionalItems===L&&S.additionalItems===L)return m===this.items?this:m===S.items?S:k.create(m,L);const _=[];for(let v=0;v<Math.max(this.additionalItems.length,S.additionalItems.length);v++){const C=this.additionalItems[v]||0,s=S.additionalItems[v]||0;_.push(C|s)}return k.create(m,_)}intersects(S){if(this.items&S.items)return!0;for(let m=0;m<Math.min(this.additionalItems.length,S.additionalItems.length);m++)if(this.additionalItems[m]&S.additionalItems[m])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,L),e.identityKeyProvider={getKey(D){return D}};class y{constructor(){this.items=new Map}getKey(S){let m=this.items.get(S);return m===void 0&&(m=this.items.size,this.items.set(S,m)),m}}e.DenseKeyProvider=y}),define(ee[179],te([1,0,9,80,90,126]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class S{get length(){return this._length}constructor(c){this._length=c}}class m extends S{static create(c,o,d){let r=c.length;return o&&(r=(0,y.lengthAdd)(r,o.length)),d&&(r=(0,y.lengthAdd)(r,d.length)),new m(r,c,o,d,o?o.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(c){switch(c){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const c=[];return c.push(this.openingBracket),this.child&&c.push(this.child),this.closingBracket&&c.push(this.closingBracket),c}constructor(c,o,d,r,g){super(c),this.openingBracket=o,this.child=d,this.closingBracket=r,this.missingOpeningBracketIds=g}canBeReused(c){return!(this.closingBracket===null||c.intersects(this.missingOpeningBracketIds))}deepClone(){return new m(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(c,o){return this.child?this.child.computeMinIndentation((0,y.lengthAdd)(c,this.openingBracket.length),o):Number.MAX_SAFE_INTEGER}}e.PairAstNode=m;class _ extends S{static create23(c,o,d,r=!1){let g=c.length,f=c.missingOpeningBracketIds;if(c.listHeight!==o.listHeight)throw new Error("Invalid list heights");if(g=(0,y.lengthAdd)(g,o.length),f=f.merge(o.missingOpeningBracketIds),d){if(c.listHeight!==d.listHeight)throw new Error("Invalid list heights");g=(0,y.lengthAdd)(g,d.length),f=f.merge(d.missingOpeningBracketIds)}return r?new C(g,c.listHeight+1,c,o,d,f):new v(g,c.listHeight+1,c,o,d,f)}static getEmpty(){return new n(y.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(c,o,d){super(c),this.listHeight=o,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const c=this.childrenLength;if(c===0)return;const o=this.getChild(c-1),d=o.kind===4?o.toMutable():o;return o!==d&&this.setChild(c-1,d),d}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const o=this.getChild(0),d=o.kind===4?o.toMutable():o;return o!==d&&this.setChild(0,d),d}canBeReused(c){if(c.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let o=this;for(;o.kind===4;){const d=o.childrenLength;if(d===0)throw new L.BugIndicatingError;o=o.getChild(d-1)}return o.canBeReused(c)}handleChildrenChanged(){this.throwIfImmutable();const c=this.childrenLength;let o=this.getChild(0).length,d=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<c;r++){const g=this.getChild(r);o=(0,y.lengthAdd)(o,g.length),d=d.merge(g.missingOpeningBracketIds)}this._length=o,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}computeMinIndentation(c,o){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let d=Number.MAX_SAFE_INTEGER,r=c;for(let g=0;g<this.childrenLength;g++){const f=this.getChild(g);f&&(d=Math.min(d,f.computeMinIndentation(r,o)),r=(0,y.lengthAdd)(r,f.length))}return this.cachedMinIndentation=d,d}}e.ListAstNode=_;class v extends _{get childrenLength(){return this._item3!==null?3:2}getChild(c){switch(c){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(c,o){switch(c){case 0:this._item1=o;return;case 1:this._item2=o;return;case 2:this._item3=o;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(c,o,d,r,g,f){super(c,o,f),this._item1=d,this._item2=r,this._item3=g}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=c,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item3;return this._item3=null,this.handleChildrenChanged(),c}prependChildOfSameHeight(c){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=c,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),c}toMutable(){return this}}class C extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class s extends _{get childrenLength(){return this._children.length}getChild(c){return this._children[c]}setChild(c,o){this._children[c]=o}get children(){return this._children}constructor(c,o,d,r){super(c,o,r),this._children=d}deepClone(){const c=new Array(this._children.length);for(let o=0;o<this._children.length;o++)c[o]=this._children[o].deepClone();return new s(this.length,this.listHeight,c,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){this.throwIfImmutable(),this._children.push(c),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const c=this._children.pop();return this.handleChildrenChanged(),c}prependChildOfSameHeight(c){this.throwIfImmutable(),this._children.unshift(c),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const c=this._children.shift();return this.handleChildrenChanged(),c}toMutable(){return this}}class n extends s{toMutable(){return new s(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(c){return null}get children(){return i}deepClone(){return this}}class a extends t{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(c){return!0}computeMinIndentation(c,o){const d=(0,y.lengthToObj)(c),r=(d.columnCount===0?d.lineCount:d.lineCount+1)+1,g=(0,y.lengthGetLineCount)((0,y.lengthAdd)(c,this.length))+1;let f=Number.MAX_SAFE_INTEGER;for(let p=r;p<=g;p++){const b=o.getLineFirstNonWhitespaceColumn(p),w=o.getLineContent(p);if(b===0)continue;const E=k.CursorColumns.visibleColumnFromColumn(w,b,o.getOptions().tabSize);f=Math.min(f,E)}return f}}e.TextAstNode=a;class u extends t{static create(c,o,d){return new u(c,o,d)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(c,o,d){super(c),this.bracketInfo=o,this.bracketIds=d}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(c){return!1}computeMinIndentation(c,o){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=u;class h extends t{get kind(){return 3}constructor(c,o){super(o),this.missingOpeningBracketIds=c}canBeReused(c){return!c.intersects(this.missingOpeningBracketIds)}computeMinIndentation(c,o){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=h}),define(ee[507],te([1,0,179]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function k(v){if(v.length===0)return null;if(v.length===1)return v[0];let C=0;function s(){if(C>=v.length)return null;const a=C,u=v[a].listHeight;for(C++;C<v.length&&v[C].listHeight===u;)C++;return C-a>=2?y(a===0&&C===v.length?v:v.slice(a,C),!1):v[a]}let n=s(),i=s();if(!i)return n;for(let a=s();a;a=s())D(n,i)<=D(i,a)?(n=S(n,i),i=a):i=S(i,a);return S(n,i)}e.concat23Trees=k;function y(v,C=!1){if(v.length===0)return null;if(v.length===1)return v[0];let s=v.length;for(;s>3;){const n=s>>1;for(let i=0;i<n;i++){const t=i<<1;v[i]=L.ListAstNode.create23(v[t],v[t+1],t+3===s?v[t+2]:null,C)}s=n}return L.ListAstNode.create23(v[0],v[1],s>=3?v[2]:null,C)}e.concat23TreesOfSameHeight=y;function D(v,C){return Math.abs(v.listHeight-C.listHeight)}function S(v,C){return v.listHeight===C.listHeight?L.ListAstNode.create23(v,C,null,!1):v.listHeight>C.listHeight?m(v,C):_(C,v)}function m(v,C){v=v.toMutable();let s=v;const n=[];let i;for(;;){if(C.listHeight===s.listHeight){i=C;break}if(s.kind!==4)throw new Error("unexpected");n.push(s),s=s.makeLastElementMutable()}for(let t=n.length-1;t>=0;t--){const a=n[t];i?a.childrenLength>=3?i=L.ListAstNode.create23(a.unappendChild(),i,null,!1):(a.appendChildOfSameHeight(i),i=void 0):a.handleChildrenChanged()}return i?L.ListAstNode.create23(v,i,null,!1):v}function _(v,C){v=v.toMutable();let s=v;const n=[];for(;C.listHeight!==s.listHeight;){if(s.kind!==4)throw new Error("unexpected");n.push(s),s=s.makeFirstElementMutable()}let i=C;for(let t=n.length-1;t>=0;t--){const a=n[t];i?a.childrenLength>=3?i=L.ListAstNode.create23(i,a.unprependChild(),null,!1):(a.prependChildOfSameHeight(i),i=void 0):a.handleChildrenChanged()}return i?L.ListAstNode.create23(i,v,null,!1):v}}),define(ee[281],te([1,0,179,178,126,90,507,506]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function _(C,s,n,i){return new v(C,s,n,i).parseDocument()}e.parseDocument=_;class v{constructor(s,n,i,t){if(this.tokenizer=s,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,i&&t)throw new Error("Not supported");this.oldNodeReader=i?new m.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(n)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let s=this.parseList(y.SmallImmutableSet.getEmpty(),0);return s||(s=L.ListAstNode.getEmpty()),s}parseList(s,n){const i=[];for(;;){let a=this.tryReadChildFromCache(s);if(!a){const u=this.tokenizer.peek();if(!u||u.kind===2&&u.bracketIds.intersects(s))break;a=this.parseChild(s,n+1)}a.kind===4&&a.childrenLength===0||i.push(a)}return this.oldNodeReader?(0,S.concat23Trees)(i):(0,S.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(s){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(n===null||!(0,D.lengthIsZero)(n)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>n!==null&&!(0,D.lengthLessThan)(t.length,n)?!1:t.canBeReused(s));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(s,n){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new L.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(n>300)return new L.TextAstNode(i.length);const t=s.merge(i.bracketIds),a=this.parseList(t,n+1),u=this.tokenizer.peek();return u&&u.kind===2&&(u.bracketId===i.bracketId||u.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),L.PairAstNode.create(i.astNode,a,u.astNode)):L.PairAstNode.create(i.astNode,a,null)}default:throw new Error("unexpected")}}}}),define(ee[208],te([1,0,9,124,179,90,126]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class m{constructor(n,i,t,a,u){this.length=n,this.kind=i,this.bracketId=t,this.bracketIds=a,this.astNode=u}}e.Token=m;class _{constructor(n,i){this.textModel=n,this.bracketTokens=i,this.reader=new v(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(n){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,n);const i=(0,D.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let n;return this.peeked?(this.didPeek=!1,n=this.peeked):n=this.reader.read(),n&&(this._offset=(0,D.lengthAdd)(this._offset,n.length)),n}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=_;class v{constructor(n,i){this.textModel=n,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}setPosition(n,i){n===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=n,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const u=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(u.length),u}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const n=this.lineIdx,i=this.lineCharOffset;let t=0;for(;;){const u=this.lineTokens,h=u.getCount();let l=null;if(this.lineTokenOffset<h){const c=u.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<h&&c===u.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const o=k.TokenMetadata.getTokenType(c)===0,d=k.TokenMetadata.containsBalancedBrackets(c),r=u.getEndOffset(this.lineTokenOffset);if(d&&o&&this.lineCharOffset<r){const g=u.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,r),p=this.bracketTokens.getSingleLanguageBracketTokens(g),b=p.regExpGlobal;if(b){b.lastIndex=0;const w=b.exec(f);w&&(l=p.getToken(w[0]),l&&(this.lineCharOffset+=w.index))}}if(t+=r-this.lineCharOffset,l)if(n!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=l;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(l.length),l;else this.lineTokenOffset++,this.lineCharOffset=r}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const a=(0,D.lengthDiff)(n,i,this.lineIdx,this.lineCharOffset);return new m(a,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(a))}}class C{constructor(n,i){this.text=n,this._offset=D.lengthZero,this.idx=0;const t=i.getRegExpStr(),a=t?new RegExp(t+`|
`,"gi"):null,u=[];let h,l=0,c=0,o=0,d=0;const r=[];for(let p=0;p<60;p++)r.push(new m((0,D.toLength)(0,p),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(0,p))));const g=[];for(let p=0;p<60;p++)g.push(new m((0,D.toLength)(1,p),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(1,p))));if(a)for(a.lastIndex=0;(h=a.exec(n))!==null;){const p=h.index,b=h[0];if(b===`
`)l++,c=p+1;else{if(o!==p){let w;if(d===l){const E=p-o;if(E<r.length)w=r[E];else{const I=(0,D.toLength)(0,E);w=new m(I,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(I))}}else{const E=l-d,I=p-c;if(E===1&&I<g.length)w=g[I];else{const N=(0,D.toLength)(E,I);w=new m(N,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(N))}}u.push(w)}u.push(i.getToken(b)),o=p+b.length,d=l}}const f=n.length;if(o!==f){const p=d===l?(0,D.toLength)(0,f-o):(0,D.toLength)(l-d,f-c);u.push(new m(p,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(p)))}this.length=(0,D.toLength)(l,f-c),this.tokens=u}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(n){throw new L.NotSupportedError}}e.FastTokenizer=C}),define(ee[282],te([1,0,10,179,90,126,208]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class m{static createFromLanguage(s,n){function i(a){return n.getKey(`${a.languageId}:::${a.bracketText}`)}const t=new Map;for(const a of s.bracketsNew.openingBrackets){const u=(0,y.toLength)(0,a.bracketText.length),h=i(a),l=D.SmallImmutableSet.getEmpty().add(h,D.identityKeyProvider);t.set(a.bracketText,new S.Token(u,1,h,l,k.BracketAstNode.create(u,a,l)))}for(const a of s.bracketsNew.closingBrackets){const u=(0,y.toLength)(0,a.bracketText.length);let h=D.SmallImmutableSet.getEmpty();const l=a.getOpeningBrackets();for(const c of l)h=h.add(i(c),D.identityKeyProvider);t.set(a.bracketText,new S.Token(u,2,i(l[0]),h,k.BracketAstNode.create(u,a,h)))}return new m(t)}constructor(s){this.map=s,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const s=[...this.map.keys()];return s.sort(),s.reverse(),s.map(n=>_(n)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const s=this.getRegExpStr();this._regExpGlobal=s?new RegExp(s,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(s){return this.map.get(s.toLowerCase())}findClosingTokenText(s){for(const[n,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(s))return n}get isEmpty(){return this.map.size===0}}e.BracketTokens=m;function _(C){let s=(0,L.escapeRegExpCharacters)(C);return/^[\w ]+/.test(C)&&(s=`\\b${s}`),/[\w ]+$/.test(C)&&(s=`${s}\\b`),s}class v{constructor(s,n){this.denseKeyProvider=s,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}didLanguageChange(s){return this.languageIdToBracketTokens.has(s)}getSingleLanguageBracketTokens(s){let n=this.languageIdToBracketTokens.get(s);return n||(n=m.createFromLanguage(this.getLanguageConfiguration(s),this.denseKeyProvider),this.languageIdToBracketTokens.set(s,n)),n}}e.LanguageAgnosticBracketTokens=v}),define(ee[508],te([1,0,282,90,281,126,208]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function m(v,C){const s=new D.DenseKeyProvider,n=new L.LanguageAgnosticBracketTokens(s,l=>C.getLanguageConfiguration(l)),i=new S.TextBufferTokenizer(new _([v]),n),t=(0,y.parseDocument)(i,[],void 0,!0);let a="";const u=v.getLineContent();function h(l,c){if(l.kind===2)if(h(l.openingBracket,c),c=(0,k.lengthAdd)(c,l.openingBracket.length),l.child&&(h(l.child,c),c=(0,k.lengthAdd)(c,l.child.length)),l.closingBracket)h(l.closingBracket,c),c=(0,k.lengthAdd)(c,l.closingBracket.length);else{const d=n.getSingleLanguageBracketTokens(l.openingBracket.languageId).findClosingTokenText(l.openingBracket.bracketIds);a+=d}else if(l.kind!==3){if(l.kind===0||l.kind===1)a+=u.substring((0,k.lengthGetColumnCountIfZeroLineCount)(c),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(c,l.length)));else if(l.kind===4)for(const o of l.children)h(o,c),c=(0,k.lengthAdd)(c,o.length)}}return h(t,k.lengthZero),a}e.fixBracketsInLine=m;class _{constructor(C){this.lines=C,this.tokenization={getLineTokens:s=>this.lines[s-1]}}getLineCount(){return this.lines.length}getLineLength(C){return this.lines[C-1].getLineContent().length}}}),define(ee[509],te([1,0,14]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(S){this._default=S,this._store=[]}get(S){return S<this._store.length?this._store[S]:this._default}set(S,m){for(;S>=this._store.length;)this._store[this._store.length]=this._default;this._store[S]=m}replace(S,m,_){if(S>=this._store.length)return;if(m===0){this.insert(S,_);return}else if(_===0){this.delete(S,m);return}const v=this._store.slice(0,S),C=this._store.slice(S+m),s=y(_,this._default);this._store=v.concat(s,C)}delete(S,m){m===0||S>=this._store.length||this._store.splice(S,m)}insert(S,m){if(m===0||S>=this._store.length)return;const _=[];for(let v=0;v<m;v++)_[v]=this._default;this._store=(0,L.arrayInsert)(this._store,S,_)}}e.FixedArray=k;function y(D,S){const m=[];for(let _=0;_<D;_++)m[_]=S;return m}}),define(ee[510],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class L{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,S,m,_,v){v.spacesDiff=0,v.looksLikeAlignment=!1;let C;for(C=0;C<S&&C<_;C++){const h=D.charCodeAt(C),l=m.charCodeAt(C);if(h!==l)break}let s=0,n=0;for(let h=C;h<S;h++)D.charCodeAt(h)===32?s++:n++;let i=0,t=0;for(let h=C;h<_;h++)m.charCodeAt(h)===32?i++:t++;if(s>0&&n>0||i>0&&t>0)return;const a=Math.abs(n-t),u=Math.abs(s-i);if(a===0){v.spacesDiff=u,u>0&&0<=i-1&&i-1<D.length&&i<m.length&&m.charCodeAt(i)!==32&&D.charCodeAt(i-1)===32&&D.charCodeAt(D.length-1)===44&&(v.looksLikeAlignment=!0);return}if(u%a===0){v.spacesDiff=u/a;return}}function y(D,S,m){const _=Math.min(D.getLineCount(),1e4);let v=0,C=0,s="",n=0;const i=[2,4,6,8,3,5,7],t=8,a=[0,0,0,0,0,0,0,0,0],u=new L;for(let c=1;c<=_;c++){const o=D.getLineLength(c),d=D.getLineContent(c),r=o<=65536;let g=!1,f=0,p=0,b=0;for(let E=0,I=o;E<I;E++){const N=r?d.charCodeAt(E):D.getLineCharCode(c,E);if(N===9)b++;else if(N===32)p++;else{g=!0,f=E;break}}if(!g||(b>0?v++:p>1&&C++,k(s,n,d,f,u),u.looksLikeAlignment&&!(m&&S===u.spacesDiff)))continue;const w=u.spacesDiff;w<=t&&a[w]++,s=d,n=f}let h=m;v!==C&&(h=v<C);let l=S;if(h){let c=h?0:.1*_;i.forEach(o=>{const d=a[o];d>c&&(c=d,l=o)}),l===4&&a[4]>0&&a[2]>0&&a[2]>=a[4]/2&&(l=2)}return{insertSpaces:h,tabSize:l}}e.guessIndentation=y}),define(ee[511],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function L(O){return(O.metadata&1)>>>0}e.getNodeColor=L;function k(O,P){O.metadata=O.metadata&254|P<<0}function y(O){return(O.metadata&2)>>>1===1}function D(O,P){O.metadata=O.metadata&253|(P?1:0)<<1}function S(O){return(O.metadata&4)>>>2===1}function m(O,P){O.metadata=O.metadata&251|(P?1:0)<<2}function _(O){return(O.metadata&64)>>>6===1}function v(O,P){O.metadata=O.metadata&191|(P?1:0)<<6}function C(O){return(O.metadata&24)>>>3}function s(O,P){O.metadata=O.metadata&231|P<<3}function n(O){return(O.metadata&32)>>>5===1}function i(O,P){O.metadata=O.metadata&223|(P?1:0)<<5}class t{constructor(P,x,z){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=x,this.end=z,this.delta=0,this.maxEnd=z,this.id=P,this.ownerId=0,this.options=null,m(this,!1),v(this,!1),s(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=z,this.range=null,D(this,!1)}reset(P,x,z,q){this.start=x,this.end=z,this.maxEnd=z,this.cachedVersionId=P,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=z,this.range=q}setOptions(P){this.options=P;const x=this.options.className;m(this,x==="squiggly-error"||x==="squiggly-warning"||x==="squiggly-info"),v(this,this.options.glyphMarginClassName!==null),s(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(P,x,z){this.cachedVersionId!==z&&(this.range=null),this.cachedVersionId=z,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=x}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class a{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(P,x,z,q,B,$){return this.root===e.SENTINEL?[]:f(this,P,x,z,q,B,$)}search(P,x,z,q){return this.root===e.SENTINEL?[]:g(this,P,x,z,q)}collectNodesFromOwner(P){return d(this,P)}collectNodesPostOrder(){return r(this)}insert(P){p(this,P),this._normalizeDeltaIfNecessary()}delete(P){w(this,P),this._normalizeDeltaIfNecessary()}resolveNode(P,x){const z=P;let q=0;for(;P!==this.root;)P===P.parent.right&&(q+=P.parent.delta),P=P.parent;const B=z.start+q,$=z.end+q;z.setCachedOffsets(B,$,x)}acceptReplace(P,x,z,q){const B=c(this,P,P+x);for(let $=0,X=B.length;$<X;$++){const ne=B[$];w(this,ne)}this._normalizeDeltaIfNecessary(),o(this,P,P+x,z),this._normalizeDeltaIfNecessary();for(let $=0,X=B.length;$<X;$++){const ne=B[$];ne.start=ne.cachedAbsoluteStart,ne.end=ne.cachedAbsoluteEnd,l(ne,P,P+x,z,q),ne.maxEnd=ne.end,p(this,ne)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,u(this))}}e.IntervalTree=a;function u(O){let P=O.root,x=0;for(;P!==e.SENTINEL;){if(P.left!==e.SENTINEL&&!y(P.left)){P=P.left;continue}if(P.right!==e.SENTINEL&&!y(P.right)){x+=P.delta,P=P.right;continue}P.start=x+P.start,P.end=x+P.end,P.delta=0,M(P),D(P,!0),D(P.left,!1),D(P.right,!1),P===P.parent.right&&(x-=P.parent.delta),P=P.parent}D(O.root,!1)}function h(O,P,x,z){return O<x?!0:O>x||z===1?!1:z===2?!0:P}function l(O,P,x,z,q){const B=C(O),$=B===0||B===2,X=B===1||B===2,ne=x-P,oe=z,Y=Math.min(ne,oe),U=O.start;let W=!1;const V=O.end;let Z=!1;P<=U&&V<=x&&n(O)&&(O.start=P,W=!0,O.end=P,Z=!0);{const le=q?1:ne>0?2:0;!W&&h(U,$,P,le)&&(W=!0),!Z&&h(V,X,P,le)&&(Z=!0)}if(Y>0&&!q){const le=ne>oe?2:0;!W&&h(U,$,P+Y,le)&&(W=!0),!Z&&h(V,X,P+Y,le)&&(Z=!0)}{const le=q?1:0;!W&&h(U,$,x,le)&&(O.start=P+oe,W=!0),!Z&&h(V,X,x,le)&&(O.end=P+oe,Z=!0)}const ie=oe-ne;W||(O.start=Math.max(0,U+ie)),Z||(O.end=Math.max(0,V+ie)),O.start>O.end&&(O.end=O.start)}e.nodeAcceptEdit=l;function c(O,P,x){let z=O.root,q=0,B=0,$=0,X=0;const ne=[];let oe=0;for(;z!==e.SENTINEL;){if(y(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(q-=z.parent.delta),z=z.parent;continue}if(!y(z.left)){if(B=q+z.maxEnd,B<P){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if($=q+z.start,$>x){D(z,!0);continue}if(X=q+z.end,X>=P&&(z.setCachedOffsets($,X,0),ne[oe++]=z),D(z,!0),z.right!==e.SENTINEL&&!y(z.right)){q+=z.delta,z=z.right;continue}}return D(O.root,!1),ne}function o(O,P,x,z){let q=O.root,B=0,$=0,X=0;const ne=z-(x-P);for(;q!==e.SENTINEL;){if(y(q)){D(q.left,!1),D(q.right,!1),q===q.parent.right&&(B-=q.parent.delta),M(q),q=q.parent;continue}if(!y(q.left)){if($=B+q.maxEnd,$<P){D(q,!0);continue}if(q.left!==e.SENTINEL){q=q.left;continue}}if(X=B+q.start,X>x){q.start+=ne,q.end+=ne,q.delta+=ne,(q.delta<-1073741824||q.delta>1073741824)&&(O.requestNormalizeDelta=!0),D(q,!0);continue}if(D(q,!0),q.right!==e.SENTINEL&&!y(q.right)){B+=q.delta,q=q.right;continue}}D(O.root,!1)}function d(O,P){let x=O.root;const z=[];let q=0;for(;x!==e.SENTINEL;){if(y(x)){D(x.left,!1),D(x.right,!1),x=x.parent;continue}if(x.left!==e.SENTINEL&&!y(x.left)){x=x.left;continue}if(x.ownerId===P&&(z[q++]=x),D(x,!0),x.right!==e.SENTINEL&&!y(x.right)){x=x.right;continue}}return D(O.root,!1),z}function r(O){let P=O.root;const x=[];let z=0;for(;P!==e.SENTINEL;){if(y(P)){D(P.left,!1),D(P.right,!1),P=P.parent;continue}if(P.left!==e.SENTINEL&&!y(P.left)){P=P.left;continue}if(P.right!==e.SENTINEL&&!y(P.right)){P=P.right;continue}x[z++]=P,D(P,!0)}return D(O.root,!1),x}function g(O,P,x,z,q){let B=O.root,$=0,X=0,ne=0;const oe=[];let Y=0;for(;B!==e.SENTINEL;){if(y(B)){D(B.left,!1),D(B.right,!1),B===B.parent.right&&($-=B.parent.delta),B=B.parent;continue}if(B.left!==e.SENTINEL&&!y(B.left)){B=B.left;continue}X=$+B.start,ne=$+B.end,B.setCachedOffsets(X,ne,z);let U=!0;if(P&&B.ownerId&&B.ownerId!==P&&(U=!1),x&&S(B)&&(U=!1),q&&!_(B)&&(U=!1),U&&(oe[Y++]=B),D(B,!0),B.right!==e.SENTINEL&&!y(B.right)){$+=B.delta,B=B.right;continue}}return D(O.root,!1),oe}function f(O,P,x,z,q,B,$){let X=O.root,ne=0,oe=0,Y=0,U=0;const W=[];let V=0;for(;X!==e.SENTINEL;){if(y(X)){D(X.left,!1),D(X.right,!1),X===X.parent.right&&(ne-=X.parent.delta),X=X.parent;continue}if(!y(X.left)){if(oe=ne+X.maxEnd,oe<P){D(X,!0);continue}if(X.left!==e.SENTINEL){X=X.left;continue}}if(Y=ne+X.start,Y>x){D(X,!0);continue}if(U=ne+X.end,U>=P){X.setCachedOffsets(Y,U,B);let Z=!0;z&&X.ownerId&&X.ownerId!==z&&(Z=!1),q&&S(X)&&(Z=!1),$&&!_(X)&&(Z=!1),Z&&(W[V++]=X)}if(D(X,!0),X.right!==e.SENTINEL&&!y(X.right)){ne+=X.delta,X=X.right;continue}}return D(O.root,!1),W}function p(O,P){if(O.root===e.SENTINEL)return P.parent=e.SENTINEL,P.left=e.SENTINEL,P.right=e.SENTINEL,k(P,0),O.root=P,O.root;b(O,P),A(P.parent);let x=P;for(;x!==O.root&&L(x.parent)===1;)if(x.parent===x.parent.parent.left){const z=x.parent.parent.right;L(z)===1?(k(x.parent,0),k(z,0),k(x.parent.parent,1),x=x.parent.parent):(x===x.parent.right&&(x=x.parent,N(O,x)),k(x.parent,0),k(x.parent.parent,1),R(O,x.parent.parent))}else{const z=x.parent.parent.left;L(z)===1?(k(x.parent,0),k(z,0),k(x.parent.parent,1),x=x.parent.parent):(x===x.parent.left&&(x=x.parent,R(O,x)),k(x.parent,0),k(x.parent.parent,1),N(O,x.parent.parent))}return k(O.root,0),P}function b(O,P){let x=0,z=O.root;const q=P.start,B=P.end;for(;;)if(T(q,B,z.start+x,z.end+x)<0)if(z.left===e.SENTINEL){P.start-=x,P.end-=x,P.maxEnd-=x,z.left=P;break}else z=z.left;else if(z.right===e.SENTINEL){P.start-=x+z.delta,P.end-=x+z.delta,P.maxEnd-=x+z.delta,z.right=P;break}else x+=z.delta,z=z.right;P.parent=z,P.left=e.SENTINEL,P.right=e.SENTINEL,k(P,1)}function w(O,P){let x,z;if(P.left===e.SENTINEL?(x=P.right,z=P,x.delta+=P.delta,(x.delta<-1073741824||x.delta>1073741824)&&(O.requestNormalizeDelta=!0),x.start+=P.delta,x.end+=P.delta):P.right===e.SENTINEL?(x=P.left,z=P):(z=E(P.right),x=z.right,x.start+=z.delta,x.end+=z.delta,x.delta+=z.delta,(x.delta<-1073741824||x.delta>1073741824)&&(O.requestNormalizeDelta=!0),z.start+=P.delta,z.end+=P.delta,z.delta=P.delta,(z.delta<-1073741824||z.delta>1073741824)&&(O.requestNormalizeDelta=!0)),z===O.root){O.root=x,k(x,0),P.detach(),I(),M(x),O.root.parent=e.SENTINEL;return}const q=L(z)===1;if(z===z.parent.left?z.parent.left=x:z.parent.right=x,z===P?x.parent=z.parent:(z.parent===P?x.parent=z:x.parent=z.parent,z.left=P.left,z.right=P.right,z.parent=P.parent,k(z,L(P)),P===O.root?O.root=z:P===P.parent.left?P.parent.left=z:P.parent.right=z,z.left!==e.SENTINEL&&(z.left.parent=z),z.right!==e.SENTINEL&&(z.right.parent=z)),P.detach(),q){A(x.parent),z!==P&&(A(z),A(z.parent)),I();return}A(x),A(x.parent),z!==P&&(A(z),A(z.parent));let B;for(;x!==O.root&&L(x)===0;)x===x.parent.left?(B=x.parent.right,L(B)===1&&(k(B,0),k(x.parent,1),N(O,x.parent),B=x.parent.right),L(B.left)===0&&L(B.right)===0?(k(B,1),x=x.parent):(L(B.right)===0&&(k(B.left,0),k(B,1),R(O,B),B=x.parent.right),k(B,L(x.parent)),k(x.parent,0),k(B.right,0),N(O,x.parent),x=O.root)):(B=x.parent.left,L(B)===1&&(k(B,0),k(x.parent,1),R(O,x.parent),B=x.parent.left),L(B.left)===0&&L(B.right)===0?(k(B,1),x=x.parent):(L(B.left)===0&&(k(B.right,0),k(B,1),N(O,B),B=x.parent.left),k(B,L(x.parent)),k(x.parent,0),k(B.left,0),R(O,x.parent),x=O.root));k(x,0),I()}function E(O){for(;O.left!==e.SENTINEL;)O=O.left;return O}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function N(O,P){const x=P.right;x.delta+=P.delta,(x.delta<-1073741824||x.delta>1073741824)&&(O.requestNormalizeDelta=!0),x.start+=P.delta,x.end+=P.delta,P.right=x.left,x.left!==e.SENTINEL&&(x.left.parent=P),x.parent=P.parent,P.parent===e.SENTINEL?O.root=x:P===P.parent.left?P.parent.left=x:P.parent.right=x,x.left=P,P.parent=x,M(P),M(x)}function R(O,P){const x=P.left;P.delta-=x.delta,(P.delta<-1073741824||P.delta>1073741824)&&(O.requestNormalizeDelta=!0),P.start-=x.delta,P.end-=x.delta,P.left=x.right,x.right!==e.SENTINEL&&(x.right.parent=P),x.parent=P.parent,P.parent===e.SENTINEL?O.root=x:P===P.parent.right?P.parent.right=x:P.parent.left=x,x.right=P,P.parent=x,M(P),M(x)}function F(O){let P=O.end;if(O.left!==e.SENTINEL){const x=O.left.maxEnd;x>P&&(P=x)}if(O.right!==e.SENTINEL){const x=O.right.maxEnd+O.delta;x>P&&(P=x)}return P}function M(O){O.maxEnd=F(O)}e.recomputeMaxEnd=M;function A(O){for(;O!==e.SENTINEL;){const P=F(O);if(O.maxEnd===P)return;O.maxEnd=P,O=O.parent}}function T(O,P,x,z){return O===x?P-z:O-x}e.intervalCompare=T}),define(ee[512],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class L{constructor(a,u){this.piece=a,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let a=this;for(;a.parent!==e.SENTINEL&&a.parent.left!==a;)a=a.parent;return a.parent===e.SENTINEL?e.SENTINEL:a.parent}prev(){if(this.left!==e.SENTINEL)return y(this.left);let a=this;for(;a.parent!==e.SENTINEL&&a.parent.right!==a;)a=a.parent;return a.parent===e.SENTINEL?e.SENTINEL:a.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=L,e.SENTINEL=new L(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}e.leftest=k;function y(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}e.righttest=y;function D(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+D(t.right)}function S(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+S(t.right)}function m(){e.SENTINEL.parent=e.SENTINEL}function _(t,a){const u=a.right;u.size_left+=a.size_left+(a.piece?a.piece.length:0),u.lf_left+=a.lf_left+(a.piece?a.piece.lineFeedCnt:0),a.right=u.left,u.left!==e.SENTINEL&&(u.left.parent=a),u.parent=a.parent,a.parent===e.SENTINEL?t.root=u:a.parent.left===a?a.parent.left=u:a.parent.right=u,u.left=a,a.parent=u}e.leftRotate=_;function v(t,a){const u=a.left;a.left=u.right,u.right!==e.SENTINEL&&(u.right.parent=a),u.parent=a.parent,a.size_left-=u.size_left+(u.piece?u.piece.length:0),a.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),a.parent===e.SENTINEL?t.root=u:a===a.parent.right?a.parent.right=u:a.parent.left=u,u.right=a,a.parent=u}e.rightRotate=v;function C(t,a){let u,h;if(a.left===e.SENTINEL?(h=a,u=h.right):a.right===e.SENTINEL?(h=a,u=h.left):(h=k(a.right),u=h.right),h===t.root){t.root=u,u.color=0,a.detach(),m(),t.root.parent=e.SENTINEL;return}const l=h.color===1;if(h===h.parent.left?h.parent.left=u:h.parent.right=u,h===a?(u.parent=h.parent,i(t,u)):(h.parent===a?u.parent=h:u.parent=h.parent,i(t,u),h.left=a.left,h.right=a.right,h.parent=a.parent,h.color=a.color,a===t.root?t.root=h:a===a.parent.left?a.parent.left=h:a.parent.right=h,h.left!==e.SENTINEL&&(h.left.parent=h),h.right!==e.SENTINEL&&(h.right.parent=h),h.size_left=a.size_left,h.lf_left=a.lf_left,i(t,h)),a.detach(),u.parent.left===u){const o=D(u),d=S(u);if(o!==u.parent.size_left||d!==u.parent.lf_left){const r=o-u.parent.size_left,g=d-u.parent.lf_left;u.parent.size_left=o,u.parent.lf_left=d,n(t,u.parent,r,g)}}if(i(t,u.parent),l){m();return}let c;for(;u!==t.root&&u.color===0;)u===u.parent.left?(c=u.parent.right,c.color===1&&(c.color=0,u.parent.color=1,_(t,u.parent),c=u.parent.right),c.left.color===0&&c.right.color===0?(c.color=1,u=u.parent):(c.right.color===0&&(c.left.color=0,c.color=1,v(t,c),c=u.parent.right),c.color=u.parent.color,u.parent.color=0,c.right.color=0,_(t,u.parent),u=t.root)):(c=u.parent.left,c.color===1&&(c.color=0,u.parent.color=1,v(t,u.parent),c=u.parent.left),c.left.color===0&&c.right.color===0?(c.color=1,u=u.parent):(c.left.color===0&&(c.right.color=0,c.color=1,_(t,c),c=u.parent.left),c.color=u.parent.color,u.parent.color=0,c.left.color=0,v(t,u.parent),u=t.root));u.color=0,m()}e.rbDelete=C;function s(t,a){for(i(t,a);a!==t.root&&a.parent.color===1;)if(a.parent===a.parent.parent.left){const u=a.parent.parent.right;u.color===1?(a.parent.color=0,u.color=0,a.parent.parent.color=1,a=a.parent.parent):(a===a.parent.right&&(a=a.parent,_(t,a)),a.parent.color=0,a.parent.parent.color=1,v(t,a.parent.parent))}else{const u=a.parent.parent.left;u.color===1?(a.parent.color=0,u.color=0,a.parent.parent.color=1,a=a.parent.parent):(a===a.parent.left&&(a=a.parent,v(t,a)),a.parent.color=0,a.parent.parent.color=1,_(t,a.parent.parent))}t.root.color=0}e.fixInsert=s;function n(t,a,u,h){for(;a!==t.root&&a!==e.SENTINEL;)a.parent.left===a&&(a.parent.size_left+=u,a.parent.lf_left+=h),a=a.parent}e.updateTreeMetadata=n;function i(t,a){let u=0,h=0;if(a!==t.root){for(;a!==t.root&&a===a.parent.right;)a=a.parent;if(a!==t.root)for(a=a.parent,u=D(a.left)-a.size_left,h=S(a.left)-a.lf_left,a.size_left+=u,a.lf_left+=h;a!==t.root&&(u!==0||h!==0);)a.parent.left===a&&(a.parent.size_left+=u,a.parent.lf_left+=h),a=a.parent}}e.recomputeTreeMetadata=i}),define(ee[283],te([1,0,14,169]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class y{constructor(_){this.values=_,this.prefixSum=new Uint32Array(_.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(_,v){_=(0,k.toUint32)(_);const C=this.values,s=this.prefixSum,n=v.length;return n===0?!1:(this.values=new Uint32Array(C.length+n),this.values.set(C.subarray(0,_),0),this.values.set(C.subarray(_),_+n),this.values.set(v,_),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(_,v){return _=(0,k.toUint32)(_),v=(0,k.toUint32)(v),this.values[_]===v?!1:(this.values[_]=v,_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),!0)}removeValues(_,v){_=(0,k.toUint32)(_),v=(0,k.toUint32)(v);const C=this.values,s=this.prefixSum;if(_>=C.length)return!1;const n=C.length-_;return v>=n&&(v=n),v===0?!1:(this.values=new Uint32Array(C.length-v),this.values.set(C.subarray(0,_),0),this.values.set(C.subarray(_+v),_),this.prefixSum=new Uint32Array(this.values.length),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(_){return _<0?0:(_=(0,k.toUint32)(_),this._getPrefixSum(_))}_getPrefixSum(_){if(_<=this.prefixSumValidIndex[0])return this.prefixSum[_];let v=this.prefixSumValidIndex[0]+1;v===0&&(this.prefixSum[0]=this.values[0],v++),_>=this.values.length&&(_=this.values.length-1);for(let C=v;C<=_;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],_),this.prefixSum[_]}getIndexOf(_){_=Math.floor(_),this.getTotalSum();let v=0,C=this.values.length-1,s=0,n=0,i=0;for(;v<=C;)if(s=v+(C-v)/2|0,n=this.prefixSum[s],i=n-this.values[s],_<i)C=s-1;else if(_>=n)v=s+1;else break;return new S(s,_-i)}}e.PrefixSumComputer=y;class D{constructor(_){this._values=_,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(_){return this._ensureValid(),_===0?0:this._prefixSum[_-1]}getIndexOf(_){this._ensureValid();const v=this._indexBySum[_],C=v>0?this._prefixSum[v-1]:0;return new S(v,_-C)}removeValues(_,v){this._values.splice(_,v),this._invalidate(_)}insertValues(_,v){this._values=(0,L.arrayInsert)(this._values,_,v),this._invalidate(_)}_invalidate(_){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,_-1)}_ensureValid(){if(!this._isValid){for(let _=this._validEndIndex+1,v=this._values.length;_<v;_++){const C=this._values[_],s=_>0?this._prefixSum[_-1]:0;this._prefixSum[_]=s+C;for(let n=0;n<C;n++)this._indexBySum[s+n]=_}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(_,v){this._values[_]!==v&&(this._values[_]=v,this._invalidate(_))}}e.ConstantTimePrefixSumComputer=D;class S{constructor(_,v){this.index=_,this.remainder=v,this._prefixSumIndexOfResultBrand=void 0,this.index=_,this.remainder=v}}e.PrefixSumIndexOfResult=S}),define(ee[513],te([1,0,10,12,283]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(m,_,v,C){this._uri=m,this._lines=_,this._eol=v,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const _=m.changes;for(const v of _)this._acceptDeleteRange(v.range),this._acceptInsertText(new k.Position(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,_=this._lines.length,v=new Uint32Array(_);for(let C=0;C<_;C++)v[C]=this._lines[C].length+m;this._lineStarts=new y.PrefixSumComputer(v)}}_setLineText(m,_){this._lines[m]=_,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,_){if(_.length===0)return;const v=(0,L.splitLines)(_);if(v.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+v[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}v[v.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+v[0]);const C=new Uint32Array(v.length-1);for(let s=1;s<v.length;s++)this._lines.splice(m.lineNumber+s-1,0,v[s]),C[s-1]=v[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,C)}}e.MirrorTextModel=D}),define(ee[284],te([1,0,2]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends L.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(ee[180],te([1,0,10,144,12,5,48]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const m=999;class _{constructor(l,c,o,d){this.searchString=l,this.isRegex=c,this.matchCase=o,this.wordSeparators=d}parseSearchRequest(){if(this.searchString==="")return null;let l;this.isRegex?l=v(this.searchString):l=this.searchString.indexOf(`
`)>=0;let c=null;try{c=L.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:l,global:!0,unicode:!0})}catch{return null}if(!c)return null;let o=!this.isRegex&&!l;return o&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(o=this.matchCase),new S.SearchData(c,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators):null,o?this.searchString:null)}}e.SearchParams=_;function v(h){if(!h||h.length===0)return!1;for(let l=0,c=h.length;l<c;l++){const o=h.charCodeAt(l);if(o===10)return!0;if(o===92){if(l++,l>=c)break;const d=h.charCodeAt(l);if(d===110||d===114||d===87)return!0}}return!1}e.isMultilineRegexSource=v;function C(h,l,c){if(!c)return new S.FindMatch(h,null);const o=[];for(let d=0,r=l.length;d<r;d++)o[d]=l[d];return new S.FindMatch(h,o)}e.createFindMatch=C;class s{constructor(l){const c=[];let o=0;for(let d=0,r=l.length;d<r;d++)l.charCodeAt(d)===10&&(c[o++]=d);this._lineFeedsOffsets=c}findLineFeedCountBeforeOffset(l){const c=this._lineFeedsOffsets;let o=0,d=c.length-1;if(d===-1||l<=c[0])return 0;for(;o<d;){const r=o+((d-o)/2>>0);c[r]>=l?d=r-1:c[r+1]>=l?(o=r,d=r):o=r+1}return o+1}}class n{static findMatches(l,c,o,d,r){const g=c.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(l,o,new u(g.wordSeparators,g.regex),d,r):this._doFindMatchesLineByLine(l,o,g,d,r):[]}static _getMultilineMatchRange(l,c,o,d,r,g){let f,p=0;d?(p=d.findLineFeedCountBeforeOffset(r),f=c+r+p):f=c+r;let b;if(d){const N=d.findLineFeedCountBeforeOffset(r+g.length)-p;b=f+g.length+N}else b=f+g.length;const w=l.getPositionAt(f),E=l.getPositionAt(b);return new D.Range(w.lineNumber,w.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(l,c,o,d,r){const g=l.getOffsetAt(c.getStartPosition()),f=l.getValueInRange(c,1),p=l.getEOL()===`\r
`?new s(f):null,b=[];let w=0,E;for(o.reset(0);E=o.next(f);)if(b[w++]=C(this._getMultilineMatchRange(l,g,f,p,E.index,E[0]),E,d),w>=r)return b;return b}static _doFindMatchesLineByLine(l,c,o,d,r){const g=[];let f=0;if(c.startLineNumber===c.endLineNumber){const b=l.getLineContent(c.startLineNumber).substring(c.startColumn-1,c.endColumn-1);return f=this._findMatchesInLine(o,b,c.startLineNumber,c.startColumn-1,f,g,d,r),g}const p=l.getLineContent(c.startLineNumber).substring(c.startColumn-1);f=this._findMatchesInLine(o,p,c.startLineNumber,c.startColumn-1,f,g,d,r);for(let b=c.startLineNumber+1;b<c.endLineNumber&&f<r;b++)f=this._findMatchesInLine(o,l.getLineContent(b),b,0,f,g,d,r);if(f<r){const b=l.getLineContent(c.endLineNumber).substring(0,c.endColumn-1);f=this._findMatchesInLine(o,b,c.endLineNumber,0,f,g,d,r)}return g}static _findMatchesInLine(l,c,o,d,r,g,f,p){const b=l.wordSeparators;if(!f&&l.simpleSearch){const I=l.simpleSearch,N=I.length,R=c.length;let F=-N;for(;(F=c.indexOf(I,F+N))!==-1;)if((!b||a(b,c,R,F,N))&&(g[r++]=new S.FindMatch(new D.Range(o,F+1+d,o,F+1+N+d),null),r>=p))return r;return r}const w=new u(l.wordSeparators,l.regex);let E;w.reset(0);do if(E=w.next(c),E&&(g[r++]=C(new D.Range(o,E.index+1+d,o,E.index+1+E[0].length+d),E,f),r>=p))return r;while(E);return r}static findNextMatch(l,c,o,d){const r=c.parseSearchRequest();if(!r)return null;const g=new u(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(l,o,g,d):this._doFindNextMatchLineByLine(l,o,g,d)}static _doFindNextMatchMultiline(l,c,o,d){const r=new y.Position(c.lineNumber,1),g=l.getOffsetAt(r),f=l.getLineCount(),p=l.getValueInRange(new D.Range(r.lineNumber,r.column,f,l.getLineMaxColumn(f)),1),b=l.getEOL()===`\r
`?new s(p):null;o.reset(c.column-1);const w=o.next(p);return w?C(this._getMultilineMatchRange(l,g,p,b,w.index,w[0]),w,d):c.lineNumber!==1||c.column!==1?this._doFindNextMatchMultiline(l,new y.Position(1,1),o,d):null}static _doFindNextMatchLineByLine(l,c,o,d){const r=l.getLineCount(),g=c.lineNumber,f=l.getLineContent(g),p=this._findFirstMatchInLine(o,f,g,c.column,d);if(p)return p;for(let b=1;b<=r;b++){const w=(g+b-1)%r,E=l.getLineContent(w+1),I=this._findFirstMatchInLine(o,E,w+1,1,d);if(I)return I}return null}static _findFirstMatchInLine(l,c,o,d,r){l.reset(d-1);const g=l.next(c);return g?C(new D.Range(o,g.index+1,o,g.index+1+g[0].length),g,r):null}static findPreviousMatch(l,c,o,d){const r=c.parseSearchRequest();if(!r)return null;const g=new u(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(l,o,g,d):this._doFindPreviousMatchLineByLine(l,o,g,d)}static _doFindPreviousMatchMultiline(l,c,o,d){const r=this._doFindMatchesMultiline(l,new D.Range(1,1,c.lineNumber,c.column),o,d,10*m);if(r.length>0)return r[r.length-1];const g=l.getLineCount();return c.lineNumber!==g||c.column!==l.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(l,new y.Position(g,l.getLineMaxColumn(g)),o,d):null}static _doFindPreviousMatchLineByLine(l,c,o,d){const r=l.getLineCount(),g=c.lineNumber,f=l.getLineContent(g).substring(0,c.column-1),p=this._findLastMatchInLine(o,f,g,d);if(p)return p;for(let b=1;b<=r;b++){const w=(r+g-b-1)%r,E=l.getLineContent(w+1),I=this._findLastMatchInLine(o,E,w+1,d);if(I)return I}return null}static _findLastMatchInLine(l,c,o,d){let r=null,g;for(l.reset(0);g=l.next(c);)r=C(new D.Range(o,g.index+1,o,g.index+1+g[0].length),g,d);return r}}e.TextModelSearch=n;function i(h,l,c,o,d){if(o===0)return!0;const r=l.charCodeAt(o-1);if(h.get(r)!==0||r===13||r===10)return!0;if(d>0){const g=l.charCodeAt(o);if(h.get(g)!==0)return!0}return!1}function t(h,l,c,o,d){if(o+d===c)return!0;const r=l.charCodeAt(o+d);if(h.get(r)!==0||r===13||r===10)return!0;if(d>0){const g=l.charCodeAt(o+d-1);if(h.get(g)!==0)return!0}return!1}function a(h,l,c,o,d){return i(h,l,c,o,d)&&t(h,l,c,o,d)}e.isValidMatch=a;class u{constructor(l,c){this._wordSeparators=l,this._searchRegex=c,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(l){this._searchRegex.lastIndex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(l){const c=l.length;let o;do{if(this._prevMatchStartIndex+this._prevMatchLength===c||(o=this._searchRegex.exec(l),!o))return null;const d=o.index,r=o[0].length;if(d===this._prevMatchStartIndex&&r===this._prevMatchLength){if(r===0){L.getNextCodePoint(l,c,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=d,this._prevMatchLength=r,!this._wordSeparators||a(this._wordSeparators,l,c,d,r))return o}while(o);return null}}e.Searcher=u}),define(ee[285],te([1,0,12,5,48,512,180]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const m=65535;function _(h){let l;return h[h.length-1]<65536?l=new Uint16Array(h.length):l=new Uint32Array(h.length),l.set(h,0),l}class v{constructor(l,c,o,d,r){this.lineStarts=l,this.cr=c,this.lf=o,this.crlf=d,this.isBasicASCII=r}}function C(h,l=!0){const c=[0];let o=1;for(let d=0,r=h.length;d<r;d++){const g=h.charCodeAt(d);g===13?d+1<r&&h.charCodeAt(d+1)===10?(c[o++]=d+2,d++):c[o++]=d+1:g===10&&(c[o++]=d+1)}return l?_(c):c}e.createLineStartsFast=C;function s(h,l){h.length=0,h[0]=0;let c=1,o=0,d=0,r=0,g=!0;for(let p=0,b=l.length;p<b;p++){const w=l.charCodeAt(p);w===13?p+1<b&&l.charCodeAt(p+1)===10?(r++,h[c++]=p+2,p++):(o++,h[c++]=p+1):w===10?(d++,h[c++]=p+1):g&&w!==9&&(w<32||w>126)&&(g=!1)}const f=new v(_(h),o,d,r,g);return h.length=0,f}e.createLineStarts=s;class n{constructor(l,c,o,d,r){this.bufferIndex=l,this.start=c,this.end=o,this.lineFeedCnt=d,this.length=r}}e.Piece=n;class i{constructor(l,c){this.buffer=l,this.lineStarts=c}}e.StringBuffer=i;class t{constructor(l,c){this._pieces=[],this._tree=l,this._BOM=c,this._index=0,l.root!==D.SENTINEL&&l.iterate(l.root,o=>(o!==D.SENTINEL&&this._pieces.push(o.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class a{constructor(l){this._limit=l,this._cache=[]}get(l){for(let c=this._cache.length-1;c>=0;c--){const o=this._cache[c];if(o.nodeStartOffset<=l&&o.nodeStartOffset+o.node.piece.length>=l)return o}return null}get2(l){for(let c=this._cache.length-1;c>=0;c--){const o=this._cache[c];if(o.nodeStartLineNumber&&o.nodeStartLineNumber<l&&o.nodeStartLineNumber+o.node.piece.lineFeedCnt>=l)return o}return null}set(l){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(l)}validate(l){let c=!1;const o=this._cache;for(let d=0;d<o.length;d++){const r=o[d];if(r.node.parent===null||r.nodeStartOffset>=l){o[d]=null,c=!0;continue}}if(c){const d=[];for(const r of o)r!==null&&d.push(r);this._cache=d}}}class u{constructor(l,c,o){this.create(l,c,o)}create(l,c,o){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=c,this._EOLLength=c.length,this._EOLNormalized=o;let d=null;for(let r=0,g=l.length;r<g;r++)if(l[r].buffer.length>0){l[r].lineStarts||(l[r].lineStarts=C(l[r].buffer));const f=new n(r+1,{line:0,column:0},{line:l[r].lineStarts.length-1,column:l[r].buffer.length-l[r].lineStarts[l[r].lineStarts.length-1]},l[r].lineStarts.length-1,l[r].buffer.length);this._buffers.push(l[r]),d=this.rbInsertRight(d,f)}this._searchCache=new a(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(l){const c=m,o=c-Math.floor(c/3),d=o*2;let r="",g=0;const f=[];if(this.iterate(this.root,p=>{const b=this.getNodeContent(p),w=b.length;if(g<=o||g+w<d)return r+=b,g+=w,!0;const E=r.replace(/\r\n|\r|\n/g,l);return f.push(new i(E,C(E))),r=b,g=w,!0}),g>0){const p=r.replace(/\r\n|\r|\n/g,l);f.push(new i(p,C(p)))}this.create(f,l,!0)}getEOL(){return this._EOL}setEOL(l){this._EOL=l,this._EOLLength=this._EOL.length,this.normalizeEOL(l)}createSnapshot(l){return new t(this,l)}getOffsetAt(l,c){let o=0,d=this.root;for(;d!==D.SENTINEL;)if(d.left!==D.SENTINEL&&d.lf_left+1>=l)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt+1>=l){o+=d.size_left;const r=this.getAccumulatedValue(d,l-d.lf_left-2);return o+=r+c-1}else l-=d.lf_left+d.piece.lineFeedCnt,o+=d.size_left+d.piece.length,d=d.right;return o}getPositionAt(l){l=Math.floor(l),l=Math.max(0,l);let c=this.root,o=0;const d=l;for(;c!==D.SENTINEL;)if(c.size_left!==0&&c.size_left>=l)c=c.left;else if(c.size_left+c.piece.length>=l){const r=this.getIndexOf(c,l-c.size_left);if(o+=c.lf_left+r.index,r.index===0){const g=this.getOffsetAt(o+1,1),f=d-g;return new L.Position(o+1,f+1)}return new L.Position(o+1,r.remainder+1)}else if(l-=c.size_left+c.piece.length,o+=c.lf_left+c.piece.lineFeedCnt,c.right===D.SENTINEL){const r=this.getOffsetAt(o+1,1),g=d-l-r;return new L.Position(o+1,g+1)}else c=c.right;return new L.Position(1,1)}getValueInRange(l,c){if(l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn)return"";const o=this.nodeAt2(l.startLineNumber,l.startColumn),d=this.nodeAt2(l.endLineNumber,l.endColumn),r=this.getValueInRange2(o,d);return c?c!==this._EOL||!this._EOLNormalized?r.replace(/\r\n|\r|\n/g,c):c===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,c):r}getValueInRange2(l,c){if(l.node===c.node){const f=l.node,p=this._buffers[f.piece.bufferIndex].buffer,b=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start);return p.substring(b+l.remainder,b+c.remainder)}let o=l.node;const d=this._buffers[o.piece.bufferIndex].buffer,r=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);let g=d.substring(r+l.remainder,r+o.piece.length);for(o=o.next();o!==D.SENTINEL;){const f=this._buffers[o.piece.bufferIndex].buffer,p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===c.node){g+=f.substring(p,p+c.remainder);break}else g+=f.substr(p,o.piece.length);o=o.next()}return g}getLinesContent(){const l=[];let c=0,o="",d=!1;return this.iterate(this.root,r=>{if(r===D.SENTINEL)return!0;const g=r.piece;let f=g.length;if(f===0)return!0;const p=this._buffers[g.bufferIndex].buffer,b=this._buffers[g.bufferIndex].lineStarts,w=g.start.line,E=g.end.line;let I=b[w]+g.start.column;if(d&&(p.charCodeAt(I)===10&&(I++,f--),l[c++]=o,o="",d=!1,f===0))return!0;if(w===E)return!this._EOLNormalized&&p.charCodeAt(I+f-1)===13?(d=!0,o+=p.substr(I,f-1)):o+=p.substr(I,f),!0;o+=this._EOLNormalized?p.substring(I,Math.max(I,b[w+1]-this._EOLLength)):p.substring(I,b[w+1]).replace(/(\r\n|\r|\n)$/,""),l[c++]=o;for(let N=w+1;N<E;N++)o=this._EOLNormalized?p.substring(b[N],b[N+1]-this._EOLLength):p.substring(b[N],b[N+1]).replace(/(\r\n|\r|\n)$/,""),l[c++]=o;return!this._EOLNormalized&&p.charCodeAt(b[E]+g.end.column-1)===13?(d=!0,g.end.column===0?c--:o=p.substr(b[E],g.end.column-1)):o=p.substr(b[E],g.end.column),!0}),d&&(l[c++]=o,o=""),l[c++]=o,l}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(l){return this._lastVisitedLine.lineNumber===l?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=l,l===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(l):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(l,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(l).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(l){if(l.remainder===l.node.piece.length){const c=l.node.next();if(!c)return 0;const o=this._buffers[c.piece.bufferIndex],d=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return o.buffer.charCodeAt(d)}else{const c=this._buffers[l.node.piece.bufferIndex],d=this.offsetInBuffer(l.node.piece.bufferIndex,l.node.piece.start)+l.remainder;return c.buffer.charCodeAt(d)}}getLineCharCode(l,c){const o=this.nodeAt2(l,c+1);return this._getCharCode(o)}getLineLength(l){if(l===this.getLineCount()){const c=this.getOffsetAt(l,1);return this.getLength()-c}return this.getOffsetAt(l+1,1)-this.getOffsetAt(l,1)-this._EOLLength}findMatchesInNode(l,c,o,d,r,g,f,p,b,w,E){const I=this._buffers[l.piece.bufferIndex],N=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start),R=this.offsetInBuffer(l.piece.bufferIndex,r),F=this.offsetInBuffer(l.piece.bufferIndex,g);let M;const A={line:0,column:0};let T,O;c._wordSeparators?(T=I.buffer.substring(R,F),O=P=>P+R,c.reset(0)):(T=I.buffer,O=P=>P,c.reset(R));do if(M=c.next(T),M){if(O(M.index)>=F)return w;this.positionInBuffer(l,O(M.index)-N,A);const P=this.getLineFeedCnt(l.piece.bufferIndex,r,A),x=A.line===r.line?A.column-r.column+d:A.column+1,z=x+M[0].length;if(E[w++]=(0,S.createFindMatch)(new k.Range(o+P,x,o+P,z),M,p),O(M.index)+M[0].length>=F||w>=b)return w}while(M);return w}findMatchesLineByLine(l,c,o,d){const r=[];let g=0;const f=new S.Searcher(c.wordSeparators,c.regex);let p=this.nodeAt2(l.startLineNumber,l.startColumn);if(p===null)return[];const b=this.nodeAt2(l.endLineNumber,l.endColumn);if(b===null)return[];let w=this.positionInBuffer(p.node,p.remainder);const E=this.positionInBuffer(b.node,b.remainder);if(p.node===b.node)return this.findMatchesInNode(p.node,f,l.startLineNumber,l.startColumn,w,E,c,o,d,g,r),r;let I=l.startLineNumber,N=p.node;for(;N!==b.node;){const F=this.getLineFeedCnt(N.piece.bufferIndex,w,N.piece.end);if(F>=1){const A=this._buffers[N.piece.bufferIndex].lineStarts,T=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),O=A[w.line+F],P=I===l.startLineNumber?l.startColumn:1;if(g=this.findMatchesInNode(N,f,I,P,w,this.positionInBuffer(N,O-T),c,o,d,g,r),g>=d)return r;I+=F}const M=I===l.startLineNumber?l.startColumn-1:0;if(I===l.endLineNumber){const A=this.getLineContent(I).substring(M,l.endColumn-1);return g=this._findMatchesInLine(c,f,A,l.endLineNumber,M,g,r,o,d),r}if(g=this._findMatchesInLine(c,f,this.getLineContent(I).substr(M),I,M,g,r,o,d),g>=d)return r;I++,p=this.nodeAt2(I,1),N=p.node,w=this.positionInBuffer(p.node,p.remainder)}if(I===l.endLineNumber){const F=I===l.startLineNumber?l.startColumn-1:0,M=this.getLineContent(I).substring(F,l.endColumn-1);return g=this._findMatchesInLine(c,f,M,l.endLineNumber,F,g,r,o,d),r}const R=I===l.startLineNumber?l.startColumn:1;return g=this.findMatchesInNode(b.node,f,I,R,w,E,c,o,d,g,r),r}_findMatchesInLine(l,c,o,d,r,g,f,p,b){const w=l.wordSeparators;if(!p&&l.simpleSearch){const I=l.simpleSearch,N=I.length,R=o.length;let F=-N;for(;(F=o.indexOf(I,F+N))!==-1;)if((!w||(0,S.isValidMatch)(w,o,R,F,N))&&(f[g++]=new y.FindMatch(new k.Range(d,F+1+r,d,F+1+N+r),null),g>=b))return g;return g}let E;c.reset(0);do if(E=c.next(o),E&&(f[g++]=(0,S.createFindMatch)(new k.Range(d,E.index+1+r,d,E.index+1+E[0].length+r),E,p),g>=b))return g;while(E);return g}insert(l,c,o=!1){if(this._EOLNormalized=this._EOLNormalized&&o,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:d,remainder:r,nodeStartOffset:g}=this.nodeAt(l),f=d.piece,p=f.bufferIndex,b=this.positionInBuffer(d,r);if(d.piece.bufferIndex===0&&f.end.line===this._lastChangeBufferPos.line&&f.end.column===this._lastChangeBufferPos.column&&g+f.length===l&&c.length<m){this.appendToNode(d,c),this.computeBufferMetadata();return}if(g===l)this.insertContentToNodeLeft(c,d),this._searchCache.validate(l);else if(g+d.piece.length>l){const w=[];let E=new n(f.bufferIndex,b,f.end,this.getLineFeedCnt(f.bufferIndex,b,f.end),this.offsetInBuffer(p,f.end)-this.offsetInBuffer(p,b));if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.nodeCharCodeAt(d,r)===10){const F={line:E.start.line+1,column:0};E=new n(E.bufferIndex,F,E.end,this.getLineFeedCnt(E.bufferIndex,F,E.end),E.length-1),c+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(c))if(this.nodeCharCodeAt(d,r-1)===13){const F=this.positionInBuffer(d,r-1);this.deleteNodeTail(d,F),c="\r"+c,d.piece.length===0&&w.push(d)}else this.deleteNodeTail(d,b);else this.deleteNodeTail(d,b);const I=this.createNewPieces(c);E.length>0&&this.rbInsertRight(d,E);let N=d;for(let R=0;R<I.length;R++)N=this.rbInsertRight(N,I[R]);this.deleteNodes(w)}else this.insertContentToNodeRight(c,d)}else{const d=this.createNewPieces(c);let r=this.rbInsertLeft(null,d[0]);for(let g=1;g<d.length;g++)r=this.rbInsertRight(r,d[g])}this.computeBufferMetadata()}delete(l,c){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",c<=0||this.root===D.SENTINEL)return;const o=this.nodeAt(l),d=this.nodeAt(l+c),r=o.node,g=d.node;if(r===g){const I=this.positionInBuffer(r,o.remainder),N=this.positionInBuffer(r,d.remainder);if(o.nodeStartOffset===l){if(c===r.piece.length){const R=r.next();(0,D.rbDelete)(this,r),this.validateCRLFWithPrevNode(R),this.computeBufferMetadata();return}this.deleteNodeHead(r,N),this._searchCache.validate(l),this.validateCRLFWithPrevNode(r),this.computeBufferMetadata();return}if(o.nodeStartOffset+r.piece.length===l+c){this.deleteNodeTail(r,I),this.validateCRLFWithNextNode(r),this.computeBufferMetadata();return}this.shrinkNode(r,I,N),this.computeBufferMetadata();return}const f=[],p=this.positionInBuffer(r,o.remainder);this.deleteNodeTail(r,p),this._searchCache.validate(l),r.piece.length===0&&f.push(r);const b=this.positionInBuffer(g,d.remainder);this.deleteNodeHead(g,b),g.piece.length===0&&f.push(g);const w=r.next();for(let I=w;I!==D.SENTINEL&&I!==g;I=I.next())f.push(I);const E=r.piece.length===0?r.prev():r;this.deleteNodes(f),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(l,c){const o=[];if(this.shouldCheckCRLF()&&this.endWithCR(l)&&this.startWithLF(c)){const g=c.piece,f={line:g.start.line+1,column:0},p=new n(g.bufferIndex,f,g.end,this.getLineFeedCnt(g.bufferIndex,f,g.end),g.length-1);c.piece=p,l+=`
`,(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&o.push(c)}const d=this.createNewPieces(l);let r=this.rbInsertLeft(c,d[d.length-1]);for(let g=d.length-2;g>=0;g--)r=this.rbInsertLeft(r,d[g]);this.validateCRLFWithPrevNode(r),this.deleteNodes(o)}insertContentToNodeRight(l,c){this.adjustCarriageReturnFromNext(l,c)&&(l+=`
`);const o=this.createNewPieces(l),d=this.rbInsertRight(c,o[0]);let r=d;for(let g=1;g<o.length;g++)r=this.rbInsertRight(r,o[g]);this.validateCRLFWithPrevNode(d)}positionInBuffer(l,c,o){const d=l.piece,r=l.piece.bufferIndex,g=this._buffers[r].lineStarts,p=g[d.start.line]+d.start.column+c;let b=d.start.line,w=d.end.line,E=0,I=0,N=0;for(;b<=w&&(E=b+(w-b)/2|0,N=g[E],E!==w);)if(I=g[E+1],p<N)w=E-1;else if(p>=I)b=E+1;else break;return o?(o.line=E,o.column=p-N,null):{line:E,column:p-N}}getLineFeedCnt(l,c,o){if(o.column===0)return o.line-c.line;const d=this._buffers[l].lineStarts;if(o.line===d.length-1)return o.line-c.line;const r=d[o.line+1],g=d[o.line]+o.column;if(r>g+1)return o.line-c.line;const f=g-1;return this._buffers[l].buffer.charCodeAt(f)===13?o.line-c.line+1:o.line-c.line}offsetInBuffer(l,c){return this._buffers[l].lineStarts[c.line]+c.column}deleteNodes(l){for(let c=0;c<l.length;c++)(0,D.rbDelete)(this,l[c])}createNewPieces(l){if(l.length>m){const w=[];for(;l.length>m;){const I=l.charCodeAt(m-1);let N;I===13||I>=55296&&I<=56319?(N=l.substring(0,m-1),l=l.substring(m-1)):(N=l.substring(0,m),l=l.substring(m));const R=C(N);w.push(new n(this._buffers.length,{line:0,column:0},{line:R.length-1,column:N.length-R[R.length-1]},R.length-1,N.length)),this._buffers.push(new i(N,R))}const E=C(l);return w.push(new n(this._buffers.length,{line:0,column:0},{line:E.length-1,column:l.length-E[E.length-1]},E.length-1,l.length)),this._buffers.push(new i(l,E)),w}let c=this._buffers[0].buffer.length;const o=C(l,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===c&&c!==0&&this.startWithLF(l)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let w=0;w<o.length;w++)o[w]+=c+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+l,c+=1}else{if(c!==0)for(let w=0;w<o.length;w++)o[w]+=c;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=l}const r=this._buffers[0].buffer.length,g=this._buffers[0].lineStarts.length-1,f=r-this._buffers[0].lineStarts[g],p={line:g,column:f},b=new n(0,d,p,this.getLineFeedCnt(0,d,p),r-c);return this._lastChangeBufferPos=p,[b]}getLineRawContent(l,c=0){let o=this.root,d="";const r=this._searchCache.get2(l);if(r){o=r.node;const g=this.getAccumulatedValue(o,l-r.nodeStartLineNumber-1),f=this._buffers[o.piece.bufferIndex].buffer,p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(r.nodeStartLineNumber+o.piece.lineFeedCnt===l)d=f.substring(p+g,p+o.piece.length);else{const b=this.getAccumulatedValue(o,l-r.nodeStartLineNumber);return f.substring(p+g,p+b-c)}}else{let g=0;const f=l;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=l-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>l-1){const p=this.getAccumulatedValue(o,l-o.lf_left-2),b=this.getAccumulatedValue(o,l-o.lf_left-1),w=this._buffers[o.piece.bufferIndex].buffer,E=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return g+=o.size_left,this._searchCache.set({node:o,nodeStartOffset:g,nodeStartLineNumber:f-(l-1-o.lf_left)}),w.substring(E+p,E+b-c)}else if(o.lf_left+o.piece.lineFeedCnt===l-1){const p=this.getAccumulatedValue(o,l-o.lf_left-2),b=this._buffers[o.piece.bufferIndex].buffer,w=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);d=b.substring(w+p,w+o.piece.length);break}else l-=o.lf_left+o.piece.lineFeedCnt,g+=o.size_left+o.piece.length,o=o.right}for(o=o.next();o!==D.SENTINEL;){const g=this._buffers[o.piece.bufferIndex].buffer;if(o.piece.lineFeedCnt>0){const f=this.getAccumulatedValue(o,0),p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return d+=g.substring(p,p+f-c),d}else{const f=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);d+=g.substr(f,o.piece.length)}o=o.next()}return d}computeBufferMetadata(){let l=this.root,c=1,o=0;for(;l!==D.SENTINEL;)c+=l.lf_left+l.piece.lineFeedCnt,o+=l.size_left+l.piece.length,l=l.right;this._lineCnt=c,this._length=o,this._searchCache.validate(this._length)}getIndexOf(l,c){const o=l.piece,d=this.positionInBuffer(l,c),r=d.line-o.start.line;if(this.offsetInBuffer(o.bufferIndex,o.end)-this.offsetInBuffer(o.bufferIndex,o.start)===c){const g=this.getLineFeedCnt(l.piece.bufferIndex,o.start,d);if(g!==r)return{index:g,remainder:0}}return{index:r,remainder:d.column}}getAccumulatedValue(l,c){if(c<0)return 0;const o=l.piece,d=this._buffers[o.bufferIndex].lineStarts,r=o.start.line+c+1;return r>o.end.line?d[o.end.line]+o.end.column-d[o.start.line]-o.start.column:d[r]-d[o.start.line]-o.start.column}deleteNodeTail(l,c){const o=l.piece,d=o.lineFeedCnt,r=this.offsetInBuffer(o.bufferIndex,o.end),g=c,f=this.offsetInBuffer(o.bufferIndex,g),p=this.getLineFeedCnt(o.bufferIndex,o.start,g),b=p-d,w=f-r,E=o.length+w;l.piece=new n(o.bufferIndex,o.start,g,p,E),(0,D.updateTreeMetadata)(this,l,w,b)}deleteNodeHead(l,c){const o=l.piece,d=o.lineFeedCnt,r=this.offsetInBuffer(o.bufferIndex,o.start),g=c,f=this.getLineFeedCnt(o.bufferIndex,g,o.end),p=this.offsetInBuffer(o.bufferIndex,g),b=f-d,w=r-p,E=o.length+w;l.piece=new n(o.bufferIndex,g,o.end,f,E),(0,D.updateTreeMetadata)(this,l,w,b)}shrinkNode(l,c,o){const d=l.piece,r=d.start,g=d.end,f=d.length,p=d.lineFeedCnt,b=c,w=this.getLineFeedCnt(d.bufferIndex,d.start,b),E=this.offsetInBuffer(d.bufferIndex,c)-this.offsetInBuffer(d.bufferIndex,r);l.piece=new n(d.bufferIndex,d.start,b,w,E),(0,D.updateTreeMetadata)(this,l,E-f,w-p);const I=new n(d.bufferIndex,o,g,this.getLineFeedCnt(d.bufferIndex,o,g),this.offsetInBuffer(d.bufferIndex,g)-this.offsetInBuffer(d.bufferIndex,o)),N=this.rbInsertRight(l,I);this.validateCRLFWithPrevNode(N)}appendToNode(l,c){this.adjustCarriageReturnFromNext(c,l)&&(c+=`
`);const o=this.shouldCheckCRLF()&&this.startWithLF(c)&&this.endWithCR(l),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=c;const r=C(c,!1);for(let N=0;N<r.length;N++)r[N]+=d;if(o){const N=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-N}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const g=this._buffers[0].lineStarts.length-1,f=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],p={line:g,column:f},b=l.piece.length+c.length,w=l.piece.lineFeedCnt,E=this.getLineFeedCnt(0,l.piece.start,p),I=E-w;l.piece=new n(l.piece.bufferIndex,l.piece.start,p,E,b),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,l,c.length,I)}nodeAt(l){let c=this.root;const o=this._searchCache.get(l);if(o)return{node:o.node,nodeStartOffset:o.nodeStartOffset,remainder:l-o.nodeStartOffset};let d=0;for(;c!==D.SENTINEL;)if(c.size_left>l)c=c.left;else if(c.size_left+c.piece.length>=l){d+=c.size_left;const r={node:c,remainder:l-c.size_left,nodeStartOffset:d};return this._searchCache.set(r),r}else l-=c.size_left+c.piece.length,d+=c.size_left+c.piece.length,c=c.right;return null}nodeAt2(l,c){let o=this.root,d=0;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=l-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>l-1){const r=this.getAccumulatedValue(o,l-o.lf_left-2),g=this.getAccumulatedValue(o,l-o.lf_left-1);return d+=o.size_left,{node:o,remainder:Math.min(r+c-1,g),nodeStartOffset:d}}else if(o.lf_left+o.piece.lineFeedCnt===l-1){const r=this.getAccumulatedValue(o,l-o.lf_left-2);if(r+c-1<=o.piece.length)return{node:o,remainder:r+c-1,nodeStartOffset:d};c-=o.piece.length-r;break}else l-=o.lf_left+o.piece.lineFeedCnt,d+=o.size_left+o.piece.length,o=o.right;for(o=o.next();o!==D.SENTINEL;){if(o.piece.lineFeedCnt>0){const r=this.getAccumulatedValue(o,0),g=this.offsetOfNode(o);return{node:o,remainder:Math.min(c-1,r),nodeStartOffset:g}}else if(o.piece.length>=c-1){const r=this.offsetOfNode(o);return{node:o,remainder:c-1,nodeStartOffset:r}}else c-=o.piece.length;o=o.next()}return null}nodeCharCodeAt(l,c){if(l.piece.lineFeedCnt<1)return-1;const o=this._buffers[l.piece.bufferIndex],d=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start)+c;return o.buffer.charCodeAt(d)}offsetOfNode(l){if(!l)return 0;let c=l.size_left;for(;l!==this.root;)l.parent.right===l&&(c+=l.parent.size_left+l.parent.piece.length),l=l.parent;return c}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(l){if(typeof l=="string")return l.charCodeAt(0)===10;if(l===D.SENTINEL||l.piece.lineFeedCnt===0)return!1;const c=l.piece,o=this._buffers[c.bufferIndex].lineStarts,d=c.start.line,r=o[d]+c.start.column;return d===o.length-1||o[d+1]>r+1?!1:this._buffers[c.bufferIndex].buffer.charCodeAt(r)===10}endWithCR(l){return typeof l=="string"?l.charCodeAt(l.length-1)===13:l===D.SENTINEL||l.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(l,l.piece.length-1)===13}validateCRLFWithPrevNode(l){if(this.shouldCheckCRLF()&&this.startWithLF(l)){const c=l.prev();this.endWithCR(c)&&this.fixCRLF(c,l)}}validateCRLFWithNextNode(l){if(this.shouldCheckCRLF()&&this.endWithCR(l)){const c=l.next();this.startWithLF(c)&&this.fixCRLF(l,c)}}fixCRLF(l,c){const o=[],d=this._buffers[l.piece.bufferIndex].lineStarts;let r;l.piece.end.column===0?r={line:l.piece.end.line-1,column:d[l.piece.end.line]-d[l.piece.end.line-1]-1}:r={line:l.piece.end.line,column:l.piece.end.column-1};const g=l.piece.length-1,f=l.piece.lineFeedCnt-1;l.piece=new n(l.piece.bufferIndex,l.piece.start,r,f,g),(0,D.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&o.push(l);const p={line:c.piece.start.line+1,column:0},b=c.piece.length-1,w=this.getLineFeedCnt(c.piece.bufferIndex,p,c.piece.end);c.piece=new n(c.piece.bufferIndex,p,c.piece.end,w,b),(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&o.push(c);const E=this.createNewPieces(`\r
`);this.rbInsertRight(l,E[0]);for(let I=0;I<o.length;I++)(0,D.rbDelete)(this,o[I])}adjustCarriageReturnFromNext(l,c){if(this.shouldCheckCRLF()&&this.endWithCR(l)){const o=c.next();if(this.startWithLF(o)){if(l+=`
`,o.piece.length===1)(0,D.rbDelete)(this,o);else{const d=o.piece,r={line:d.start.line+1,column:0},g=d.length-1,f=this.getLineFeedCnt(d.bufferIndex,r,d.end);o.piece=new n(d.bufferIndex,r,d.end,f,g),(0,D.updateTreeMetadata)(this,o,-1,-1)}return!0}}return!1}iterate(l,c){if(l===D.SENTINEL)return c(D.SENTINEL);const o=this.iterate(l.left,c);return o&&c(l)&&this.iterate(l.right,c)}getNodeContent(l){if(l===D.SENTINEL)return"";const c=this._buffers[l.piece.bufferIndex],o=l.piece,d=this.offsetInBuffer(o.bufferIndex,o.start),r=this.offsetInBuffer(o.bufferIndex,o.end);return c.buffer.substring(d,r)}getPieceContent(l){const c=this._buffers[l.bufferIndex],o=this.offsetInBuffer(l.bufferIndex,l.start),d=this.offsetInBuffer(l.bufferIndex,l.end);return c.buffer.substring(o,d)}rbInsertRight(l,c){const o=new D.TreeNode(c,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(l.right===D.SENTINEL)l.right=o,o.parent=l;else{const r=(0,D.leftest)(l.right);r.left=o,o.parent=r}return(0,D.fixInsert)(this,o),o}rbInsertLeft(l,c){const o=new D.TreeNode(c,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(l.left===D.SENTINEL)l.left=o,o.parent=l;else{const d=(0,D.righttest)(l.left);d.right=o,o.parent=d}return(0,D.fixInsert)(this,o),o}}e.PieceTreeBase=u}),define(ee[209],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function L(k,y){let D=0,S=0;const m=k.length;for(;S<m;){const _=k.charCodeAt(S);if(_===32)D++;else if(_===9)D=D-D%y+y;else break;S++}return S===m?-1:D}e.computeIndentLevel=L}),define(ee[286],te([1,0,96,12,48]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(s,n,i,t,a){this.injectionOffsets=s,this.injectionOptions=n,this.breakOffsets=i,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=a}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(s){return s>0?this.wrappedTextIndentLength:0}getLineLength(s){const n=s>0?this.breakOffsets[s-1]:0;let t=this.breakOffsets[s]-n;return s>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(s){return this.getLineLength(s)}translateToInputOffset(s,n){s>0&&(n=Math.max(0,n-this.wrappedTextIndentLength));let t=s===0?n:this.breakOffsets[s-1]+n;if(this.injectionOffsets!==null)for(let a=0;a<this.injectionOffsets.length&&t>this.injectionOffsets[a];a++)t<this.injectionOffsets[a]+this.injectionOptions[a].content.length?t=this.injectionOffsets[a]:t-=this.injectionOptions[a].content.length;return t}translateToOutputPosition(s,n=2){let i=s;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(s<this.injectionOffsets[t]||n!==1&&s===this.injectionOffsets[t]);t++)i+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,n)}offsetInInputWithInjectionsToOutputPosition(s,n=2){let i=0,t=this.breakOffsets.length-1,a=0,u=0;for(;i<=t;){a=i+(t-i)/2|0;const l=this.breakOffsets[a];if(u=a>0?this.breakOffsets[a-1]:0,n===0)if(s<=u)t=a-1;else if(s>l)i=a+1;else break;else if(s<u)t=a-1;else if(s>=l)i=a+1;else break}let h=s-u;return a>0&&(h+=this.wrappedTextIndentLength),new v(a,h)}normalizeOutputPosition(s,n,i){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(s,n),a=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,i);if(a!==t)return this.offsetInInputWithInjectionsToOutputPosition(a,i)}if(i===0){if(s>0&&n===this.getMinOutputOffset(s))return new v(s-1,this.getMaxOutputOffset(s-1))}else if(i===1){const t=this.getOutputLineCount()-1;if(s<t&&n===this.getMaxOutputOffset(s))return new v(s+1,this.getMinOutputOffset(s+1))}return new v(s,n)}outputPositionToOffsetInInputWithInjections(s,n){return s>0&&(n=Math.max(0,n-this.wrappedTextIndentLength)),(s>0?this.breakOffsets[s-1]:0)+n}normalizeOffsetInInputWithInjectionsAroundInjections(s,n){const i=this.getInjectedTextAtOffset(s);if(!i)return s;if(n===2){if(s===i.offsetInInputWithInjections+i.length&&S(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let t=i.offsetInInputWithInjections;if(m(this.injectionOptions[i.injectedTextIndex].cursorStops))return t;let a=i.injectedTextIndex-1;for(;a>=0&&this.injectionOffsets[a]===this.injectionOffsets[i.injectedTextIndex]&&!(S(this.injectionOptions[a].cursorStops)||(t-=this.injectionOptions[a].content.length,m(this.injectionOptions[a].cursorStops)));)a--;return t}}else if(n===1||n===4){let t=i.offsetInInputWithInjections+i.length,a=i.injectedTextIndex;for(;a+1<this.injectionOffsets.length&&this.injectionOffsets[a+1]===this.injectionOffsets[a];)t+=this.injectionOptions[a+1].content.length,a++;return t}else if(n===0||n===3){let t=i.offsetInInputWithInjections,a=i.injectedTextIndex;for(;a-1>=0&&this.injectionOffsets[a-1]===this.injectionOffsets[a];)t-=this.injectionOptions[a-1].content.length,a--;return t}(0,L.assertNever)(n)}getInjectedText(s,n){const i=this.outputPositionToOffsetInInputWithInjections(s,n),t=this.getInjectedTextAtOffset(i);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const n=this.injectionOffsets,i=this.injectionOptions;if(n!==null){let t=0;for(let a=0;a<n.length;a++){const u=i[a].content.length,h=n[a]+t,l=n[a]+t+u;if(h>s)break;if(s<=l)return{injectedTextIndex:a,offsetInInputWithInjections:h,length:u};t+=u}}}}e.ModelLineProjectionData=D;function S(C){return C==null?!0:C===y.InjectedTextCursorStops.Right||C===y.InjectedTextCursorStops.Both}function m(C){return C==null?!0:C===y.InjectedTextCursorStops.Left||C===y.InjectedTextCursorStops.Both}class _{constructor(s){this.options=s}}e.InjectedText=_;class v{constructor(s,n){this.outputLineIndex=s,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s){return new k.Position(s+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=v}),define(ee[287],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class L{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const S=this._dragOperations.get(D);return this._dragOperations.delete(D),S}}}e.TreeViewsDnDService=L;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(ee[288],te([1,0,5,180,10,96,145]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class m{static computeUnicodeHighlights(n,i,t){const a=t?t.startLineNumber:1,u=t?t.endLineNumber:n.getLineCount(),h=new v(i),l=h.getCandidateCodePoints();let c;l==="allNonBasicAscii"?c=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):c=new RegExp(`${_(Array.from(l))}`,"g");const o=new k.Searcher(null,c),d=[];let r=!1,g,f=0,p=0,b=0;e:for(let w=a,E=u;w<=E;w++){const I=n.getLineContent(w),N=I.length;o.reset(0);do if(g=o.next(I),g){let R=g.index,F=g.index+g[0].length;if(R>0){const O=I.charCodeAt(R-1);y.isHighSurrogate(O)&&R--}if(F+1<N){const O=I.charCodeAt(F-1);y.isHighSurrogate(O)&&F++}const M=I.substring(R,F);let A=(0,S.getWordAtText)(R+1,S.DEFAULT_WORD_REGEXP,I,0);A&&A.endColumn<=R+1&&(A=null);const T=h.shouldHighlightNonBasicASCII(M,A?A.word:null);if(T!==0){T===3?f++:T===2?p++:T===1?b++:(0,D.assertNever)(T);const O=1e3;if(d.length>=O){r=!0;break e}d.push(new L.Range(w,R+1,w,F+1))}}while(g)}return{ranges:d,hasMore:r,ambiguousCharacterCount:f,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(n,i){const t=new v(i);switch(t.shouldHighlightNonBasicASCII(n,null)){case 0:return null;case 2:return{kind:1};case 3:{const u=n.codePointAt(0),h=t.ambiguousCharacters.getPrimaryConfusable(u),l=y.AmbiguousCharacters.getLocales().filter(c=>!y.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,c])).isAmbiguous(u));return{kind:0,confusableWith:String.fromCodePoint(h),notAmbiguousInLocales:l}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=m;function _(s,n){return`[${y.escapeRegExpCharacters(s.map(t=>String.fromCodePoint(t)).join(""))}]`}class v{constructor(n){this.options=n,this.allowedCodePoints=new Set(n.allowedCodePoints),this.ambiguousCharacters=y.AmbiguousCharacters.getInstance(new Set(n.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const n=new Set;if(this.options.invisibleCharacters)for(const i of y.InvisibleCharacters.codePoints)C(String.fromCodePoint(i))||n.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())n.add(i);for(const i of this.allowedCodePoints)n.delete(i);return n}shouldHighlightNonBasicASCII(n,i){const t=n.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let a=!1,u=!1;if(i)for(const h of i){const l=h.codePointAt(0),c=y.isBasicASCII(h);a=a||c,!c&&!this.ambiguousCharacters.isAmbiguous(l)&&!y.InvisibleCharacters.isInvisibleCharacter(l)&&(u=!0)}return!a&&u?0:this.options.invisibleCharacters&&!C(n)&&y.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function C(s){return s===" "||s===`
`||s==="	"}}),define(ee[210],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var L;(function(B){B[B.Unknown=0]="Unknown",B[B.Disabled=1]="Disabled",B[B.Enabled=2]="Enabled"})(L||(e.AccessibilitySupport=L={}));var k;(function(B){B[B.Invoke=1]="Invoke",B[B.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var y;(function(B){B[B.None=0]="None",B[B.KeepWhitespace=1]="KeepWhitespace",B[B.InsertAsSnippet=4]="InsertAsSnippet"})(y||(e.CompletionItemInsertTextRule=y={}));var D;(function(B){B[B.Method=0]="Method",B[B.Function=1]="Function",B[B.Constructor=2]="Constructor",B[B.Field=3]="Field",B[B.Variable=4]="Variable",B[B.Class=5]="Class",B[B.Struct=6]="Struct",B[B.Interface=7]="Interface",B[B.Module=8]="Module",B[B.Property=9]="Property",B[B.Event=10]="Event",B[B.Operator=11]="Operator",B[B.Unit=12]="Unit",B[B.Value=13]="Value",B[B.Constant=14]="Constant",B[B.Enum=15]="Enum",B[B.EnumMember=16]="EnumMember",B[B.Keyword=17]="Keyword",B[B.Text=18]="Text",B[B.Color=19]="Color",B[B.File=20]="File",B[B.Reference=21]="Reference",B[B.Customcolor=22]="Customcolor",B[B.Folder=23]="Folder",B[B.TypeParameter=24]="TypeParameter",B[B.User=25]="User",B[B.Issue=26]="Issue",B[B.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var S;(function(B){B[B.Deprecated=1]="Deprecated"})(S||(e.CompletionItemTag=S={}));var m;(function(B){B[B.Invoke=0]="Invoke",B[B.TriggerCharacter=1]="TriggerCharacter",B[B.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(e.CompletionTriggerKind=m={}));var _;(function(B){B[B.EXACT=0]="EXACT",B[B.ABOVE=1]="ABOVE",B[B.BELOW=2]="BELOW"})(_||(e.ContentWidgetPositionPreference=_={}));var v;(function(B){B[B.NotSet=0]="NotSet",B[B.ContentFlush=1]="ContentFlush",B[B.RecoverFromMarkers=2]="RecoverFromMarkers",B[B.Explicit=3]="Explicit",B[B.Paste=4]="Paste",B[B.Undo=5]="Undo",B[B.Redo=6]="Redo"})(v||(e.CursorChangeReason=v={}));var C;(function(B){B[B.LF=1]="LF",B[B.CRLF=2]="CRLF"})(C||(e.DefaultEndOfLine=C={}));var s;(function(B){B[B.Text=0]="Text",B[B.Read=1]="Read",B[B.Write=2]="Write"})(s||(e.DocumentHighlightKind=s={}));var n;(function(B){B[B.None=0]="None",B[B.Keep=1]="Keep",B[B.Brackets=2]="Brackets",B[B.Advanced=3]="Advanced",B[B.Full=4]="Full"})(n||(e.EditorAutoIndentStrategy=n={}));var i;(function(B){B[B.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",B[B.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",B[B.accessibilitySupport=2]="accessibilitySupport",B[B.accessibilityPageSize=3]="accessibilityPageSize",B[B.ariaLabel=4]="ariaLabel",B[B.ariaRequired=5]="ariaRequired",B[B.autoClosingBrackets=6]="autoClosingBrackets",B[B.screenReaderAnnounceInlineSuggestion=7]="screenReaderAnnounceInlineSuggestion",B[B.autoClosingDelete=8]="autoClosingDelete",B[B.autoClosingOvertype=9]="autoClosingOvertype",B[B.autoClosingQuotes=10]="autoClosingQuotes",B[B.autoIndent=11]="autoIndent",B[B.automaticLayout=12]="automaticLayout",B[B.autoSurround=13]="autoSurround",B[B.bracketPairColorization=14]="bracketPairColorization",B[B.guides=15]="guides",B[B.codeLens=16]="codeLens",B[B.codeLensFontFamily=17]="codeLensFontFamily",B[B.codeLensFontSize=18]="codeLensFontSize",B[B.colorDecorators=19]="colorDecorators",B[B.colorDecoratorsLimit=20]="colorDecoratorsLimit",B[B.columnSelection=21]="columnSelection",B[B.comments=22]="comments",B[B.contextmenu=23]="contextmenu",B[B.copyWithSyntaxHighlighting=24]="copyWithSyntaxHighlighting",B[B.cursorBlinking=25]="cursorBlinking",B[B.cursorSmoothCaretAnimation=26]="cursorSmoothCaretAnimation",B[B.cursorStyle=27]="cursorStyle",B[B.cursorSurroundingLines=28]="cursorSurroundingLines",B[B.cursorSurroundingLinesStyle=29]="cursorSurroundingLinesStyle",B[B.cursorWidth=30]="cursorWidth",B[B.disableLayerHinting=31]="disableLayerHinting",B[B.disableMonospaceOptimizations=32]="disableMonospaceOptimizations",B[B.domReadOnly=33]="domReadOnly",B[B.dragAndDrop=34]="dragAndDrop",B[B.dropIntoEditor=35]="dropIntoEditor",B[B.emptySelectionClipboard=36]="emptySelectionClipboard",B[B.experimentalWhitespaceRendering=37]="experimentalWhitespaceRendering",B[B.extraEditorClassName=38]="extraEditorClassName",B[B.fastScrollSensitivity=39]="fastScrollSensitivity",B[B.find=40]="find",B[B.fixedOverflowWidgets=41]="fixedOverflowWidgets",B[B.folding=42]="folding",B[B.foldingStrategy=43]="foldingStrategy",B[B.foldingHighlight=44]="foldingHighlight",B[B.foldingImportsByDefault=45]="foldingImportsByDefault",B[B.foldingMaximumRegions=46]="foldingMaximumRegions",B[B.unfoldOnClickAfterEndOfLine=47]="unfoldOnClickAfterEndOfLine",B[B.fontFamily=48]="fontFamily",B[B.fontInfo=49]="fontInfo",B[B.fontLigatures=50]="fontLigatures",B[B.fontSize=51]="fontSize",B[B.fontWeight=52]="fontWeight",B[B.fontVariations=53]="fontVariations",B[B.formatOnPaste=54]="formatOnPaste",B[B.formatOnType=55]="formatOnType",B[B.glyphMargin=56]="glyphMargin",B[B.gotoLocation=57]="gotoLocation",B[B.hideCursorInOverviewRuler=58]="hideCursorInOverviewRuler",B[B.hover=59]="hover",B[B.inDiffEditor=60]="inDiffEditor",B[B.inlineSuggest=61]="inlineSuggest",B[B.letterSpacing=62]="letterSpacing",B[B.lightbulb=63]="lightbulb",B[B.lineDecorationsWidth=64]="lineDecorationsWidth",B[B.lineHeight=65]="lineHeight",B[B.lineNumbers=66]="lineNumbers",B[B.lineNumbersMinChars=67]="lineNumbersMinChars",B[B.linkedEditing=68]="linkedEditing",B[B.links=69]="links",B[B.matchBrackets=70]="matchBrackets",B[B.minimap=71]="minimap",B[B.mouseStyle=72]="mouseStyle",B[B.mouseWheelScrollSensitivity=73]="mouseWheelScrollSensitivity",B[B.mouseWheelZoom=74]="mouseWheelZoom",B[B.multiCursorMergeOverlapping=75]="multiCursorMergeOverlapping",B[B.multiCursorModifier=76]="multiCursorModifier",B[B.multiCursorPaste=77]="multiCursorPaste",B[B.multiCursorLimit=78]="multiCursorLimit",B[B.occurrencesHighlight=79]="occurrencesHighlight",B[B.overviewRulerBorder=80]="overviewRulerBorder",B[B.overviewRulerLanes=81]="overviewRulerLanes",B[B.padding=82]="padding",B[B.pasteAs=83]="pasteAs",B[B.parameterHints=84]="parameterHints",B[B.peekWidgetDefaultFocus=85]="peekWidgetDefaultFocus",B[B.definitionLinkOpensInPeek=86]="definitionLinkOpensInPeek",B[B.quickSuggestions=87]="quickSuggestions",B[B.quickSuggestionsDelay=88]="quickSuggestionsDelay",B[B.readOnly=89]="readOnly",B[B.readOnlyMessage=90]="readOnlyMessage",B[B.renameOnType=91]="renameOnType",B[B.renderControlCharacters=92]="renderControlCharacters",B[B.renderFinalNewline=93]="renderFinalNewline",B[B.renderLineHighlight=94]="renderLineHighlight",B[B.renderLineHighlightOnlyWhenFocus=95]="renderLineHighlightOnlyWhenFocus",B[B.renderValidationDecorations=96]="renderValidationDecorations",B[B.renderWhitespace=97]="renderWhitespace",B[B.revealHorizontalRightPadding=98]="revealHorizontalRightPadding",B[B.roundedSelection=99]="roundedSelection",B[B.rulers=100]="rulers",B[B.scrollbar=101]="scrollbar",B[B.scrollBeyondLastColumn=102]="scrollBeyondLastColumn",B[B.scrollBeyondLastLine=103]="scrollBeyondLastLine",B[B.scrollPredominantAxis=104]="scrollPredominantAxis",B[B.selectionClipboard=105]="selectionClipboard",B[B.selectionHighlight=106]="selectionHighlight",B[B.selectOnLineNumbers=107]="selectOnLineNumbers",B[B.showFoldingControls=108]="showFoldingControls",B[B.showUnused=109]="showUnused",B[B.snippetSuggestions=110]="snippetSuggestions",B[B.smartSelect=111]="smartSelect",B[B.smoothScrolling=112]="smoothScrolling",B[B.stickyScroll=113]="stickyScroll",B[B.stickyTabStops=114]="stickyTabStops",B[B.stopRenderingLineAfter=115]="stopRenderingLineAfter",B[B.suggest=116]="suggest",B[B.suggestFontSize=117]="suggestFontSize",B[B.suggestLineHeight=118]="suggestLineHeight",B[B.suggestOnTriggerCharacters=119]="suggestOnTriggerCharacters",B[B.suggestSelection=120]="suggestSelection",B[B.tabCompletion=121]="tabCompletion",B[B.tabIndex=122]="tabIndex",B[B.unicodeHighlighting=123]="unicodeHighlighting",B[B.unusualLineTerminators=124]="unusualLineTerminators",B[B.useShadowDOM=125]="useShadowDOM",B[B.useTabStops=126]="useTabStops",B[B.wordBreak=127]="wordBreak",B[B.wordSeparators=128]="wordSeparators",B[B.wordWrap=129]="wordWrap",B[B.wordWrapBreakAfterCharacters=130]="wordWrapBreakAfterCharacters",B[B.wordWrapBreakBeforeCharacters=131]="wordWrapBreakBeforeCharacters",B[B.wordWrapColumn=132]="wordWrapColumn",B[B.wordWrapOverride1=133]="wordWrapOverride1",B[B.wordWrapOverride2=134]="wordWrapOverride2",B[B.wrappingIndent=135]="wrappingIndent",B[B.wrappingStrategy=136]="wrappingStrategy",B[B.showDeprecated=137]="showDeprecated",B[B.inlayHints=138]="inlayHints",B[B.editorClassName=139]="editorClassName",B[B.pixelRatio=140]="pixelRatio",B[B.tabFocusMode=141]="tabFocusMode",B[B.layoutInfo=142]="layoutInfo",B[B.wrappingInfo=143]="wrappingInfo",B[B.defaultColorDecorators=144]="defaultColorDecorators",B[B.colorDecoratorsActivatedOn=145]="colorDecoratorsActivatedOn",B[B.inlineCompletionsAccessibilityVerbose=146]="inlineCompletionsAccessibilityVerbose"})(i||(e.EditorOption=i={}));var t;(function(B){B[B.TextDefined=0]="TextDefined",B[B.LF=1]="LF",B[B.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var a;(function(B){B[B.LF=0]="LF",B[B.CRLF=1]="CRLF"})(a||(e.EndOfLineSequence=a={}));var u;(function(B){B[B.Left=1]="Left",B[B.Right=2]="Right"})(u||(e.GlyphMarginLane=u={}));var h;(function(B){B[B.None=0]="None",B[B.Indent=1]="Indent",B[B.IndentOutdent=2]="IndentOutdent",B[B.Outdent=3]="Outdent"})(h||(e.IndentAction=h={}));var l;(function(B){B[B.Both=0]="Both",B[B.Right=1]="Right",B[B.Left=2]="Left",B[B.None=3]="None"})(l||(e.InjectedTextCursorStops=l={}));var c;(function(B){B[B.Type=1]="Type",B[B.Parameter=2]="Parameter"})(c||(e.InlayHintKind=c={}));var o;(function(B){B[B.Automatic=0]="Automatic",B[B.Explicit=1]="Explicit"})(o||(e.InlineCompletionTriggerKind=o={}));var d;(function(B){B[B.DependsOnKbLayout=-1]="DependsOnKbLayout",B[B.Unknown=0]="Unknown",B[B.Backspace=1]="Backspace",B[B.Tab=2]="Tab",B[B.Enter=3]="Enter",B[B.Shift=4]="Shift",B[B.Ctrl=5]="Ctrl",B[B.Alt=6]="Alt",B[B.PauseBreak=7]="PauseBreak",B[B.CapsLock=8]="CapsLock",B[B.Escape=9]="Escape",B[B.Space=10]="Space",B[B.PageUp=11]="PageUp",B[B.PageDown=12]="PageDown",B[B.End=13]="End",B[B.Home=14]="Home",B[B.LeftArrow=15]="LeftArrow",B[B.UpArrow=16]="UpArrow",B[B.RightArrow=17]="RightArrow",B[B.DownArrow=18]="DownArrow",B[B.Insert=19]="Insert",B[B.Delete=20]="Delete",B[B.Digit0=21]="Digit0",B[B.Digit1=22]="Digit1",B[B.Digit2=23]="Digit2",B[B.Digit3=24]="Digit3",B[B.Digit4=25]="Digit4",B[B.Digit5=26]="Digit5",B[B.Digit6=27]="Digit6",B[B.Digit7=28]="Digit7",B[B.Digit8=29]="Digit8",B[B.Digit9=30]="Digit9",B[B.KeyA=31]="KeyA",B[B.KeyB=32]="KeyB",B[B.KeyC=33]="KeyC",B[B.KeyD=34]="KeyD",B[B.KeyE=35]="KeyE",B[B.KeyF=36]="KeyF",B[B.KeyG=37]="KeyG",B[B.KeyH=38]="KeyH",B[B.KeyI=39]="KeyI",B[B.KeyJ=40]="KeyJ",B[B.KeyK=41]="KeyK",B[B.KeyL=42]="KeyL",B[B.KeyM=43]="KeyM",B[B.KeyN=44]="KeyN",B[B.KeyO=45]="KeyO",B[B.KeyP=46]="KeyP",B[B.KeyQ=47]="KeyQ",B[B.KeyR=48]="KeyR",B[B.KeyS=49]="KeyS",B[B.KeyT=50]="KeyT",B[B.KeyU=51]="KeyU",B[B.KeyV=52]="KeyV",B[B.KeyW=53]="KeyW",B[B.KeyX=54]="KeyX",B[B.KeyY=55]="KeyY",B[B.KeyZ=56]="KeyZ",B[B.Meta=57]="Meta",B[B.ContextMenu=58]="ContextMenu",B[B.F1=59]="F1",B[B.F2=60]="F2",B[B.F3=61]="F3",B[B.F4=62]="F4",B[B.F5=63]="F5",B[B.F6=64]="F6",B[B.F7=65]="F7",B[B.F8=66]="F8",B[B.F9=67]="F9",B[B.F10=68]="F10",B[B.F11=69]="F11",B[B.F12=70]="F12",B[B.F13=71]="F13",B[B.F14=72]="F14",B[B.F15=73]="F15",B[B.F16=74]="F16",B[B.F17=75]="F17",B[B.F18=76]="F18",B[B.F19=77]="F19",B[B.F20=78]="F20",B[B.F21=79]="F21",B[B.F22=80]="F22",B[B.F23=81]="F23",B[B.F24=82]="F24",B[B.NumLock=83]="NumLock",B[B.ScrollLock=84]="ScrollLock",B[B.Semicolon=85]="Semicolon",B[B.Equal=86]="Equal",B[B.Comma=87]="Comma",B[B.Minus=88]="Minus",B[B.Period=89]="Period",B[B.Slash=90]="Slash",B[B.Backquote=91]="Backquote",B[B.BracketLeft=92]="BracketLeft",B[B.Backslash=93]="Backslash",B[B.BracketRight=94]="BracketRight",B[B.Quote=95]="Quote",B[B.OEM_8=96]="OEM_8",B[B.IntlBackslash=97]="IntlBackslash",B[B.Numpad0=98]="Numpad0",B[B.Numpad1=99]="Numpad1",B[B.Numpad2=100]="Numpad2",B[B.Numpad3=101]="Numpad3",B[B.Numpad4=102]="Numpad4",B[B.Numpad5=103]="Numpad5",B[B.Numpad6=104]="Numpad6",B[B.Numpad7=105]="Numpad7",B[B.Numpad8=106]="Numpad8",B[B.Numpad9=107]="Numpad9",B[B.NumpadMultiply=108]="NumpadMultiply",B[B.NumpadAdd=109]="NumpadAdd",B[B.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",B[B.NumpadSubtract=111]="NumpadSubtract",B[B.NumpadDecimal=112]="NumpadDecimal",B[B.NumpadDivide=113]="NumpadDivide",B[B.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",B[B.ABNT_C1=115]="ABNT_C1",B[B.ABNT_C2=116]="ABNT_C2",B[B.AudioVolumeMute=117]="AudioVolumeMute",B[B.AudioVolumeUp=118]="AudioVolumeUp",B[B.AudioVolumeDown=119]="AudioVolumeDown",B[B.BrowserSearch=120]="BrowserSearch",B[B.BrowserHome=121]="BrowserHome",B[B.BrowserBack=122]="BrowserBack",B[B.BrowserForward=123]="BrowserForward",B[B.MediaTrackNext=124]="MediaTrackNext",B[B.MediaTrackPrevious=125]="MediaTrackPrevious",B[B.MediaStop=126]="MediaStop",B[B.MediaPlayPause=127]="MediaPlayPause",B[B.LaunchMediaPlayer=128]="LaunchMediaPlayer",B[B.LaunchMail=129]="LaunchMail",B[B.LaunchApp2=130]="LaunchApp2",B[B.Clear=131]="Clear",B[B.MAX_VALUE=132]="MAX_VALUE"})(d||(e.KeyCode=d={}));var r;(function(B){B[B.Hint=1]="Hint",B[B.Info=2]="Info",B[B.Warning=4]="Warning",B[B.Error=8]="Error"})(r||(e.MarkerSeverity=r={}));var g;(function(B){B[B.Unnecessary=1]="Unnecessary",B[B.Deprecated=2]="Deprecated"})(g||(e.MarkerTag=g={}));var f;(function(B){B[B.Inline=1]="Inline",B[B.Gutter=2]="Gutter"})(f||(e.MinimapPosition=f={}));var p;(function(B){B[B.UNKNOWN=0]="UNKNOWN",B[B.TEXTAREA=1]="TEXTAREA",B[B.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",B[B.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",B[B.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",B[B.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",B[B.CONTENT_TEXT=6]="CONTENT_TEXT",B[B.CONTENT_EMPTY=7]="CONTENT_EMPTY",B[B.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",B[B.CONTENT_WIDGET=9]="CONTENT_WIDGET",B[B.OVERVIEW_RULER=10]="OVERVIEW_RULER",B[B.SCROLLBAR=11]="SCROLLBAR",B[B.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",B[B.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(p||(e.MouseTargetType=p={}));var b;(function(B){B[B.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",B[B.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",B[B.TOP_CENTER=2]="TOP_CENTER"})(b||(e.OverlayWidgetPositionPreference=b={}));var w;(function(B){B[B.Left=1]="Left",B[B.Center=2]="Center",B[B.Right=4]="Right",B[B.Full=7]="Full"})(w||(e.OverviewRulerLane=w={}));var E;(function(B){B[B.Left=0]="Left",B[B.Right=1]="Right",B[B.None=2]="None",B[B.LeftOfInjectedText=3]="LeftOfInjectedText",B[B.RightOfInjectedText=4]="RightOfInjectedText"})(E||(e.PositionAffinity=E={}));var I;(function(B){B[B.Off=0]="Off",B[B.On=1]="On",B[B.Relative=2]="Relative",B[B.Interval=3]="Interval",B[B.Custom=4]="Custom"})(I||(e.RenderLineNumbersType=I={}));var N;(function(B){B[B.None=0]="None",B[B.Text=1]="Text",B[B.Blocks=2]="Blocks"})(N||(e.RenderMinimap=N={}));var R;(function(B){B[B.Smooth=0]="Smooth",B[B.Immediate=1]="Immediate"})(R||(e.ScrollType=R={}));var F;(function(B){B[B.Auto=1]="Auto",B[B.Hidden=2]="Hidden",B[B.Visible=3]="Visible"})(F||(e.ScrollbarVisibility=F={}));var M;(function(B){B[B.LTR=0]="LTR",B[B.RTL=1]="RTL"})(M||(e.SelectionDirection=M={}));var A;(function(B){B[B.Invoke=1]="Invoke",B[B.TriggerCharacter=2]="TriggerCharacter",B[B.ContentChange=3]="ContentChange"})(A||(e.SignatureHelpTriggerKind=A={}));var T;(function(B){B[B.File=0]="File",B[B.Module=1]="Module",B[B.Namespace=2]="Namespace",B[B.Package=3]="Package",B[B.Class=4]="Class",B[B.Method=5]="Method",B[B.Property=6]="Property",B[B.Field=7]="Field",B[B.Constructor=8]="Constructor",B[B.Enum=9]="Enum",B[B.Interface=10]="Interface",B[B.Function=11]="Function",B[B.Variable=12]="Variable",B[B.Constant=13]="Constant",B[B.String=14]="String",B[B.Number=15]="Number",B[B.Boolean=16]="Boolean",B[B.Array=17]="Array",B[B.Object=18]="Object",B[B.Key=19]="Key",B[B.Null=20]="Null",B[B.EnumMember=21]="EnumMember",B[B.Struct=22]="Struct",B[B.Event=23]="Event",B[B.Operator=24]="Operator",B[B.TypeParameter=25]="TypeParameter"})(T||(e.SymbolKind=T={}));var O;(function(B){B[B.Deprecated=1]="Deprecated"})(O||(e.SymbolTag=O={}));var P;(function(B){B[B.Hidden=0]="Hidden",B[B.Blink=1]="Blink",B[B.Smooth=2]="Smooth",B[B.Phase=3]="Phase",B[B.Expand=4]="Expand",B[B.Solid=5]="Solid"})(P||(e.TextEditorCursorBlinkingStyle=P={}));var x;(function(B){B[B.Line=1]="Line",B[B.Block=2]="Block",B[B.Underline=3]="Underline",B[B.LineThin=4]="LineThin",B[B.BlockOutline=5]="BlockOutline",B[B.UnderlineThin=6]="UnderlineThin"})(x||(e.TextEditorCursorStyle=x={}));var z;(function(B){B[B.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",B[B.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",B[B.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",B[B.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(z||(e.TrackedRangeStickiness=z={}));var q;(function(B){B[B.None=0]="None",B[B.Same=1]="Same",B[B.Indent=2]="Indent",B[B.DeepIndent=3]="DeepIndent"})(q||(e.WrappingIndent=q={}))}),define(ee[514],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class L{constructor(S,m,_,v){this.range=S,this.nestingLevel=m,this.nestingLevelOfEqualBracketType=_,this.isInvalid=v}}e.BracketInfo=L;class k{constructor(S,m,_,v,C,s){this.range=S,this.openingBracketRange=m,this.closingBracketRange=_,this.nestingLevel=v,this.nestingLevelOfEqualBracketType=C,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class y extends k{constructor(S,m,_,v,C,s,n){super(S,m,_,v,C,s),this.minVisibleColumnIndentation=n}}e.BracketPairWithMinIndentationInfo=y}),define(ee[515],te([1,0,6,2,514,178,282,90,281,126,208,14,280]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(o){return this.brackets.didLanguageChange(o)}constructor(o,d){if(super(),this.textModel=o,this.getLanguageConfiguration=d,this.didChangeEmitter=new L.Emitter,this.denseKeyProvider=new v.DenseKeyProvider,this.brackets=new S.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],o.tokenization.hasTokens)o.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const r=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),g=new C.FastTokenizer(this.textModel.getValue(),r);this.initialAstWithoutTokens=(0,_.parseDocument)(g,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const o=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,o||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:o}){const d=o.map(r=>new D.TextEditInfo((0,m.toLength)(r.fromLineNumber-1,0),(0,m.toLength)(r.toLineNumber,0),(0,m.toLength)(r.toLineNumber-r.fromLineNumber+1,0)));this.handleEdits(d,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(o){const d=D.TextEditInfo.fromModelContentChanges(o.changes);this.handleEdits(d,!1)}handleEdits(o,d){const r=(0,n.combineTextEditInfos)(this.queuedTextEdits,o);this.queuedTextEdits=r,this.initialAstWithoutTokens&&!d&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,n.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,o))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(o,d,r){const f=d,p=new C.TextBufferTokenizer(this.textModel,this.brackets);return(0,_.parseDocument)(p,o,f,r)}getBracketsInRange(o,d){this.flushQueue();const r=(0,m.toLength)(o.startLineNumber-1,o.startColumn-1),g=(0,m.toLength)(o.endLineNumber-1,o.endColumn-1);return new s.CallbackIterable(f=>{const p=this.initialAstWithoutTokens||this.astWithTokens;u(p,m.lengthZero,p.length,r,g,f,0,0,new Map,d)})}getBracketPairsInRange(o,d){this.flushQueue();const r=(0,m.positionToLength)(o.getStartPosition()),g=(0,m.positionToLength)(o.getEndPosition());return new s.CallbackIterable(f=>{const p=this.initialAstWithoutTokens||this.astWithTokens,b=new h(f,d,this.textModel);l(p,m.lengthZero,p.length,r,g,b,0,new Map)})}getFirstBracketAfter(o){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return a(d,m.lengthZero,d.length,(0,m.positionToLength)(o))}getFirstBracketBefore(o){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return t(d,m.lengthZero,d.length,(0,m.positionToLength)(o))}}e.BracketPairsTree=i;function t(c,o,d,r){if(c.kind===4||c.kind===2){const g=[];for(const f of c.children)d=(0,m.lengthAdd)(o,f.length),g.push({nodeOffsetStart:o,nodeOffsetEnd:d}),o=d;for(let f=g.length-1;f>=0;f--){const{nodeOffsetStart:p,nodeOffsetEnd:b}=g[f];if((0,m.lengthLessThan)(p,r)){const w=t(c.children[f],p,b,r);if(w)return w}}return null}else{if(c.kind===3)return null;if(c.kind===1){const g=(0,m.lengthsToRange)(o,d);return{bracketInfo:c.bracketInfo,range:g}}}return null}function a(c,o,d,r){if(c.kind===4||c.kind===2){for(const g of c.children){if(d=(0,m.lengthAdd)(o,g.length),(0,m.lengthLessThan)(r,d)){const f=a(g,o,d,r);if(f)return f}o=d}return null}else{if(c.kind===3)return null;if(c.kind===1){const g=(0,m.lengthsToRange)(o,d);return{bracketInfo:c.bracketInfo,range:g}}}return null}function u(c,o,d,r,g,f,p,b,w,E,I=!1){if(p>200)return!0;e:for(;;)switch(c.kind){case 4:{const N=c.childrenLength;for(let R=0;R<N;R++){const F=c.getChild(R);if(F){if(d=(0,m.lengthAdd)(o,F.length),(0,m.lengthLessThanEqual)(o,g)&&(0,m.lengthGreaterThanEqual)(d,r)){if((0,m.lengthGreaterThanEqual)(d,g)){c=F;continue e}if(!u(F,o,d,r,g,f,p,0,w,E))return!1}o=d}}return!0}case 2:{const N=!E||!c.closingBracket||c.closingBracket.bracketInfo.closesColorized(c.openingBracket.bracketInfo);let R=0;if(w){let M=w.get(c.openingBracket.text);M===void 0&&(M=0),R=M,N&&(M++,w.set(c.openingBracket.text,M))}const F=c.childrenLength;for(let M=0;M<F;M++){const A=c.getChild(M);if(A){if(d=(0,m.lengthAdd)(o,A.length),(0,m.lengthLessThanEqual)(o,g)&&(0,m.lengthGreaterThanEqual)(d,r)){if((0,m.lengthGreaterThanEqual)(d,g)&&A.kind!==1){c=A,N?(p++,b=R+1):b=R;continue e}if((N||A.kind!==1||!c.closingBracket)&&!u(A,o,d,r,g,f,N?p+1:p,N?R+1:R,w,E,!c.closingBracket))return!1}o=d}}return w?.set(c.openingBracket.text,R),!0}case 3:{const N=(0,m.lengthsToRange)(o,d);return f(new y.BracketInfo(N,p-1,0,!0))}case 1:{const N=(0,m.lengthsToRange)(o,d);return f(new y.BracketInfo(N,p-1,b-1,I))}case 0:return!0}}class h{constructor(o,d,r){this.push=o,this.includeMinIndentation=d,this.textModel=r}}function l(c,o,d,r,g,f,p,b){var w;if(p>200)return!0;let E=!0;if(c.kind===2){let I=0;if(b){let F=b.get(c.openingBracket.text);F===void 0&&(F=0),I=F,F++,b.set(c.openingBracket.text,F)}const N=(0,m.lengthAdd)(o,c.openingBracket.length);let R=-1;if(f.includeMinIndentation&&(R=c.computeMinIndentation(o,f.textModel)),E=f.push(new y.BracketPairWithMinIndentationInfo((0,m.lengthsToRange)(o,d),(0,m.lengthsToRange)(o,N),c.closingBracket?(0,m.lengthsToRange)((0,m.lengthAdd)(N,((w=c.child)===null||w===void 0?void 0:w.length)||m.lengthZero),d):void 0,p,I,c,R)),o=N,E&&c.child){const F=c.child;if(d=(0,m.lengthAdd)(o,F.length),(0,m.lengthLessThanEqual)(o,g)&&(0,m.lengthGreaterThanEqual)(d,r)&&(E=l(F,o,d,r,g,f,p+1,b),!E))return!1}b?.set(c.openingBracket.text,I)}else{let I=o;for(const N of c.children){const R=I;if(I=(0,m.lengthAdd)(I,N.length),(0,m.lengthLessThanEqual)(R,g)&&(0,m.lengthLessThanEqual)(r,I)&&(E=l(N,R,I,r,g,f,p,b),!E))return!1}}return E}}),define(ee[110],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class L{constructor(){this.changeType=1}}e.ModelRawFlush=L;class k{static applyInjectedText(n,i){if(!i||i.length===0)return n;let t="",a=0;for(const u of i)t+=n.substring(a,u.column-1),a=u.column-1,t+=u.options.content;return t+=n.substring(a),t}static fromDecorations(n){const i=[];for(const t of n)t.options.before&&t.options.before.content.length>0&&i.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&i.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return i.sort((t,a)=>t.lineNumber===a.lineNumber?t.column===a.column?t.order-a.order:t.column-a.column:t.lineNumber-a.lineNumber),i}constructor(n,i,t,a,u){this.ownerId=n,this.lineNumber=i,this.column=t,this.options=a,this.order=u}}e.LineInjectedText=k;class y{constructor(n,i,t){this.changeType=2,this.lineNumber=n,this.detail=i,this.injectedText=t}}e.ModelRawLineChanged=y;class D{constructor(n,i){this.changeType=3,this.fromLineNumber=n,this.toLineNumber=i}}e.ModelRawLinesDeleted=D;class S{constructor(n,i,t,a){this.changeType=4,this.injectedTexts=a,this.fromLineNumber=n,this.toLineNumber=i,this.detail=t}}e.ModelRawLinesInserted=S;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class _{constructor(n,i,t,a){this.changes=n,this.versionId=i,this.isUndoing=t,this.isRedoing=a,this.resultingSelection=null}containsEvent(n){for(let i=0,t=this.changes.length;i<t;i++)if(this.changes[i].changeType===n)return!0;return!1}static merge(n,i){const t=[].concat(n.changes).concat(i.changes),a=i.versionId,u=n.isUndoing||i.isUndoing,h=n.isRedoing||i.isRedoing;return new _(t,a,u,h)}}e.ModelRawContentChangedEvent=_;class v{constructor(n){this.changes=n}}e.ModelInjectedTextChangedEvent=v;class C{constructor(n,i){this.rawContentChangedEvent=n,this.contentChangedEvent=i}merge(n){const i=_.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),t=C._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new C(i,t)}static _mergeChangeEvents(n,i){const t=[].concat(n.changes).concat(i.changes),a=i.eol,u=i.versionId,h=n.isUndoing||i.isUndoing,l=n.isRedoing||i.isRedoing,c=n.isFlush||i.isFlush,o=n.isEolChange&&i.isEolChange;return{changes:t,eol:a,isEolChange:o,versionId:u,isUndoing:h,isRedoing:l,isFlush:c}}}e.InternalModelContentChangeEvent=C}),define(ee[211],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var L;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(L||(e.HorizontalGuidesState=L={}));class k{constructor(S,m,_,v,C,s){if(this.visibleColumn=S,this.column=m,this.className=_,this.horizontalLine=v,this.forWrappedLinesAfterColumn=C,this.forWrappedLinesBeforeOrAtColumn=s,S!==-1==(m!==-1))throw new Error}}e.IndentGuide=k;class y{constructor(S,m){this.top=S,this.endColumn=m}}e.IndentGuideHorizontalLine=y}),define(ee[289],te([1,0,78,10,80,5,284,209,211,9]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class C extends S.TextModelPart{constructor(i,t){super(),this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,m.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,a){this.assertNotDisposed();const u=this.textModel.getLineCount();if(i<1||i>u)throw new v.BugIndicatingError("Illegal value for lineNumber");const h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,l=!!(h&&h.offSide);let c=-2,o=-1,d=-2,r=-1;const g=T=>{if(c!==-1&&(c===-2||c>T-1)){c=-1,o=-1;for(let O=T-2;O>=0;O--){const P=this._computeIndentLevel(O);if(P>=0){c=O,o=P;break}}}if(d===-2){d=-1,r=-1;for(let O=T;O<u;O++){const P=this._computeIndentLevel(O);if(P>=0){d=O,r=P;break}}}};let f=-2,p=-1,b=-2,w=-1;const E=T=>{if(f===-2){f=-1,p=-1;for(let O=T-2;O>=0;O--){const P=this._computeIndentLevel(O);if(P>=0){f=O,p=P;break}}}if(b!==-1&&(b===-2||b<T-1)){b=-1,w=-1;for(let O=T;O<u;O++){const P=this._computeIndentLevel(O);if(P>=0){b=O,w=P;break}}}};let I=0,N=!0,R=0,F=!0,M=0,A=0;for(let T=0;N||F;T++){const O=i-T,P=i+T;T>1&&(O<1||O<t)&&(N=!1),T>1&&(P>u||P>a)&&(F=!1),T>5e4&&(N=!1,F=!1);let x=-1;if(N&&O>=1){const q=this._computeIndentLevel(O-1);q>=0?(d=O-1,r=q,x=Math.ceil(q/this.textModel.getOptions().indentSize)):(g(O),x=this._getIndentLevelForWhitespaceLine(l,o,r))}let z=-1;if(F&&P<=u){const q=this._computeIndentLevel(P-1);q>=0?(f=P-1,p=q,z=Math.ceil(q/this.textModel.getOptions().indentSize)):(E(P),z=this._getIndentLevelForWhitespaceLine(l,p,w))}if(T===0){A=x;continue}if(T===1){if(P<=u&&z>=0&&A+1===z){N=!1,I=P,R=P,M=z;continue}if(O>=1&&x>=0&&x-1===A){F=!1,I=O,R=O,M=x;continue}if(I=i,R=i,M=A,M===0)return{startLineNumber:I,endLineNumber:R,indent:M}}N&&(x>=M?I=O:N=!1),F&&(z>=M?R=P:F=!1)}return{startLineNumber:I,endLineNumber:R,indent:M}}getLinesBracketGuides(i,t,a,u){var h;const l=[];for(let f=i;f<=t;f++)l.push([]);const c=!0,o=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let d;if(a&&o.length>0){const f=(i<=a.lineNumber&&a.lineNumber<=t?o:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(a)).toArray()).filter(p=>D.Range.strictContainsPosition(p.range,a));d=(h=(0,L.findLast)(f,p=>c||p.range.startLineNumber!==p.range.endLineNumber))===null||h===void 0?void 0:h.range}const r=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new s;for(const f of o){if(!f.closingBracketRange)continue;const p=d&&f.range.equalsRange(d);if(!p&&!u.includeInactive)continue;const b=g.getInlineClassName(f.nestingLevel,f.nestingLevelOfEqualBracketType,r)+(u.highlightActive&&p?" "+g.activeClassName:""),w=f.openingBracketRange.getStartPosition(),E=f.closingBracketRange.getStartPosition(),I=u.horizontalGuides===_.HorizontalGuidesState.Enabled||u.horizontalGuides===_.HorizontalGuidesState.EnabledForActive&&p;if(f.range.startLineNumber===f.range.endLineNumber){c&&I&&l[f.range.startLineNumber-i].push(new _.IndentGuide(-1,f.openingBracketRange.getEndPosition().column,b,new _.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const N=this.getVisibleColumnFromPosition(E),R=this.getVisibleColumnFromPosition(f.openingBracketRange.getStartPosition()),F=Math.min(R,N,f.minVisibleColumnIndentation+1);let M=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(f.closingBracketRange.startLineNumber))<f.closingBracketRange.startColumn-1&&(M=!0);const O=Math.max(w.lineNumber,i),P=Math.min(E.lineNumber,t),x=M?1:0;for(let z=O;z<P+x;z++)l[z-i].push(new _.IndentGuide(F,-1,b,null,z===w.lineNumber?w.column:-1,z===E.lineNumber?E.column:-1));I&&(w.lineNumber>=i&&R>F&&l[w.lineNumber-i].push(new _.IndentGuide(F,-1,b,new _.IndentGuideHorizontalLine(!1,w.column),-1,-1)),E.lineNumber<=t&&N>F&&l[E.lineNumber-i].push(new _.IndentGuide(F,-1,b,new _.IndentGuideHorizontalLine(!M,E.column),-1,-1)))}for(const f of l)f.sort((p,b)=>p.visibleColumn-b.visibleColumn);return l}getVisibleColumnFromPosition(i){return y.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const a=this.textModel.getLineCount();if(i<1||i>a)throw new Error("Illegal value for startLineNumber");if(t<1||t>a)throw new Error("Illegal value for endLineNumber");const u=this.textModel.getOptions(),h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,l=!!(h&&h.offSide),c=new Array(t-i+1);let o=-2,d=-1,r=-2,g=-1;for(let f=i;f<=t;f++){const p=f-i,b=this._computeIndentLevel(f-1);if(b>=0){o=f-1,d=b,c[p]=Math.ceil(b/u.indentSize);continue}if(o===-2){o=-1,d=-1;for(let w=f-2;w>=0;w--){const E=this._computeIndentLevel(w);if(E>=0){o=w,d=E;break}}}if(r!==-1&&(r===-2||r<f-1)){r=-1,g=-1;for(let w=f;w<a;w++){const E=this._computeIndentLevel(w);if(E>=0){r=w,g=E;break}}}c[p]=this._getIndentLevelForWhitespaceLine(l,d,g)}return c}_getIndentLevelForWhitespaceLine(i,t,a){const u=this.textModel.getOptions();return t===-1||a===-1?0:t<a?1+Math.floor(t/u.indentSize):t===a||i?Math.ceil(a/u.indentSize):1+Math.floor(a/u.indentSize)}}e.GuidesTextModelPart=C;class s{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,a){return this.getInlineClassNameOfLevel(a?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=s}),define(ee[516],te([1,0,6,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class y{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(m){this._onDidChange.fire({changedLanguages:m,changedColorMap:!1})}register(m,_){return this._tokenizationSupports.set(m,_),this.handleChange([m]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(m)===_&&(this._tokenizationSupports.delete(m),this.handleChange([m]))})}get(m){return this._tokenizationSupports.get(m)||null}registerFactory(m,_){var v;(v=this._factories.get(m))===null||v===void 0||v.dispose();const C=new D(this,m,_);return this._factories.set(m,C),(0,k.toDisposable)(()=>{const s=this._factories.get(m);!s||s!==C||(this._factories.delete(m),s.dispose())})}getOrCreate(m){return Se(this,void 0,void 0,function*(){const _=this.get(m);if(_)return _;const v=this._factories.get(m);return!v||v.isResolved?null:(yield v.resolve(),this.get(m))})}isResolved(m){if(this.get(m))return!0;const v=this._factories.get(m);return!!(!v||v.isResolved)}setColorMap(m){this._colorMap=m,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=y;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(m,_,v){super(),this._registry=m,this._languageId=_,this._factory=v,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Se(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Se(this,void 0,void 0,function*(){const m=yield this._factory.tokenizationSupport;this._isResolved=!0,m&&!this._isDisposed&&this._register(this._registry.register(this._languageId,m))})}}}),define(ee[517],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class L{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(y,D){this._startLineNumber=y,this._tokens=D}getLineTokens(y){return this._tokens[y-this._startLineNumber]}appendLineTokens(y){this._tokens.push(y)}}e.ContiguousMultilineTokens=L}),define(ee[290],te([1,0,517]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,S){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===D){m.appendLineTokens(S);return}}this._tokens.push(new L.ContiguousMultilineTokens(D,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(ee[91],te([1,0,124]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(S,m){const _=k.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=S.length,v[1]=_,new k(v,S,m)}constructor(S,m,_){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=m,this._languageIdCodec=_}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,m,_){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const v=m<<1,C=v+(_<<1);for(let s=v;s<C;s++)if(this._tokens[s]!==S._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const m=this._tokens[(S<<1)+1],_=L.TokenMetadata.getLanguageId(m);return this._languageIdCodec.decodeLanguageId(_)}getStandardTokenType(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getTokenType(m)}getForeground(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getForeground(m)}getClassName(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getClassNameFromMetadata(m)}getInlineStyle(S,m){const _=this._tokens[(S<<1)+1];return L.TokenMetadata.getInlineStyleFromMetadata(_,m)}getPresentation(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getPresentationFromMetadata(m)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,m,_){return new y(this,S,m,_)}static convertToEndOffset(S,m){const v=(S.length>>>1)-1;for(let C=0;C<v;C++)S[C<<1]=S[C+1<<1];S[v<<1]=m}static findIndexInTokensArray(S,m){if(S.length<=2)return 0;let _=0,v=(S.length>>>1)-1;for(;_<v;){const C=_+Math.floor((v-_)/2),s=S[C<<1];if(s===m)return C+1;s<m?_=C+1:s>m&&(v=C)}return _}withInserted(S){if(S.length===0)return this;let m=0,_=0,v="";const C=new Array;let s=0;for(;;){const n=m<this._tokensCount?this._tokens[m<<1]:-1,i=_<S.length?S[_]:null;if(n!==-1&&(i===null||n<=i.offset)){v+=this._text.substring(s,n);const t=this._tokens[(m<<1)+1];C.push(v.length,t),m++,s=n}else if(i){if(i.offset>s){v+=this._text.substring(s,i.offset);const t=this._tokens[(m<<1)+1];C.push(v.length,t),s=i.offset}v+=i.text,C.push(v.length,i.tokenMetadata),_++}else break}return new k(new Uint32Array(C),v,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class y{constructor(S,m,_,v){this._source=S,this._startOffset=m,this._endOffset=_,this._deltaOffset=v,this._firstTokenIndex=S.findTokenIndexAtOffset(m),this._tokensCount=0;for(let C=this._firstTokenIndex,s=S.getCount();C<s&&!(S.getStartOffset(C)>=_);C++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof y?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const m=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,m)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,m){return this._source.getInlineStyle(this._firstTokenIndex+S,m)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ee[518],te([1,0,91]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(S,m){return S===null||S===e.EMPTY_LINE_TOKENS?S:k.delete(S,0,m)}static deleteEnding(S,m){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const _=y(S),v=_[_.length-2];return k.delete(S,m,v)}static delete(S,m,_){if(S===null||S===e.EMPTY_LINE_TOKENS||m===_)return S;const v=y(S),C=v.length>>>1;if(m===0&&v[v.length-2]===_)return e.EMPTY_LINE_TOKENS;const s=L.LineTokens.findIndexInTokensArray(v,m),n=s>0?v[s-1<<1]:0,i=v[s<<1];if(_<i){const l=_-m;for(let c=s;c<C;c++)v[c<<1]-=l;return S}let t,a;n!==m?(v[s<<1]=m,t=s+1<<1,a=m):(t=s<<1,a=n);const u=_-m;for(let l=s+1;l<C;l++){const c=v[l<<1]-u;c>a&&(v[t++]=c,v[t++]=v[(l<<1)+1],a=c)}if(t===v.length)return S;const h=new Uint32Array(t);return h.set(v.subarray(0,t),0),h.buffer}static append(S,m){if(m===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return m;if(S===null)return S;if(m===null)return null;const _=y(S),v=y(m),C=v.length>>>1,s=new Uint32Array(_.length+v.length);s.set(_,0);let n=_.length;const i=_[_.length-2];for(let t=0;t<C;t++)s[n++]=v[t<<1]+i,s[n++]=v[(t<<1)+1];return s.buffer}static insert(S,m,_){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const v=y(S),C=v.length>>>1;let s=L.LineTokens.findIndexInTokensArray(v,m);s>0&&v[s-1<<1]===m&&s--;for(let n=s;n<C;n++)v[n<<1]+=_;return S}}e.ContiguousTokensEditing=k;function y(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=y}),define(ee[519],te([1,0,14,12,518,91,124]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class m{constructor(C){this._lineTokens=[],this._len=0,this._languageIdCodec=C}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(C,s,n){let i=null;if(s<this._len&&(i=this._lineTokens[s]),i!==null&&i!==y.EMPTY_LINE_TOKENS)return new D.LineTokens((0,y.toUint32Array)(i),n,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=n.length,t[1]=_(this._languageIdCodec.encodeLanguageId(C)),new D.LineTokens(t,n,this._languageIdCodec)}static _massageTokens(C,s,n){const i=n?(0,y.toUint32Array)(n):null;if(s===0){let t=!1;if(i&&i.length>1&&(t=S.TokenMetadata.getLanguageId(i[1])!==C),!t)return y.EMPTY_LINE_TOKENS}if(!i||i.length===0){const t=new Uint32Array(2);return t[0]=s,t[1]=_(C),t.buffer}return i[i.length-2]=s,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(C){for(;C>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(C,s){s!==0&&(C+s>this._len&&(s=this._len-C),this._lineTokens.splice(C,s),this._len-=s)}_insertLines(C,s){if(s===0)return;const n=[];for(let i=0;i<s;i++)n[i]=null;this._lineTokens=L.arrayInsert(this._lineTokens,C,n),this._len+=s}setTokens(C,s,n,i,t){const a=m._massageTokens(this._languageIdCodec.encodeLanguageId(C),n,i);this._ensureLine(s);const u=this._lineTokens[s];return this._lineTokens[s]=a,t?!m._equals(u,a):!1}static _equals(C,s){if(!C||!s)return!C&&!s;const n=(0,y.toUint32Array)(C),i=(0,y.toUint32Array)(s);if(n.length!==i.length)return!1;for(let t=0,a=n.length;t<a;t++)if(n[t]!==i[t])return!1;return!0}acceptEdit(C,s,n){this._acceptDeleteRange(C),this._acceptInsertText(new k.Position(C.startLineNumber,C.startColumn),s,n)}_acceptDeleteRange(C){const s=C.startLineNumber-1;if(s>=this._len)return;if(C.startLineNumber===C.endLineNumber){if(C.startColumn===C.endColumn)return;this._lineTokens[s]=y.ContiguousTokensEditing.delete(this._lineTokens[s],C.startColumn-1,C.endColumn-1);return}this._lineTokens[s]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[s],C.startColumn-1);const n=C.endLineNumber-1;let i=null;n<this._len&&(i=y.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],C.endColumn-1)),this._lineTokens[s]=y.ContiguousTokensEditing.append(this._lineTokens[s],i),this._deleteLines(C.startLineNumber,C.endLineNumber-C.startLineNumber)}_acceptInsertText(C,s,n){if(s===0&&n===0)return;const i=C.lineNumber-1;if(!(i>=this._len)){if(s===0){this._lineTokens[i]=y.ContiguousTokensEditing.insert(this._lineTokens[i],C.column-1,n);return}this._lineTokens[i]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],C.column-1),this._lineTokens[i]=y.ContiguousTokensEditing.insert(this._lineTokens[i],C.column-1,n),this._insertLines(C.lineNumber,s)}}setMultilineTokens(C,s){if(C.length===0)return{changes:[]};const n=[];for(let i=0,t=C.length;i<t;i++){const a=C[i];let u=0,h=0,l=!1;for(let c=a.startLineNumber;c<=a.endLineNumber;c++)l?(this.setTokens(s.getLanguageId(),c-1,s.getLineLength(c),a.getLineTokens(c),!1),h=c):this.setTokens(s.getLanguageId(),c-1,s.getLineLength(c),a.getLineTokens(c),!0)&&(l=!0,u=c,h=c);l&&n.push({fromLineNumber:u,toLineNumber:h})}return{changes:n}}}e.ContiguousTokensStore=m;function _(v){return(v<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(ee[520],te([1,0,12,5,122]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(v,C){return new D(v,new S(C))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(v,C){this._startLineNumber=v,this._tokens=C,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(v){return this._startLineNumber<=v&&v<=this._endLineNumber?this._tokens.getLineTokens(v-this._startLineNumber):null}getRange(){const v=this._tokens.getRange();return v&&new k.Range(this._startLineNumber+v.startLineNumber,v.startColumn,this._startLineNumber+v.endLineNumber,v.endColumn)}removeTokens(v){const C=v.startLineNumber-this._startLineNumber,s=v.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(C,v.startColumn-1,s,v.endColumn-1),this._updateEndLineNumber()}split(v){const C=v.startLineNumber-this._startLineNumber,s=v.endLineNumber-this._startLineNumber,[n,i,t]=this._tokens.split(C,v.startColumn-1,s,v.endColumn-1);return[new D(this._startLineNumber,n),new D(this._startLineNumber+t,i)]}applyEdit(v,C){const[s,n,i]=(0,y.countEOL)(C);this.acceptEdit(v,s,n,i,C.length>0?C.charCodeAt(0):0)}acceptEdit(v,C,s,n,i){this._acceptDeleteRange(v),this._acceptInsertText(new L.Position(v.startLineNumber,v.startColumn),C,s,n,i),this._updateEndLineNumber()}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber&&v.startColumn===v.endColumn)return;const C=v.startLineNumber-this._startLineNumber,s=v.endLineNumber-this._startLineNumber;if(s<0){const i=s-C;this._startLineNumber-=i;return}const n=this._tokens.getMaxDeltaLine();if(!(C>=n+1)){if(C<0&&s>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(C<0){const i=-C;this._startLineNumber-=i,this._tokens.acceptDeleteRange(v.startColumn-1,0,0,s,v.endColumn-1)}else this._tokens.acceptDeleteRange(0,C,v.startColumn-1,s,v.endColumn-1)}}_acceptInsertText(v,C,s,n,i){if(C===0&&s===0)return;const t=v.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=C;return}const a=this._tokens.getMaxDeltaLine();t>=a+1||this._tokens.acceptInsertText(t,v.column-1,C,s,n,i)}}e.SparseMultilineTokens=D;class S{constructor(v){this._tokens=v,this._tokenCount=v.length/4}toString(v){const C=[];for(let s=0;s<this._tokenCount;s++)C.push(`(${this._getDeltaLine(s)+v},${this._getStartCharacter(s)}-${this._getEndCharacter(s)})`);return`[${C.join(",")}]`}getMaxDeltaLine(){const v=this._getTokenCount();return v===0?-1:this._getDeltaLine(v-1)}getRange(){const v=this._getTokenCount();if(v===0)return null;const C=this._getStartCharacter(0),s=this._getDeltaLine(v-1),n=this._getEndCharacter(v-1);return new k.Range(0,C+1,s,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(v){return this._tokens[4*v]}_getStartCharacter(v){return this._tokens[4*v+1]}_getEndCharacter(v){return this._tokens[4*v+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(v){let C=0,s=this._getTokenCount()-1;for(;C<s;){const n=C+Math.floor((s-C)/2),i=this._getDeltaLine(n);if(i<v)C=n+1;else if(i>v)s=n-1;else{let t=n;for(;t>C&&this._getDeltaLine(t-1)===v;)t--;let a=n;for(;a<s&&this._getDeltaLine(a+1)===v;)a++;return new m(this._tokens.subarray(4*t,4*a+4))}}return this._getDeltaLine(C)===v?new m(this._tokens.subarray(4*C,4*C+4)):null}clear(){this._tokenCount=0}removeTokens(v,C,s,n){const i=this._tokens,t=this._tokenCount;let a=0,u=!1,h=0;for(let l=0;l<t;l++){const c=4*l,o=i[c],d=i[c+1],r=i[c+2],g=i[c+3];if((o>v||o===v&&r>=C)&&(o<s||o===s&&d<=n))u=!0;else{if(a===0&&(h=o),u){const f=4*a;i[f]=o-h,i[f+1]=d,i[f+2]=r,i[f+3]=g}a++}}return this._tokenCount=a,h}split(v,C,s,n){const i=this._tokens,t=this._tokenCount,a=[],u=[];let h=a,l=0,c=0;for(let o=0;o<t;o++){const d=4*o,r=i[d],g=i[d+1],f=i[d+2],p=i[d+3];if(r>v||r===v&&f>=C){if(r<s||r===s&&g<=n)continue;h!==u&&(h=u,l=0,c=r)}h[l++]=r-c,h[l++]=g,h[l++]=f,h[l++]=p}return[new S(new Uint32Array(a)),new S(new Uint32Array(u)),c]}acceptDeleteRange(v,C,s,n,i){const t=this._tokens,a=this._tokenCount,u=n-C;let h=0,l=!1;for(let c=0;c<a;c++){const o=4*c;let d=t[o],r=t[o+1],g=t[o+2];const f=t[o+3];if(d<C||d===C&&g<=s){h++;continue}else if(d===C&&r<s)d===n&&g>i?g-=i-s:g=s;else if(d===C&&r===s)if(d===n&&g>i)g-=i-s;else{l=!0;continue}else if(d<n||d===n&&r<i)if(d===n&&g>i)d=C,r=s,g=r+(g-i);else{l=!0;continue}else if(d>n){if(u===0&&!l){h=a;break}d-=u}else if(d===n&&r>=i)v&&d===0&&(r+=v,g+=v),d-=u,r-=i-s,g-=i-s;else throw new Error("Not possible!");const p=4*h;t[p]=d,t[p+1]=r,t[p+2]=g,t[p+3]=f,h++}this._tokenCount=h}acceptInsertText(v,C,s,n,i,t){const a=s===0&&n===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),u=this._tokens,h=this._tokenCount;for(let l=0;l<h;l++){const c=4*l;let o=u[c],d=u[c+1],r=u[c+2];if(!(o<v||o===v&&r<C)){if(o===v&&r===C)if(a)r+=1;else continue;else if(o===v&&d<C&&C<r)s===0?r+=n:r=C;else{if(o===v&&d===C&&a)continue;if(o===v)if(o+=s,s===0)d+=n,r+=n;else{const g=r-d;d=i+(d-C),r=d+g}else o+=s}u[c]=o,u[c+1]=d,u[c+2]=r}}}}class m{constructor(v){this._tokens=v}getCount(){return this._tokens.length/4}getStartCharacter(v){return this._tokens[4*v+1]}getEndCharacter(v){return this._tokens[4*v+2]}getMetadata(v){return this._tokens[4*v+3]}}e.SparseLineTokens=m}),define(ee[521],te([1,0,14,91]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class y{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,m){this._pieces=S||[],this._isComplete=m}setPartial(S,m){let _=S;if(m.length>0){const C=m[0].getRange(),s=m[m.length-1].getRange();if(!C||!s)return S;_=S.plusRange(C).plusRange(s)}let v=null;for(let C=0,s=this._pieces.length;C<s;C++){const n=this._pieces[C];if(n.endLineNumber<_.startLineNumber)continue;if(n.startLineNumber>_.endLineNumber){v=v||{index:C};break}if(n.removeTokens(_),n.isEmpty()){this._pieces.splice(C,1),C--,s--;continue}if(n.endLineNumber<_.startLineNumber)continue;if(n.startLineNumber>_.endLineNumber){v=v||{index:C};continue}const[i,t]=n.split(_);if(i.isEmpty()){v=v||{index:C};continue}t.isEmpty()||(this._pieces.splice(C,1,i,t),C++,s++,v=v||{index:C})}return v=v||{index:this._pieces.length},m.length>0&&(this._pieces=L.arrayInsert(this._pieces,v.index,m)),_}isComplete(){return this._isComplete}addSparseTokens(S,m){if(m.getLineContent().length===0)return m;const _=this._pieces;if(_.length===0)return m;const v=y._findFirstPieceWithLine(_,S),C=_[v].getLineTokens(S);if(!C)return m;const s=m.getCount(),n=C.getCount();let i=0;const t=[];let a=0,u=0;const h=(l,c)=>{l!==u&&(u=l,t[a++]=l,t[a++]=c)};for(let l=0;l<n;l++){const c=C.getStartCharacter(l),o=C.getEndCharacter(l),d=C.getMetadata(l),r=((d&1?2048:0)|(d&2?4096:0)|(d&4?8192:0)|(d&8?16384:0)|(d&16?16744448:0)|(d&32?4278190080:0))>>>0,g=~r>>>0;for(;i<s&&m.getEndOffset(i)<=c;)h(m.getEndOffset(i),m.getMetadata(i)),i++;for(i<s&&m.getStartOffset(i)<c&&h(c,m.getMetadata(i));i<s&&m.getEndOffset(i)<o;)h(m.getEndOffset(i),m.getMetadata(i)&g|d&r),i++;if(i<s)h(o,m.getMetadata(i)&g|d&r),m.getEndOffset(i)===o&&i++;else{const f=Math.min(Math.max(0,i-1),s-1);h(o,m.getMetadata(f)&g|d&r)}}for(;i<s;)h(m.getEndOffset(i),m.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(t),m.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,m){let _=0,v=S.length-1;for(;_<v;){let C=_+Math.floor((v-_)/2);if(S[C].endLineNumber<m)_=C+1;else if(S[C].startLineNumber>m)v=C-1;else{for(;C>_&&S[C-1].startLineNumber<=m&&m<=S[C-1].endLineNumber;)C--;return C}}return _}acceptEdit(S,m,_,v,C){for(const s of this._pieces)s.acceptEdit(S,m,_,v,C)}}e.SparseTokensStore=y}),define(ee[148],te([1,0,2]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends L.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let m=0,_=D.length;m<_;m++){const v=D[m];switch(v.type){case 0:this.onCompositionStart(v)&&(S=!0);break;case 1:this.onCompositionEnd(v)&&(S=!0);break;case 2:this.onConfigurationChanged(v)&&(S=!0);break;case 3:this.onCursorStateChanged(v)&&(S=!0);break;case 4:this.onDecorationsChanged(v)&&(S=!0);break;case 5:this.onFlushed(v)&&(S=!0);break;case 6:this.onFocusChanged(v)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(v)&&(S=!0);break;case 8:this.onLineMappingChanged(v)&&(S=!0);break;case 9:this.onLinesChanged(v)&&(S=!0);break;case 10:this.onLinesDeleted(v)&&(S=!0);break;case 11:this.onLinesInserted(v)&&(S=!0);break;case 12:this.onRevealRangeRequest(v)&&(S=!0);break;case 13:this.onScrollChanged(v)&&(S=!0);break;case 15:this.onTokensChanged(v)&&(S=!0);break;case 14:this.onThemeChanged(v)&&(S=!0);break;case 16:this.onTokensColorsChanged(v)&&(S=!0);break;case 17:this.onZonesChanged(v)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(v)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ee[111],te([1,0,148]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends L.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ee[53],te([1,0,148]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends L.ViewEventHandler{constructor(S){super(),this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class y{static write(S,m){S.setAttribute("data-mprt",String(m))}static read(S){const m=S.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}static collect(S,m){const _=[];let v=0;for(;S&&S!==document.body&&S!==m;)S.nodeType===S.ELEMENT_NODE&&(_[v++]=this.read(S)),S=S.parentElement;const C=new Uint8Array(v);for(let s=0;s<v;s++)C[s]=_[v-s-1];return C}}e.PartFingerprints=y}),define(ee[522],te([1,0,37,53,418]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class y extends k.ViewPart{constructor(S){super(S),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let S=!1;const _=this._context.configuration.options.get(142),v=_.contentWidth-_.verticalScrollbarWidth;this.contentWidth!==v&&(this.contentWidth=v,S=!0);const C=_.contentLeft;return this.contentLeft!==C&&(this.contentLeft=C,S=!0),S}dispose(){super.dispose()}onConfigurationChanged(S){return this.update()}onScrollChanged(S){return S.scrollTopChanged||S.scrollLeftChanged}onDecorationsChanged(S){return!0}onZonesChanged(S){return!0}prepareRender(S){}render(S){var m;let _=0;const v=S.getDecorationsInViewport();for(const C of v){if(!C.options.blockClassName)continue;let s=this.blocks[_];s||(s=this.blocks[_]=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(s));let n,i;C.options.blockIsAfterEnd?(n=S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!1),i=S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0)):(n=S.getVerticalOffsetForLineNumber(C.range.startLineNumber,!0),i=C.range.isEmpty()&&!C.options.blockDoesNotCollapse?S.getVerticalOffsetForLineNumber(C.range.startLineNumber,!1):S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0));const[t,a,u,h]=(m=C.options.blockPadding)!==null&&m!==void 0?m:[0,0,0,0];s.setClassName("blockDecorations-block "+C.options.blockClassName),s.setLeft(this.contentLeft-h),s.setWidth(this.contentWidth+h+a),s.setTop(n-S.scrollTop-t),s.setHeight(i-n+t+u),_++}for(let C=_;C<this.blocks.length;C++)this.blocks[C].domNode.remove();this.blocks.length=_}}e.BlockDecorations=y}),define(ee[523],te([1,0,111,142,5,420]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends L.DynamicViewOverlay{constructor(m){super(),this._context=m;const _=this._context.configuration.options;this._lineHeight=_.get(65),this._typicalHalfwidthCharacterWidth=_.get(49).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const _=this._context.configuration.options;return this._lineHeight=_.get(65),this._typicalHalfwidthCharacterWidth=_.get(49).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const _=m.getDecorationsInViewport();let v=[],C=0;for(let t=0,a=_.length;t<a;t++){const u=_[t];u.options.className&&(v[C++]=u)}v=v.sort((t,a)=>{if(t.options.zIndex<a.options.zIndex)return-1;if(t.options.zIndex>a.options.zIndex)return 1;const u=t.options.className,h=a.options.className;return u<h?-1:u>h?1:y.Range.compareRangesUsingStarts(t.range,a.range)});const s=m.visibleRange.startLineNumber,n=m.visibleRange.endLineNumber,i=[];for(let t=s;t<=n;t++){const a=t-s;i[a]=""}this._renderWholeLineDecorations(m,v,i),this._renderNormalDecorations(m,v,i),this._renderResult=i}_renderWholeLineDecorations(m,_,v){const C=String(this._lineHeight),s=m.visibleRange.startLineNumber,n=m.visibleRange.endLineNumber;for(let i=0,t=_.length;i<t;i++){const a=_[i];if(!a.options.isWholeLine)continue;const u='<div class="cdr '+a.options.className+'" style="left:0;width:100%;height:'+C+'px;"></div>',h=Math.max(a.range.startLineNumber,s),l=Math.min(a.range.endLineNumber,n);for(let c=h;c<=l;c++){const o=c-s;v[o]+=u}}}_renderNormalDecorations(m,_,v){var C;const s=String(this._lineHeight),n=m.visibleRange.startLineNumber;let i=null,t=!1,a=null,u=!1;for(let h=0,l=_.length;h<l;h++){const c=_[h];if(c.options.isWholeLine)continue;const o=c.options.className,d=!!c.options.showIfCollapsed;let r=c.range;if(d&&r.endColumn===1&&r.endLineNumber!==r.startLineNumber&&(r=new y.Range(r.startLineNumber,r.startColumn,r.endLineNumber-1,this._context.viewModel.getLineMaxColumn(r.endLineNumber-1))),i===o&&t===d&&y.Range.areIntersectingOrTouching(a,r)){a=y.Range.plusRange(a,r);continue}i!==null&&this._renderNormalDecoration(m,a,i,u,t,s,n,v),i=o,t=d,a=r,u=(C=c.options.shouldFillLineOnLineBreak)!==null&&C!==void 0?C:!1}i!==null&&this._renderNormalDecoration(m,a,i,u,t,s,n,v)}_renderNormalDecoration(m,_,v,C,s,n,i,t){const a=m.linesVisibleRangesForRange(_,v==="findMatch");if(a)for(let u=0,h=a.length;u<h;u++){const l=a[u];if(l.outsideRenderedLine)continue;const c=l.lineNumber-i;if(s&&l.ranges.length===1){const o=l.ranges[0];if(o.width<this._typicalHalfwidthCharacterWidth){const d=Math.round(o.left+o.width/2),r=Math.max(0,Math.round(d-this._typicalHalfwidthCharacterWidth/2));l.ranges[0]=new k.HorizontalRange(r,this._typicalHalfwidthCharacterWidth)}}for(let o=0,d=l.ranges.length;o<d;o++){const r=C&&l.continuesOnNextLine&&d===1,g=l.ranges[o],f='<div class="cdr '+v+'" style="left:'+String(g.left)+(r?"px;width:100%;height:":"px;width:"+String(g.width)+"px;height:")+n+'px;"></div>';t[c]+=f}}}render(m,_){if(!this._renderResult)return"";const v=_-m;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}e.DecorationsOverlay=D}),define(ee[212],te([1,0,37,14,111,53,5,421]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class m{constructor(u,h,l,c){this._decorationToRenderBrand=void 0,this.startLineNumber=+u,this.endLineNumber=+h,this.className=String(l),this.zIndex=c??0}}e.DecorationToRender=m;class _{constructor(u,h){this.className=u,this.zIndex=h}}e.LineDecorationToRender=_;class v{constructor(){this.decorations=[]}add(u){this.decorations.push(u)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=v;class C extends y.DynamicViewOverlay{_render(u,h,l){const c=[];for(let r=u;r<=h;r++){const g=r-u;c[g]=new v}if(l.length===0)return c;l.sort((r,g)=>r.className===g.className?r.startLineNumber===g.startLineNumber?r.endLineNumber-g.endLineNumber:r.startLineNumber-g.startLineNumber:r.className<g.className?-1:1);let o=null,d=0;for(let r=0,g=l.length;r<g;r++){const f=l[r],p=f.className,b=f.zIndex;let w=Math.max(f.startLineNumber,u)-u;const E=Math.min(f.endLineNumber,h)-u;o===p?(w=Math.max(d+1,w),d=Math.max(d,E)):(o=p,d=E);for(let I=w;I<=d;I++)c[I].add(new _(p,b))}return c}}e.DedupOverlay=C;class s extends D.ViewPart{constructor(u){super(u),this._widgets={},this._context=u;const h=this._context.configuration.options,l=h.get(142);this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=h.get(65),this._glyphMargin=h.get(56),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._glyphMarginDecorationLaneCount=l.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(u){const h=this._context.configuration.options,l=h.get(142);return this._lineHeight=h.get(65),this._glyphMargin=h.get(56),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._glyphMarginDecorationLaneCount=l.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}addWidget(u){const h=(0,L.createFastDomNode)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:u.getPosition(),domNode:h,renderInfo:null},h.setPosition("absolute"),h.setDisplay("none"),h.setAttribute("widgetId",u.getId()),this.domNode.appendChild(h),this.setShouldRender()}setWidgetPosition(u,h){const l=this._widgets[u.getId()];return l.preference.lane===h.lane&&l.preference.zIndex===h.zIndex&&S.Range.equalsRange(l.preference.range,h.range)?!1:(l.preference=h,this.setShouldRender(),!0)}removeWidget(u){var h;const l=u.getId();if(this._widgets[l]){const o=this._widgets[l].domNode.domNode;delete this._widgets[l],(h=o.parentNode)===null||h===void 0||h.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(u,h){var l,c,o;const d=u.visibleRange.startLineNumber,r=u.visibleRange.endLineNumber,g=u.getDecorationsInViewport();for(const f of g){const p=f.options.glyphMarginClassName;if(!p)continue;const b=Math.max(f.range.startLineNumber,d),w=Math.min(f.range.endLineNumber,r),E=Math.min((c=(l=f.options.glyphMargin)===null||l===void 0?void 0:l.position)!==null&&c!==void 0?c:1,this._glyphMarginDecorationLaneCount),I=(o=f.options.zIndex)!==null&&o!==void 0?o:0;for(let N=b;N<=w;N++)h.push(new n(N,E,I,p))}}_collectWidgetBasedGlyphRenderRequest(u,h){const l=u.visibleRange.startLineNumber,c=u.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const d=o.preference.range;if(d.endLineNumber<l||d.startLineNumber>c)continue;const r=Math.max(d.startLineNumber,l),g=Math.min(o.preference.lane,this._glyphMarginDecorationLaneCount);h.push(new i(r,g,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(u){const h=[];return this._collectDecorationBasedGlyphRenderRequest(u,h),this._collectWidgetBasedGlyphRenderRequest(u,h),h.sort((l,c)=>l.lineNumber===c.lineNumber?l.lane===c.lane?l.zIndex===c.zIndex?c.type===l.type?l.type===0&&c.type===0?l.className<c.className?-1:1:0:c.type-l.type:c.zIndex-l.zIndex:l.lane-c.lane:l.lineNumber-c.lineNumber),h}prepareRender(u){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const c of Object.values(this._widgets))c.renderInfo=null;const h=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(u)),l=[];for(;h.length>0;){const c=h.peek();if(!c)break;const o=h.takeWhile(r=>r.lineNumber===c.lineNumber&&r.lane===c.lane);if(!o||o.length===0)break;const d=o[0];if(d.type===0){const r=[];for(const g of o){if(g.zIndex!==d.zIndex||g.type!==d.type)break;(r.length===0||r[r.length-1]!==g.className)&&r.push(g.className)}l.push(d.accept(r.join(" ")))}else d.widget.renderInfo={lineNumber:d.lineNumber,lane:d.lane}}this._decorationGlyphsToRender=l}render(u){if(!this._glyphMargin){for(const l of Object.values(this._widgets))l.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const l=this._managedDomNodes.pop();l?.domNode.remove()}return}const h=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const l of Object.values(this._widgets))if(!l.renderInfo)l.domNode.setDisplay("none");else{const c=u.viewportData.relativeVerticalOffset[l.renderInfo.lineNumber-u.viewportData.startLineNumber],o=this._glyphMarginLeft+(l.renderInfo.lane-1)*this._lineHeight;l.domNode.setDisplay("block"),l.domNode.setTop(c),l.domNode.setLeft(o),l.domNode.setWidth(h),l.domNode.setHeight(this._lineHeight)}for(let l=0;l<this._decorationGlyphsToRender.length;l++){const c=this._decorationGlyphsToRender[l],o=u.viewportData.relativeVerticalOffset[c.lineNumber-u.viewportData.startLineNumber],d=this._glyphMarginLeft+(c.lane-1)*this._lineHeight;let r;l<this._managedDomNodes.length?r=this._managedDomNodes[l]:(r=(0,L.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(r),this.domNode.appendChild(r)),r.setClassName("cgmr codicon "+c.combinedClassName),r.setPosition("absolute"),r.setTop(o),r.setLeft(d),r.setWidth(h),r.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const l=this._managedDomNodes.pop();l?.domNode.remove()}}}e.GlyphMarginWidgets=s;class n{constructor(u,h,l,c){this.lineNumber=u,this.lane=h,this.zIndex=l,this.className=c,this.type=0}accept(u){return new t(this.lineNumber,this.lane,u)}}class i{constructor(u,h,l,c){this.lineNumber=u,this.lane=h,this.zIndex=l,this.widget=c,this.type=1}}class t{constructor(u,h,l){this.lineNumber=u,this.lane=h,this.combinedClassName=l}}}),define(ee[524],te([1,0,212,425]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D;const m=this._context.configuration.options.get(142);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const m=this._context.configuration.options.get(142);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),m=[];let _=0;for(let v=0,C=S.length;v<C;v++){const s=S[v],n=s.options.linesDecorationsClassName,i=s.options.zIndex;n&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,n,i));const t=s.options.firstLineDecorationClassName;t&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,t,i))}return m}prepareRender(D){const S=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,_=this._render(S,m,this._getDecorations(D)),v=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),s='" style="left:'+v+"px;width:"+C+'px;"></div>',n=[];for(let i=S;i<=m;i++){const t=i-S,a=_[t].getDecorations();let u="";for(const h of a)u+='<div class="cldr '+h.className+s;n[t]=u}this._renderResult=n}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=k}),define(ee[291],te([1,0,37,53,426]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class y extends k.ViewPart{constructor(S){super(S);const m=this._context.configuration.options,_=m.get(142);this._canUseLayerHinting=!m.get(31),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(y.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(y.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const m=this._context.configuration.options,_=m.get(142);return this._canUseLayerHinting=!m.get(31),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-m);const _=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(_),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(_)}}e.Margin=y,y.CLASS_NAME="glyph-margin",y.OUTER_CLASS_NAME="margin"}),define(ee[525],te([1,0,212,427]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),m=[];let _=0;for(let v=0,C=S.length;v<C;v++){const s=S[v],n=s.options.marginClassName,i=s.options.zIndex;n&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,n,i))}return m}prepareRender(D){const S=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,_=this._render(S,m,this._getDecorations(D)),v=[];for(let C=S;C<=m;C++){const s=C-S,n=_[s].getDecorations();let i="";for(const t of n)i+='<div class="cmdr '+t.className+'" style=""></div>';v[s]=i}this._renderResult=v}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ee[526],te([1,0,37,53,429]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class y extends k.ViewPart{constructor(S){super(S);const _=this._context.configuration.options.get(142);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const _=this._context.configuration.options.get(142);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(S){const m=(0,L.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:m},m.setPosition("absolute"),m.setAttribute("widgetId",S.getId()),this._domNode.appendChild(m),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(S,m){const _=this._widgets[S.getId()];return _.preference===m?(this._updateMaxMinWidth(),!1):(_.preference=m,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(S){const m=S.getId();if(this._widgets.hasOwnProperty(m)){const v=this._widgets[m].domNode.domNode;delete this._widgets[m],v.parentNode.removeChild(v),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var S,m;let _=0;const v=Object.keys(this._widgets);for(let C=0,s=v.length;C<s;C++){const n=v[C],t=(m=(S=this._widgets[n].widget).getMinContentWidthInPx)===null||m===void 0?void 0:m.call(S);typeof t<"u"&&(_=Math.max(_,t))}this._context.viewLayout.setOverlayWidgetsMinWidth(_)}_renderWidget(S){const m=S.domNode;if(S.preference===null){m.setTop("");return}if(S.preference===0)m.setTop(0),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const _=m.domNode.clientHeight;m.setTop(this._editorHeight-_-2*this._horizontalScrollbarHeight),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(m.setTop(0),m.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const m=Object.keys(this._widgets);for(let _=0,v=m.length;_<v;_++){const C=m[_];this._renderWidget(this._widgets[C])}}}e.ViewOverlayWidgets=y}),define(ee[527],te([1,0,37,53,430]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class y extends k.ViewPart{constructor(S){super(S),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const m=this._context.configuration.options;this._rulers=m.get(100),this._typicalHalfwidthCharacterWidth=m.get(49).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(S){const m=this._context.configuration.options;return this._rulers=m.get(100),this._typicalHalfwidthCharacterWidth=m.get(49).typicalHalfwidthCharacterWidth,!0}onScrollChanged(S){return S.scrollHeightChanged}prepareRender(S){}_ensureRulersCount(){const S=this._renderedRulers.length,m=this._rulers.length;if(S===m)return;if(S<m){const{tabSize:v}=this._context.viewModel.model.getOptions(),C=v;let s=m-S;for(;s>0;){const n=(0,L.createFastDomNode)(document.createElement("div"));n.setClassName("view-ruler"),n.setWidth(C),this.domNode.appendChild(n),this._renderedRulers.push(n),s--}return}let _=S-m;for(;_>0;){const v=this._renderedRulers.pop();this.domNode.removeChild(v),_--}}render(S){this._ensureRulersCount();for(let m=0,_=this._rulers.length;m<_;m++){const v=this._renderedRulers[m],C=this._rulers[m];v.setBoxShadow(C.color?`1px 0 0 0 ${C.color} inset`:""),v.setHeight(Math.min(S.scrollHeight,1e6)),v.setLeft(C.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=y}),define(ee[528],te([1,0,37,53,431]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class y extends k.ViewPart{constructor(S){super(S),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(101);this._useShadows=_.useShadows,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const S=this._useShadows&&this._scrollTop>0;return this._shouldShow!==S?(this._shouldShow=S,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const m=this._context.configuration.options.get(142);m.minimap.renderMinimap===0||m.minimap.minimapWidth>0&&m.minimap.minimapLeft===0?this._width=m.width:this._width=m.width-m.verticalScrollbarWidth}onConfigurationChanged(S){const _=this._context.configuration.options.get(101);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(S){return this._scrollTop=S.scrollTop,this._updateShouldShow()}prepareRender(S){}render(S){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=y}),define(ee[529],te([1,0,37,9,53,12]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class m extends y.ViewPart{constructor(C){super(C);const s=this._context.configuration.options,n=s.get(142);this._lineHeight=s.get(65),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,L.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),s=new Map;for(const i of C)s.set(i.id,i);let n=!1;return this._context.viewModel.changeWhitespace(i=>{const t=Object.keys(this._zones);for(let a=0,u=t.length;a<u;a++){const h=t[a],l=this._zones[h],c=this._computeWhitespaceProps(l.delegate);l.isInHiddenArea=c.isInHiddenArea;const o=s.get(h);o&&(o.afterLineNumber!==c.afterViewLineNumber||o.height!==c.heightInPx)&&(i.changeOneWhitespace(h,c.afterViewLineNumber,c.heightInPx),this._safeCallOnComputedHeight(l.delegate,c.heightInPx),n=!0)}}),n}onConfigurationChanged(C){const s=this._context.configuration.options,n=s.get(142);return this._lineHeight=s.get(65),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,C.hasChanged(65)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){var s,n;return(n=(s=C.ordinal)!==null&&s!==void 0?s:C.afterColumn)!==null&&n!==void 0?n:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let s;if(typeof C.afterColumn<"u")s=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const a=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;s=new D.Position(a,this._context.viewModel.model.getLineMaxColumn(a))}let n;s.column===this._context.viewModel.model.getLineMaxColumn(s.lineNumber)?n=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber+1,column:1}):n=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber,column:s.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s,C.afterColumnAffinity,!0),t=C.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!t,afterViewLineNumber:i.lineNumber,heightInPx:t?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let s=!1;return this._context.viewModel.changeWhitespace(n=>{const i={addZone:t=>(s=!0,this._addZone(n,t)),removeZone:t=>{t&&(s=this._removeZone(n,t)||s)},layoutZone:t=>{t&&(s=this._layoutZone(n,t)||s)}};_(C,i),i.addZone=S,i.removeZone=S,i.layoutZone=S}),s}_addZone(C,s){const n=this._computeWhitespaceProps(s),t={whitespaceId:C.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(s),n.heightInPx,n.minWidthInPx),delegate:s,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:(0,L.createFastDomNode)(s.domNode),marginDomNode:s.marginDomNode?(0,L.createFastDomNode)(s.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,n.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(C,s){if(this._zones.hasOwnProperty(s)){const n=this._zones[s];return delete this._zones[s],C.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,s){if(this._zones.hasOwnProperty(s)){const n=this._zones[s],i=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=i.isInHiddenArea,C.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){return this._zones.hasOwnProperty(C)?!!this._zones[C].delegate.suppressMouseDown:!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,s){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(s)}catch(n){(0,k.onUnexpectedError)(n)}}_safeCallOnDomNodeTop(C,s){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(s)}catch(n){(0,k.onUnexpectedError)(n)}}prepareRender(C){}render(C){const s=C.viewportData.whitespaceViewportData,n={};let i=!1;for(const a of s)this._zones[a.id].isInHiddenArea||(n[a.id]=a,i=!0);const t=Object.keys(this._zones);for(let a=0,u=t.length;a<u;a++){const h=t[a],l=this._zones[h];let c=0,o=0,d="none";n.hasOwnProperty(h)?(c=n[h].verticalOffset-C.bigNumbersDelta,o=n[h].height,d="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(n[h].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(c),l.domNode.setHeight(o),l.domNode.setDisplay(d),l.marginDomNode&&(l.marginDomNode.setTop(c),l.marginDomNode.setHeight(o),l.marginDomNode.setDisplay(d))}i&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function _(v,C){try{return v(C)}catch(s){(0,k.onUnexpectedError)(s)}}}),define(ee[213],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class L{constructor(){this.type=0}}e.ViewCompositionStartEvent=L;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class y{constructor(d){this.type=2,this._source=d}hasChanged(d){return this._source.hasChanged(d)}}e.ViewConfigurationChangedEvent=y;class D{constructor(d,r,g){this.selections=d,this.modelSelections=r,this.reason=g,this.type=3}}e.ViewCursorStateChangedEvent=D;class S{constructor(d){this.type=4,d?(this.affectsMinimap=d.affectsMinimap,this.affectsOverviewRuler=d.affectsOverviewRuler,this.affectsGlyphMargin=d.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}e.ViewDecorationsChangedEvent=S;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class _{constructor(d){this.type=6,this.isFocused=d}}e.ViewFocusChangedEvent=_;class v{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=v;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class s{constructor(d,r){this.fromLineNumber=d,this.count=r,this.type=9}}e.ViewLinesChangedEvent=s;class n{constructor(d,r){this.type=10,this.fromLineNumber=d,this.toLineNumber=r}}e.ViewLinesDeletedEvent=n;class i{constructor(d,r){this.type=11,this.fromLineNumber=d,this.toLineNumber=r}}e.ViewLinesInsertedEvent=i;class t{constructor(d,r,g,f,p,b,w){this.source=d,this.minimalReveal=r,this.range=g,this.selections=f,this.verticalType=p,this.revealHorizontal=b,this.scrollType=w,this.type=12}}e.ViewRevealRangeRequestEvent=t;class a{constructor(d){this.type=13,this.scrollWidth=d.scrollWidth,this.scrollLeft=d.scrollLeft,this.scrollHeight=d.scrollHeight,this.scrollTop=d.scrollTop,this.scrollWidthChanged=d.scrollWidthChanged,this.scrollLeftChanged=d.scrollLeftChanged,this.scrollHeightChanged=d.scrollHeightChanged,this.scrollTopChanged=d.scrollTopChanged}}e.ViewScrollChangedEvent=a;class u{constructor(d){this.theme=d,this.type=14}}e.ViewThemeChangedEvent=u;class h{constructor(d){this.type=15,this.ranges=d}}e.ViewTokensChangedEvent=h;class l{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=l;class c{constructor(){this.type=17}}e.ViewZonesChangedEvent=c}),define(ee[149],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(_,v,C,s){this.startColumn=_,this.endColumn=v,this.className=C,this.type=s,this._lineDecorationBrand=void 0}static _equals(_,v){return _.startColumn===v.startColumn&&_.endColumn===v.endColumn&&_.className===v.className&&_.type===v.type}static equalsArr(_,v){const C=_.length,s=v.length;if(C!==s)return!1;for(let n=0;n<C;n++)if(!k._equals(_[n],v[n]))return!1;return!0}static extractWrapped(_,v,C){if(_.length===0)return _;const s=v+1,n=C+1,i=C-v,t=[];let a=0;for(const u of _)u.endColumn<=s||u.startColumn>=n||(t[a++]=new k(Math.max(1,u.startColumn-s+1),Math.min(i+1,u.endColumn-s+1),u.className,u.type));return t}static filter(_,v,C,s){if(_.length===0)return[];const n=[];let i=0;for(let t=0,a=_.length;t<a;t++){const u=_[t],h=u.range;if(h.endLineNumber<v||h.startLineNumber>v||h.isEmpty()&&(u.type===0||u.type===3))continue;const l=h.startLineNumber===v?h.startColumn:C,c=h.endLineNumber===v?h.endColumn:s;n[i++]=new k(l,c,u.inlineClassName,u.type)}return n}static _typeCompare(_,v){const C=[2,0,1,3];return C[_]-C[v]}static compare(_,v){if(_.startColumn!==v.startColumn)return _.startColumn-v.startColumn;if(_.endColumn!==v.endColumn)return _.endColumn-v.endColumn;const C=k._typeCompare(_.type,v.type);return C!==0?C:_.className!==v.className?_.className<v.className?-1:1:0}}e.LineDecoration=k;class y{constructor(_,v,C,s){this.startOffset=_,this.endOffset=v,this.className=C,this.metadata=s}}e.DecorationSegment=y;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(_){let v=0;for(let C=0,s=_.length;C<s;C++)v|=_[C];return v}consumeLowerThan(_,v,C){for(;this.count>0&&this.stopOffsets[0]<_;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;C.push(new y(v,this.stopOffsets[s],this.classNames.join(" "),D._metadata(this.metadata))),v=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&v<_&&(C.push(new y(v,_-1,this.classNames.join(" "),D._metadata(this.metadata))),v=_),v}insert(_,v,C){if(this.count===0||this.stopOffsets[this.count-1]<=_)this.stopOffsets.push(_),this.classNames.push(v),this.metadata.push(C);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=_){this.stopOffsets.splice(s,0,_),this.classNames.splice(s,0,v),this.metadata.splice(s,0,C);break}this.count++}}class S{static normalize(_,v){if(v.length===0)return[];const C=[],s=new D;let n=0;for(let i=0,t=v.length;i<t;i++){const a=v[i];let u=a.startColumn,h=a.endColumn;const l=a.className,c=a.type===1?2:a.type===2?4:0;if(u>1){const r=_.charCodeAt(u-2);L.isHighSurrogate(r)&&u--}if(h>1){const r=_.charCodeAt(h-2);L.isHighSurrogate(r)&&h--}const o=u-1,d=h-2;n=s.consumeLowerThan(o,n,C),s.count===0&&(n=o),s.insert(d,l,c)}return s.consumeLowerThan(1073741824,n,C),C}}e.LineDecorationsNormalizer=S}),define(ee[530],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class L{constructor(y,D,S,m){this.endIndex=y,this.type=D,this.metadata=S,this.containsRTL=m,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=L}),define(ee[531],te([1,0,10]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const _=this._inserts,v=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(_,v,C)}}class y{constructor(m,_,v,C,s){this.id=m,this.afterLineNumber=_,this.ordinal=v,this.height=C,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=y;class D{constructor(m,_,v,C){this._instanceId=L.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=_,this._paddingTop=v,this._paddingBottom=C}static findInsertionIndex(m,_,v){let C=0,s=m.length;for(;C<s;){const n=C+s>>>1;_===m[n].afterLineNumber?v<m[n].ordinal?s=n:C=n+1:_<m[n].afterLineNumber?s=n:C=n+1}return C}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,_){this._paddingTop=m,this._paddingBottom=_}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let _=!1;try{m({insertWhitespace:(C,s,n,i)=>{_=!0,C=C|0,s=s|0,n=n|0,i=i|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new y(t,C,s,n,i)),t},changeOneWhitespace:(C,s,n)=>{_=!0,s=s|0,n=n|0,this._pendingChanges.change({id:C,newAfterLineNumber:s,newHeight:n})},removeWhitespace:C=>{_=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(m,_,v){if((m.length>0||v.length>0)&&(this._minWidth=-1),m.length+_.length+v.length<=1){for(const t of m)this._insertWhitespace(t);for(const t of _)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of v){const a=this._findWhitespaceIndex(t.id);a!==-1&&this._removeWhitespace(a)}return}const C=new Set;for(const t of v)C.add(t.id);const s=new Map;for(const t of _)s.set(t.id,t);const n=t=>{const a=[];for(const u of t)if(!C.has(u.id)){if(s.has(u.id)){const h=s.get(u.id);u.afterLineNumber=h.newAfterLineNumber,u.height=h.newHeight}a.push(u)}return a},i=n(this._arr).concat(n(m));i.sort((t,a)=>t.afterLineNumber===a.afterLineNumber?t.ordinal-a.ordinal:t.afterLineNumber-a.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const _=D.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(_,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(m){const _=this._arr;for(let v=0,C=_.length;v<C;v++)if(_[v].id===m)return v;return-1}_changeOneWhitespace(m,_,v){const C=this._findWhitespaceIndex(m);if(C!==-1&&(this._arr[C].height!==v&&(this._arr[C].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==_)){const s=this._arr[C];this._removeWhitespace(C),s.afterLineNumber=_,this._insertWhitespace(s)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,_){this._checkPendingChanges(),m=m|0,_=_|0,this._lineCount-=_-m+1;for(let v=0,C=this._arr.length;v<C;v++){const s=this._arr[v].afterLineNumber;m<=s&&s<=_?this._arr[v].afterLineNumber=m-1:s>_&&(this._arr[v].afterLineNumber-=_-m+1)}}onLinesInserted(m,_){this._checkPendingChanges(),m=m|0,_=_|0,this._lineCount+=_-m+1;for(let v=0,C=this._arr.length;v<C;v++){const s=this._arr[v].afterLineNumber;m<=s&&(this._arr[v].afterLineNumber+=_-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let _=Math.max(0,this._prefixSumValidIndex+1);_===0&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let v=_;v<=m;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,_=this.getWhitespacesTotalHeight();return m+_+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const _=this._findLastWhitespaceBeforeLineNumber(m);return _===-1?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const _=this._arr;let v=0,C=_.length-1;for(;v<=C;){const n=(C-v|0)/2|0,i=v+n|0;if(_[i].afterLineNumber<m){if(i+1>=_.length||_[i+1].afterLineNumber>=m)return i;v=i+1|0}else C=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const v=this._findLastWhitespaceBeforeLineNumber(m)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m,_=!1){this._checkPendingChanges(),m=m|0;let v;m>1?v=this._lineHeight*(m-1):v=0;const C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m-(_?1:0));return v+C+this._paddingTop}getVerticalOffsetAfterLineNumber(m,_=!1){this._checkPendingChanges(),m=m|0;const v=this._lineHeight*m,C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m+(_?1:0));return v+C+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let _=0,v=this._arr.length;_<v;_++)m=Math.max(m,this._arr[_].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const _=this.getLinesTotalHeight();return m>_}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const _=this.getLinesTotalHeight();return m>=_-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const _=this._lineCount|0,v=this._lineHeight;let C=1,s=_;for(;C<s;){const n=(C+s)/2|0,i=this.getVerticalOffsetForLineNumber(n)|0;if(m>=i+v)C=n+1;else{if(m>=i)return n;s=n}}return C>_?_:C}getLinesViewportData(m,_){this._checkPendingChanges(),m=m|0,_=_|0;const v=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(m)|0,s=this.getVerticalOffsetForLineNumber(C)|0;let n=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const t=this.getWhitespacesCount()|0;let a,u;i===-1?(i=t,u=n+1,a=0):(u=this.getAfterLineNumberForWhitespaceIndex(i)|0,a=this.getHeightForWhitespaceIndex(i)|0);let h=s,l=h;const c=5e5;let o=0;s>=c&&(o=Math.floor(s/c)*c,o=Math.floor(o/v)*v,l-=o);const d=[],r=m+(_-m)/2;let g=-1;for(let w=C;w<=n;w++){if(g===-1){const E=h,I=h+v;(E<=r&&r<I||E>r)&&(g=w)}for(h+=v,d[w-C]=l,l+=v;u===w;)l+=a,h+=a,i++,i>=t?u=n+1:(u=this.getAfterLineNumberForWhitespaceIndex(i)|0,a=this.getHeightForWhitespaceIndex(i)|0);if(h>=_){n=w;break}}g===-1&&(g=n);const f=this.getVerticalOffsetForLineNumber(n)|0;let p=C,b=n;return p<b&&s<m&&p++,p<b&&f+v>_&&b--,{bigNumbersDelta:o,startLineNumber:C,endLineNumber:n,relativeVerticalOffset:d,centeredLineNumber:g,completelyVisibleStartLineNumber:p,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const _=this.getAfterLineNumberForWhitespaceIndex(m);let v;_>=1?v=this._lineHeight*_:v=0;let C;return m>0?C=this.getWhitespacesAccumulatedHeight(m-1):C=0,v+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let _=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(v),s=this.getHeightForWhitespaceIndex(v);if(m>=C+s)return-1;for(;_<v;){const n=Math.floor((_+v)/2),i=this.getVerticalOffsetForWhitespaceIndex(n),t=this.getHeightForWhitespaceIndex(n);if(m>=i+t)_=n+1;else{if(m>=i)return n;v=n}}return _}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(_<0||_>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(_);if(v>m)return null;const C=this.getHeightForWhitespaceIndex(_),s=this.getIdForWhitespaceIndex(_),n=this.getAfterLineNumberForWhitespaceIndex(_);return{id:s,afterLineNumber:n,verticalOffset:v,height:C}}getWhitespaceViewportData(m,_){this._checkPendingChanges(),m=m|0,_=_|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),C=this.getWhitespacesCount()-1;if(v<0)return[];const s=[];for(let n=v;n<=C;n++){const i=this.getVerticalOffsetForWhitespaceIndex(n),t=this.getHeightForWhitespaceIndex(n);if(i>=_)break;s.push({id:this.getIdForWhitespaceIndex(n),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:i,height:t})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(ee[532],te([1,0,5]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,S,m,_){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=_,this.visibleRange=new L.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ee[82],te([1,0,10,5]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class y{constructor(i,t,a,u){this._viewportBrand=void 0,this.top=i|0,this.left=t|0,this.width=a|0,this.height=u|0}}e.Viewport=y;class D{constructor(i,t){this.tabSize=i,this.data=t}}e.MinimapLinesRenderingData=D;class S{constructor(i,t,a,u,h,l,c){this._viewLineDataBrand=void 0,this.content=i,this.continuesWithWrappedLine=t,this.minColumn=a,this.maxColumn=u,this.startVisibleColumn=h,this.tokens=l,this.inlineDecorations=c}}e.ViewLineData=S;class m{constructor(i,t,a,u,h,l,c,o,d,r){this.minColumn=i,this.maxColumn=t,this.content=a,this.continuesWithWrappedLine=u,this.isBasicASCII=m.isBasicASCII(a,l),this.containsRTL=m.containsRTL(a,this.isBasicASCII,h),this.tokens=c,this.inlineDecorations=o,this.tabSize=d,this.startVisibleColumn=r}static isBasicASCII(i,t){return t?L.isBasicASCII(i):!0}static containsRTL(i,t,a){return!t&&a?L.containsRTL(i):!1}}e.ViewLineRenderingData=m;class _{constructor(i,t,a){this.range=i,this.inlineClassName=t,this.type=a}}e.InlineDecoration=_;class v{constructor(i,t,a,u){this.startOffset=i,this.endOffset=t,this.inlineClassName=a,this.inlineClassNameAffectsLetterSpacing=u}toInlineDecoration(i){return new _(new k.Range(i,this.startOffset+1,i,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=v;class C{constructor(i,t){this._viewModelDecorationBrand=void 0,this.range=i,this.options=t}}e.ViewModelDecoration=C;class s{constructor(i,t,a){this.color=i,this.zIndex=t,this.data=a}static cmp(i,t){return i.zIndex===t.zIndex?i.color<t.color?-1:i.color>t.color?1:0:i.zIndex-t.zIndex}static equalsArr(i,t){if(i.length!==t.length)return!1;for(let a=0,u=i.length;a<u;a++)if(s.cmp(i[a],t[a])!==0)return!1;return!0}}e.OverviewRulerDecorationsGroup=s}),define(ee[533],te([1,0,91,12,110,82]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(i,t){return i===null?t?_.INSTANCE:v.INSTANCE:new m(i,t)}e.createModelLineProjection=S;class m{constructor(t,a){this._projectionData=t,this._isVisible=a}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,a,u){this._assertVisible();const h=u>0?this._projectionData.breakOffsets[u-1]:0,l=this._projectionData.breakOffsets[u];let c;if(this._projectionData.injectionOffsets!==null){const o=this._projectionData.injectionOffsets.map((r,g)=>new y.LineInjectedText(0,0,r+1,this._projectionData.injectionOptions[g],0));c=y.LineInjectedText.applyInjectedText(t.getLineContent(a),o).substring(h,l)}else c=t.getValueInRange({startLineNumber:a,startColumn:h+1,endLineNumber:a,endColumn:l+1});return u>0&&(c=s(this._projectionData.wrappedTextIndentLength)+c),c}getViewLineLength(t,a,u){return this._assertVisible(),this._projectionData.getLineLength(u)}getViewLineMinColumn(t,a,u){return this._assertVisible(),this._projectionData.getMinOutputOffset(u)+1}getViewLineMaxColumn(t,a,u){return this._assertVisible(),this._projectionData.getMaxOutputOffset(u)+1}getViewLineData(t,a,u){const h=new Array;return this.getViewLinesData(t,a,u,1,0,[!0],h),h[0]}getViewLinesData(t,a,u,h,l,c,o){this._assertVisible();const d=this._projectionData,r=d.injectionOffsets,g=d.injectionOptions;let f=null;if(r){f=[];let b=0,w=0;for(let E=0;E<d.getOutputLineCount();E++){const I=new Array;f[E]=I;const N=E>0?d.breakOffsets[E-1]:0,R=d.breakOffsets[E];for(;w<r.length;){const F=g[w].content.length,M=r[w]+b,A=M+F;if(M>R)break;if(N<A){const T=g[w];if(T.inlineClassName){const O=E>0?d.wrappedTextIndentLength:0,P=O+Math.max(M-N,0),x=O+Math.min(A-N,R-N);P!==x&&I.push(new D.SingleLineInlineDecoration(P,x,T.inlineClassName,T.inlineClassNameAffectsLetterSpacing))}}if(A<=R)b+=F,w++;else break}}}let p;r?p=t.tokenization.getLineTokens(a).withInserted(r.map((b,w)=>({offset:b,text:g[w].content,tokenMetadata:L.LineTokens.defaultTokenMetadata}))):p=t.tokenization.getLineTokens(a);for(let b=u;b<u+h;b++){const w=l+b-u;if(!c[w]){o[w]=null;continue}o[w]=this._getViewLineData(p,f?f[b]:null,b)}}_getViewLineData(t,a,u){this._assertVisible();const h=this._projectionData,l=u>0?h.wrappedTextIndentLength:0,c=u>0?h.breakOffsets[u-1]:0,o=h.breakOffsets[u],d=t.sliceAndInflate(c,o,l);let r=d.getLineContent();u>0&&(r=s(h.wrappedTextIndentLength)+r);const g=this._projectionData.getMinOutputOffset(u)+1,f=r.length+1,p=u+1<this.getViewLineCount(),b=u===0?0:h.breakOffsetsVisibleColumn[u-1];return new D.ViewLineData(r,p,g,f,b,d,a)}getModelColumnOfViewPosition(t,a){return this._assertVisible(),this._projectionData.translateToInputOffset(t,a-1)+1}getViewPositionOfModelPosition(t,a,u=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(a-1,u).toPosition(t)}getViewLineNumberOfModelPosition(t,a){this._assertVisible();const u=this._projectionData.translateToOutputPosition(a-1);return t+u.outputLineIndex}normalizePosition(t,a,u){const h=a.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,a.column-1,u).toPosition(h)}getInjectedTextAt(t,a){return this._projectionData.getInjectedText(t,a-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class _{constructor(){}isVisible(){return!0}setVisible(t){return t?this:v.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,a,u){return t.getLineContent(a)}getViewLineLength(t,a,u){return t.getLineLength(a)}getViewLineMinColumn(t,a,u){return t.getLineMinColumn(a)}getViewLineMaxColumn(t,a,u){return t.getLineMaxColumn(a)}getViewLineData(t,a,u){const h=t.tokenization.getLineTokens(a),l=h.getLineContent();return new D.ViewLineData(l,!1,1,l.length+1,0,h.inflate(),null)}getViewLinesData(t,a,u,h,l,c,o){if(!c[l]){o[l]=null;return}o[l]=this.getViewLineData(t,a,0)}getModelColumnOfViewPosition(t,a){return a}getViewPositionOfModelPosition(t,a){return new k.Position(t,a)}getViewLineNumberOfModelPosition(t,a){return t}normalizePosition(t,a,u){return a}getInjectedTextAt(t,a){return null}}_.INSTANCE=new _;class v{constructor(){}isVisible(){return!1}setVisible(t){return t?_.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,a,u){throw new Error("Not supported")}getViewLineLength(t,a,u){throw new Error("Not supported")}getViewLineMinColumn(t,a,u){throw new Error("Not supported")}getViewLineMaxColumn(t,a,u){throw new Error("Not supported")}getViewLineData(t,a,u){throw new Error("Not supported")}getViewLinesData(t,a,u,h,l,c,o){throw new Error("Not supported")}getModelColumnOfViewPosition(t,a){throw new Error("Not supported")}getViewPositionOfModelPosition(t,a){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,a){throw new Error("Not supported")}normalizePosition(t,a,u){throw new Error("Not supported")}getInjectedTextAt(t,a){throw new Error("Not supported")}}v.INSTANCE=new v;const C=[""];function s(i){if(i>=C.length)for(let t=1;t<=i;t++)C[t]=n(t);return C[i]}function n(i){return new Array(i+1).join(" ")}}),define(ee[534],te([1,0,10,121,110,286]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{static create(h){return new S(h.get(131),h.get(130))}constructor(h,l){this.classifier=new m(h,l)}createLineBreaksComputer(h,l,c,o,d){const r=[],g=[],f=[];return{addRequest:(p,b,w)=>{r.push(p),g.push(b),f.push(w)},finalize:()=>{const p=h.typicalFullwidthCharacterWidth/h.typicalHalfwidthCharacterWidth,b=[];for(let w=0,E=r.length;w<E;w++){const I=g[w],N=f[w];N&&!N.injectionOptions&&!I?b[w]=C(this.classifier,N,r[w],l,c,p,o,d):b[w]=s(this.classifier,r[w],I,l,c,p,o,d)}return _.length=0,v.length=0,b}}}}e.MonospaceLineBreaksComputerFactory=S;class m extends k.CharacterClassifier{constructor(h,l){super(0);for(let c=0;c<h.length;c++)this.set(h.charCodeAt(c),1);for(let c=0;c<l.length;c++)this.set(l.charCodeAt(c),2)}get(h){return h>=0&&h<256?this._asciiMap[h]:h>=12352&&h<=12543||h>=13312&&h<=19903||h>=19968&&h<=40959?3:this._map.get(h)||this._defaultValue}}let _=[],v=[];function C(u,h,l,c,o,d,r,g){if(o===-1)return null;const f=l.length;if(f<=1)return null;const p=g==="keepAll",b=h.breakOffsets,w=h.breakOffsetsVisibleColumn,E=a(l,c,o,d,r),I=o-E,N=_,R=v;let F=0,M=0,A=0,T=o;const O=b.length;let P=0;if(P>=0){let x=Math.abs(w[P]-T);for(;P+1<O;){const z=Math.abs(w[P+1]-T);if(z>=x)break;x=z,P++}}for(;P<O;){let x=P<0?0:b[P],z=P<0?0:w[P];M>x&&(x=M,z=A);let q=0,B=0,$=0,X=0;if(z<=T){let oe=z,Y=x===0?0:l.charCodeAt(x-1),U=x===0?0:u.get(Y),W=!0;for(let V=x;V<f;V++){const Z=V,ie=l.charCodeAt(V);let le,he;if(L.isHighSurrogate(ie)?(V++,le=0,he=2):(le=u.get(ie),he=n(ie,oe,c,d)),Z>M&&t(Y,U,ie,le,p)&&(q=Z,B=oe),oe+=he,oe>T){Z>M?($=Z,X=oe-he):($=V+1,X=oe),oe-B>I&&(q=0),W=!1;break}Y=ie,U=le}if(W){F>0&&(N[F]=b[b.length-1],R[F]=w[b.length-1],F++);break}}if(q===0){let oe=z,Y=l.charCodeAt(x),U=u.get(Y),W=!1;for(let V=x-1;V>=M;V--){const Z=V+1,ie=l.charCodeAt(V);if(ie===9){W=!0;break}let le,he;if(L.isLowSurrogate(ie)?(V--,le=0,he=2):(le=u.get(ie),he=L.isFullWidthCharacter(ie)?d:1),oe<=T){if($===0&&($=Z,X=oe),oe<=T-I)break;if(t(ie,le,Y,U,p)){q=Z,B=oe;break}}oe-=he,Y=ie,U=le}if(q!==0){const V=I-(X-B);if(V<=c){const Z=l.charCodeAt($);let ie;L.isHighSurrogate(Z)?ie=2:ie=n(Z,X,c,d),V-ie<0&&(q=0)}}if(W){P--;continue}}if(q===0&&(q=$,B=X),q<=M){const oe=l.charCodeAt(M);L.isHighSurrogate(oe)?(q=M+2,B=A+2):(q=M+1,B=A+n(oe,A,c,d))}for(M=q,N[F]=q,A=B,R[F]=B,F++,T=B+I;P<0||P<O&&w[P]<B;)P++;let ne=Math.abs(w[P]-T);for(;P+1<O;){const oe=Math.abs(w[P+1]-T);if(oe>=ne)break;ne=oe,P++}}return F===0?null:(N.length=F,R.length=F,_=h.breakOffsets,v=h.breakOffsetsVisibleColumn,h.breakOffsets=N,h.breakOffsetsVisibleColumn=R,h.wrappedTextIndentLength=E,h)}function s(u,h,l,c,o,d,r,g){const f=y.LineInjectedText.applyInjectedText(h,l);let p,b;if(l&&l.length>0?(p=l.map(B=>B.options),b=l.map(B=>B.column-1)):(p=null,b=null),o===-1)return p?new D.ModelLineProjectionData(b,p,[f.length],[],0):null;const w=f.length;if(w<=1)return p?new D.ModelLineProjectionData(b,p,[f.length],[],0):null;const E=g==="keepAll",I=a(f,c,o,d,r),N=o-I,R=[],F=[];let M=0,A=0,T=0,O=o,P=f.charCodeAt(0),x=u.get(P),z=n(P,0,c,d),q=1;L.isHighSurrogate(P)&&(z+=1,P=f.charCodeAt(1),x=u.get(P),q++);for(let B=q;B<w;B++){const $=B,X=f.charCodeAt(B);let ne,oe;L.isHighSurrogate(X)?(B++,ne=0,oe=2):(ne=u.get(X),oe=n(X,z,c,d)),t(P,x,X,ne,E)&&(A=$,T=z),z+=oe,z>O&&((A===0||z-T>N)&&(A=$,T=z-oe),R[M]=A,F[M]=T,M++,O=T+N,A=0),P=X,x=ne}return M===0&&(!l||l.length===0)?null:(R[M]=w,F[M]=z,new D.ModelLineProjectionData(b,p,R,F,I))}function n(u,h,l,c){return u===9?l-h%l:L.isFullWidthCharacter(u)||u<32?c:1}function i(u,h){return h-u%h}function t(u,h,l,c,o){return l!==32&&(h===2&&c!==2||h!==1&&c===1||!o&&h===3&&c!==2||!o&&c===3&&h!==1)}function a(u,h,l,c,o){let d=0;if(o!==0){const r=L.firstNonWhitespaceIndex(u);if(r!==-1){for(let f=0;f<r;f++){const p=u.charCodeAt(f)===9?i(d,h):1;d+=p}const g=o===3?2:o===2?1:0;for(let f=0;f<g;f++){const p=i(d,h);d+=p}d+c>l&&(d=0)}}return d}}),define(ee[292],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class L{constructor(S,m,_){this._colorZoneBrand=void 0,this.from=S|0,this.to=m|0,this.colorId=_|0}static compare(S,m){return S.colorId===m.colorId?S.from===m.from?S.to-m.to:S.from-m.from:S.colorId-m.colorId}}e.ColorZone=L;class k{constructor(S,m,_,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=m,this.heightInLines=_,this.color=v,this._colorZone=null}static compare(S,m){return S.color===m.color?S.startLineNumber===m.startLineNumber?S.heightInLines===m.heightInLines?S.endLineNumber-m.endLineNumber:S.heightInLines-m.heightInLines:S.startLineNumber-m.startLineNumber:S.color<m.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class y{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,m=Math.floor(this._lineHeight),_=Math.floor(this.getCanvasHeight()),v=Math.floor(this._outerHeight),C=_/v,s=Math.floor(4*this._pixelRatio/2),n=[];for(let i=0,t=this._zones.length;i<t;i++){const a=this._zones[i];if(!S){const p=a.getColorZones();if(p){n.push(p);continue}}const u=this._getVerticalOffsetForLine(a.startLineNumber),h=a.heightInLines===0?this._getVerticalOffsetForLine(a.endLineNumber)+m:u+a.heightInLines*m,l=Math.floor(C*u),c=Math.floor(C*h);let o=Math.floor((l+c)/2),d=c-o;d<s&&(d=s),o-d<0&&(o=d),o+d>_&&(o=_-d);const r=a.color;let g=this._color2Id[r];g||(g=++this._lastAssignedId,this._color2Id[r]=g,this._id2Color[g]=r);const f=new L(o-d,o+d,g);a.setColorZone(f),n.push(f)}return this._colorZonesInvalid=!1,n.sort(L.compare),n}}e.OverviewZoneManager=y}),define(ee[535],te([1,0,37,292,148]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends y.ViewEventHandler{constructor(m,_){super(),this._context=m;const v=this._context.configuration.options;this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(_),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(65)),this._zoneManager.setPixelRatio(v.get(140)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const _=this._context.configuration.options;return m.hasChanged(65)&&(this._zoneManager.setLineHeight(_.get(65)),this._render()),m.hasChanged(140)&&(this._zoneManager.setPixelRatio(_.get(140)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let _=!1;_=this._zoneManager.setDOMWidth(m.width)||_,_=this._zoneManager.setDOMHeight(m.height)||_,_&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),_=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,m,_),v.length>0&&this._renderOneLane(s,v,C,m),!0}_renderOneLane(m,_,v,C){let s=0,n=0,i=0;for(const t of _){const a=t.colorId,u=t.from,h=t.to;a!==s?(m.fillRect(0,n,C,i-n),s=a,m.fillStyle=v[s],n=u,i=h):i>=u?i=Math.max(i,h):(m.fillRect(0,n,C,i-n),n=u,i=h)}m.fillRect(0,n,C,i-n)}}e.OverviewRuler=D}),define(ee[536],te([1,0,494]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,S,m){this.configuration=D,this.theme=new L.EditorTheme(S),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(ee[214],te([1,0,6,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class y extends k.Disposable{constructor(){super(),this._onEvent=this._register(new L.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(o){this._addOutgoingEvent(o),this._emitOutgoingEvents()}_addOutgoingEvent(o){for(let d=0,r=this._outgoingEvents.length;d<r;d++){const g=this._outgoingEvents[d].kind===o.kind?this._outgoingEvents[d].attemptToMerge(o):null;if(g){this._outgoingEvents[d]=g;return}}this._outgoingEvents.push(o)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const o=this._outgoingEvents.shift();o.isNoOp()||this._onEvent.fire(o)}}addViewEventHandler(o){for(let d=0,r=this._eventHandlers.length;d<r;d++)this._eventHandlers[d]===o&&console.warn("Detected duplicate listener in ViewEventDispatcher",o);this._eventHandlers.push(o)}removeViewEventHandler(o){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===o){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const o=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const r of o)this._addOutgoingEvent(r);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(o){try{this.beginEmitViewEvents().emitViewEvent(o)}finally{this.endEmitViewEvents()}}_emitMany(o){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(o):this._viewEventQueue=o,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const o=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const r of d)r.handleEvents(o)}}}e.ViewModelEventDispatcher=y;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(o){this.viewEvents.push(o)}emitOutgoingEvent(o){this.outgoingEvents.push(o)}}e.ViewModelEventsCollector=D;class S{constructor(o,d,r,g){this.kind=0,this._oldContentWidth=o,this._oldContentHeight=d,this.contentWidth=r,this.contentHeight=g,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(o){return o.kind!==this.kind?null:new S(this._oldContentWidth,this._oldContentHeight,o.contentWidth,o.contentHeight)}}e.ContentSizeChangedEvent=S;class m{constructor(o,d){this.kind=1,this.oldHasFocus=o,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(o){return o.kind!==this.kind?null:new m(this.oldHasFocus,o.hasFocus)}}e.FocusChangedEvent=m;class _{constructor(o,d,r,g,f,p,b,w){this.kind=2,this._oldScrollWidth=o,this._oldScrollLeft=d,this._oldScrollHeight=r,this._oldScrollTop=g,this.scrollWidth=f,this.scrollLeft=p,this.scrollHeight=b,this.scrollTop=w,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(o){return o.kind!==this.kind?null:new _(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,o.scrollWidth,o.scrollLeft,o.scrollHeight,o.scrollTop)}}e.ScrollChangedEvent=_;class v{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=v;class C{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=C;class s{constructor(o,d,r,g,f,p,b){this.kind=6,this.oldSelections=o,this.selections=d,this.oldModelVersionId=r,this.modelVersionId=g,this.source=f,this.reason=p,this.reachedMaxCursorCount=b}static _selectionsAreEqual(o,d){if(!o&&!d)return!0;if(!o||!d)return!1;const r=o.length,g=d.length;if(r!==g)return!1;for(let f=0;f<r;f++)if(!o[f].equalsSelection(d[f]))return!1;return!0}isNoOp(){return s._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(o){return o.kind!==this.kind?null:new s(this.oldSelections,o.selections,this.oldModelVersionId,o.modelVersionId,o.source,o.reason,this.reachedMaxCursorCount||o.reachedMaxCursorCount)}}e.CursorStateChangedEvent=s;class n{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=n;class i{constructor(o){this.event=o,this.kind=7}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelDecorationsChangedEvent=i;class t{constructor(o){this.event=o,this.kind=8}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageChangedEvent=t;class a{constructor(o){this.event=o,this.kind=9}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageConfigurationChangedEvent=a;class u{constructor(o){this.event=o,this.kind=10}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelContentChangedEvent=u;class h{constructor(o){this.event=o,this.kind=11}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelOptionsChangedEvent=h;class l{constructor(o){this.event=o,this.kind=12}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelTokensChangedEvent=l}),define(ee[537],te([1,0,6,2,167,531,82,214]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const _=125;class v{constructor(i,t,a,u){i=i|0,t=t|0,a=a|0,u=u|0,i<0&&(i=0),t<0&&(t=0),a<0&&(a=0),u<0&&(u=0),this.width=i,this.contentWidth=t,this.scrollWidth=Math.max(i,t),this.height=a,this.contentHeight=u,this.scrollHeight=Math.max(a,u)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class C extends k.Disposable{constructor(i,t){super(),this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new v(0,0,0,0),this._scrollable=this._register(new y.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const t=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const a=t.contentWidth!==i.contentWidth,u=t.contentHeight!==i.contentHeight;(a||u)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class s extends k.Disposable{constructor(i,t,a){super(),this._configuration=i;const u=this._configuration.options,h=u.get(142),l=u.get(82);this._linesLayout=new D.LinesLayout(t,u.get(65),l.top,l.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new C(0,a)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new v(h.contentWidth,0,h.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(112)?_:0)}onConfigurationChanged(i){const t=this._configuration.options;if(i.hasChanged(65)&&this._linesLayout.setLineHeight(t.get(65)),i.hasChanged(82)){const a=t.get(82);this._linesLayout.setPadding(a.top,a.bottom)}if(i.hasChanged(142)){const a=t.get(142),u=a.contentWidth,h=a.height,l=this._scrollable.getScrollDimensions(),c=l.contentWidth;this._scrollable.setScrollDimensions(new v(u,l.contentWidth,h,this._getContentHeight(u,h,c)))}else this._updateHeight();i.hasChanged(112)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,t){this._linesLayout.onLinesDeleted(i,t)}onLinesInserted(i,t){this._linesLayout.onLinesInserted(i,t)}_getHorizontalScrollbarHeight(i,t){const u=this._configuration.options.get(101);return u.horizontal===2||i>=t?0:u.horizontalScrollbarSize}_getContentHeight(i,t,a){const u=this._configuration.options;let h=this._linesLayout.getLinesTotalHeight();return u.get(103)?h+=Math.max(0,t-u.get(65)-u.get(82).bottom):h+=this._getHorizontalScrollbarHeight(i,a),h}_updateHeight(){const i=this._scrollable.getScrollDimensions(),t=i.width,a=i.height,u=i.contentWidth;this._scrollable.setScrollDimensions(new v(t,i.contentWidth,a,this._getContentHeight(t,a,u)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,t=this._maxLineWidth,a=i.get(143),u=i.get(49),h=i.get(142);if(a.isViewportWrapping){const l=i.get(71);return t>h.contentWidth+u.typicalHalfwidthCharacterWidth&&l.enabled&&l.side==="right"?t+h.verticalScrollbarWidth:t}else{const l=i.get(102)*u.typicalHalfwidthCharacterWidth,c=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+l+h.verticalScrollbarWidth,c,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new v(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),t=i.scrollTop,a=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),u=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(a);return{scrollTop:t,scrollTopWithoutViewZones:t-u,scrollLeft:i.scrollLeft}}changeWhitespace(i){const t=this._linesLayout.changeWhitespace(i);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,t)}getVerticalOffsetAfterLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,t)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const t=this._scrollable.getScrollDimensions();return i+t.height>t.scrollHeight&&(i=t.scrollHeight-t.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+t.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,t){t===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,t){const a=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:a.scrollLeft+i,scrollTop:a.scrollTop+t})}}e.ViewLayout=s}),define(ee[538],te([1,0,5,24]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class y{constructor(S,m){this._selection=S,this._isMovingLeft=m}getEditOperations(S,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const _=this._selection.startLineNumber,v=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&v===1)&&!(!this._isMovingLeft&&C===S.getLineMaxColumn(_)))if(this._isMovingLeft){const s=new L.Range(_,v-1,_,v),n=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new L.Range(_,C,_,C),n)}else{const s=new L.Range(_,C,_,C+1),n=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new L.Range(_,v,_,v),n)}}computeCursorState(S,m){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=y}),define(ee[112],te([1,0,9]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class k{constructor(s){this.value=s}equals(s){return this.value===s.value}contains(s){return this.equals(s)||this.value===""||s.value.startsWith(this.value+k.sep)}intersects(s){return this.contains(s)||s.contains(this)}append(s){return new k(this.value+k.sep+s)}}e.CodeActionKind=k,k.sep=".",k.None=new k("@@none@@"),k.Empty=new k(""),k.QuickFix=new k("quickfix"),k.Refactor=new k("refactor"),k.RefactorExtract=k.Refactor.append("extract"),k.RefactorInline=k.Refactor.append("inline"),k.RefactorMove=k.Refactor.append("move"),k.RefactorRewrite=k.Refactor.append("rewrite"),k.Source=new k("source"),k.SourceOrganizeImports=k.Source.append("organizeImports"),k.SourceFixAll=k.Source.append("fixAll"),k.SurroundWith=k.Refactor.append("surround");var y;(function(C){C.Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view"})(y||(e.CodeActionTriggerSource=y={}));function D(C,s){return!(C.include&&!C.include.intersects(s)||C.excludes&&C.excludes.some(n=>m(s,n,C.include))||!C.includeSourceActions&&k.Source.contains(s))}e.mayIncludeActionsOfKind=D;function S(C,s){const n=s.kind?new k(s.kind):void 0;return!(C.include&&(!n||!C.include.contains(n))||C.excludes&&n&&C.excludes.some(i=>m(n,i,C.include))||!C.includeSourceActions&&n&&k.Source.contains(n)||C.onlyIncludePreferredActions&&!s.isPreferred)}e.filtersAction=S;function m(C,s,n){return!(!s.contains(C)||n&&s.contains(n))}class _{static fromUser(s,n){return!s||typeof s!="object"?new _(n.kind,n.apply,!1):new _(_.getKindFromUser(s,n.kind),_.getApplyFromUser(s,n.apply),_.getPreferredUser(s))}static getApplyFromUser(s,n){switch(typeof s.apply=="string"?s.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return n}}static getKindFromUser(s,n){return typeof s.kind=="string"?new k(s.kind):n}static getPreferredUser(s){return typeof s.preferred=="boolean"?s.preferred:!1}constructor(s,n,i){this.kind=s,this.apply=n,this.preferred=i}}e.CodeActionCommandArgs=_;class v{constructor(s,n){this.action=s,this.provider=n}resolve(s){var n;return Se(this,void 0,void 0,function*(){if(!((n=this.provider)===null||n===void 0)&&n.resolveCodeAction&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,s)}catch(t){(0,L.onUnexpectedExternalError)(t)}i&&(this.action.edit=i.edit)}return this})}}e.CodeActionItem=v}),define(ee[539],te([1,0,6]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,S,m){this.presentationIndex=m,this._onColorFlushed=new L.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){let m=-1;for(let _=0;_<this.colorPresentations.length;_++)if(S.toLowerCase()===this.colorPresentations[_].label){m=_;break}if(m===-1){const _=S.split("(")[0].toLowerCase();for(let v=0;v<this.colorPresentations.length;v++)if(this.colorPresentations[v].label.toLowerCase().startsWith(_)){m=v;break}}m!==-1&&m!==this.presentationIndex&&(this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ee[293],te([1,0,70,12,5,24]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(_,v,C){this.languageConfigurationService=C,this._selection=_,this._insertSpace=v,this._usedEndToken=null}static _haystackHasNeedleAtOffset(_,v,C){if(C<0)return!1;const s=v.length,n=_.length;if(C+s>n)return!1;for(let i=0;i<s;i++){const t=_.charCodeAt(C+i),a=v.charCodeAt(i);if(t!==a&&!(t>=65&&t<=90&&t+32===a)&&!(a>=65&&a<=90&&a+32===t))return!1}return!0}_createOperationsForBlockComment(_,v,C,s,n,i){const t=_.startLineNumber,a=_.startColumn,u=_.endLineNumber,h=_.endColumn,l=n.getLineContent(t),c=n.getLineContent(u);let o=l.lastIndexOf(v,a-1+v.length),d=c.indexOf(C,h-1-C.length);if(o!==-1&&d!==-1)if(t===u)l.substring(o+v.length,d).indexOf(C)>=0&&(o=-1,d=-1);else{const g=l.substring(o+v.length),f=c.substring(0,d);(g.indexOf(C)>=0||f.indexOf(C)>=0)&&(o=-1,d=-1)}let r;o!==-1&&d!==-1?(s&&o+v.length<l.length&&l.charCodeAt(o+v.length)===32&&(v=v+" "),s&&d>0&&c.charCodeAt(d-1)===32&&(C=" "+C,d-=1),r=S._createRemoveBlockCommentOperations(new y.Range(t,o+v.length+1,u,d+1),v,C)):(r=S._createAddBlockCommentOperations(_,v,C,this._insertSpace),this._usedEndToken=r.length===1?C:null);for(const g of r)i.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(_,v,C){const s=[];return y.Range.isEmpty(_)?s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-v.length,_.endLineNumber,_.endColumn+C.length))):(s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-v.length,_.startLineNumber,_.startColumn))),s.push(L.EditOperation.delete(new y.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn+C.length)))),s}static _createAddBlockCommentOperations(_,v,C,s){const n=[];return y.Range.isEmpty(_)?n.push(L.EditOperation.replace(new y.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),v+"  "+C)):(n.push(L.EditOperation.insert(new k.Position(_.startLineNumber,_.startColumn),v+(s?" ":""))),n.push(L.EditOperation.insert(new k.Position(_.endLineNumber,_.endColumn),(s?" ":"")+C))),n}getEditOperations(_,v){const C=this._selection.startLineNumber,s=this._selection.startColumn;_.tokenization.tokenizeIfCheap(C);const n=_.getLanguageIdAtPosition(C,s),i=this.languageConfigurationService.getLanguageConfiguration(n).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,_,v)}computeCursorState(_,v){const C=v.getInverseEditOperations();if(C.length===2){const s=C[0],n=C[1];return new D.Selection(s.range.endLineNumber,s.range.endColumn,n.range.startLineNumber,n.range.startColumn)}else{const s=C[0].range,n=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(s.endLineNumber,s.endColumn+n,s.endLineNumber,s.endColumn+n)}}}e.BlockCommentCommand=S}),define(ee[540],te([1,0,10,70,12,5,24,293]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class _{constructor(C,s,n,i,t,a,u){this.languageConfigurationService=C,this._selection=s,this._tabSize=n,this._type=i,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=a,this._ignoreFirstLine=u||!1}static _gatherPreflightCommentStrings(C,s,n,i){C.tokenization.tokenizeIfCheap(s);const t=C.getLanguageIdAtPosition(s,1),a=i.getLanguageConfiguration(t).comments,u=a?a.lineCommentToken:null;if(!u)return null;const h=[];for(let l=0,c=n-s+1;l<c;l++)h[l]={ignore:!1,commentStr:u,commentStrOffset:0,commentStrLength:u.length};return h}static _analyzeLines(C,s,n,i,t,a,u,h){let l=!0,c;C===0?c=!0:C===1?c=!1:c=!0;for(let o=0,d=i.length;o<d;o++){const r=i[o],g=t+o;if(g===t&&u){r.ignore=!0;continue}const f=n.getLineContent(g),p=L.firstNonWhitespaceIndex(f);if(p===-1){r.ignore=a,r.commentStrOffset=f.length;continue}if(l=!1,r.ignore=!1,r.commentStrOffset=p,c&&!m.BlockCommentCommand._haystackHasNeedleAtOffset(f,r.commentStr,p)&&(C===0?c=!1:C===1||(r.ignore=!0)),c&&s){const b=p+r.commentStrLength;b<f.length&&f.charCodeAt(b)===32&&(r.commentStrLength+=1)}}if(C===0&&l){c=!1;for(let o=0,d=i.length;o<d;o++)i[o].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:i}}static _gatherPreflightData(C,s,n,i,t,a,u,h){const l=_._gatherPreflightCommentStrings(n,i,t,h);return l===null?{supported:!1}:_._analyzeLines(C,s,n,l,i,a,u,h)}_executeLineComments(C,s,n,i){let t;n.shouldRemoveComments?t=_._createRemoveLineCommentsOperations(n.lines,i.startLineNumber):(_._normalizeInsertionPoint(C,n.lines,i.startLineNumber,this._tabSize),t=this._createAddLineCommentsOperations(n.lines,i.startLineNumber));const a=new y.Position(i.positionLineNumber,i.positionColumn);for(let u=0,h=t.length;u<h;u++)s.addEditOperation(t[u].range,t[u].text),D.Range.isEmpty(t[u].range)&&D.Range.getStartPosition(t[u].range).equals(a)&&C.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=(t[u].text||"").length);this._selectionId=s.trackSelection(i)}_attemptRemoveBlockComment(C,s,n,i){let t=s.startLineNumber,a=s.endLineNumber;const u=i.length+Math.max(C.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn);let h=C.getLineContent(t).lastIndexOf(n,u-1),l=C.getLineContent(a).indexOf(i,s.endColumn-1-n.length);return h!==-1&&l===-1&&(l=C.getLineContent(t).indexOf(i,h+n.length),a=t),h===-1&&l!==-1&&(h=C.getLineContent(a).lastIndexOf(n,l),t=a),s.isEmpty()&&(h===-1||l===-1)&&(h=C.getLineContent(t).indexOf(n),h!==-1&&(l=C.getLineContent(t).indexOf(i,h+n.length))),h!==-1&&C.getLineContent(t).charCodeAt(h+n.length)===32&&(n+=" "),l!==-1&&C.getLineContent(a).charCodeAt(l-1)===32&&(i=" "+i,l-=1),h!==-1&&l!==-1?m.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(t,h+n.length+1,a,l+1),n,i):null}_executeBlockComment(C,s,n){C.tokenization.tokenizeIfCheap(n.startLineNumber);const i=C.getLanguageIdAtPosition(n.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const a=t.blockCommentStartToken,u=t.blockCommentEndToken;let h=this._attemptRemoveBlockComment(C,n,a,u);if(!h){if(n.isEmpty()){const l=C.getLineContent(n.startLineNumber);let c=L.firstNonWhitespaceIndex(l);c===-1&&(c=l.length),h=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,c+1,n.startLineNumber,l.length+1),a,u,this._insertSpace)}else h=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,C.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,C.getLineMaxColumn(n.endLineNumber)),a,u,this._insertSpace);h.length===1&&(this._deltaColumn=a.length+1)}this._selectionId=s.trackSelection(n);for(const l of h)s.addEditOperation(l.range,l.text)}getEditOperations(C,s){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){s.addEditOperation(new D.Range(n.startLineNumber,C.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===C.getLineCount()?"":`
`),this._selectionId=s.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,C.getLineMaxColumn(n.endLineNumber-1)));const i=_._gatherPreflightData(this._type,this._insertSpace,C,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(C,s,i,n):this._executeBlockComment(C,s,n)}computeCursorState(C,s){let n=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new S.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(C,s){const n=[];for(let i=0,t=C.length;i<t;i++){const a=C[i];a.ignore||n.push(k.EditOperation.delete(new D.Range(s+i,a.commentStrOffset+1,s+i,a.commentStrOffset+a.commentStrLength+1)))}return n}_createAddLineCommentsOperations(C,s){const n=[],i=this._insertSpace?" ":"";for(let t=0,a=C.length;t<a;t++){const u=C[t];u.ignore||n.push(k.EditOperation.insert(new y.Position(s+t,u.commentStrOffset+1),u.commentStr+i))}return n}static nextVisibleColumn(C,s,n,i){return n?C+(s-C%s):C+i}static _normalizeInsertionPoint(C,s,n,i){let t=1073741824,a,u;for(let h=0,l=s.length;h<l;h++){if(s[h].ignore)continue;const c=C.getLineContent(n+h);let o=0;for(let d=0,r=s[h].commentStrOffset;o<t&&d<r;d++)o=_.nextVisibleColumn(o,i,c.charCodeAt(d)===9,1);o<t&&(t=o)}t=Math.floor(t/i)*i;for(let h=0,l=s.length;h<l;h++){if(s[h].ignore)continue;const c=C.getLineContent(n+h);let o=0;for(a=0,u=s[h].commentStrOffset;o<t&&a<u;a++)o=_.nextVisibleColumn(o,i,c.charCodeAt(a)===9,1);o>t?s[h].commentStrOffset=a-1:s[h].commentStrOffset=a}}}e.LineCommentCommand=_}),define(ee[541],te([1,0,5,24]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class y{constructor(S,m,_){this.selection=S,this.targetPosition=m,this.copy=_,this.targetSelection=null}getEditOperations(S,m){const _=S.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new L.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),_),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,m){return this.targetSelection}}e.DragAndDropCommand=y}),define(ee[542],te([1,0,5]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,S,m){this._editorSelection=D,this._ranges=S,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){const m=[];for(let C=0;C<this._ranges.length;C++)m.push({range:this._ranges[C],text:this._replaceStrings[C]});m.sort((C,s)=>L.Range.compareRangesUsingStarts(C.range,s.range));const _=[];let v=m[0];for(let C=1;C<m.length;C++)v.range.endLineNumber===m[C].range.startLineNumber&&v.range.endColumn===m[C].range.startColumn?(v.range=v.range.plusRange(m[C].range),v.text=v.text+m[C].text):(_.push(v),v=m[C]);_.push(v);for(const C of _)S.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ee[543],te([1,0,395]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(C){this.staticValue=C,this.kind=0}}class y{constructor(C){this.pieces=C,this.kind=1}}class D{static fromStaticValue(C){return new D([S.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(C){!C||C.length===0?this._state=new k(""):C.length===1&&C[0].staticValue!==null?this._state=new k(C[0].staticValue):this._state=new y(C)}buildReplaceString(C,s){if(this._state.kind===0)return s?(0,L.buildReplaceStringWithCasePreserved)(C,this._state.staticValue):this._state.staticValue;let n="";for(let i=0,t=this._state.pieces.length;i<t;i++){const a=this._state.pieces[i];if(a.staticValue!==null){n+=a.staticValue;continue}let u=D._substitute(a.matchIndex,C);if(a.caseOps!==null&&a.caseOps.length>0){const h=[],l=a.caseOps.length;let c=0;for(let o=0,d=u.length;o<d;o++){if(c>=l){h.push(u.slice(o));break}switch(a.caseOps[c]){case"U":h.push(u[o].toUpperCase());break;case"u":h.push(u[o].toUpperCase()),c++;break;case"L":h.push(u[o].toLowerCase());break;case"l":h.push(u[o].toLowerCase()),c++;break;default:h.push(u[o])}}u=h.join("")}n+=u}return n}static _substitute(C,s){if(s===null)return"";if(C===0)return s[0];let n="";for(;C>0;){if(C<s.length)return(s[C]||"")+n;n=String(C%10)+n,C=Math.floor(C/10)}return"$"+n}}e.ReplacePattern=D;class S{static staticValue(C){return new S(C,-1,null)}static caseOps(C,s){return new S(null,C,s)}constructor(C,s,n){this.staticValue=C,this.matchIndex=s,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}}e.ReplacePiece=S;class m{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,s){this._emitStatic(C),this._lastCharIndex=s}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,s,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(C,n),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function _(v){if(!v||v.length===0)return new D(null);const C=[],s=new m(v);for(let n=0,i=v.length;n<i;n++){const t=v.charCodeAt(n);if(t===92){if(n++,n>=i)break;const a=v.charCodeAt(n);switch(a){case 92:s.emitUnchanged(n-1),s.emitStatic("\\",n+1);break;case 110:s.emitUnchanged(n-1),s.emitStatic(`
`,n+1);break;case 116:s.emitUnchanged(n-1),s.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(n-1),s.emitStatic("",n+1),C.push(String.fromCharCode(a));break}continue}if(t===36){if(n++,n>=i)break;const a=v.charCodeAt(n);if(a===36){s.emitUnchanged(n-1),s.emitStatic("$",n+1);continue}if(a===48||a===38){s.emitUnchanged(n-1),s.emitMatchIndex(0,n+1,C),C.length=0;continue}if(49<=a&&a<=57){let u=a-48;if(n+1<i){const h=v.charCodeAt(n+1);if(48<=h&&h<=57){n++,u=u*10+(h-48),s.emitUnchanged(n-2),s.emitMatchIndex(u,n+1,C),C.length=0;continue}}s.emitUnchanged(n-1),s.emitMatchIndex(u,n+1,C),C.length=0;continue}}}return s.finalize()}e.parseReplaceString=_}),define(ee[181],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const L=4278190080;class k{constructor(m){const _=Math.ceil(m/32);this._states=new Uint32Array(_)}get(m){const _=m/32|0,v=m%32;return(this._states[_]&1<<v)!==0}set(m,_){const v=m/32|0,C=m%32,s=this._states[v];_?this._states[v]=s|1<<C:this._states[v]=s&~(1<<C)}}class y{constructor(m,_,v){if(m.length!==_.length||m.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=m,this._endIndexes=_,this._collapseStates=new k(m.length),this._userDefinedStates=new k(m.length),this._recoveredStates=new k(m.length),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const m=[],_=(v,C)=>{const s=m[m.length-1];return this.getStartLineNumber(s)<=v&&this.getEndLineNumber(s)>=C};for(let v=0,C=this._startIndexes.length;v<C;v++){const s=this._startIndexes[v],n=this._endIndexes[v];if(s>e.MAX_LINE_NUMBER||n>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;m.length>0&&!_(s,n);)m.pop();const i=m.length>0?m[m.length-1]:-1;m.push(v),this._startIndexes[v]=s+((i&255)<<24),this._endIndexes[v]=n+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(m){return this._startIndexes[m]&e.MAX_LINE_NUMBER}getEndLineNumber(m){return this._endIndexes[m]&e.MAX_LINE_NUMBER}getType(m){return this._types?this._types[m]:void 0}hasTypes(){return!!this._types}isCollapsed(m){return this._collapseStates.get(m)}setCollapsed(m,_){this._collapseStates.set(m,_)}isUserDefined(m){return this._userDefinedStates.get(m)}setUserDefined(m,_){return this._userDefinedStates.set(m,_)}isRecovered(m){return this._recoveredStates.get(m)}setRecovered(m,_){return this._recoveredStates.set(m,_)}getSource(m){return this.isUserDefined(m)?1:this.isRecovered(m)?2:0}setSource(m,_){_===1?(this.setUserDefined(m,!0),this.setRecovered(m,!1)):_===2?(this.setUserDefined(m,!1),this.setRecovered(m,!0)):(this.setUserDefined(m,!1),this.setRecovered(m,!1))}setCollapsedAllOfType(m,_){let v=!1;if(this._types)for(let C=0;C<this._types.length;C++)this._types[C]===m&&(this.setCollapsed(C,_),v=!0);return v}toRegion(m){return new D(this,m)}getParentIndex(m){this.ensureParentIndices();const _=((this._startIndexes[m]&L)>>>24)+((this._endIndexes[m]&L)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(m,_){return this.getStartLineNumber(m)<=_&&this.getEndLineNumber(m)>=_}findIndex(m){let _=0,v=this._startIndexes.length;if(v===0)return-1;for(;_<v;){const C=Math.floor((_+v)/2);m<this.getStartLineNumber(C)?v=C:_=C+1}return _-1}findRange(m){let _=this.findIndex(m);if(_>=0){if(this.getEndLineNumber(_)>=m)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,m))return _;_=this.getParentIndex(_)}}return-1}toString(){const m=[];for(let _=0;_<this.length;_++)m[_]=`[${e.foldSourceAbbr[this.getSource(_)]}${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return m.join(", ")}toFoldRange(m){return{startLineNumber:this._startIndexes[m]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[m]&e.MAX_LINE_NUMBER,type:this._types?this._types[m]:void 0,isCollapsed:this.isCollapsed(m),source:this.getSource(m)}}static fromFoldRanges(m){const _=m.length,v=new Uint32Array(_),C=new Uint32Array(_);let s=[],n=!1;for(let t=0;t<_;t++){const a=m[t];v[t]=a.startLineNumber,C[t]=a.endLineNumber,s.push(a.type),a.type&&(n=!0)}n||(s=void 0);const i=new y(v,C,s);for(let t=0;t<_;t++)m[t].isCollapsed&&i.setCollapsed(t,!0),i.setSource(t,m[t].source);return i}static sanitizeAndMerge(m,_,v){v=v??Number.MAX_VALUE;const C=(d,r)=>Array.isArray(d)?g=>g<r?d[g]:void 0:g=>g<r?d.toFoldRange(g):void 0,s=C(m,m.length),n=C(_,_.length);let i=0,t=0,a=s(0),u=n(0);const h=[];let l,c=0;const o=[];for(;a||u;){let d;if(u&&(!a||a.startLineNumber>=u.startLineNumber))a&&a.startLineNumber===u.startLineNumber?(u.source===1?d=u:(d=a,d.isCollapsed=u.isCollapsed&&a.endLineNumber===u.endLineNumber,d.source=0),a=s(++i)):(d=u,u.isCollapsed&&u.source===0&&(d.source=2)),u=n(++t);else{let r=t,g=u;for(;;){if(!g||g.startLineNumber>a.endLineNumber){d=a;break}if(g.source===1&&g.endLineNumber>a.endLineNumber)break;g=n(++r)}a=s(++i)}if(d){for(;l&&l.endLineNumber<d.startLineNumber;)l=h.pop();d.endLineNumber>d.startLineNumber&&d.startLineNumber>c&&d.endLineNumber<=v&&(!l||l.endLineNumber>=d.endLineNumber)&&(o.push(d),c=d.startLineNumber,l&&h.push(l),l=d)}}return o}}e.FoldingRegions=y;class D{constructor(m,_){this.ranges=m,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(m){return m.startLineNumber<=this.startLineNumber&&m.endLineNumber>=this.endLineNumber}containsLine(m){return this.startLineNumber<=m&&m<=this.endLineNumber}}e.FoldingRegion=D}),define(ee[294],te([1,0,6,181,141]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(l,c){this._updateEventEmitter=new L.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=l,this._decorationProvider=c,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(l){if(!l.length)return;l=l.sort((o,d)=>o.regionIndex-d.regionIndex);const c={};this._decorationProvider.changeDecorations(o=>{let d=0,r=-1,g=-1;const f=p=>{for(;d<p;){const b=this._regions.getEndLineNumber(d),w=this._regions.isCollapsed(d);if(b<=r){const E=this.regions.getSource(d)!==0;o.changeDecorationOptions(this._editorDecorationIds[d],this._decorationProvider.getDecorationOption(w,b<=g,E))}w&&b>g&&(g=b),d++}};for(const p of l){const b=p.regionIndex,w=this._editorDecorationIds[b];if(w&&!c[w]){c[w]=!0,f(b);const E=!this._regions.isCollapsed(b);this._regions.setCollapsed(b,E),r=Math.max(r,this._regions.getEndLineNumber(b))}}f(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:l})}removeManualRanges(l){const c=new Array,o=d=>{for(const r of l)if(!(r.startLineNumber>d.endLineNumber||d.startLineNumber>r.endLineNumber))return!0;return!1};for(let d=0;d<this._regions.length;d++){const r=this._regions.toFoldRange(d);(r.source===0||!o(r))&&c.push(r)}this.updatePost(k.FoldingRegions.fromFoldRanges(c))}update(l,c=[]){const o=this._currentFoldedOrManualRanges(c),d=k.FoldingRegions.sanitizeAndMerge(l,o,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(d))}updatePost(l){const c=[];let o=-1;for(let d=0,r=l.length;d<r;d++){const g=l.getStartLineNumber(d),f=l.getEndLineNumber(d),p=l.isCollapsed(d),b=l.getSource(d)!==0,w={startLineNumber:g,startColumn:this._textModel.getLineMaxColumn(g),endLineNumber:f,endColumn:this._textModel.getLineMaxColumn(f)+1};c.push({range:w,options:this._decorationProvider.getDecorationOption(p,f<=o,b)}),p&&f>o&&(o=f)}this._decorationProvider.changeDecorations(d=>this._editorDecorationIds=d.deltaDecorations(this._editorDecorationIds,c)),this._regions=l,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(l=[]){const c=(d,r)=>{for(const g of l)if(d<g&&g<=r)return!0;return!1},o=[];for(let d=0,r=this._regions.length;d<r;d++){let g=this.regions.isCollapsed(d);const f=this.regions.getSource(d);if(g||f!==0){const p=this._regions.toFoldRange(d),b=this._textModel.getDecorationRange(this._editorDecorationIds[d]);b&&(g&&c(b.startLineNumber,b.endLineNumber)&&(g=!1),o.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,type:p.type,isCollapsed:g,source:f}))}}return o}getMemento(){const l=this._currentFoldedOrManualRanges(),c=[],o=this._textModel.getLineCount();for(let d=0,r=l.length;d<r;d++){const g=l[d];if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>o)continue;const f=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);c.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,isCollapsed:g.isCollapsed,source:g.source,checksum:f})}return c.length>0?c:void 0}applyMemento(l){var c,o;if(!Array.isArray(l))return;const d=[],r=this._textModel.getLineCount();for(const f of l){if(f.startLineNumber>=f.endLineNumber||f.startLineNumber<1||f.endLineNumber>r)continue;const p=this._getLinesChecksum(f.startLineNumber+1,f.endLineNumber);(!f.checksum||p===f.checksum)&&d.push({startLineNumber:f.startLineNumber,endLineNumber:f.endLineNumber,type:void 0,isCollapsed:(c=f.isCollapsed)!==null&&c!==void 0?c:!0,source:(o=f.source)!==null&&o!==void 0?o:0})}const g=k.FoldingRegions.sanitizeAndMerge(this._regions,d,r);this.updatePost(k.FoldingRegions.fromFoldRanges(g))}_getLinesChecksum(l,c){return(0,y.hash)(this._textModel.getLineContent(l)+this._textModel.getLineContent(c))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(l,c){const o=[];if(this._regions){let d=this._regions.findRange(l),r=1;for(;d>=0;){const g=this._regions.toRegion(d);(!c||c(g,r))&&o.push(g),r++,d=g.parentIndex}}return o}getRegionAtLine(l){if(this._regions){const c=this._regions.findRange(l);if(c>=0)return this._regions.toRegion(c)}return null}getRegionsInside(l,c){const o=[],d=l?l.regionIndex+1:0,r=l?l.endLineNumber:Number.MAX_VALUE;if(c&&c.length===2){const g=[];for(let f=d,p=this._regions.length;f<p;f++){const b=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<r){for(;g.length>0&&!b.containedBy(g[g.length-1]);)g.pop();g.push(b),c(b,g.length)&&o.push(b)}else break}}else for(let g=d,f=this._regions.length;g<f;g++){const p=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<r)(!c||c(p))&&o.push(p);else break}return o}}e.FoldingModel=D;function S(h,l,c){const o=[];for(const d of c){const r=h.getRegionAtLine(d);if(r){const g=!r.isCollapsed;if(o.push(r),l>1){const f=h.getRegionsInside(r,(p,b)=>p.isCollapsed!==g&&b<l);o.push(...f)}}}h.toggleCollapseState(o)}e.toggleCollapseState=S;function m(h,l,c=Number.MAX_VALUE,o){const d=[];if(o&&o.length>0)for(const r of o){const g=h.getRegionAtLine(r);if(g&&(g.isCollapsed!==l&&d.push(g),c>1)){const f=h.getRegionsInside(g,(p,b)=>p.isCollapsed!==l&&b<c);d.push(...f)}}else{const r=h.getRegionsInside(null,(g,f)=>g.isCollapsed!==l&&f<c);d.push(...r)}h.toggleCollapseState(d)}e.setCollapseStateLevelsDown=m;function _(h,l,c,o){const d=[];for(const r of o){const g=h.getAllRegionsAtLine(r,(f,p)=>f.isCollapsed!==l&&p<=c);d.push(...g)}h.toggleCollapseState(d)}e.setCollapseStateLevelsUp=_;function v(h,l,c){const o=[];for(const d of c){const r=h.getAllRegionsAtLine(d,g=>g.isCollapsed!==l);r.length>0&&o.push(r[0])}h.toggleCollapseState(o)}e.setCollapseStateUp=v;function C(h,l,c,o){const d=(g,f)=>f===l&&g.isCollapsed!==c&&!o.some(p=>g.containsLine(p)),r=h.getRegionsInside(null,d);h.toggleCollapseState(r)}e.setCollapseStateAtLevel=C;function s(h,l,c){const o=[];for(const g of c){const f=h.getAllRegionsAtLine(g,void 0);f.length>0&&o.push(f[0])}const d=g=>o.every(f=>!f.containedBy(g)&&!g.containedBy(f))&&g.isCollapsed!==l,r=h.getRegionsInside(null,d);h.toggleCollapseState(r)}e.setCollapseStateForRest=s;function n(h,l,c){const o=h.textModel,d=h.regions,r=[];for(let g=d.length-1;g>=0;g--)if(c!==d.isCollapsed(g)){const f=d.getStartLineNumber(g);l.test(o.getLineContent(f))&&r.push(d.toRegion(g))}h.toggleCollapseState(r)}e.setCollapseStateForMatchingLines=n;function i(h,l,c){const o=h.regions,d=[];for(let r=o.length-1;r>=0;r--)c!==o.isCollapsed(r)&&l===o.getType(r)&&d.push(o.toRegion(r));h.toggleCollapseState(d)}e.setCollapseStateForType=i;function t(h,l){let c=null;const o=l.getRegionAtLine(h);if(o!==null&&(c=o.startLineNumber,h===c)){const d=o.parentIndex;d!==-1?c=l.regions.getStartLineNumber(d):c=null}return c}e.getParentFoldLine=t;function a(h,l){let c=l.getRegionAtLine(h);if(c!==null&&c.startLineNumber===h){if(h!==c.startLineNumber)return c.startLineNumber;{const o=c.parentIndex;let d=0;for(o!==-1&&(d=l.regions.getStartLineNumber(c.parentIndex));c!==null;)if(c.regionIndex>0){if(c=l.regions.toRegion(c.regionIndex-1),c.startLineNumber<=d)return null;if(c.parentIndex===o)return c.startLineNumber}else return null}}else if(l.regions.length>0)for(c=l.regions.toRegion(l.regions.length-1);c!==null;){if(c.startLineNumber<h)return c.startLineNumber;c.regionIndex>0?c=l.regions.toRegion(c.regionIndex-1):c=null}return null}e.getPreviousFoldLine=a;function u(h,l){let c=l.getRegionAtLine(h);if(c!==null&&c.startLineNumber===h){const o=c.parentIndex;let d=0;if(o!==-1)d=l.regions.getEndLineNumber(c.parentIndex);else{if(l.regions.length===0)return null;d=l.regions.getEndLineNumber(l.regions.length-1)}for(;c!==null;)if(c.regionIndex<l.regions.length){if(c=l.regions.toRegion(c.regionIndex+1),c.startLineNumber>=d)return null;if(c.parentIndex===o)return c.startLineNumber}else return null}else if(l.regions.length>0)for(c=l.regions.toRegion(0);c!==null;){if(c.startLineNumber>h)return c.startLineNumber;c.regionIndex<l.regions.length?c=l.regions.toRegion(c.regionIndex+1):c=null}return null}e.getNextFoldLine=u}),define(ee[544],te([1,0,78,6,5,122]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(C){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=C,this._foldingModelListener=C.onDidChange(s=>this.updateHiddenRanges()),this._hiddenRanges=[],C.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(C){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=C.changes.some(s=>s.range.endLineNumber!==s.range.startLineNumber||(0,D.countEOL)(s.text)[0]!==0))}updateHiddenRanges(){let C=!1;const s=[];let n=0,i=0,t=Number.MAX_VALUE,a=-1;const u=this._foldingModel.regions;for(;n<u.length;n++){if(!u.isCollapsed(n))continue;const h=u.getStartLineNumber(n)+1,l=u.getEndLineNumber(n);t<=h&&l<=a||(!C&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===h&&this._hiddenRanges[i].endLineNumber===l?(s.push(this._hiddenRanges[i]),i++):(C=!0,s.push(new y.Range(h,1,l,1))),t=h,a=l)}(this._hasLineChanges||C||i<this._hiddenRanges.length)&&this.applyHiddenRanges(s)}applyHiddenRanges(C){this._hiddenRanges=C,this._hasLineChanges=!1,this._updateEventEmitter.fire(C)}hasRanges(){return this._hiddenRanges.length>0}isHidden(C){return _(this._hiddenRanges,C)!==null}adjustSelections(C){let s=!1;const n=this._foldingModel.textModel;let i=null;const t=a=>((!i||!m(a,i))&&(i=_(this._hiddenRanges,a)),i?i.startLineNumber-1:null);for(let a=0,u=C.length;a<u;a++){let h=C[a];const l=t(h.startLineNumber);l&&(h=h.setStartPosition(l,n.getLineMaxColumn(l)),s=!0);const c=t(h.endLineNumber);c&&(h=h.setEndPosition(c,n.getLineMaxColumn(c)),s=!0),C[a]=h}return s}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function m(v,C){return v>=C.startLineNumber&&v<=C.endLineNumber}function _(v,C){const s=(0,L.findFirstIdxMonotonousOrArrLen)(v,n=>C<n.startLineNumber)-1;return s>=0&&v[s].endLineNumber>=C?v[s]:null}}),define(ee[295],te([1,0,209,181]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=void 0;const y=5e3,D="indent";class S{constructor(s,n,i){this.editorModel=s,this.languageConfigurationService=n,this.foldingRangesLimit=i,this.id=D}dispose(){}compute(s){const n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=n&&!!n.offSide,t=n&&n.markers;return Promise.resolve(v(this.editorModel,i,t,this.foldingRangesLimit))}}e.IndentRangeProvider=S;class m{constructor(s){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=s}insertFirst(s,n,i){if(s>k.MAX_LINE_NUMBER||n>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=s,this._endIndexes[t]=n,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(s){const n=this._foldingRangesLimit.limit;if(this._length<=n){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let a=this._length-1,u=0;a>=0;a--,u++)i[u]=this._startIndexes[a],t[u]=this._endIndexes[a];return new k.FoldingRegions(i,t)}else{this._foldingRangesLimit.update(this._length,n);let i=0,t=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const c=this._indentOccurrences[l];if(c){if(c+i>n){t=l;break}i+=c}}const a=s.getOptions().tabSize,u=new Uint32Array(n),h=new Uint32Array(n);for(let l=this._length-1,c=0;l>=0;l--){const o=this._startIndexes[l],d=s.getLineContent(o),r=(0,L.computeIndentLevel)(d,a);(r<t||r===t&&i++<n)&&(u[c]=o,h[c]=this._endIndexes[l],c++)}return new k.FoldingRegions(u,h)}}}e.RangesCollector=m;const _={limit:y,update:()=>{}};function v(C,s,n,i=_){const t=C.getOptions().tabSize,a=new m(i);let u;n&&(u=new RegExp(`(${n.start.source})|(?:${n.end.source})`));const h=[],l=C.getLineCount()+1;h.push({indent:-1,endAbove:l,line:l});for(let c=C.getLineCount();c>0;c--){const o=C.getLineContent(c),d=(0,L.computeIndentLevel)(o,t);let r=h[h.length-1];if(d===-1){s&&(r.endAbove=c);continue}let g;if(u&&(g=o.match(u)))if(g[1]){let f=h.length-1;for(;f>0&&h[f].indent!==-2;)f--;if(f>0){h.length=f+1,r=h[f],a.insertFirst(c,r.line,d),r.line=c,r.indent=d,r.endAbove=c;continue}}else{h.push({indent:-2,endAbove:c,line:c});continue}if(r.indent>d){do h.pop(),r=h[h.length-1];while(r.indent>d);const f=r.endAbove-1;f-c>=1&&a.insertFirst(c,f,d)}r.indent===d?r.endAbove=c:h.push({indent:d,endAbove:c,line:c})}return a.toIndentRanges(C)}e.computeRanges=v}),define(ee[296],te([1,0,9,2,181]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},S="syntax";class m{constructor(n,i,t,a,u){this.editorModel=n,this.providers=i,this.handleFoldingRangesChange=t,this.foldingRangesLimit=a,this.fallbackRangeProvider=u,this.id=S,this.disposables=new k.DisposableStore,u&&this.disposables.add(u);for(const h of i)typeof h.onDidChange=="function"&&this.disposables.add(h.onDidChange(t))}compute(n){return _(this.providers,this.editorModel,n).then(i=>{var t,a;return i?C(i,this.foldingRangesLimit):(a=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(n))!==null&&a!==void 0?a:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=m;function _(s,n,i){let t=null;const a=s.map((u,h)=>Promise.resolve(u.provideFoldingRanges(n,D,i)).then(l=>{if(!i.isCancellationRequested&&Array.isArray(l)){Array.isArray(t)||(t=[]);const c=n.getLineCount();for(const o of l)o.start>0&&o.end>o.start&&o.end<=c&&t.push({start:o.start,end:o.end,rank:h,kind:o.kind})}},L.onUnexpectedExternalError));return Promise.all(a).then(u=>t)}class v{constructor(n){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=n}add(n,i,t,a){if(n>y.MAX_LINE_NUMBER||i>y.MAX_LINE_NUMBER)return;const u=this._length;this._startIndexes[u]=n,this._endIndexes[u]=i,this._nestingLevels[u]=a,this._types[u]=t,this._length++,a<30&&(this._nestingLevelCounts[a]=(this._nestingLevelCounts[a]||0)+1)}toIndentRanges(){const n=this._foldingRangesLimit.limit;if(this._length<=n){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let a=0;a<this._length;a++)i[a]=this._startIndexes[a],t[a]=this._endIndexes[a];return new y.FoldingRegions(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,n);let i=0,t=this._nestingLevelCounts.length;for(let l=0;l<this._nestingLevelCounts.length;l++){const c=this._nestingLevelCounts[l];if(c){if(c+i>n){t=l;break}i+=c}}const a=new Uint32Array(n),u=new Uint32Array(n),h=[];for(let l=0,c=0;l<this._length;l++){const o=this._nestingLevels[l];(o<t||o===t&&i++<n)&&(a[c]=this._startIndexes[l],u[c]=this._endIndexes[l],h[c]=this._types[l],c++)}return new y.FoldingRegions(a,u,h)}}}function C(s,n){const i=s.sort((h,l)=>{let c=h.start-l.start;return c===0&&(c=h.rank-l.rank),c}),t=new v(n);let a;const u=[];for(const h of i)if(!a)a=h,t.add(h.start,h.end,h.kind&&h.kind.value,u.length);else if(h.start>a.start)if(h.end<=a.end)u.push(a),a=h,t.add(h.start,h.end,h.kind&&h.kind.value,u.length);else{if(h.start>a.end){do a=u.pop();while(a&&h.start>a.end);a&&u.push(a),a=h}t.add(h.start,h.end,h.kind&&h.kind.value,u.length)}return t.toIndentRanges()}e.sanitizeRanges=C}),define(ee[297],te([1,0,70,5,120]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(m,_){let v;const C=[];for(const s of _)typeof s.eol=="number"&&(v=s.eol),s.range&&typeof s.text=="string"&&C.push(s);return typeof v=="number"&&m.hasModel()&&m.getModel().pushEOL(v),C}static _isFullModelReplaceEdit(m,_){if(!m.hasModel())return!1;const v=m.getModel(),C=v.validateRange(_.range);return v.getFullModelRange().equalsRange(C)}static execute(m,_,v){v&&m.pushUndoStop();const C=y.StableEditorScrollState.capture(m),s=D._handleEolEdits(m,_);s.length===1&&D._isFullModelReplaceEdit(m,s[0])?m.executeEdits("formatEditsCommand",s.map(n=>L.EditOperation.replace(k.Range.lift(n.range),n.text))):m.executeEdits("formatEditsCommand",s.map(n=>L.EditOperation.replaceMove(k.Range.lift(n.range),n.text))),v&&m.pushUndoStop(),C.restoreRelativeVerticalPositionOfCursor(m)}}e.FormattingEdit=D}),define(ee[100],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class L{constructor(D,S,m,_){this.priority=D,this.range=S,this.initialMousePosX=m,this.initialMousePosY=_,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=L;class k{constructor(D,S,m,_,v,C){this.priority=D,this.owner=S,this.range=m,this.initialMousePosX=_,this.initialMousePosY=v,this.supportsMarkerHover=C,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ee[545],te([1,0,24]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,S,m){this._editRange=D,this._originalSelection=S,this._text=m}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const _=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new L.Selection(_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn),_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn)):new L.Selection(_.endLineNumber,_.endColumn-this._text.length,_.endLineNumber,_.endColumn)}}e.InPlaceReplaceCommand=k}),define(ee[298],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function L(y,D){let S=0;for(let m=0;m<y.length;m++)y.charAt(m)==="	"?S+=D:S++;return S}e.getSpaceCnt=L;function k(y,D,S){y=y<0?0:y;let m="";if(!S){const _=Math.floor(y/D);y=y%D;for(let v=0;v<_;v++)m+="	"}for(let _=0;_<y;_++)m+=" ";return m}e.generateIndent=k}),define(ee[215],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ee[150],te([1,0,9,2,40,12,5]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfText=e.addPositions=e.applyObservableDecorations=e.ColumnRange=e.getReadonlyEmptyArray=e.applyEdits=void 0;function m(a,u){const h=new _(a),l=u.map(c=>{const o=S.Range.lift(c.range);return{startOffset:h.getOffset(o.getStartPosition()),endOffset:h.getOffset(o.getEndPosition()),text:c.text}});l.sort((c,o)=>o.startOffset-c.startOffset);for(const c of l)a=a.substring(0,c.startOffset)+c.text+a.substring(c.endOffset);return a}e.applyEdits=m;class _{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<u.length;h++)u.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const v=[];function C(){return v}e.getReadonlyEmptyArray=C;class s{constructor(u,h){if(this.startColumn=u,this.endColumnExclusive=h,u>h)throw new L.BugIndicatingError(`startColumn ${u} cannot be after endColumnExclusive ${h}`)}toRange(u){return new S.Range(u,this.startColumn,u,this.endColumnExclusive)}equals(u){return this.startColumn===u.startColumn&&this.endColumnExclusive===u.endColumnExclusive}}e.ColumnRange=s;function n(a,u){const h=new k.DisposableStore,l=a.createDecorationsCollection();return h.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${u.debugName}`},c=>{const o=u.read(c);l.set(o)})),h.add({dispose:()=>{l.clear()}}),h}e.applyObservableDecorations=n;function i(a,u){return new D.Position(a.lineNumber+u.lineNumber-1,u.lineNumber===1?a.column+u.column-1:u.column)}e.addPositions=i;function t(a){let u=1,h=1;for(const l of a)l===`
`?(u++,h=1):h++;return new D.Position(u,h)}e.lengthOfText=t}),define(ee[216],te([1,0,150]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ghostTextOrReplacementEquals=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class k{constructor(_,v){this.lineNumber=_,this.parts=v}equals(_){return this.lineNumber===_.lineNumber&&this.parts.length===_.parts.length&&this.parts.every((v,C)=>v.equals(_.parts[C]))}renderForScreenReader(_){if(this.parts.length===0)return"";const v=this.parts[this.parts.length-1],C=_.substr(0,v.column-1);return(0,L.applyEdits)(C,this.parts.map(n=>({range:{startLineNumber:1,endLineNumber:1,startColumn:n.column,endColumn:n.column},text:n.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(_=>_.lines.length===0)}get lineCount(){return 1+this.parts.reduce((_,v)=>_+v.lines.length-1,0)}}e.GhostText=k;class y{constructor(_,v,C){this.column=_,this.lines=v,this.preview=C}equals(_){return this.column===_.column&&this.lines.length===_.lines.length&&this.lines.every((v,C)=>v===_.lines[C])}}e.GhostTextPart=y;class D{constructor(_,v,C,s=0){this.lineNumber=_,this.columnRange=v,this.newLines=C,this.additionalReservedLineCount=s,this.parts=[new y(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(_){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(_=>_.lines.length===0)}equals(_){return this.lineNumber===_.lineNumber&&this.columnRange.equals(_.columnRange)&&this.newLines.length===_.newLines.length&&this.newLines.every((v,C)=>v===_.newLines[C])&&this.additionalReservedLineCount===_.additionalReservedLineCount}}e.GhostTextReplacement=D;function S(m,_){return m===_?!0:!m||!_?!1:m instanceof k&&_ instanceof k||m instanceof D&&_ instanceof D?m.equals(_):!1}e.ghostTextOrReplacementEquals=S}),define(ee[299],te([1,0,168,10,5,216,150]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleTextEdit=void 0;class m{constructor(t,a){this.range=t,this.text=a}removeCommonPrefix(t,a){const u=a?this.range.intersectRanges(a):this.range;if(!u)return this;const h=t.getValueInRange(u,1),l=(0,k.commonPrefixLength)(h,this.text),c=(0,S.addPositions)(this.range.getStartPosition(),(0,S.lengthOfText)(h.substring(0,l))),o=this.text.substring(l),d=y.Range.fromPositions(c,this.range.getEndPosition());return new m(d,o)}augments(t){return this.text.startsWith(t.text)&&_(this.range,t.range)}computeGhostText(t,a,u,h=0){let l=this.removeCommonPrefix(t);if(l.range.endLineNumber!==l.range.startLineNumber)return;const c=t.getLineContent(l.range.startLineNumber),o=(0,k.getLeadingWhitespace)(c).length;if(l.range.startColumn-1<=o){const w=(0,k.getLeadingWhitespace)(l.text).length,E=c.substring(l.range.startColumn-1,o),[I,N]=[l.range.getStartPosition(),l.range.getEndPosition()],R=I.column+E.length<=N.column?I.delta(0,E.length):N,F=y.Range.fromPositions(R,N),M=l.text.startsWith(E)?l.text.substring(E.length):l.text.substring(w);l=new m(F,M)}const r=t.getValueInRange(l.range),g=C(r,l.text);if(!g)return;const f=l.range.startLineNumber,p=new Array;if(a==="prefix"){const w=g.filter(E=>E.originalLength===0);if(w.length>1||w.length===1&&w[0].originalStart!==r.length)return}const b=l.text.length-h;for(const w of g){const E=l.range.startColumn+w.originalStart+w.originalLength;if(a==="subwordSmart"&&u&&u.lineNumber===l.range.startLineNumber&&E<u.column||w.originalLength>0)return;if(w.modifiedLength===0)continue;const I=w.modifiedStart+w.modifiedLength,N=Math.max(w.modifiedStart,Math.min(I,b)),R=l.text.substring(w.modifiedStart,N),F=l.text.substring(N,Math.max(w.modifiedStart,I));if(R.length>0){const M=(0,k.splitLines)(R);p.push(new D.GhostTextPart(E,M,!1))}if(F.length>0){const M=(0,k.splitLines)(F);p.push(new D.GhostTextPart(E,M,!0))}}return new D.GhostText(f,p)}}e.SingleTextEdit=m;function _(i,t){return t.getStartPosition().equals(i.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(i.getEndPosition())}let v;function C(i,t){if(v?.originalValue===i&&v?.newValue===t)return v?.changes;{let a=n(i,t,!0);if(a){const u=s(a);if(u>0){const h=n(i,t,!1);h&&s(h)<u&&(a=h)}}return v={originalValue:i,newValue:t,changes:a},a}}function s(i){let t=0;for(const a of i)t+=a.originalLength;return t}function n(i,t,a){if(i.length>5e3||t.length>5e3)return;function u(r){let g=0;for(let f=0,p=r.length;f<p;f++){const b=r.charCodeAt(f);b>g&&(g=b)}return g}const h=Math.max(u(i),u(t));function l(r){if(r<0)throw new Error("unexpected");return h+r+1}function c(r){let g=0,f=0;const p=new Int32Array(r.length);for(let b=0,w=r.length;b<w;b++)if(a&&r[b]==="("){const E=f*100+g;p[b]=l(2*E),g++}else if(a&&r[b]===")"){g=Math.max(g-1,0);const E=f*100+g;p[b]=l(2*E+1),g===0&&f++}else p[b]=r.charCodeAt(b);return p}const o=c(i),d=c(t);return new L.LcsDiff({getElements:()=>o},{getElements:()=>d}).ComputeDiff(!1).changes}}),define(ee[546],te([1,0,5,24]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class y{constructor(S,m,_){this._selection=S,this._isCopyingDown=m,this._noop=_||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,m){let _=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,_.startLineNumber<_.endLineNumber&&_.endColumn===1&&(this._endLineNumberDelta=1,_=_.setEndPosition(_.endLineNumber-1,S.getLineMaxColumn(_.endLineNumber-1)));const v=[];for(let s=_.startLineNumber;s<=_.endLineNumber;s++)v.push(S.getLineContent(s));const C=v.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber+1,1),_.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new L.Range(_.startLineNumber,1,_.startLineNumber,1),C+`
`):m.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber,S.getLineMaxColumn(_.endLineNumber)),`
`+C),this._selectionId=m.trackSelection(_),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,m){let _=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let v=_.startLineNumber,C=_.startColumn,s=_.endLineNumber,n=_.endColumn;this._startLineNumberDelta!==0&&(v=v+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,n=1),_=k.Selection.createWithDirection(v,C,s,n,this._selectionDirection)}return _}}e.CopyLinesCommand=y}),define(ee[547],te([1,0,70,5]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class y{static getCollator(){return y._COLLATOR||(y._COLLATOR=new Intl.Collator),y._COLLATOR}constructor(_,v){this.selection=_,this.descending=v,this.selectionId=null}getEditOperations(_,v){const C=S(_,this.selection,this.descending);C&&v.addEditOperation(C.range,C.text),this.selectionId=v.trackSelection(this.selection)}computeCursorState(_,v){return v.getTrackedSelection(this.selectionId)}static canRun(_,v,C){if(_===null)return!1;const s=D(_,v,C);if(!s)return!1;for(let n=0,i=s.before.length;n<i;n++)if(s.before[n]!==s.after[n])return!0;return!1}}e.SortLinesCommand=y,y._COLLATOR=null;function D(m,_,v){const C=_.startLineNumber;let s=_.endLineNumber;if(_.endColumn===1&&s--,C>=s)return null;const n=[];for(let t=C;t<=s;t++)n.push(m.getLineContent(t));let i=n.slice(0);return i.sort(y.getCollator().compare),v===!0&&(i=i.reverse()),{startLineNumber:C,endLineNumber:s,before:n,after:i}}function S(m,_,v){const C=D(m,_,v);return C?L.EditOperation.replace(new k.Range(C.startLineNumber,1,C.endLineNumber,m.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(ee[300],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function L(k,y,D){var S;const m=(S=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||S===void 0?void 0:S.enabled;return typeof m=="boolean"?m:y.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=L}),define(ee[301],te([1,0,62,12,5]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(m,_){return Se(this,void 0,void 0,function*(){const v=[];for(const C of _){const s=[];v.push(s);const n=new Map;yield new Promise(i=>D._bracketsRightYield(i,0,m,C,n)),yield new Promise(i=>D._bracketsLeftYield(i,0,m,C,n,s))}return v})}static _bracketsRightYield(m,_,v,C,s){const n=new Map,i=Date.now();for(;;){if(_>=D._maxRounds){m();break}if(!C){m();break}const t=v.bracketPairs.findNextBracket(C);if(!t){m();break}if(Date.now()-i>D._maxDuration){setTimeout(()=>D._bracketsRightYield(m,_+1,v,C,s));break}if(t.bracketInfo.isOpeningBracket){const u=t.bracketInfo.bracketText,h=n.has(u)?n.get(u):0;n.set(u,h+1)}else{const u=t.bracketInfo.getOpeningBrackets()[0].bracketText;let h=n.has(u)?n.get(u):0;if(h-=1,n.set(u,Math.max(0,h)),h<0){let l=s.get(u);l||(l=new L.LinkedList,s.set(u,l)),l.push(t.range)}}C=t.range.getEndPosition()}}static _bracketsLeftYield(m,_,v,C,s,n){const i=new Map,t=Date.now();for(;;){if(_>=D._maxRounds&&s.size===0){m();break}if(!C){m();break}const a=v.bracketPairs.findPrevBracket(C);if(!a){m();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(m,_+1,v,C,s,n));break}if(a.bracketInfo.isOpeningBracket){const h=a.bracketInfo.bracketText;let l=i.has(h)?i.get(h):0;if(l-=1,i.set(h,Math.max(0,l)),l<0){const c=s.get(h);if(c){const o=c.shift();c.size===0&&s.delete(h);const d=y.Range.fromPositions(a.range.getEndPosition(),o.getStartPosition()),r=y.Range.fromPositions(a.range.getStartPosition(),o.getEndPosition());n.push({range:d}),n.push({range:r}),D._addBracketLeading(v,r,n)}}}else{const h=a.bracketInfo.getOpeningBrackets()[0].bracketText,l=i.has(h)?i.get(h):0;i.set(h,l+1)}C=a.range.getStartPosition()}}static _addBracketLeading(m,_,v){if(_.startLineNumber===_.endLineNumber)return;const C=_.startLineNumber,s=m.getLineFirstNonWhitespaceColumn(C);s!==0&&s!==_.startColumn&&(v.push({range:y.Range.fromPositions(new k.Position(C,s),_.getEndPosition())}),v.push({range:y.Range.fromPositions(new k.Position(C,1),_.getEndPosition())}));const n=C-1;if(n>0){const i=m.getLineFirstNonWhitespaceColumn(n);i===_.startColumn&&i!==m.getLineLastNonWhitespaceColumn(n)&&(v.push({range:y.Range.fromPositions(new k.Position(n,i),_.getEndPosition())}),v.push({range:y.Range.fromPositions(new k.Position(n,1),_.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(ee[548],te([1,0,10,5]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class y{constructor(S=!0){this.selectSubwords=S}provideSelectionRanges(S,m){const _=[];for(const v of m){const C=[];_.push(C),this.selectSubwords&&this._addInWordRanges(C,S,v),this._addWordRanges(C,S,v),this._addWhitespaceLine(C,S,v),C.push({range:S.getFullModelRange()})}return _}_addInWordRanges(S,m,_){const v=m.getWordAtPosition(_);if(!v)return;const{word:C,startColumn:s}=v,n=_.column-s;let i=n,t=n,a=0;for(;i>=0;i--){const u=C.charCodeAt(i);if(i!==n&&(u===95||u===45))break;if((0,L.isLowerAsciiLetter)(u)&&(0,L.isUpperAsciiLetter)(a))break;a=u}for(i+=1;t<C.length;t++){const u=C.charCodeAt(t);if((0,L.isUpperAsciiLetter)(u)&&(0,L.isLowerAsciiLetter)(a))break;if(u===95||u===45)break;a=u}i<t&&S.push({range:new k.Range(_.lineNumber,s+i,_.lineNumber,s+t)})}_addWordRanges(S,m,_){const v=m.getWordAtPosition(_);v&&S.push({range:new k.Range(_.lineNumber,v.startColumn,_.lineNumber,v.endColumn)})}_addWhitespaceLine(S,m,_){m.getLineLength(_.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(_.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(_.lineNumber)===0&&S.push({range:new k.Range(_.lineNumber,1,_.lineNumber,m.getLineMaxColumn(_.lineNumber))})}}e.WordSelectionRangeProvider=y}),define(ee[127],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class L{constructor(){this.value="",this.pos=0}static isDigitCharacter(a){return a>=48&&a<=57}static isVariableCharacter(a){return a===95||a>=97&&a<=122||a>=65&&a<=90}text(a){this.value=a,this.pos=0}tokenText(a){return this.value.substr(a.pos,a.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const a=this.pos;let u=0,h=this.value.charCodeAt(a),l;if(l=L._table[h],typeof l=="number")return this.pos+=1,{type:l,pos:a,len:1};if(L.isDigitCharacter(h)){l=8;do u+=1,h=this.value.charCodeAt(a+u);while(L.isDigitCharacter(h));return this.pos+=u,{type:l,pos:a,len:u}}if(L.isVariableCharacter(h)){l=9;do h=this.value.charCodeAt(a+ ++u);while(L.isVariableCharacter(h)||L.isDigitCharacter(h));return this.pos+=u,{type:l,pos:a,len:u}}l=10;do u+=1,h=this.value.charCodeAt(a+u);while(!isNaN(h)&&typeof L._table[h]>"u"&&!L.isDigitCharacter(h)&&!L.isVariableCharacter(h));return this.pos+=u,{type:l,pos:a,len:u}}}e.Scanner=L,L._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(a){return a instanceof y&&this._children[this._children.length-1]instanceof y?this._children[this._children.length-1].value+=a.value:(a.parent=this,this._children.push(a)),this}replace(a,u){const{parent:h}=a,l=h.children.indexOf(a),c=h.children.slice(0);c.splice(l,1,...u),h._children=c,function o(d,r){for(const g of d)g.parent=r,o(g.children,g)}(u,h)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let a=this;for(;;){if(!a)return;if(a instanceof n)return a;a=a.parent}}toString(){return this.children.reduce((a,u)=>a+u.toString(),"")}len(){return 0}}e.Marker=k;class y extends k{constructor(a){super(),this.value=a}toString(){return this.value}len(){return this.value.length}clone(){return new y(this.value)}}e.Text=y;class D extends k{}e.TransformableMarker=D;class S extends D{static compareByIndex(a,u){return a.index===u.index?0:a.isFinalTabstop?1:u.isFinalTabstop||a.index<u.index?-1:a.index>u.index?1:0}constructor(a){super(),this.index=a}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){const a=new S(this.index);return this.transform&&(a.transform=this.transform.clone()),a._children=this.children.map(u=>u.clone()),a}}e.Placeholder=S;class m extends k{constructor(){super(...arguments),this.options=[]}appendChild(a){return a instanceof y&&(a.parent=this,this.options.push(a)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const a=new m;return this.options.forEach(a.appendChild,a),a}}e.Choice=m;class _ extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(a){const u=this;let h=!1,l=a.replace(this.regexp,function(){return h=!0,u._replace(Array.prototype.slice.call(arguments,0,-2))});return!h&&this._children.some(c=>c instanceof v&&!!c.elseValue)&&(l=this._replace([])),l}_replace(a){let u="";for(const h of this._children)if(h instanceof v){let l=a[h.index]||"";l=h.resolve(l),u+=l}else u+=h.toString();return u}toString(){return""}clone(){const a=new _;return a.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),a._children=this.children.map(u=>u.clone()),a}}e.Transform=_;class v extends k{constructor(a,u,h,l){super(),this.index=a,this.shorthandName=u,this.ifValue=h,this.elseValue=l}resolve(a){return this.shorthandName==="upcase"?a?a.toLocaleUpperCase():"":this.shorthandName==="downcase"?a?a.toLocaleLowerCase():"":this.shorthandName==="capitalize"?a?a[0].toLocaleUpperCase()+a.substr(1):"":this.shorthandName==="pascalcase"?a?this._toPascalCase(a):"":this.shorthandName==="camelcase"?a?this._toCamelCase(a):"":a&&typeof this.ifValue=="string"?this.ifValue:!a&&typeof this.elseValue=="string"?this.elseValue:a||""}_toPascalCase(a){const u=a.match(/[a-z0-9]+/gi);return u?u.map(h=>h.charAt(0).toUpperCase()+h.substr(1)).join(""):a}_toCamelCase(a){const u=a.match(/[a-z0-9]+/gi);return u?u.map((h,l)=>l===0?h.charAt(0).toLowerCase()+h.substr(1):h.charAt(0).toUpperCase()+h.substr(1)).join(""):a}clone(){return new v(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=v;class C extends D{constructor(a){super(),this.name=a}resolve(a){let u=a.resolve(this);return this.transform&&(u=this.transform.resolve(u||"")),u!==void 0?(this._children=[new y(u)],!0):!1}clone(){const a=new C(this.name);return this.transform&&(a.transform=this.transform.clone()),a._children=this.children.map(u=>u.clone()),a}}e.Variable=C;function s(t,a){const u=[...t];for(;u.length>0;){const h=u.shift();if(!a(h))break;u.unshift(...h.children)}}class n extends k{get placeholderInfo(){if(!this._placeholders){const a=[];let u;this.walk(function(h){return h instanceof S&&(a.push(h),u=!u||u.index<h.index?h:u),!0}),this._placeholders={all:a,last:u}}return this._placeholders}get placeholders(){const{all:a}=this.placeholderInfo;return a}offset(a){let u=0,h=!1;return this.walk(l=>l===a?(h=!0,!1):(u+=l.len(),!0)),h?u:-1}fullLen(a){let u=0;return s([a],h=>(u+=h.len(),!0)),u}enclosingPlaceholders(a){const u=[];let{parent:h}=a;for(;h;)h instanceof S&&u.push(h),h=h.parent;return u}resolveVariables(a){return this.walk(u=>(u instanceof C&&u.resolve(a)&&(this._placeholders=void 0),!0)),this}appendChild(a){return this._placeholders=void 0,super.appendChild(a)}replace(a,u){return this._placeholders=void 0,super.replace(a,u)}clone(){const a=new n;return this._children=this.children.map(u=>u.clone()),a}walk(a){s(this.children,a)}}e.TextmateSnippet=n;class i{constructor(){this._scanner=new L,this._token={type:14,pos:0,len:0}}static escape(a){return a.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(a){return/\${?CLIPBOARD/.test(a)}parse(a,u,h){const l=new n;return this.parseFragment(a,l),this.ensureFinalTabstop(l,h??!1,u??!1),l}parseFragment(a,u){const h=u.children.length;for(this._scanner.text(a),this._token=this._scanner.next();this._parse(u););const l=new Map,c=[];u.walk(r=>(r instanceof S&&(r.isFinalTabstop?l.set(0,void 0):!l.has(r.index)&&r.children.length>0?l.set(r.index,r.children):c.push(r)),!0));const o=(r,g)=>{const f=l.get(r.index);if(!f)return;const p=new S(r.index);p.transform=r.transform;for(const b of f){const w=b.clone();p.appendChild(w),w instanceof S&&l.has(w.index)&&!g.has(w.index)&&(g.add(w.index),o(w,g),g.delete(w.index))}u.replace(r,[p])},d=new Set;for(const r of c)o(r,d);return u.children.slice(h)}ensureFinalTabstop(a,u,h){(u||h&&a.placeholders.length>0)&&(a.placeholders.find(c=>c.index===0)||a.appendChild(new S(0)))}_accept(a,u){if(a===void 0||this._token.type===a){const h=u?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),h}return!1}_backTo(a){return this._scanner.pos=a.pos+a.len,this._token=a,!1}_until(a){const u=this._token;for(;this._token.type!==a;){if(this._token.type===14)return!1;if(this._token.type===5){const l=this._scanner.next();if(l.type!==0&&l.type!==4&&l.type!==5)return!1}this._token=this._scanner.next()}const h=this._scanner.value.substring(u.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),h}_parse(a){return this._parseEscaped(a)||this._parseTabstopOrVariableName(a)||this._parseComplexPlaceholder(a)||this._parseComplexVariable(a)||this._parseAnything(a)}_parseEscaped(a){let u;return(u=this._accept(5,!0))?(u=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||u,a.appendChild(new y(u)),!0):!1}_parseTabstopOrVariableName(a){let u;const h=this._token;return this._accept(0)&&(u=this._accept(9,!0)||this._accept(8,!0))?(a.appendChild(/^\d+$/.test(u)?new S(Number(u)):new C(u)),!0):this._backTo(h)}_parseComplexPlaceholder(a){let u;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(u=this._accept(8,!0))))return this._backTo(h);const c=new S(Number(u));if(this._accept(1))for(;;){if(this._accept(4))return a.appendChild(c),!0;if(!this._parse(c))return a.appendChild(new y("${"+u+":")),c.children.forEach(a.appendChild,a),!0}else if(c.index>0&&this._accept(7)){const o=new m;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(c.appendChild(o),this._accept(4)))return a.appendChild(c),!0}return this._backTo(h),!1}}else return this._accept(6)?this._parseTransform(c)?(a.appendChild(c),!0):(this._backTo(h),!1):this._accept(4)?(a.appendChild(c),!0):this._backTo(h)}_parseChoiceElement(a){const u=this._token,h=[];for(;!(this._token.type===2||this._token.type===7);){let l;if((l=this._accept(5,!0))?l=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||l:l=this._accept(void 0,!0),!l)return this._backTo(u),!1;h.push(l)}return h.length===0?(this._backTo(u),!1):(a.appendChild(new y(h.join(""))),!0)}_parseComplexVariable(a){let u;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(u=this._accept(9,!0))))return this._backTo(h);const c=new C(u);if(this._accept(1))for(;;){if(this._accept(4))return a.appendChild(c),!0;if(!this._parse(c))return a.appendChild(new y("${"+u+":")),c.children.forEach(a.appendChild,a),!0}else return this._accept(6)?this._parseTransform(c)?(a.appendChild(c),!0):(this._backTo(h),!1):this._accept(4)?(a.appendChild(c),!0):this._backTo(h)}_parseTransform(a){const u=new _;let h="",l="";for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(6,!0)||c,h+=c;continue}if(this._token.type!==14){h+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(5,!0)||this._accept(6,!0)||c,u.appendChild(new y(c));continue}if(!(this._parseFormatString(u)||this._parseAnything(u)))return!1}for(;!this._accept(4);){if(this._token.type!==14){l+=this._accept(void 0,!0);continue}return!1}try{u.regexp=new RegExp(h,l)}catch{return!1}return a.transform=u,!0}_parseFormatString(a){const u=this._token;if(!this._accept(0))return!1;let h=!1;this._accept(3)&&(h=!0);const l=this._accept(8,!0);if(l)if(h){if(this._accept(4))return a.appendChild(new v(Number(l))),!0;if(!this._accept(1))return this._backTo(u),!1}else return a.appendChild(new v(Number(l))),!0;else return this._backTo(u),!1;if(this._accept(6)){const c=this._accept(9,!0);return!c||!this._accept(4)?(this._backTo(u),!1):(a.appendChild(new v(Number(l),c)),!0)}else if(this._accept(11)){const c=this._until(4);if(c)return a.appendChild(new v(Number(l),void 0,c,void 0)),!0}else if(this._accept(12)){const c=this._until(4);if(c)return a.appendChild(new v(Number(l),void 0,void 0,c)),!0}else if(this._accept(13)){const c=this._until(1);if(c){const o=this._until(4);if(o)return a.appendChild(new v(Number(l),void 0,c,o)),!0}}else{const c=this._until(4);if(c)return a.appendChild(new v(Number(l),void 0,void 0,c)),!0}return this._backTo(u),!1}_parseAnything(a){return this._token.type!==14?(a.appendChild(new y(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(ee[302],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class L{constructor(S,m){this.startLineNumber=S,this.endLineNumber=m}}e.StickyRange=L;class k{constructor(S,m,_){this.range=S,this.children=m,this.parent=_}}e.StickyElement=k;class y{constructor(S,m,_,v){this.uri=S,this.version=m,this.element=_,this.outlineProviderId=v}}e.StickyModel=y}),define(ee[303],te([1,0,14,68,10]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(_,v){this.leadingLineContent=_,this.characterCountDelta=v}}e.LineContext=D;class S{constructor(_,v,C,s,n,i,t=k.FuzzyScoreOptions.default,a=void 0){this.clipboardText=a,this._snippetCompareFn=S._compareCompletionItems,this._items=_,this._column=v,this._wordDistance=s,this._options=n,this._refilterKind=1,this._lineContext=C,this._fuzzyScoreOptions=t,i==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(_){(this._lineContext.leadingLineContent!==_.leadingLineContent||this._lineContext.characterCountDelta!==_.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<_.characterCountDelta&&this._filteredItems?2:1,this._lineContext=_)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const _=new Set;for(const[v,C]of this.getItemsByProvider())C.length>0&&C[0].container.incomplete&&_.add(v);return _}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const _=[],{leadingLineContent:v,characterCountDelta:C}=this._lineContext;let s="",n="";const i=this._refilterKind===1?this._items:this._filteredItems,t=[],a=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let u=0;u<i.length;u++){const h=i[u];if(h.isInvalid)continue;const l=this._itemsByProvider.get(h.provider);l?l.push(h):this._itemsByProvider.set(h.provider,[h]);const c=h.position.column-h.editStart.column,o=c+C-(h.position.column-this._column);if(s.length!==o&&(s=o===0?"":v.slice(-o),n=s.toLowerCase()),h.word=s,o===0)h.score=k.FuzzyScore.Default;else{let d=0;for(;d<c;){const r=s.charCodeAt(d);if(r===32||r===9)d+=1;else break}if(d>=o)h.score=k.FuzzyScore.Default;else if(typeof h.completion.filterText=="string"){const r=a(s,n,d,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!r)continue;(0,y.compareIgnoreCase)(h.completion.filterText,h.textLabel)===0?h.score=r:(h.score=(0,k.anyScore)(s,n,d,h.textLabel,h.labelLow,0),h.score[0]=r[0])}else{const r=a(s,n,d,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!r)continue;h.score=r}}h.idx=u,h.distance=this._wordDistance.distance(h.position,h.completion),t.push(h),_.push(h.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:_.length?(0,L.quickSelect)(_.length-.85,_,(u,h)=>u-h):0}}static _compareCompletionItems(_,v){return _.score[0]>v.score[0]?-1:_.score[0]<v.score[0]?1:_.distance<v.distance?-1:_.distance>v.distance?1:_.idx<v.idx?-1:_.idx>v.idx?1:0}static _compareCompletionItemsSnippetsDown(_,v){if(_.completion.kind!==v.completion.kind){if(_.completion.kind===27)return 1;if(v.completion.kind===27)return-1}return S._compareCompletionItems(_,v)}static _compareCompletionItemsSnippetsUp(_,v){if(_.completion.kind!==v.completion.kind){if(_.completion.kind===27)return-1;if(v.completion.kind===27)return 1}return S._compareCompletionItems(_,v)}}e.CompletionModel=S}),define(ee[549],te([1,0,14,2,121]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(m,_,v,C){this._disposables=new k.DisposableStore,this._disposables.add(v.onDidSuggest(s=>{s.completionModel.items.length===0&&this.reset()})),this._disposables.add(v.onDidCancel(s=>{this.reset()})),this._disposables.add(_.onDidShow(()=>this._onItem(_.getFocusedItem()))),this._disposables.add(_.onDidFocus(this._onItem,this)),this._disposables.add(_.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(s=>{if(this._active&&!_.isFrozen()&&v.state!==0){const n=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(n)&&m.getOption(0)&&C(this._active.item)}}))}_onItem(m){if(!m||!(0,L.isNonEmptyArray)(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const _=new y.CharacterSet;for(const v of m.item.completion.commitCharacters)v.length>0&&_.add(v.charCodeAt(0));this._active={acceptCharacters:_,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(ee[550],te([1,0,2]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,S){this._disposables=new L.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const m=D.getSelections(),_=m.length;let v=!1;for(let s=0;s<_;s++)if(!m[s].isEmpty()){v=!0;break}if(!v){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const C=D.getModel();for(let s=0;s<_;s++){const n=m[s];if(C.getValueLengthInRange(n)>k._maxSelectionLength)return;this._lastOvertyped[s]={value:C.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}})),this._disposables.add(S.onDidTrigger(m=>{this._locked=!0})),this._disposables.add(S.onDidCancel(m=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ee[304],te([1,0,14,5,301]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(m,_){return Se(this,void 0,void 0,function*(){if(!_.getOption(116).localityBonus||!_.hasModel())return D.None;const v=_.getModel(),C=_.getPosition();if(!m.canComputeWordRanges(v.uri))return D.None;const[s]=yield new y.BracketSelectionRangeProvider().provideSelectionRanges(v,[C]);if(s.length===0)return D.None;const n=yield m.computeWordRanges(v.uri,s[0].range);if(!n)return D.None;const i=v.getWordUntilPosition(C);return delete n[i.word],new class extends D{distance(t,a){if(!C.equals(_.getPosition()))return 0;if(a.kind===17)return 2<<20;const u=typeof a.label=="string"?a.label:a.label.label,h=n[u];if((0,L.isFalsyOrEmpty)(h))return 2<<20;const l=(0,L.binarySearch)(h,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),c=l>=0?h[l]:h[Math.max(0,~l-1)];let o=s.length;for(const d of s){if(!k.Range.containsRange(d.range,c))break;o-=1}return o}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(ee[305],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function L(t){return Array.isArray(t)}e.isFuzzyActionArr=L;function k(t){return!L(t)}e.isFuzzyAction=k;function y(t){return typeof t=="string"}e.isString=y;function D(t){return!y(t)}e.isIAction=D;function S(t){return!t}e.empty=S;function m(t,a){return t.ignoreCase&&a?a.toLowerCase():a}e.fixCase=m;function _(t){return t.replace(/[&<>'"_]/g,"-")}e.sanitize=_;function v(t,a){console.log(`${t.languageId}: ${a}`)}e.log=v;function C(t,a){return new Error(`${t.languageId}: ${a}`)}e.createError=C;function s(t,a,u,h,l){const c=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return a.replace(c,function(d,r,g,f,p,b,w,E,I){return S(g)?S(f)?!S(p)&&p<h.length?m(t,h[p]):!S(w)&&t&&typeof t[w]=="string"?t[w]:(o===null&&(o=l.split("."),o.unshift(l)),!S(b)&&b<o.length?m(t,o[b]):""):m(t,u):"$"})}e.substituteMatches=s;function n(t,a){let u=a;for(;u&&u.length>0;){const h=t.tokenizer[u];if(h)return h;const l=u.lastIndexOf(".");l<0?u=null:u=u.substr(0,l)}return null}e.findRules=n;function i(t,a){let u=a;for(;u&&u.length>0;){if(t.stateNames[u])return!0;const l=u.lastIndexOf(".");l<0?u=null:u=u.substr(0,l)}return!1}e.stateExists=i}),define(ee[551],te([1,0,305]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(t,a){if(!a||!Array.isArray(a))return!1;for(const u of a)if(!t(u))return!1;return!0}function y(t,a){return typeof t=="boolean"?t:a}function D(t,a){return typeof t=="string"?t:a}function S(t){const a={};for(const u of t)a[u]=!0;return a}function m(t,a=!1){a&&(t=t.map(function(h){return h.toLowerCase()}));const u=S(t);return a?function(h){return u[h.toLowerCase()]!==void 0&&u.hasOwnProperty(h.toLowerCase())}:function(h){return u[h]!==void 0&&u.hasOwnProperty(h)}}function _(t,a){a=a.replace(/@@/g,"");let u=0,h;do h=!1,a=a.replace(/@(\w+)/g,function(c,o){h=!0;let d="";if(typeof t[o]=="string")d=t[o];else if(t[o]&&t[o]instanceof RegExp)d=t[o].source;else throw t[o]===void 0?L.createError(t,"language definition does not contain attribute '"+o+"', used at: "+a):L.createError(t,"attribute reference '"+o+"' must be a string, used at: "+a);return L.empty(d)?"":"(?:"+d+")"}),u++;while(h&&u<5);a=a.replace(/\x01/g,"@");const l=(t.ignoreCase?"i":"")+(t.unicode?"u":"");return new RegExp(a,l)}function v(t,a,u,h){if(h<0)return t;if(h<a.length)return a[h];if(h>=100){h=h-100;const l=u.split(".");if(l.unshift(u),h<l.length)return l[h]}return null}function C(t,a,u,h){let l=-1,c=u,o=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(l=parseInt(o[3]),o[2]&&(l=l+100)),c=o[4]);let d="~",r=c;!c||c.length===0?(d="!=",r=""):/^\w*$/.test(r)?d="==":(o=c.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(d=o[1],r=o[2]));let g;if((d==="~"||d==="!~")&&/^(\w|\|)*$/.test(r)){const f=m(r.split("|"),t.ignoreCase);g=function(p){return d==="~"?f(p):!f(p)}}else if(d==="@"||d==="!@"){const f=t[r];if(!f)throw L.createError(t,"the @ match target '"+r+"' is not defined, in rule: "+a);if(!k(function(b){return typeof b=="string"},f))throw L.createError(t,"the @ match target '"+r+"' must be an array of strings, in rule: "+a);const p=m(f,t.ignoreCase);g=function(b){return d==="@"?p(b):!p(b)}}else if(d==="~"||d==="!~")if(r.indexOf("$")<0){const f=_(t,"^"+r+"$");g=function(p){return d==="~"?f.test(p):!f.test(p)}}else g=function(f,p,b,w){return _(t,"^"+L.substituteMatches(t,r,p,b,w)+"$").test(f)};else if(r.indexOf("$")<0){const f=L.fixCase(t,r);g=function(p){return d==="=="?p===f:p!==f}}else{const f=L.fixCase(t,r);g=function(p,b,w,E,I){const N=L.substituteMatches(t,f,b,w,E);return d==="=="?p===N:p!==N}}return l===-1?{name:u,value:h,test:function(f,p,b,w){return g(f,f,p,b,w)}}:{name:u,value:h,test:function(f,p,b,w){const E=v(f,p,b,l);return g(E||"",f,p,b,w)}}}function s(t,a,u){if(u){if(typeof u=="string")return u;if(u.token||u.token===""){if(typeof u.token!="string")throw L.createError(t,"a 'token' attribute must be of type string, in rule: "+a);{const h={token:u.token};if(u.token.indexOf("$")>=0&&(h.tokenSubst=!0),typeof u.bracket=="string")if(u.bracket==="@open")h.bracket=1;else if(u.bracket==="@close")h.bracket=-1;else throw L.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+a);if(u.next){if(typeof u.next!="string")throw L.createError(t,"the next state must be a string value in rule: "+a);{let l=u.next;if(!/^(@pop|@push|@popall)$/.test(l)&&(l[0]==="@"&&(l=l.substr(1)),l.indexOf("$")<0&&!L.stateExists(t,L.substituteMatches(t,l,"",[],""))))throw L.createError(t,"the next state '"+u.next+"' is not defined in rule: "+a);h.next=l}}return typeof u.goBack=="number"&&(h.goBack=u.goBack),typeof u.switchTo=="string"&&(h.switchTo=u.switchTo),typeof u.log=="string"&&(h.log=u.log),typeof u.nextEmbedded=="string"&&(h.nextEmbedded=u.nextEmbedded,t.usesEmbedded=!0),h}}else if(Array.isArray(u)){const h=[];for(let l=0,c=u.length;l<c;l++)h[l]=s(t,a,u[l]);return{group:h}}else if(u.cases){const h=[];for(const c in u.cases)if(u.cases.hasOwnProperty(c)){const o=s(t,a,u.cases[c]);c==="@default"||c==="@"||c===""?h.push({test:void 0,value:o,name:c}):c==="@eos"?h.push({test:function(d,r,g,f){return f},value:o,name:c}):h.push(C(t,a,c,o))}const l=t.defaultToken;return{test:function(c,o,d,r){for(const g of h)if(!g.test||g.test(c,o,d,r))return g.value;return l}}}else throw L.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+a)}else return{token:""}}class n{constructor(a){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=a}setRegex(a,u){let h;if(typeof u=="string")h=u;else if(u instanceof RegExp)h=u.source;else throw L.createError(a,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=h.length>0&&h[0]==="^",this.name=this.name+": "+h,this.regex=_(a,"^(?:"+(this.matchOnlyAtLineStart?h.substr(1):h)+")")}setAction(a,u){this.action=s(a,this.name,u)}}function i(t,a){if(!a||typeof a!="object")throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=t,u.includeLF=y(a.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start=typeof a.start=="string"?a.start:null,u.ignoreCase=y(a.ignoreCase,!1),u.unicode=y(a.unicode,!1),u.tokenPostfix=D(a.tokenPostfix,"."+u.languageId),u.defaultToken=D(a.defaultToken,"source"),u.usesEmbedded=!1;const h=a;h.languageId=t,h.includeLF=u.includeLF,h.ignoreCase=u.ignoreCase,h.unicode=u.unicode,h.noThrow=u.noThrow,h.usesEmbedded=u.usesEmbedded,h.stateNames=a.tokenizer,h.defaultToken=u.defaultToken;function l(o,d,r){for(const g of r){let f=g.include;if(f){if(typeof f!="string")throw L.createError(u,"an 'include' attribute must be a string at: "+o);if(f[0]==="@"&&(f=f.substr(1)),!a.tokenizer[f])throw L.createError(u,"include target '"+f+"' is not defined at: "+o);l(o+"."+f,d,a.tokenizer[f])}else{const p=new n(o);if(Array.isArray(g)&&g.length>=1&&g.length<=3)if(p.setRegex(h,g[0]),g.length>=3)if(typeof g[1]=="string")p.setAction(h,{token:g[1],next:g[2]});else if(typeof g[1]=="object"){const b=g[1];b.next=g[2],p.setAction(h,b)}else throw L.createError(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else p.setAction(h,g[1]);else{if(!g.regex)throw L.createError(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);g.name&&typeof g.name=="string"&&(p.name=g.name),g.matchOnlyAtStart&&(p.matchOnlyAtLineStart=y(g.matchOnlyAtLineStart,!1)),p.setRegex(h,g.regex),p.setAction(h,g.action)}d.push(p)}}}if(!a.tokenizer||typeof a.tokenizer!="object")throw L.createError(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(const o in a.tokenizer)if(a.tokenizer.hasOwnProperty(o)){u.start||(u.start=o);const d=a.tokenizer[o];u.tokenizer[o]=new Array,l("tokenizer."+o,u.tokenizer[o],d)}if(u.usesEmbedded=h.usesEmbedded,a.brackets){if(!Array.isArray(a.brackets))throw L.createError(u,"the 'brackets' attribute must be defined as an array")}else a.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const c=[];for(const o of a.brackets){let d=o;if(d&&Array.isArray(d)&&d.length===3&&(d={token:d[2],open:d[0],close:d[1]}),d.open===d.close)throw L.createError(u,"open and close brackets in a 'brackets' attribute must be different: "+d.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof d.open=="string"&&typeof d.token=="string"&&typeof d.close=="string")c.push({token:d.token+u.tokenPostfix,open:L.fixCase(u,d.open),close:L.fixCase(u,d.close)});else throw L.createError(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return u.brackets=c,u.noThrow=!0,u}e.compile=i}),define(ee[552],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[553],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[554],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ee[555],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[556],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(ee[557],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ee[558],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[559],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[560],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ee[561],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ee[562],te([3,4]),function(G,e){return G.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[563],te([3,4]),function(G,e){return G.create("vs/base/common/actions",e)}),define(ee[41],te([1,0,6,2,563]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends k.Disposable{constructor(n,i="",t="",a=!0,u){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=n,this._label=i,this._cssClass=t,this._enabled=a,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(n){this._setLabel(n)}_setLabel(n){this._label!==n&&(this._label=n,this._onDidChange.fire({label:n}))}get tooltip(){return this._tooltip||""}set tooltip(n){this._setTooltip(n)}_setTooltip(n){this._tooltip!==n&&(this._tooltip=n,this._onDidChange.fire({tooltip:n}))}get class(){return this._cssClass}set class(n){this._setClass(n)}_setClass(n){this._cssClass!==n&&(this._cssClass=n,this._onDidChange.fire({class:n}))}get enabled(){return this._enabled}set enabled(n){this._setEnabled(n)}_setEnabled(n){this._enabled!==n&&(this._enabled=n,this._onDidChange.fire({enabled:n}))}get checked(){return this._checked}set checked(n){this._setChecked(n)}_setChecked(n){this._checked!==n&&(this._checked=n,this._onDidChange.fire({checked:n}))}run(n,i){return Se(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(n))})}}e.Action=D;class S extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new L.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event}run(n,i){return Se(this,void 0,void 0,function*(){if(!n.enabled)return;this._onWillRun.fire({action:n});let t;try{yield this.runAction(n,i)}catch(a){t=a}this._onDidRun.fire({action:n,error:t})})}runAction(n,i){return Se(this,void 0,void 0,function*(){yield n.run(i)})}}e.ActionRunner=S;class m{constructor(){this.id=m.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...n){let i=[];for(const t of n)t.length&&(i.length?i=[...i,new m,...t]:i=t);return i}run(){return Se(this,void 0,void 0,function*(){})}}e.Separator=m,m.ID="vs.actions.separator";class _{get actions(){return this._actions}constructor(n,i,t,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=n,this.label=i,this.class=a,this._actions=t}run(){return Se(this,void 0,void 0,function*(){})}}e.SubmenuAction=_;class v extends D{constructor(){super(v.ID,y.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=v,v.ID="vs.actions.empty";function C(s){var n,i;return{id:s.id,label:s.label,class:void 0,enabled:(n=s.enabled)!==null&&n!==void 0?n:!0,checked:(i=s.checked)!==null&&i!==void 0?i:!1,run:()=>Se(this,void 0,void 0,function*(){return s.run()}),tooltip:s.label}}e.toAction=C}),define(ee[564],te([3,4]),function(G,e){return G.create("vs/base/common/errorMessage",e)}),define(ee[565],te([1,0,14,20,564]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(v,C){return C&&(v.stack||v.stacktrace)?y.localize(0,null,m(v),S(v.stack)||S(v.stacktrace)):m(v)}function S(v){return Array.isArray(v)?v.join(`
`):v}function m(v){return v.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${v.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof v.code=="string"&&typeof v.errno=="number"&&typeof v.syscall=="string"?y.localize(1,null,v.message):v.message||y.localize(2,null)}function _(v=null,C=!1){if(!v)return y.localize(3,null);if(Array.isArray(v)){const s=L.coalesce(v),n=_(s[0],C);return s.length>1?y.localize(4,null,n,s.length):n}if(k.isString(v))return v;if(v.detail){const s=v.detail;if(s.error)return D(s.error,C);if(s.exception)return D(s.exception,C)}return v.stack?D(v,C):v.message?v.message:y.localize(5,null)}e.toErrorMessage=_}),define(ee[566],te([3,4]),function(G,e){return G.create("vs/base/common/keybindingLabels",e)}),define(ee[217],te([1,0,566]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,m,_=m){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=m,this.modifierLabels[3]=_}toLabel(S,m,_){if(m.length===0)return null;const v=[];for(let C=0,s=m.length;C<s;C++){const n=m[C],i=_(n);if(i===null)return null;v[C]=y(n,i,this.modifierLabels[S])}return v.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L.localize(0,null),shiftKey:L.localize(1,null),altKey:L.localize(2,null),metaKey:L.localize(3,null),separator:"+"},{ctrlKey:L.localize(4,null),shiftKey:L.localize(5,null),altKey:L.localize(6,null),metaKey:L.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:L.localize(8,null),shiftKey:L.localize(9,null),altKey:L.localize(10,null),metaKey:L.localize(11,null),separator:"+"},{ctrlKey:L.localize(12,null),shiftKey:L.localize(13,null),altKey:L.localize(14,null),metaKey:L.localize(15,null),separator:"+"},{ctrlKey:L.localize(16,null),shiftKey:L.localize(17,null),altKey:L.localize(18,null),metaKey:L.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function y(D,S,m){if(S===null)return"";const _=[];return D.ctrlKey&&_.push(m.ctrlKey),D.shiftKey&&_.push(m.shiftKey),D.altKey&&_.push(m.altKey),D.metaKey&&_.push(m.metaKey),S!==""&&_.push(S),_.join(m.separator)}}),define(ee[567],te([3,4]),function(G,e){return G.create("vs/base/common/platform",e)}),define(ee[17],te([1,0,567]),function(G,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let y=!1,D=!1,S=!1,m=!1,_=!1,v=!1,C=!1,s=!1,n=!1,i=!1,t,a=e.LANGUAGE_DEFAULT,u=e.LANGUAGE_DEFAULT,h,l;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let c;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?c=e.globals.vscode.process:typeof process<"u"&&(c=process);const o=typeof((k=c?.versions)===null||k===void 0?void 0:k.electron)=="string",d=o&&c?.type==="renderer";if(typeof navigator=="object"&&!d)l=navigator.userAgent,y=l.indexOf("Windows")>=0,D=l.indexOf("Macintosh")>=0,s=(l.indexOf("Macintosh")>=0||l.indexOf("iPad")>=0||l.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=l.indexOf("Linux")>=0,i=l?.indexOf("Mobi")>=0,v=!0,t=L.getConfiguredDefaultLocale(L.localize(0,null))||e.LANGUAGE_DEFAULT,a=t,u=navigator.language;else if(typeof c=="object"){y=c.platform==="win32",D=c.platform==="darwin",S=c.platform==="linux",m=S&&!!c.env.SNAP&&!!c.env.SNAP_REVISION,C=o,n=!!c.env.CI||!!c.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=e.LANGUAGE_DEFAULT,a=e.LANGUAGE_DEFAULT;const b=c.env.VSCODE_NLS_CONFIG;if(b)try{const w=JSON.parse(b),E=w.availableLanguages["*"];t=w.locale,u=w.osLocale,a=E||e.LANGUAGE_DEFAULT,h=w._translationsConfigFile}catch{}_=!0}else console.error("Unable to resolve platform.");let r=0;D?r=1:y?r=3:S&&(r=2),e.isWindows=y,e.isMacintosh=D,e.isLinux=S,e.isNative=_,e.isWeb=v,e.isWebWorker=v&&typeof e.globals.importScripts=="function",e.isIOS=s,e.isMobile=i,e.userAgent=l,e.language=a,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const b=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let I=0,N=b.length;I<N;I++){const R=b[I];if(R.id===E.data.vscodeScheduleAsyncWork){b.splice(I,1),R.callback();return}}});let w=0;return E=>{const I=++w;b.push({id:I,callback:E}),e.globals.postMessage({vscodeScheduleAsyncWork:I},"*")}}return b=>setTimeout(b)})(),e.OS=D||s?2:y?1:3;let g=!0,f=!1;function p(){if(!f){f=!0;const b=new Uint8Array(2);b[0]=1,b[1]=2,g=new Uint16Array(b.buffer)[0]===(2<<8)+1}return g}e.isLittleEndian=p,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ee[218],te([1,0,51,17]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||L.isStandalone()?0:navigator.keyboard||L.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ee[43],te([1,0,51,61,118,17]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const i=n.keyCode;if(i===3)return 7;if(L.isFirefox)switch(i){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(L.isWebKit){if(D.isMacintosh&&i===93)return 57;if(!D.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const m=D.isMacintosh?256:2048,_=512,v=1024,C=D.isMacintosh?2048:256;class s{constructor(i){this._standardKeyboardEventBrand=!0;const t=i;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=S(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let t=0;return this.ctrlKey&&(t|=m),this.altKey&&(t|=_),this.shiftKey&&(t|=v),this.metaKey&&(t|=C),t|=i,t}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new y.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=s}),define(ee[59],te([1,0,51,383,17]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=_.button===0,this.middleButton=_.button===1,this.rightButton=_.button===2,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,_.type==="dblclick"&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,typeof _.pageX=="number"?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const v=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window,_.view);this.posx-=v.left,this.posy-=v.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(_,v=0,C=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=C,this.deltaX=v,_){const s=_,n=_;if(typeof s.wheelDeltaY<"u")this.deltaY=s.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS<"u"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(_.type==="wheel"){const i=_;i.deltaMode===i.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaY=-_.deltaY/3:this.deltaY=-_.deltaY:this.deltaY=-_.deltaY/40}if(typeof s.wheelDeltaX<"u")L.isSafari&&y.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS<"u"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-_.detail/3;else if(_.type==="wheel"){const i=_;i.deltaMode===i.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaX=-_.deltaX/3:this.deltaX=-_.deltaX:this.deltaX=-_.deltaX/40}this.deltaY===0&&this.deltaX===0&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){var _;(_=this.browserEvent)===null||_===void 0||_.preventDefault()}stopPropagation(){var _;(_=this.browserEvent)===null||_===void 0||_.stopPropagation()}}e.StandardWheelEvent=S});var yt=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],L;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=G[D]&&function(S){return new Promise(function(m,_){S=G[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(v){D({value:v,done:m})},S)}};define(ee[13],te([1,0,19,9,6,2,17,263]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function _(E){return!!E&&typeof E.then=="function"}e.isThenable=_;function v(E){const I=new L.CancellationTokenSource,N=E(I.token),R=new Promise((F,M)=>{const A=I.token.onCancellationRequested(()=>{A.dispose(),I.dispose(),M(new k.CancellationError)});Promise.resolve(N).then(T=>{A.dispose(),I.dispose(),F(T)},T=>{A.dispose(),I.dispose(),M(T)})});return new class{cancel(){I.cancel()}then(F,M){return R.then(F,M)}catch(F){return this.then(void 0,F)}finally(F){return R.finally(F)}}}e.createCancelablePromise=v;function C(E,I,N){return new Promise((R,F)=>{const M=I.onCancellationRequested(()=>{M.dispose(),R(N)});E.then(R,F).finally(()=>M.dispose())})}e.raceCancellation=C;class s{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(I){if(this.isDisposed)throw new Error("Throttler is disposed");if(this.activePromise){if(this.queuedPromiseFactory=I,!this.queuedPromise){const N=()=>{if(this.queuedPromise=null,this.isDisposed)return;const R=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,R};this.queuedPromise=new Promise(R=>{this.activePromise.then(N,N).then(R)})}return new Promise((N,R)=>{this.queuedPromise.then(N,R)})}return this.activePromise=I(),new Promise((N,R)=>{this.activePromise.then(F=>{this.activePromise=null,N(F)},F=>{this.activePromise=null,R(F)})})}dispose(){this.isDisposed=!0}}e.Throttler=s;const n=(E,I)=>{let N=!0;const R=setTimeout(()=>{N=!1,I()},E);return{isTriggered:()=>N,dispose:()=>{clearTimeout(R),N=!1}}},i=E=>{let I=!0;return queueMicrotask(()=>{I&&(I=!1,E())}),{isTriggered:()=>I,dispose:()=>{I=!1}}};class t{constructor(I){this.defaultDelay=I,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(I,N=this.defaultDelay){this.task=I,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((F,M)=>{this.doResolve=F,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const F=this.task;return this.task=null,F()}}));const R=()=>{var F;this.deferred=null,(F=this.doResolve)===null||F===void 0||F.call(this,null)};return this.deferred=N===m.MicrotaskDelay?i(R):n(N,R),this.completionPromise}isTriggered(){var I;return!!(!((I=this.deferred)===null||I===void 0)&&I.isTriggered())}cancel(){var I;this.cancelTimeout(),this.completionPromise&&((I=this.doReject)===null||I===void 0||I.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var I;(I=this.deferred)===null||I===void 0||I.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class a{constructor(I){this.delayer=new t(I),this.throttler=new s}trigger(I,N){return this.delayer.trigger(()=>this.throttler.queue(I),N)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=a;function u(E,I){return I?new Promise((N,R)=>{const F=setTimeout(()=>{M.dispose(),N()},E),M=I.onCancellationRequested(()=>{clearTimeout(F),M.dispose(),R(new k.CancellationError)})}):v(N=>u(E,N))}e.timeout=u;function h(E,I=0){const N=setTimeout(E,I);return(0,D.toDisposable)(()=>clearTimeout(N))}e.disposableTimeout=h;function l(E,I=R=>!!R,N=null){let R=0;const F=E.length,M=()=>{if(R>=F)return Promise.resolve(N);const A=E[R++];return Promise.resolve(A()).then(O=>I(O)?Promise.resolve(O):M())};return M()}e.first=l;class c{constructor(I,N){this._token=-1,typeof I=="function"&&typeof N=="number"&&this.setIfNotSet(I,N)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(I,N){this.cancel(),this._token=setTimeout(()=>{this._token=-1,I()},N)}setIfNotSet(I,N){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,I()},N))}}e.TimeoutTimer=c;class o{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(I,N){this.cancel(),this._token=setInterval(()=>{I()},N)}}e.IntervalTimer=o;class d{constructor(I,N){this.timeoutToken=-1,this.runner=I,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(I=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,I)}get delay(){return this.timeout}set delay(I){this.timeout=I}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var I;(I=this.runner)===null||I===void 0||I.call(this)}}e.RunOnceScheduler=d,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=E=>{(0,S.setTimeout0)(()=>{if(I)return;const N=Date.now()+15;E(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,N-Date.now())}}))});let I=!1;return{dispose(){I||(I=!0)}}}:e.runWhenIdle=(E,I)=>{const N=requestIdleCallback(E,typeof I=="number"?{timeout:I}:void 0);let R=!1;return{dispose(){R||(R=!0,cancelIdleCallback(N))}}}}();class r{constructor(I){this._didRun=!1,this._executor=()=>{try{this._value=I()}catch(N){this._error=N}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=r;class g{get isRejected(){var I;return((I=this.outcome)===null||I===void 0?void 0:I.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((I,N)=>{this.completeCallback=I,this.errorCallback=N})}complete(I){return new Promise(N=>{this.completeCallback(I),this.outcome={outcome:0,value:I},N()})}error(I){return new Promise(N=>{this.errorCallback(I),this.outcome={outcome:1,value:I},N()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=g;var f;(function(E){function I(R){return Se(this,void 0,void 0,function*(){let F;const M=yield Promise.all(R.map(A=>A.then(T=>T,T=>{F||(F=T)})));if(typeof F<"u")throw F;return M})}E.settled=I;function N(R){return new Promise((F,M)=>Se(this,void 0,void 0,function*(){try{yield R(F,M)}catch(A){M(A)}}))}E.withAsyncBody=N})(f||(e.Promises=f={}));class p{static fromArray(I){return new p(N=>{N.emitMany(I)})}static fromPromise(I){return new p(N=>Se(this,void 0,void 0,function*(){N.emitMany(yield I)}))}static fromPromises(I){return new p(N=>Se(this,void 0,void 0,function*(){yield Promise.all(I.map(R=>Se(this,void 0,void 0,function*(){return N.emitOne(yield R)})))}))}static merge(I){return new p(N=>Se(this,void 0,void 0,function*(){yield Promise.all(I.map(R=>{var F,M,A;return Se(this,void 0,void 0,function*(){var T,O,P,x;try{for(F=!0,M=yt(R);A=yield M.next(),T=A.done,!T;F=!0){x=A.value,F=!1;const z=x;N.emitOne(z)}}catch(z){O={error:z}}finally{try{!F&&!T&&(P=M.return)&&(yield P.call(M))}finally{if(O)throw O.error}}})}))}))}constructor(I){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y.Emitter,queueMicrotask(()=>Se(this,void 0,void 0,function*(){const N={emitOne:R=>this.emitOne(R),emitMany:R=>this.emitMany(R),reject:R=>this.reject(R)};try{yield Promise.resolve(I(N)),this.resolve()}catch(R){this.reject(R)}finally{N.emitOne=void 0,N.emitMany=void 0,N.reject=void 0}}))}[Symbol.asyncIterator](){let I=0;return{next:()=>Se(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(I<this._results.length)return{done:!1,value:this._results[I++]};if(this._state===1)return{done:!0,value:void 0};yield y.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(I,N){return new p(R=>Se(this,void 0,void 0,function*(){var F,M,A,T;try{for(var O=!0,P=yt(I),x;x=yield P.next(),F=x.done,!F;O=!0){T=x.value,O=!1;const z=T;R.emitOne(N(z))}}catch(z){M={error:z}}finally{try{!O&&!F&&(A=P.return)&&(yield A.call(P))}finally{if(M)throw M.error}}}))}map(I){return p.map(this,I)}static filter(I,N){return new p(R=>Se(this,void 0,void 0,function*(){var F,M,A,T;try{for(var O=!0,P=yt(I),x;x=yield P.next(),F=x.done,!F;O=!0){T=x.value,O=!1;const z=T;N(z)&&R.emitOne(z)}}catch(z){M={error:z}}finally{try{!O&&!F&&(A=P.return)&&(yield A.call(P))}finally{if(M)throw M.error}}}))}filter(I){return p.filter(this,I)}static coalesce(I){return p.filter(I,N=>!!N)}coalesce(){return p.coalesce(this)}static toPromise(I){var N,R,F,M,A,T,O;return Se(this,void 0,void 0,function*(){const P=[];try{for(N=!0,R=yt(I);F=yield R.next(),M=F.done,!M;N=!0){O=F.value,N=!1;const x=O;P.push(x)}}catch(x){A={error:x}}finally{try{!N&&!M&&(T=R.return)&&(yield T.call(R))}finally{if(A)throw A.error}}return P})}toPromise(){return p.toPromise(this)}emitOne(I){this._state===0&&(this._results.push(I),this._onStateChanged.fire())}emitMany(I){this._state===0&&(this._results=this._results.concat(I),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(I){this._state===0&&(this._state=2,this._error=I,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class b extends p{constructor(I,N){super(N),this._source=I}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=b;function w(E){const I=new L.CancellationTokenSource,N=E(I.token);return new b(I,R=>Se(this,void 0,void 0,function*(){var F,M,A,T;const O=I.token.onCancellationRequested(()=>{O.dispose(),I.dispose(),R.reject(new k.CancellationError)});try{try{for(var P=!0,x=yt(N),z;z=yield x.next(),F=z.done,!F;P=!0){T=z.value,P=!1;const q=T;if(I.token.isCancellationRequested)return;R.emitOne(q)}}catch(q){M={error:q}}finally{try{!P&&!F&&(A=x.return)&&(yield A.call(x))}finally{if(M)throw M.error}}O.dispose(),I.dispose()}catch(q){O.dispose(),I.dispose(),R.reject(q)}}))}e.createCancelableAsyncIterable=w}),define(ee[568],te([1,0,13,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class y extends k.Disposable{constructor(S,m,_){super(),this._visibility=S,this._visibleClassName=m,this._invisibleClassName=_,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new L.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var S;(S=this._domNode)===null||S===void 0||S.setClassName(this._visibleClassName)},0))}_hide(S){var m;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(m=this._domNode)===null||m===void 0||m.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=y}),define(ee[219],te([1,0,137,14,13,263,168,6,47]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=v;function C(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=C;function s(i){return typeof i.collapsible=="boolean"}class n{constructor(t,a,u,h={}){this.user=t,this.list=a,this.rootRef=[],this.eventBufferer=new m.EventBufferer,this._onDidChangeCollapseState=new m.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new m.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new m.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new y.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof h.collapseByDefault>"u"?!1:h.collapseByDefault,this.filter=h.filter,this.autoExpandSingleChildren=typeof h.autoExpandSingleChildren>"u"?!1:h.autoExpandSingleChildren,this.root={parent:void 0,element:u,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,a,u=_.Iterable.empty(),h={}){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");h.diffIdentityProvider?this.spliceSmart(h.diffIdentityProvider,t,a,u,h):this.spliceSimple(t,a,u,h)}spliceSmart(t,a,u,h,l,c){var o;h===void 0&&(h=_.Iterable.empty()),c===void 0&&(c=(o=l.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:d}=this.getParentNodeWithListIndex(a);if(!d.lastDiffIds)return this.spliceSimple(a,u,h,l);const r=[...h],g=a[a.length-1],f=new S.LcsDiff({getElements:()=>d.lastDiffIds},{getElements:()=>[...d.children.slice(0,g),...r,...d.children.slice(g+u)].map(I=>t.getId(I.element).toString())}).ComputeDiff(!1);if(f.quitEarly)return d.lastDiffIds=void 0,this.spliceSimple(a,u,r,l);const p=a.slice(0,-1),b=(I,N,R)=>{if(c>0)for(let F=0;F<R;F++)I--,N--,this.spliceSmart(t,[...p,I,0],Number.MAX_SAFE_INTEGER,r[N].children,l,c-1)};let w=Math.min(d.children.length,g+u),E=r.length;for(const I of f.changes.sort((N,R)=>R.originalStart-N.originalStart))b(w,E,w-(I.originalStart+I.originalLength)),w=I.originalStart,E=I.modifiedStart-g,this.spliceSimple([...p,w],I.originalLength,_.Iterable.slice(r,E,E+I.modifiedLength),l);b(w,E,w)}spliceSimple(t,a,u=_.Iterable.empty(),{onDidCreateNode:h,onDidDeleteNode:l,diffIdentityProvider:c}){const{parentNode:o,listIndex:d,revealed:r,visible:g}=this.getParentNodeWithListIndex(t),f=[],p=_.Iterable.map(u,O=>this.createTreeNode(O,o,o.visible?1:0,r,f,h)),b=t[t.length-1],w=o.children.length>0;let E=0;for(let O=b;O>=0&&O<o.children.length;O--){const P=o.children[O];if(P.visible){E=P.visibleChildIndex;break}}const I=[];let N=0,R=0;for(const O of p)I.push(O),R+=O.renderNodeCount,O.visible&&(O.visibleChildIndex=E+N++);const F=(0,k.splice)(o.children,b,a,I);c?o.lastDiffIds?(0,k.splice)(o.lastDiffIds,b,a,I.map(O=>c.getId(O.element).toString())):o.lastDiffIds=o.children.map(O=>c.getId(O.element).toString()):o.lastDiffIds=void 0;let M=0;for(const O of F)O.visible&&M++;if(M!==0)for(let O=b+I.length;O<o.children.length;O++){const P=o.children[O];P.visible&&(P.visibleChildIndex-=M)}if(o.visibleChildrenCount+=N-M,r&&g){const O=F.reduce((P,x)=>P+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,R-O),this.list.splice(d,O,f)}if(F.length>0&&l){const O=P=>{l(P),P.children.forEach(O)};F.forEach(O)}this._onDidSplice.fire({insertedNodes:I,deletedNodes:F});const A=o.children.length>0;w!==A&&this.setCollapsible(t.slice(0,-1),A);let T=o;for(;T;){if(T.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}T=T.parent}}rerender(t){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{node:a,listIndex:u,revealed:h}=this.getTreeNodeWithListIndex(t);a.visible&&h&&this.list.splice(u,1,[a])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:a,visible:u,revealed:h}=this.getTreeNodeWithListIndex(t);return u&&h?a:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,a){const u=this.getTreeNode(t);typeof a>"u"&&(a=!u.collapsible);const h={collapsible:a};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,h))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,a,u){const h=this.getTreeNode(t);typeof a>"u"&&(a=!h.collapsed);const l={collapsed:a,recursive:u||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,l))}_setCollapseState(t,a){const{node:u,listIndex:h,revealed:l}=this.getTreeNodeWithListIndex(t),c=this._setListNodeCollapseState(u,h,l,a);if(u!==this.root&&this.autoExpandSingleChildren&&c&&!s(a)&&u.collapsible&&!u.collapsed&&!a.recursive){let o=-1;for(let d=0;d<u.children.length;d++)if(u.children[d].visible)if(o>-1){o=-1;break}else o=d;o>-1&&this._setCollapseState([...t,o],a)}return c}_setListNodeCollapseState(t,a,u,h){const l=this._setNodeCollapseState(t,h,!1);if(!u||!t.visible||!l)return l;const c=t.renderNodeCount,o=this.updateNodeAfterCollapseChange(t),d=c-(a===-1?0:1);return this.list.splice(a+1,d,o.slice(1)),l}_setNodeCollapseState(t,a,u){let h;if(t===this.root?h=!1:(s(a)?(h=t.collapsible!==a.collapsible,t.collapsible=a.collapsible):t.collapsible?(h=t.collapsed!==a.collapsed,t.collapsed=a.collapsed):h=!1,h&&this._onDidChangeCollapseState.fire({node:t,deep:u})),!s(a)&&a.recursive)for(const l of t.children)h=this._setNodeCollapseState(l,a,!0)||h;return h}expandTo(t){this.eventBufferer.bufferEvents(()=>{let a=this.getTreeNode(t);for(;a.parent;)a=a.parent,t=t.slice(0,t.length-1),a.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,a=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,a),this.refilterDelayer.cancel()}createTreeNode(t,a,u,h,l,c){const o={parent:a,element:t.element,children:[],depth:a.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(o,u);o.visibility=d,h&&l.push(o);const r=t.children||_.Iterable.empty(),g=h&&d!==0&&!o.collapsed;let f=0,p=1;for(const b of r){const w=this.createTreeNode(b,o,d,g,l,c);o.children.push(w),p+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=f++)}return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=f,o.visible=d===2?f>0:d===1,o.visible?o.collapsed||(o.renderNodeCount=p):(o.renderNodeCount=0,h&&l.pop()),c?.(o),o}updateNodeAfterCollapseChange(t){const a=t.renderNodeCount,u=[];return this._updateNodeAfterCollapseChange(t,u),this._updateAncestorsRenderNodeCount(t.parent,u.length-a),u}_updateNodeAfterCollapseChange(t,a){if(t.visible===!1)return 0;if(a.push(t),t.renderNodeCount=1,!t.collapsed)for(const u of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(u,a);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const a=t.renderNodeCount,u=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,u),this._updateAncestorsRenderNodeCount(t.parent,u.length-a),u}_updateNodeAfterFilterChange(t,a,u,h=!0){let l;if(t!==this.root){if(l=this._filterNode(t,a),l===0)return t.visible=!1,t.renderNodeCount=0,!1;h&&u.push(t)}const c=u.length;t.renderNodeCount=t===this.root?0:1;let o=!1;if(!t.collapsed||l!==0){let d=0;for(const r of t.children)o=this._updateNodeAfterFilterChange(r,l,u,h&&!t.collapsed)||o,r.visible&&(r.visibleChildIndex=d++);t.visibleChildrenCount=d}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=l===2?o:l===1,t.visibility=l),t.visible?t.collapsed||(t.renderNodeCount+=u.length-c):(t.renderNodeCount=0,h&&u.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,a){if(a!==0)for(;t;)t.renderNodeCount+=a,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,a){const u=this.filter?this.filter.filter(t.element,a):1;return typeof u=="boolean"?(t.filterData=void 0,u?1:0):v(u)?(t.filterData=u.data,C(u.visibility)):(t.filterData=void 0,C(u))}hasTreeNode(t,a=this.root){if(!t||t.length===0)return!0;const[u,...h]=t;return u<0||u>a.children.length?!1:this.hasTreeNode(h,a.children[u])}getTreeNode(t,a=this.root){if(!t||t.length===0)return a;const[u,...h]=t;if(u<0||u>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");return this.getTreeNode(h,a.children[u])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:a,listIndex:u,revealed:h,visible:l}=this.getParentNodeWithListIndex(t),c=t[t.length-1];if(c<0||c>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");const o=a.children[c];return{node:o,listIndex:u,revealed:h,visible:l&&o.visible}}getParentNodeWithListIndex(t,a=this.root,u=0,h=!0,l=!0){const[c,...o]=t;if(c<0||c>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");for(let d=0;d<c;d++)u+=a.children[d].renderNodeCount;return h=h&&!a.collapsed,l=l&&a.visible,o.length===0?{parentNode:a,listIndex:u,revealed:h,visible:l}:this.getParentNodeWithListIndex(o,a.children[c],u+1,h,l)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const a=[];let u=t;for(;u.parent;)a.push(u.parent.children.indexOf(u)),u=u.parent;return a.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const a=this.getTreeNode(t);if(a.children.length!==0)return a.children[0].element}}e.IndexTreeModel=n}),define(ee[220],te([1,0,219,137,47]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(m,_,v={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L.IndexTreeModel(m,_,null,v),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,v.sorter&&(this.sorter={compare(C,s){return v.sorter.compare(C.element,s.element)}}),this.identityProvider=v.identityProvider}setChildren(m,_=y.Iterable.empty(),v={}){const C=this.getElementLocation(m);this._setChildren(C,this.preserveCollapseState(_),v)}_setChildren(m,_=y.Iterable.empty(),v){const C=new Set,s=new Set,n=t=>{var a;if(t.element===null)return;const u=t;if(C.add(u.element),this.nodes.set(u.element,u),this.identityProvider){const h=this.identityProvider.getId(u.element).toString();s.add(h),this.nodesByIdentity.set(h,u)}(a=v.onDidCreateNode)===null||a===void 0||a.call(v,u)},i=t=>{var a;if(t.element===null)return;const u=t;if(C.has(u.element)||this.nodes.delete(u.element),this.identityProvider){const h=this.identityProvider.getId(u.element).toString();s.has(h)||this.nodesByIdentity.delete(h)}(a=v.onDidDeleteNode)===null||a===void 0||a.call(v,u)};this.model.splice([...m,0],Number.MAX_VALUE,_,Object.assign(Object.assign({},v),{onDidCreateNode:n,onDidDeleteNode:i}))}preserveCollapseState(m=y.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),y.Iterable.map(m,_=>{let v=this.nodes.get(_.element);if(!v&&this.identityProvider){const n=this.identityProvider.getId(_.element).toString();v=this.nodesByIdentity.get(n)}if(!v){let n;return typeof _.collapsed>"u"?n=void 0:_.collapsed===k.ObjectTreeElementCollapseState.Collapsed||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?n=!0:_.collapsed===k.ObjectTreeElementCollapseState.Expanded||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?n=!1:n=!!_.collapsed,Object.assign(Object.assign({},_),{children:this.preserveCollapseState(_.children),collapsed:n})}const C=typeof _.collapsible=="boolean"?_.collapsible:v.collapsible;let s;return typeof _.collapsed>"u"||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=v.collapsed:_.collapsed===k.ObjectTreeElementCollapseState.Collapsed?s=!0:_.collapsed===k.ObjectTreeElementCollapseState.Expanded?s=!1:s=!!_.collapsed,Object.assign(Object.assign({},_),{collapsible:C,collapsed:s,children:this.preserveCollapseState(_.children)})})}rerender(m){const _=this.getElementLocation(m);this.model.rerender(_)}getFirstElementChild(m=null){const _=this.getElementLocation(m);return this.model.getFirstElementChild(_)}has(m){return this.nodes.has(m)}getListIndex(m){const _=this.getElementLocation(m);return this.model.getListIndex(_)}getListRenderCount(m){const _=this.getElementLocation(m);return this.model.getListRenderCount(_)}isCollapsible(m){const _=this.getElementLocation(m);return this.model.isCollapsible(_)}setCollapsible(m,_){const v=this.getElementLocation(m);return this.model.setCollapsible(v,_)}isCollapsed(m){const _=this.getElementLocation(m);return this.model.isCollapsed(_)}setCollapsed(m,_,v){const C=this.getElementLocation(m);return this.model.setCollapsed(C,_,v)}expandTo(m){const _=this.getElementLocation(m);this.model.expandTo(_)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const _=this.nodes.get(m);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return _}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const _=this.nodes.get(m);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${m}`);const v=this.model.getNodeLocation(_),C=this.model.getParentNodeLocation(v);return this.model.getNode(C).element}getElementLocation(m){if(m===null)return[];const _=this.nodes.get(m);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(_)}}e.ObjectTreeModel=D}),define(ee[569],te([1,0,220,137,14,6,47]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function m(c){const o=[c.element],d=c.incompressible||!1;return{element:{elements:o,incompressible:d},children:S.Iterable.map(S.Iterable.from(c.children),m),collapsible:c.collapsible,collapsed:c.collapsed}}function _(c){const o=[c.element],d=c.incompressible||!1;let r,g;for(;[g,r]=S.Iterable.consume(S.Iterable.from(c.children),2),!(g.length!==1||g[0].incompressible);)c=g[0],o.push(c.element);return{element:{elements:o,incompressible:d},children:S.Iterable.map(S.Iterable.concat(g,r),_),collapsible:c.collapsible,collapsed:c.collapsed}}e.compress=_;function v(c,o=0){let d;return o<c.element.elements.length-1?d=[v(c,o+1)]:d=S.Iterable.map(S.Iterable.from(c.children),r=>v(r,0)),o===0&&c.element.incompressible?{element:c.element.elements[o],children:d,incompressible:!0,collapsible:c.collapsible,collapsed:c.collapsed}:{element:c.element.elements[o],children:d,collapsible:c.collapsible,collapsed:c.collapsed}}function C(c){return v(c,0)}e.decompress=C;function s(c,o,d){return c.element===o?Object.assign(Object.assign({},c),{children:d}):Object.assign(Object.assign({},c),{children:S.Iterable.map(S.Iterable.from(c.children),r=>s(r,o,d))})}const n=c=>({getId(o){return o.elements.map(d=>c.getId(d).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(o,d,r={}){this.user=o,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(o,d,r),this.enabled=typeof r.compressionEnabled>"u"?!0:r.compressionEnabled,this.identityProvider=r.identityProvider}setChildren(o,d=S.Iterable.empty(),r){const g=r.diffIdentityProvider&&n(r.diffIdentityProvider);if(o===null){const M=S.Iterable.map(d,this.enabled?_:m);this._setChildren(null,M,{diffIdentityProvider:g,diffDepth:1/0});return}const f=this.nodes.get(o);if(!f)throw new k.TreeError(this.user,"Unknown compressed tree node");const p=this.model.getNode(f),b=this.model.getParentNodeLocation(f),w=this.model.getNode(b),E=C(p),I=s(E,o,d),N=(this.enabled?_:m)(I),R=r.diffIdentityProvider?(M,A)=>r.diffIdentityProvider.getId(M)===r.diffIdentityProvider.getId(A):void 0;if((0,y.equals)(N.element.elements,p.element.elements,R)){this._setChildren(f,N.children||S.Iterable.empty(),{diffIdentityProvider:g,diffDepth:1});return}const F=w.children.map(M=>M===p?N:M);this._setChildren(w.element,F,{diffIdentityProvider:g,diffDepth:p.depth-w.depth})}setCompressionEnabled(o){if(o===this.enabled)return;this.enabled=o;const r=this.model.getNode().children,g=S.Iterable.map(r,C),f=S.Iterable.map(g,o?_:m);this._setChildren(null,f,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(o,d,r){const g=new Set,f=b=>{for(const w of b.element.elements)g.add(w),this.nodes.set(w,b.element)},p=b=>{for(const w of b.element.elements)g.has(w)||this.nodes.delete(w)};this.model.setChildren(o,d,Object.assign(Object.assign({},r),{onDidCreateNode:f,onDidDeleteNode:p}))}has(o){return this.nodes.has(o)}getListIndex(o){const d=this.getCompressedNode(o);return this.model.getListIndex(d)}getListRenderCount(o){const d=this.getCompressedNode(o);return this.model.getListRenderCount(d)}getNode(o){if(typeof o>"u")return this.model.getNode();const d=this.getCompressedNode(o);return this.model.getNode(d)}getNodeLocation(o){const d=this.model.getNodeLocation(o);return d===null?null:d.elements[d.elements.length-1]}getParentNodeLocation(o){const d=this.getCompressedNode(o),r=this.model.getParentNodeLocation(d);return r===null?null:r.elements[r.elements.length-1]}getFirstElementChild(o){const d=this.getCompressedNode(o);return this.model.getFirstElementChild(d)}isCollapsible(o){const d=this.getCompressedNode(o);return this.model.isCollapsible(d)}setCollapsible(o,d){const r=this.getCompressedNode(o);return this.model.setCollapsible(r,d)}isCollapsed(o){const d=this.getCompressedNode(o);return this.model.isCollapsed(d)}setCollapsed(o,d,r){const g=this.getCompressedNode(o);return this.model.setCollapsed(g,d,r)}expandTo(o){const d=this.getCompressedNode(o);this.model.expandTo(d)}rerender(o){const d=this.getCompressedNode(o);this.model.rerender(d)}refilter(){this.model.refilter()}getCompressedNode(o){if(o===null)return null;const d=this.nodes.get(o);if(!d)throw new k.TreeError(this.user,`Tree element not found: ${o}`);return d}}e.CompressedObjectTreeModel=i;const t=c=>c[c.length-1];e.DefaultElementMapper=t;class a{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(o=>new a(this.unwrapper,o))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(o,d){this.unwrapper=o,this.node=d}}function u(c,o){return{splice(d,r,g){o.splice(d,r,g.map(f=>c.map(f)))},updateElementHeight(d,r){o.updateElementHeight(d,r)}}}function h(c,o){return Object.assign(Object.assign({},o),{identityProvider:o.identityProvider&&{getId(d){return o.identityProvider.getId(c(d))}},sorter:o.sorter&&{compare(d,r){return o.sorter.compare(d.elements[0],r.elements[0])}},filter:o.filter&&{filter(d,r){return o.filter.filter(c(d),r)}}})}class l{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:o,deletedNodes:d})=>({insertedNodes:o.map(r=>this.nodeMapper.map(r)),deletedNodes:d.map(r=>this.nodeMapper.map(r))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:o,deep:d})=>({node:this.nodeMapper.map(o),deep:d}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,o=>this.nodeMapper.map(o))}constructor(o,d,r={}){this.rootRef=null,this.elementMapper=r.elementMapper||e.DefaultElementMapper;const g=f=>this.elementMapper(f.elements);this.nodeMapper=new k.WeakMapper(f=>new a(g,f)),this.model=new i(o,u(this.nodeMapper,d),h(g,r))}setChildren(o,d=S.Iterable.empty(),r={}){this.model.setChildren(o,d,r)}setCompressionEnabled(o){this.model.setCompressionEnabled(o)}has(o){return this.model.has(o)}getListIndex(o){return this.model.getListIndex(o)}getListRenderCount(o){return this.model.getListRenderCount(o)}getNode(o){return this.nodeMapper.map(this.model.getNode(o))}getNodeLocation(o){return o.element}getParentNodeLocation(o){return this.model.getParentNodeLocation(o)}getFirstElementChild(o){const d=this.model.getFirstElementChild(o);return d===null||typeof d>"u"?d:this.elementMapper(d.elements)}isCollapsible(o){return this.model.isCollapsible(o)}setCollapsible(o,d){return this.model.setCollapsible(o,d)}isCollapsed(o){return this.model.isCollapsed(o)}setCollapsed(o,d,r){return this.model.setCollapsed(o,d,r)}expandTo(o){return this.model.expandTo(o)}rerender(o){return this.model.rerender(o)}refilter(){return this.model.refilter()}getCompressedTreeNode(o=null){return this.model.getNode(o)}}e.CompressibleObjectTreeModel=l}),define(ee[306],te([1,0,17]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof L.globals.vscode<"u"&&typeof L.globals.vscode.process<"u"){const y=L.globals.vscode.process;k={get platform(){return y.platform},get arch(){return y.arch},get env(){return y.env},cwd(){return y.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ee[570],te([1,0,306]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerHotReloadHandler=e.isHotReloadEnabled=void 0;function k(){return!!L.env.VSCODE_DEV}e.isHotReloadEnabled=k;function y(m){if(k()){const _=D();return _.add(m),{dispose(){_.delete(m)}}}else return{dispose(){}}}e.registerHotReloadHandler=y;function D(){S||(S=new Set);const m=globalThis;return m.$hotReload_applyNewExports||(m.$hotReload_applyNewExports=_=>{for(const v of S){const C=v(_);if(C)return C}}),S}let S}),define(ee[92],te([1,0,306]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,y=97,D=90,S=122,m=46,_=47,v=92,C=58,s=63;class n extends Error{constructor(g,f,p){let b;typeof f=="string"&&f.indexOf("not ")===0?(b="must not be",f=f.replace(/^not /,"")):b="must be";const w=g.indexOf(".")!==-1?"property":"argument";let E=`The "${g}" ${w} ${b} of type ${f}`;E+=`. Received type ${typeof p}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function i(r,g){if(r===null||typeof r!="object")throw new n(g,"Object",r)}function t(r,g){if(typeof r!="string")throw new n(g,"string",r)}const a=L.platform==="win32";function u(r){return r===_||r===v}function h(r){return r===_}function l(r){return r>=k&&r<=D||r>=y&&r<=S}function c(r,g,f,p){let b="",w=0,E=-1,I=0,N=0;for(let R=0;R<=r.length;++R){if(R<r.length)N=r.charCodeAt(R);else{if(p(N))break;N=_}if(p(N)){if(!(E===R-1||I===1))if(I===2){if(b.length<2||w!==2||b.charCodeAt(b.length-1)!==m||b.charCodeAt(b.length-2)!==m){if(b.length>2){const F=b.lastIndexOf(f);F===-1?(b="",w=0):(b=b.slice(0,F),w=b.length-1-b.lastIndexOf(f)),E=R,I=0;continue}else if(b.length!==0){b="",w=0,E=R,I=0;continue}}g&&(b+=b.length>0?`${f}..`:"..",w=2)}else b.length>0?b+=`${f}${r.slice(E+1,R)}`:b=r.slice(E+1,R),w=R-E-1;E=R,I=0}else N===m&&I!==-1?++I:I=-1}return b}function o(r,g){i(g,"pathObject");const f=g.dir||g.root,p=g.base||`${g.name||""}${g.ext||""}`;return f?f===g.root?`${f}${p}`:`${f}${r}${p}`:p}e.win32={resolve(...r){let g="",f="",p=!1;for(let b=r.length-1;b>=-1;b--){let w;if(b>=0){if(w=r[b],t(w,"path"),w.length===0)continue}else g.length===0?w=L.cwd():(w=L.env[`=${g}`]||L.cwd(),(w===void 0||w.slice(0,2).toLowerCase()!==g.toLowerCase()&&w.charCodeAt(2)===v)&&(w=`${g}\\`));const E=w.length;let I=0,N="",R=!1;const F=w.charCodeAt(0);if(E===1)u(F)&&(I=1,R=!0);else if(u(F))if(R=!0,u(w.charCodeAt(1))){let M=2,A=M;for(;M<E&&!u(w.charCodeAt(M));)M++;if(M<E&&M!==A){const T=w.slice(A,M);for(A=M;M<E&&u(w.charCodeAt(M));)M++;if(M<E&&M!==A){for(A=M;M<E&&!u(w.charCodeAt(M));)M++;(M===E||M!==A)&&(N=`\\\\${T}\\${w.slice(A,M)}`,I=M)}}}else I=1;else l(F)&&w.charCodeAt(1)===C&&(N=w.slice(0,2),I=2,E>2&&u(w.charCodeAt(2))&&(R=!0,I=3));if(N.length>0)if(g.length>0){if(N.toLowerCase()!==g.toLowerCase())continue}else g=N;if(p){if(g.length>0)break}else if(f=`${w.slice(I)}\\${f}`,p=R,R&&g.length>0)break}return f=c(f,!p,"\\",u),p?`${g}\\${f}`:`${g}${f}`||"."},normalize(r){t(r,"path");const g=r.length;if(g===0)return".";let f=0,p,b=!1;const w=r.charCodeAt(0);if(g===1)return h(w)?"\\":r;if(u(w))if(b=!0,u(r.charCodeAt(1))){let I=2,N=I;for(;I<g&&!u(r.charCodeAt(I));)I++;if(I<g&&I!==N){const R=r.slice(N,I);for(N=I;I<g&&u(r.charCodeAt(I));)I++;if(I<g&&I!==N){for(N=I;I<g&&!u(r.charCodeAt(I));)I++;if(I===g)return`\\\\${R}\\${r.slice(N)}\\`;I!==N&&(p=`\\\\${R}\\${r.slice(N,I)}`,f=I)}}}else f=1;else l(w)&&r.charCodeAt(1)===C&&(p=r.slice(0,2),f=2,g>2&&u(r.charCodeAt(2))&&(b=!0,f=3));let E=f<g?c(r.slice(f),!b,"\\",u):"";return E.length===0&&!b&&(E="."),E.length>0&&u(r.charCodeAt(g-1))&&(E+="\\"),p===void 0?b?`\\${E}`:E:b?`${p}\\${E}`:`${p}${E}`},isAbsolute(r){t(r,"path");const g=r.length;if(g===0)return!1;const f=r.charCodeAt(0);return u(f)||g>2&&l(f)&&r.charCodeAt(1)===C&&u(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let g,f;for(let w=0;w<r.length;++w){const E=r[w];t(E,"path"),E.length>0&&(g===void 0?g=f=E:g+=`\\${E}`)}if(g===void 0)return".";let p=!0,b=0;if(typeof f=="string"&&u(f.charCodeAt(0))){++b;const w=f.length;w>1&&u(f.charCodeAt(1))&&(++b,w>2&&(u(f.charCodeAt(2))?++b:p=!1))}if(p){for(;b<g.length&&u(g.charCodeAt(b));)b++;b>=2&&(g=`\\${g.slice(b)}`)}return e.win32.normalize(g)},relative(r,g){if(t(r,"from"),t(g,"to"),r===g)return"";const f=e.win32.resolve(r),p=e.win32.resolve(g);if(f===p||(r=f.toLowerCase(),g=p.toLowerCase(),r===g))return"";let b=0;for(;b<r.length&&r.charCodeAt(b)===v;)b++;let w=r.length;for(;w-1>b&&r.charCodeAt(w-1)===v;)w--;const E=w-b;let I=0;for(;I<g.length&&g.charCodeAt(I)===v;)I++;let N=g.length;for(;N-1>I&&g.charCodeAt(N-1)===v;)N--;const R=N-I,F=E<R?E:R;let M=-1,A=0;for(;A<F;A++){const O=r.charCodeAt(b+A);if(O!==g.charCodeAt(I+A))break;O===v&&(M=A)}if(A!==F){if(M===-1)return p}else{if(R>F){if(g.charCodeAt(I+A)===v)return p.slice(I+A+1);if(A===2)return p.slice(I+A)}E>F&&(r.charCodeAt(b+A)===v?M=A:A===2&&(M=3)),M===-1&&(M=0)}let T="";for(A=b+M+1;A<=w;++A)(A===w||r.charCodeAt(A)===v)&&(T+=T.length===0?"..":"\\..");return I+=M,T.length>0?`${T}${p.slice(I,N)}`:(p.charCodeAt(I)===v&&++I,p.slice(I,N))},toNamespacedPath(r){if(typeof r!="string"||r.length===0)return r;const g=e.win32.resolve(r);if(g.length<=2)return r;if(g.charCodeAt(0)===v){if(g.charCodeAt(1)===v){const f=g.charCodeAt(2);if(f!==s&&f!==m)return`\\\\?\\UNC\\${g.slice(2)}`}}else if(l(g.charCodeAt(0))&&g.charCodeAt(1)===C&&g.charCodeAt(2)===v)return`\\\\?\\${g}`;return r},dirname(r){t(r,"path");const g=r.length;if(g===0)return".";let f=-1,p=0;const b=r.charCodeAt(0);if(g===1)return u(b)?r:".";if(u(b)){if(f=p=1,u(r.charCodeAt(1))){let I=2,N=I;for(;I<g&&!u(r.charCodeAt(I));)I++;if(I<g&&I!==N){for(N=I;I<g&&u(r.charCodeAt(I));)I++;if(I<g&&I!==N){for(N=I;I<g&&!u(r.charCodeAt(I));)I++;if(I===g)return r;I!==N&&(f=p=I+1)}}}}else l(b)&&r.charCodeAt(1)===C&&(f=g>2&&u(r.charCodeAt(2))?3:2,p=f);let w=-1,E=!0;for(let I=g-1;I>=p;--I)if(u(r.charCodeAt(I))){if(!E){w=I;break}}else E=!1;if(w===-1){if(f===-1)return".";w=f}return r.slice(0,w)},basename(r,g){g!==void 0&&t(g,"ext"),t(r,"path");let f=0,p=-1,b=!0,w;if(r.length>=2&&l(r.charCodeAt(0))&&r.charCodeAt(1)===C&&(f=2),g!==void 0&&g.length>0&&g.length<=r.length){if(g===r)return"";let E=g.length-1,I=-1;for(w=r.length-1;w>=f;--w){const N=r.charCodeAt(w);if(u(N)){if(!b){f=w+1;break}}else I===-1&&(b=!1,I=w+1),E>=0&&(N===g.charCodeAt(E)?--E===-1&&(p=w):(E=-1,p=I))}return f===p?p=I:p===-1&&(p=r.length),r.slice(f,p)}for(w=r.length-1;w>=f;--w)if(u(r.charCodeAt(w))){if(!b){f=w+1;break}}else p===-1&&(b=!1,p=w+1);return p===-1?"":r.slice(f,p)},extname(r){t(r,"path");let g=0,f=-1,p=0,b=-1,w=!0,E=0;r.length>=2&&r.charCodeAt(1)===C&&l(r.charCodeAt(0))&&(g=p=2);for(let I=r.length-1;I>=g;--I){const N=r.charCodeAt(I);if(u(N)){if(!w){p=I+1;break}continue}b===-1&&(w=!1,b=I+1),N===m?f===-1?f=I:E!==1&&(E=1):f!==-1&&(E=-1)}return f===-1||b===-1||E===0||E===1&&f===b-1&&f===p+1?"":r.slice(f,b)},format:o.bind(null,"\\"),parse(r){t(r,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return g;const f=r.length;let p=0,b=r.charCodeAt(0);if(f===1)return u(b)?(g.root=g.dir=r,g):(g.base=g.name=r,g);if(u(b)){if(p=1,u(r.charCodeAt(1))){let M=2,A=M;for(;M<f&&!u(r.charCodeAt(M));)M++;if(M<f&&M!==A){for(A=M;M<f&&u(r.charCodeAt(M));)M++;if(M<f&&M!==A){for(A=M;M<f&&!u(r.charCodeAt(M));)M++;M===f?p=M:M!==A&&(p=M+1)}}}}else if(l(b)&&r.charCodeAt(1)===C){if(f<=2)return g.root=g.dir=r,g;if(p=2,u(r.charCodeAt(2))){if(f===3)return g.root=g.dir=r,g;p=3}}p>0&&(g.root=r.slice(0,p));let w=-1,E=p,I=-1,N=!0,R=r.length-1,F=0;for(;R>=p;--R){if(b=r.charCodeAt(R),u(b)){if(!N){E=R+1;break}continue}I===-1&&(N=!1,I=R+1),b===m?w===-1?w=R:F!==1&&(F=1):w!==-1&&(F=-1)}return I!==-1&&(w===-1||F===0||F===1&&w===I-1&&w===E+1?g.base=g.name=r.slice(E,I):(g.name=r.slice(E,w),g.base=r.slice(E,I),g.ext=r.slice(w,I))),E>0&&E!==p?g.dir=r.slice(0,E-1):g.dir=g.root,g},sep:"\\",delimiter:";",win32:null,posix:null};const d=(()=>{if(a){const r=/\\/g;return()=>{const g=L.cwd().replace(r,"/");return g.slice(g.indexOf("/"))}}return()=>L.cwd()})();e.posix={resolve(...r){let g="",f=!1;for(let p=r.length-1;p>=-1&&!f;p--){const b=p>=0?r[p]:d();t(b,"path"),b.length!==0&&(g=`${b}/${g}`,f=b.charCodeAt(0)===_)}return g=c(g,!f,"/",h),f?`/${g}`:g.length>0?g:"."},normalize(r){if(t(r,"path"),r.length===0)return".";const g=r.charCodeAt(0)===_,f=r.charCodeAt(r.length-1)===_;return r=c(r,!g,"/",h),r.length===0?g?"/":f?"./":".":(f&&(r+="/"),g?`/${r}`:r)},isAbsolute(r){return t(r,"path"),r.length>0&&r.charCodeAt(0)===_},join(...r){if(r.length===0)return".";let g;for(let f=0;f<r.length;++f){const p=r[f];t(p,"path"),p.length>0&&(g===void 0?g=p:g+=`/${p}`)}return g===void 0?".":e.posix.normalize(g)},relative(r,g){if(t(r,"from"),t(g,"to"),r===g||(r=e.posix.resolve(r),g=e.posix.resolve(g),r===g))return"";const f=1,p=r.length,b=p-f,w=1,E=g.length-w,I=b<E?b:E;let N=-1,R=0;for(;R<I;R++){const M=r.charCodeAt(f+R);if(M!==g.charCodeAt(w+R))break;M===_&&(N=R)}if(R===I)if(E>I){if(g.charCodeAt(w+R)===_)return g.slice(w+R+1);if(R===0)return g.slice(w+R)}else b>I&&(r.charCodeAt(f+R)===_?N=R:R===0&&(N=0));let F="";for(R=f+N+1;R<=p;++R)(R===p||r.charCodeAt(R)===_)&&(F+=F.length===0?"..":"/..");return`${F}${g.slice(w+N)}`},toNamespacedPath(r){return r},dirname(r){if(t(r,"path"),r.length===0)return".";const g=r.charCodeAt(0)===_;let f=-1,p=!0;for(let b=r.length-1;b>=1;--b)if(r.charCodeAt(b)===_){if(!p){f=b;break}}else p=!1;return f===-1?g?"/":".":g&&f===1?"//":r.slice(0,f)},basename(r,g){g!==void 0&&t(g,"ext"),t(r,"path");let f=0,p=-1,b=!0,w;if(g!==void 0&&g.length>0&&g.length<=r.length){if(g===r)return"";let E=g.length-1,I=-1;for(w=r.length-1;w>=0;--w){const N=r.charCodeAt(w);if(N===_){if(!b){f=w+1;break}}else I===-1&&(b=!1,I=w+1),E>=0&&(N===g.charCodeAt(E)?--E===-1&&(p=w):(E=-1,p=I))}return f===p?p=I:p===-1&&(p=r.length),r.slice(f,p)}for(w=r.length-1;w>=0;--w)if(r.charCodeAt(w)===_){if(!b){f=w+1;break}}else p===-1&&(b=!1,p=w+1);return p===-1?"":r.slice(f,p)},extname(r){t(r,"path");let g=-1,f=0,p=-1,b=!0,w=0;for(let E=r.length-1;E>=0;--E){const I=r.charCodeAt(E);if(I===_){if(!b){f=E+1;break}continue}p===-1&&(b=!1,p=E+1),I===m?g===-1?g=E:w!==1&&(w=1):g!==-1&&(w=-1)}return g===-1||p===-1||w===0||w===1&&g===p-1&&g===f+1?"":r.slice(g,p)},format:o.bind(null,"/"),parse(r){t(r,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return g;const f=r.charCodeAt(0)===_;let p;f?(g.root="/",p=1):p=0;let b=-1,w=0,E=-1,I=!0,N=r.length-1,R=0;for(;N>=p;--N){const F=r.charCodeAt(N);if(F===_){if(!I){w=N+1;break}continue}E===-1&&(I=!1,E=N+1),F===m?b===-1?b=N:R!==1&&(R=1):b!==-1&&(R=-1)}if(E!==-1){const F=w===0&&f?1:w;b===-1||R===0||R===1&&b===E-1&&b===w+1?g.base=g.name=r.slice(F,E):(g.name=r.slice(F,b),g.base=r.slice(F,E),g.ext=r.slice(b,E))}return w>0?g.dir=r.slice(0,w-1):f&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=a?e.win32.normalize:e.posix.normalize,e.resolve=a?e.win32.resolve:e.posix.resolve,e.relative=a?e.win32.relative:e.posix.relative,e.dirname=a?e.win32.dirname:e.posix.dirname,e.basename=a?e.win32.basename:e.posix.basename,e.extname=a?e.win32.extname:e.posix.extname,e.sep=a?e.win32.sep:e.posix.sep}),define(ee[221],te([1,0,92,17,10]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(n){return n===47||n===92}e.isPathSeparator=D;function S(n){return n.replace(/[\\/]/g,L.posix.sep)}e.toSlashes=S;function m(n){return n.indexOf("/")===-1&&(n=S(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=m;function _(n,i=L.posix.sep){if(!n)return"";const t=n.length,a=n.charCodeAt(0);if(D(a)){if(D(n.charCodeAt(1))&&!D(n.charCodeAt(2))){let h=3;const l=h;for(;h<t&&!D(n.charCodeAt(h));h++);if(l!==h&&!D(n.charCodeAt(h+1))){for(h+=1;h<t;h++)if(D(n.charCodeAt(h)))return n.slice(0,h+1).replace(/[\\/]/g,i)}}return i}else if(C(a)&&n.charCodeAt(1)===58)return D(n.charCodeAt(2))?n.slice(0,2)+i:n.slice(0,2);let u=n.indexOf("://");if(u!==-1){for(u+=3;u<t;u++)if(D(n.charCodeAt(u)))return n.slice(0,u+1)}return""}e.getRoot=_;function v(n,i,t,a=L.sep){if(n===i)return!0;if(!n||!i||i.length>n.length)return!1;if(t){if(!(0,y.startsWithIgnoreCase)(n,i))return!1;if(i.length===n.length)return!0;let h=i.length;return i.charAt(i.length-1)===a&&h--,n.charAt(h)===a}return i.charAt(i.length-1)!==a&&(i+=a),n.indexOf(i)===0}e.isEqualOrParent=v;function C(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=C;function s(n,i=k.isWindows){return i?C(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=s}),define(ee[571],te([1,0,68,92,17,10]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function m(l,c,o=0,d=0){const r=c;return r.values&&r.values.length>1?_(l,r.values,o,d):v(l,c,o,d)}e.scoreFuzzy2=m;function _(l,c,o,d){let r=0;const g=[];for(const f of c){const[p,b]=v(l,f,o,d);if(typeof p!="number")return S;r+=p,g.push(...b)}return[r,s(g)]}function v(l,c,o,d){const r=(0,L.fuzzyScore)(c.original,c.originalLowercase,o,l,l.toLowerCase(),d,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return r?[r[0],(0,L.createMatches)(r)]:S}const C=Object.freeze({score:0});function s(l){const c=l.sort((r,g)=>r.start-g.start),o=[];let d;for(const r of c)!d||!n(d,r)?(d=r,o.push(r)):(d.start=Math.min(d.start,r.start),d.end=Math.max(d.end,r.end));return o}function n(l,c){return!(l.end<c.start||c.end<l.start)}function i(l){return l.startsWith('"')&&l.endsWith('"')}const t=" ";function a(l){typeof l!="string"&&(l="");const c=l.toLowerCase(),{pathNormalized:o,normalized:d,normalizedLowercase:r}=u(l),g=o.indexOf(k.sep)>=0,f=i(l);let p;const b=l.split(t);if(b.length>1)for(const w of b){const E=i(w),{pathNormalized:I,normalized:N,normalizedLowercase:R}=u(w);N&&(p||(p=[]),p.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:I,normalized:N,normalizedLowercase:R,expectContiguousMatch:E}))}return{original:l,originalLowercase:c,pathNormalized:o,normalized:d,normalizedLowercase:r,values:p,containsPathSeparator:g,expectContiguousMatch:f}}e.prepareQuery=a;function u(l){let c;y.isWindows?c=l.replace(/\//g,k.sep):c=l.replace(/\\/g,k.sep);const o=(0,D.stripWildcards)(c).replace(/\s|"/g,"");return{pathNormalized:c,normalized:o,normalizedLowercase:o.toLowerCase()}}function h(l){return Array.isArray(l)?a(l.map(c=>c.original).join(t)):a(l.original)}e.pieceToQuery=h}),define(ee[307],te([1,0,13,221,63,92,17,10]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const _="[/\\\\]",v="[^/\\\\]",C=/\//g;function s(P,x){switch(P){case 0:return"";case 1:return`${v}*?`;default:return`(?:${_}|${v}+${_}${x?`|${_}${v}+`:""})*?`}}function n(P,x){if(!P)return[];const z=[];let q=!1,B=!1,$="";for(const X of P){switch(X){case x:if(!q&&!B){z.push($),$="";continue}break;case"{":q=!0;break;case"}":q=!1;break;case"[":B=!0;break;case"]":B=!1;break}$+=X}return $&&z.push($),z}e.splitGlobAware=n;function i(P){if(!P)return"";let x="";const z=n(P,e.GLOB_SPLIT);if(z.every(q=>q===e.GLOBSTAR))x=".*";else{let q=!1;z.forEach((B,$)=>{if(B===e.GLOBSTAR){if(q)return;x+=s(2,$===z.length-1)}else{let X=!1,ne="",oe=!1,Y="";for(const U of B){if(U!=="}"&&X){ne+=U;continue}if(oe&&(U!=="]"||!Y)){let W;U==="-"?W=U:(U==="^"||U==="!")&&!Y?W="^":U===e.GLOB_SPLIT?W="":W=(0,m.escapeRegExpCharacters)(U),Y+=W;continue}switch(U){case"{":X=!0;continue;case"[":oe=!0;continue;case"}":{const V=`(?:${n(ne,",").map(Z=>i(Z)).join("|")})`;x+=V,X=!1,ne="";break}case"]":{x+="["+Y+"]",oe=!1,Y="";break}case"?":x+=v;continue;case"*":x+=s(1);continue;default:x+=(0,m.escapeRegExpCharacters)(U)}}$<z.length-1&&(z[$+1]!==e.GLOBSTAR||$+2<z.length)&&(x+=_)}q=B===e.GLOBSTAR})}return x}const t=/^\*\*\/\*\.[\w\.-]+$/,a=/^\*\*\/([\w\.-]+)\/?$/,u=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,h=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,l=/^\*\*((\/[\w\.-]+)+)\/?$/,c=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,o=new y.LRUCache(1e4),d=function(){return!1},r=function(){return null};function g(P,x){if(!P)return r;let z;typeof P!="string"?z=P.pattern:z=P,z=z.trim();const q=`${z}_${!!x.trimForExclusions}`;let B=o.get(q);if(B)return f(B,P);let $;return t.test(z)?B=b(z.substr(4),z):($=a.exec(p(z,x)))?B=w($[1],z):(x.trimForExclusions?h:u).test(z)?B=E(z,x):($=l.exec(p(z,x)))?B=I($[1].substr(1),z,!0):($=c.exec(p(z,x)))?B=I($[1],z,!1):B=N(z),o.set(q,B),f(B,P)}function f(P,x){if(typeof x=="string")return P;const z=function(q,B){return(0,k.isEqualOrParent)(q,x.base,!S.isLinux)?P((0,m.ltrim)(q.substr(x.base.length),D.sep),B):null};return z.allBasenames=P.allBasenames,z.allPaths=P.allPaths,z.basenames=P.basenames,z.patterns=P.patterns,z}function p(P,x){return x.trimForExclusions&&P.endsWith("/**")?P.substr(0,P.length-2):P}function b(P,x){return function(z,q){return typeof z=="string"&&z.endsWith(P)?x:null}}function w(P,x){const z=`/${P}`,q=`\\${P}`,B=function(X,ne){return typeof X!="string"?null:ne?ne===P?x:null:X===P||X.endsWith(z)||X.endsWith(q)?x:null},$=[P];return B.basenames=$,B.patterns=[x],B.allBasenames=$,B}function E(P,x){const z=O(P.slice(1,-1).split(",").map(ne=>g(ne,x)).filter(ne=>ne!==r),P),q=z.length;if(!q)return r;if(q===1)return z[0];const B=function(ne,oe){for(let Y=0,U=z.length;Y<U;Y++)if(z[Y](ne,oe))return P;return null},$=z.find(ne=>!!ne.allBasenames);$&&(B.allBasenames=$.allBasenames);const X=z.reduce((ne,oe)=>oe.allPaths?ne.concat(oe.allPaths):ne,[]);return X.length&&(B.allPaths=X),B}function I(P,x,z){const q=D.sep===D.posix.sep,B=q?P:P.replace(C,D.sep),$=D.sep+B,X=D.posix.sep+P;let ne;return z?ne=function(oe,Y){return typeof oe=="string"&&(oe===B||oe.endsWith($)||!q&&(oe===P||oe.endsWith(X)))?x:null}:ne=function(oe,Y){return typeof oe=="string"&&(oe===B||!q&&oe===P)?x:null},ne.allPaths=[(z?"*/":"./")+P],ne}function N(P){try{const x=new RegExp(`^${i(P)}$`);return function(z){return x.lastIndex=0,typeof z=="string"&&x.test(z)?P:null}}catch{return r}}function R(P,x,z){return!P||typeof x!="string"?!1:F(P)(x,void 0,z)}e.match=R;function F(P,x={}){if(!P)return d;if(typeof P=="string"||M(P)){const z=g(P,x);if(z===r)return d;const q=function(B,$){return!!z(B,$)};return z.allBasenames&&(q.allBasenames=z.allBasenames),z.allPaths&&(q.allPaths=z.allPaths),q}return A(P,x)}e.parse=F;function M(P){const x=P;return x?typeof x.base=="string"&&typeof x.pattern=="string":!1}e.isRelativePattern=M;function A(P,x){const z=O(Object.getOwnPropertyNames(P).map(ne=>T(ne,P[ne],x)).filter(ne=>ne!==r)),q=z.length;if(!q)return r;if(!z.some(ne=>!!ne.requiresSiblings)){if(q===1)return z[0];const ne=function(U,W){let V;for(let Z=0,ie=z.length;Z<ie;Z++){const le=z[Z](U,W);if(typeof le=="string")return le;(0,L.isThenable)(le)&&(V||(V=[]),V.push(le))}return V?(()=>Se(this,void 0,void 0,function*(){for(const Z of V){const ie=yield Z;if(typeof ie=="string")return ie}return null}))():null},oe=z.find(U=>!!U.allBasenames);oe&&(ne.allBasenames=oe.allBasenames);const Y=z.reduce((U,W)=>W.allPaths?U.concat(W.allPaths):U,[]);return Y.length&&(ne.allPaths=Y),ne}const B=function(ne,oe,Y){let U,W;for(let V=0,Z=z.length;V<Z;V++){const ie=z[V];ie.requiresSiblings&&Y&&(oe||(oe=(0,D.basename)(ne)),U||(U=oe.substr(0,oe.length-(0,D.extname)(ne).length)));const le=ie(ne,oe,U,Y);if(typeof le=="string")return le;(0,L.isThenable)(le)&&(W||(W=[]),W.push(le))}return W?(()=>Se(this,void 0,void 0,function*(){for(const V of W){const Z=yield V;if(typeof Z=="string")return Z}return null}))():null},$=z.find(ne=>!!ne.allBasenames);$&&(B.allBasenames=$.allBasenames);const X=z.reduce((ne,oe)=>oe.allPaths?ne.concat(oe.allPaths):ne,[]);return X.length&&(B.allPaths=X),B}function T(P,x,z){if(x===!1)return r;const q=g(P,z);if(q===r)return r;if(typeof x=="boolean")return q;if(x){const B=x.when;if(typeof B=="string"){const $=(X,ne,oe,Y)=>{if(!Y||!q(X,ne))return null;const U=B.replace("$(basename)",()=>oe),W=Y(U);return(0,L.isThenable)(W)?W.then(V=>V?P:null):W?P:null};return $.requiresSiblings=!0,$}}return q}function O(P,x){const z=P.filter(ne=>!!ne.basenames);if(z.length<2)return P;const q=z.reduce((ne,oe)=>{const Y=oe.basenames;return Y?ne.concat(Y):ne},[]);let B;if(x){B=[];for(let ne=0,oe=q.length;ne<oe;ne++)B.push(x)}else B=z.reduce((ne,oe)=>{const Y=oe.patterns;return Y?ne.concat(Y):ne},[]);const $=function(ne,oe){if(typeof ne!="string")return null;if(!oe){let U;for(U=ne.length;U>0;U--){const W=ne.charCodeAt(U-1);if(W===47||W===92)break}oe=ne.substr(U)}const Y=q.indexOf(oe);return Y!==-1?B[Y]:null};$.basenames=q,$.patterns=B,$.allBasenames=q;const X=P.filter(ne=>!ne.basenames);return X.push($),X}}),define(ee[572],te([1,0,221,17]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function y(S,m=k.isWindows){return(0,L.hasDriveLetter)(S,m)?S.charAt(0).toUpperCase()+S.slice(1):S}e.normalizeDriveLetter=y;let D=Object.create(null)}),define(ee[21],te([1,0,92,17]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const y=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function m(f,p){if(!f.scheme&&p)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${f.authority}", path: "${f.path}", query: "${f.query}", fragment: "${f.fragment}"}`);if(f.scheme&&!y.test(f.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(f.path){if(f.authority){if(!D.test(f.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(f.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function _(f,p){return!f&&!p?"file":f}function v(f,p){switch(f){case"https":case"http":case"file":p?p[0]!==s&&(p=s+p):p=s;break}return p}const C="",s="/",n=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(p){return p instanceof i?!0:p?typeof p.authority=="string"&&typeof p.fragment=="string"&&typeof p.path=="string"&&typeof p.query=="string"&&typeof p.scheme=="string"&&typeof p.fsPath=="string"&&typeof p.with=="function"&&typeof p.toString=="function":!1}constructor(p,b,w,E,I,N=!1){typeof p=="object"?(this.scheme=p.scheme||C,this.authority=p.authority||C,this.path=p.path||C,this.query=p.query||C,this.fragment=p.fragment||C):(this.scheme=_(p,N),this.authority=b||C,this.path=v(this.scheme,w||C),this.query=E||C,this.fragment=I||C,m(this,N))}get fsPath(){return c(this,!1)}with(p){if(!p)return this;let{scheme:b,authority:w,path:E,query:I,fragment:N}=p;return b===void 0?b=this.scheme:b===null&&(b=C),w===void 0?w=this.authority:w===null&&(w=C),E===void 0?E=this.path:E===null&&(E=C),I===void 0?I=this.query:I===null&&(I=C),N===void 0?N=this.fragment:N===null&&(N=C),b===this.scheme&&w===this.authority&&E===this.path&&I===this.query&&N===this.fragment?this:new a(b,w,E,I,N)}static parse(p,b=!1){const w=n.exec(p);return w?new a(w[2]||C,g(w[4]||C),g(w[5]||C),g(w[7]||C),g(w[9]||C),b):new a(C,C,C,C,C)}static file(p){let b=C;if(k.isWindows&&(p=p.replace(/\\/g,s)),p[0]===s&&p[1]===s){const w=p.indexOf(s,2);w===-1?(b=p.substring(2),p=s):(b=p.substring(2,w),p=p.substring(w)||s)}return new a("file",b,p,C,C)}static from(p,b){return new a(p.scheme,p.authority,p.path,p.query,p.fragment,b)}static joinPath(p,...b){if(!p.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return k.isWindows&&p.scheme==="file"?w=i.file(L.win32.join(c(p,!0),...b)).path:w=L.posix.join(p.path,...b),p.with({path:w})}toString(p=!1){return o(this,p)}toJSON(){return this}static revive(p){var b,w;if(p){if(p instanceof i)return p;{const E=new a(p);return E._formatted=(b=p.external)!==null&&b!==void 0?b:null,E._fsPath=p._sep===t&&(w=p.fsPath)!==null&&w!==void 0?w:null,E}}else return p}}e.URI=i;const t=k.isWindows?1:void 0;class a extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=c(this,!1)),this._fsPath}toString(p=!1){return p?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const p={$mid:1};return this._fsPath&&(p.fsPath=this._fsPath,p._sep=t),this._formatted&&(p.external=this._formatted),this.path&&(p.path=this.path),this.scheme&&(p.scheme=this.scheme),this.authority&&(p.authority=this.authority),this.query&&(p.query=this.query),this.fragment&&(p.fragment=this.fragment),p}}const u={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function h(f,p,b){let w,E=-1;for(let I=0;I<f.length;I++){const N=f.charCodeAt(I);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||p&&N===47||b&&N===91||b&&N===93||b&&N===58)E!==-1&&(w+=encodeURIComponent(f.substring(E,I)),E=-1),w!==void 0&&(w+=f.charAt(I));else{w===void 0&&(w=f.substr(0,I));const R=u[N];R!==void 0?(E!==-1&&(w+=encodeURIComponent(f.substring(E,I)),E=-1),w+=R):E===-1&&(E=I)}}return E!==-1&&(w+=encodeURIComponent(f.substring(E))),w!==void 0?w:f}function l(f){let p;for(let b=0;b<f.length;b++){const w=f.charCodeAt(b);w===35||w===63?(p===void 0&&(p=f.substr(0,b)),p+=u[w]):p!==void 0&&(p+=f[b])}return p!==void 0?p:f}function c(f,p){let b;return f.authority&&f.path.length>1&&f.scheme==="file"?b=`//${f.authority}${f.path}`:f.path.charCodeAt(0)===47&&(f.path.charCodeAt(1)>=65&&f.path.charCodeAt(1)<=90||f.path.charCodeAt(1)>=97&&f.path.charCodeAt(1)<=122)&&f.path.charCodeAt(2)===58?p?b=f.path.substr(1):b=f.path[1].toLowerCase()+f.path.substr(2):b=f.path,k.isWindows&&(b=b.replace(/\//g,"\\")),b}e.uriToFsPath=c;function o(f,p){const b=p?l:h;let w="",{scheme:E,authority:I,path:N,query:R,fragment:F}=f;if(E&&(w+=E,w+=":"),(I||E==="file")&&(w+=s,w+=s),I){let M=I.indexOf("@");if(M!==-1){const A=I.substr(0,M);I=I.substr(M+1),M=A.lastIndexOf(":"),M===-1?w+=b(A,!1,!1):(w+=b(A.substr(0,M),!1,!1),w+=":",w+=b(A.substr(M+1),!1,!0)),w+="@"}I=I.toLowerCase(),M=I.lastIndexOf(":"),M===-1?w+=b(I,!1,!0):(w+=b(I.substr(0,M),!1,!0),w+=I.substr(M))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58){const M=N.charCodeAt(1);M>=65&&M<=90&&(N=`/${String.fromCharCode(M+32)}:${N.substr(3)}`)}else if(N.length>=2&&N.charCodeAt(1)===58){const M=N.charCodeAt(0);M>=65&&M<=90&&(N=`${String.fromCharCode(M+32)}:${N.substr(2)}`)}w+=b(N,!0,!1)}return R&&(w+="?",w+=b(R,!1,!1)),F&&(w+="#",w+=p?F:h(F,!1,!1)),w}function d(f){try{return decodeURIComponent(f)}catch{return f.length>3?f.substr(0,3)+d(f.substr(3)):f}}const r=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function g(f){return f.match(r)?f.replace(r,p=>d(p)):f}}),define(ee[222],te([1,0,138,21]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function y(_){return JSON.stringify(_,S)}e.stringify=y;function D(_){let v=JSON.parse(_);return v=m(v),v}e.parse=D;function S(_,v){return v instanceof RegExp?{$mid:2,source:v.source,flags:v.flags}:v}function m(_,v=0){if(!_||v>200)return _;if(typeof _=="object"){switch(_.$mid){case 1:return k.URI.revive(_);case 2:return new RegExp(_.source,_.flags);case 16:return new Date(_.source)}if(_ instanceof L.VSBuffer||_ instanceof Uint8Array)return _;if(Array.isArray(_))for(let C=0;C<_.length;++C)_[C]=m(_[C],v+1);else for(const C in _)Object.hasOwnProperty.call(_,C)&&(_[C]=m(_[C],v+1))}return _}e.revive=m}),define(ee[54],te([1,0,9,17,21]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var D;(function(v){v.inMemory="inmemory",v.vscode="vscode",v.internal="private",v.walkThrough="walkThrough",v.walkThroughSnippet="walkThroughSnippet",v.http="http",v.https="https",v.file="file",v.mailto="mailto",v.untitled="untitled",v.data="data",v.command="command",v.vscodeRemote="vscode-remote",v.vscodeRemoteResource="vscode-remote-resource",v.vscodeManagedRemoteResource="vscode-managed-remote-resource",v.vscodeUserData="vscode-userdata",v.vscodeCustomEditor="vscode-custom-editor",v.vscodeNotebookCell="vscode-notebook-cell",v.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",v.vscodeNotebookCellOutput="vscode-notebook-cell-output",v.vscodeInteractiveInput="vscode-interactive-input",v.vscodeSettings="vscode-settings",v.vscodeWorkspaceTrust="vscode-workspace-trust",v.vscodeTerminal="vscode-terminal",v.vscodeChatSesssion="vscode-chat-editor",v.webviewPanel="webview-panel",v.vscodeWebview="vscode-webview",v.extension="extension",v.vscodeFileResource="vscode-file",v.tmp="tmp",v.vsls="vsls",v.vscodeSourceControl="vscode-scm"})(D||(e.Schemas=D={})),e.connectionTokenQueryName="tkn";class S{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${D.vscodeRemoteResource}`}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)try{return this._delegate(C)}catch(u){return L.onUnexpectedError(u),C}const s=C.authority;let n=this._hosts[s];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);const i=this._ports[s],t=this._connectionTokens[s];let a=`path=${encodeURIComponent(C.path)}`;return typeof t=="string"&&(a+=`&${e.connectionTokenQueryName}=${encodeURIComponent(t)}`),y.URI.from({scheme:k.isWeb?this._preferredWebSchema:D.vscodeRemoteResource,authority:`${n}:${i}`,path:this._remoteResourcesPath,query:a})}}e.RemoteAuthorities=new S;class m{uriToBrowserUri(C){return C.scheme===D.vscodeRemote?e.RemoteAuthorities.rewrite(C):C.scheme===D.file&&(k.isNative||k.isWebWorker&&k.globals.origin===`${D.vscodeFileResource}://${m.FALLBACK_AUTHORITY}`)?C.with({scheme:D.vscodeFileResource,authority:C.authority||m.FALLBACK_AUTHORITY,query:null,fragment:null}):C}}m.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new m;var _;(function(v){const C=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);v.CoopAndCoep=Object.freeze(C.get("3"));const s="vscode-coi";function n(t){let a;typeof t=="string"?a=new URL(t).searchParams:t instanceof URL?a=t.searchParams:y.URI.isUri(t)&&(a=new URL(t.toString(!0)).searchParams);const u=a?.get(s);if(u)return C.get(u)}v.getHeadersFromQuery=n;function i(t,a,u){if(!globalThis.crossOriginIsolated)return;const h=a&&u?"3":u?"2":"1";t instanceof URLSearchParams?t.set(s,h):t[s]=h}v.addSearchParam=i})(_||(e.COI=_={}))}),define(ee[7],te([1,0,51,218,43,59,9,6,308,2,54,17]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.setVisibility=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.isEventLike=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function n(pe){for(;pe.firstChild;)pe.firstChild.remove()}e.clearNode=n;function i(pe){var be;return(be=pe?.isConnected)!==null&&be!==void 0?be:!1}e.isInDOM=i;class t{constructor(be,ke,Pe,Fe){this._node=be,this._type=ke,this._handler=Pe,this._options=Fe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function a(pe,be,ke,Pe){return new t(pe,be,ke,Pe)}e.addDisposableListener=a;function u(pe){return function(be){return pe(new D.StandardMouseEvent(be))}}function h(pe){return function(be){return pe(new y.StandardKeyboardEvent(be))}}const l=function(be,ke,Pe,Fe){let Ue=Pe;return ke==="click"||ke==="mousedown"?Ue=u(Pe):(ke==="keydown"||ke==="keypress"||ke==="keyup")&&(Ue=h(Pe)),a(be,ke,Ue,Fe)};e.addStandardDisposableListener=l;const c=function(be,ke,Pe){const Fe=u(ke);return d(be,Fe,Pe)};e.addStandardDisposableGenericMouseDownListener=c;const o=function(be,ke,Pe){const Fe=u(ke);return r(be,Fe,Pe)};e.addStandardDisposableGenericMouseUpListener=o;function d(pe,be,ke){return a(pe,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,be,ke)}e.addDisposableGenericMouseDownListener=d;function r(pe,be,ke){return a(pe,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,be,ke)}e.addDisposableGenericMouseUpListener=r;class g{constructor(be,ke=0){this._runner=be,this.priority=ke,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(be){(0,S.onUnexpectedError)(be)}}static sort(be,ke){return ke.priority-be.priority}}(function(){let pe=[],be=null,ke=!1,Pe=!1;const Fe=()=>{for(ke=!1,be=pe,pe=[],Pe=!0;be.length>0;)be.sort(g.sort),be.shift().execute();Pe=!1};e.scheduleAtNextAnimationFrame=(Ue,qe=0)=>{const je=new g(Ue,qe);return pe.push(je),ke||(ke=!0,requestAnimationFrame(Fe)),je},e.runAtThisOrScheduleAtNextAnimationFrame=(Ue,qe)=>{if(Pe){const je=new g(Ue,qe);return be.push(je),je}else return(0,e.scheduleAtNextAnimationFrame)(Ue,qe)}})();function f(pe){return document.defaultView.getComputedStyle(pe,null)}e.getComputedStyle=f;function p(pe){if(pe!==document.body)return new w(pe.clientWidth,pe.clientHeight);if(s.isIOS&&window.visualViewport)return new w(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new w(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new w(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new w(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=p;class b{static convertToPixels(be,ke){return parseFloat(ke)||0}static getDimension(be,ke,Pe){const Fe=f(be),Ue=Fe?Fe.getPropertyValue(ke):"0";return b.convertToPixels(be,Ue)}static getBorderLeftWidth(be){return b.getDimension(be,"border-left-width","borderLeftWidth")}static getBorderRightWidth(be){return b.getDimension(be,"border-right-width","borderRightWidth")}static getBorderTopWidth(be){return b.getDimension(be,"border-top-width","borderTopWidth")}static getBorderBottomWidth(be){return b.getDimension(be,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(be){return b.getDimension(be,"padding-left","paddingLeft")}static getPaddingRight(be){return b.getDimension(be,"padding-right","paddingRight")}static getPaddingTop(be){return b.getDimension(be,"padding-top","paddingTop")}static getPaddingBottom(be){return b.getDimension(be,"padding-bottom","paddingBottom")}static getMarginLeft(be){return b.getDimension(be,"margin-left","marginLeft")}static getMarginTop(be){return b.getDimension(be,"margin-top","marginTop")}static getMarginRight(be){return b.getDimension(be,"margin-right","marginRight")}static getMarginBottom(be){return b.getDimension(be,"margin-bottom","marginBottom")}}class w{constructor(be,ke){this.width=be,this.height=ke}with(be=this.width,ke=this.height){return be!==this.width||ke!==this.height?new w(be,ke):this}static is(be){return typeof be=="object"&&typeof be.height=="number"&&typeof be.width=="number"}static lift(be){return be instanceof w?be:new w(be.width,be.height)}static equals(be,ke){return be===ke?!0:!be||!ke?!1:be.width===ke.width&&be.height===ke.height}}e.Dimension=w,w.None=new w(0,0);function E(pe){let be=pe.offsetParent,ke=pe.offsetTop,Pe=pe.offsetLeft;for(;(pe=pe.parentNode)!==null&&pe!==document.body&&pe!==document.documentElement;){ke-=pe.scrollTop;const Fe=z(pe)?null:f(pe);Fe&&(Pe-=Fe.direction!=="rtl"?pe.scrollLeft:-pe.scrollLeft),pe===be&&(Pe+=b.getBorderLeftWidth(pe),ke+=b.getBorderTopWidth(pe),ke+=pe.offsetTop,Pe+=pe.offsetLeft,be=pe.offsetParent)}return{left:Pe,top:ke}}e.getTopLeftOffset=E;function I(pe,be,ke){typeof be=="number"&&(pe.style.width=`${be}px`),typeof ke=="number"&&(pe.style.height=`${ke}px`)}e.size=I;function N(pe){const be=pe.getBoundingClientRect();return{left:be.left+window.scrollX,top:be.top+window.scrollY,width:be.width,height:be.height}}e.getDomNodePagePosition=N;function R(pe){let be=pe,ke=1;do{const Pe=f(be).zoom;Pe!=null&&Pe!=="1"&&(ke*=Pe),be=be.parentElement}while(be!==null&&be!==document.documentElement);return ke}e.getDomNodeZoomLevel=R;function F(pe){const be=b.getMarginLeft(pe)+b.getMarginRight(pe);return pe.offsetWidth+be}e.getTotalWidth=F;function M(pe){const be=b.getBorderLeftWidth(pe)+b.getBorderRightWidth(pe),ke=b.getPaddingLeft(pe)+b.getPaddingRight(pe);return pe.offsetWidth-be-ke}e.getContentWidth=M;function A(pe){const be=b.getBorderTopWidth(pe)+b.getBorderBottomWidth(pe),ke=b.getPaddingTop(pe)+b.getPaddingBottom(pe);return pe.offsetHeight-be-ke}e.getContentHeight=A;function T(pe){const be=b.getMarginTop(pe)+b.getMarginBottom(pe);return pe.offsetHeight+be}e.getTotalHeight=T;function O(pe,be){for(;pe;){if(pe===be)return!0;pe=pe.parentNode}return!1}e.isAncestor=O;function P(pe,be,ke){for(;pe&&pe.nodeType===pe.ELEMENT_NODE;){if(pe.classList.contains(be))return pe;if(ke){if(typeof ke=="string"){if(pe.classList.contains(ke))return null}else if(pe===ke)return null}pe=pe.parentNode}return null}e.findParentWithClass=P;function x(pe,be,ke){return!!P(pe,be,ke)}e.hasParentWithClass=x;function z(pe){return pe&&!!pe.host&&!!pe.mode}e.isShadowRoot=z;function q(pe){return!!B(pe)}e.isInShadowDOM=q;function B(pe){for(;pe.parentNode;){if(pe===document.body)return null;pe=pe.parentNode}return z(pe)?pe:null}e.getShadowRoot=B;function $(){let pe=document.activeElement;for(;pe?.shadowRoot;)pe=pe.shadowRoot.activeElement;return pe}e.getActiveElement=$;function X(pe=document.getElementsByTagName("head")[0],be){const ke=document.createElement("style");return ke.type="text/css",ke.media="screen",be?.(ke),pe.appendChild(ke),ke}e.createStyleSheet=X;let ne=null;function oe(){return ne||(ne=X()),ne}function Y(pe){var be,ke;return!((be=pe?.sheet)===null||be===void 0)&&be.rules?pe.sheet.rules:!((ke=pe?.sheet)===null||ke===void 0)&&ke.cssRules?pe.sheet.cssRules:[]}function U(pe,be,ke=oe()){!ke||!be||ke.sheet.insertRule(pe+"{"+be+"}",0)}e.createCSSRule=U;function W(pe,be=oe()){if(!be)return;const ke=Y(be),Pe=[];for(let Fe=0;Fe<ke.length;Fe++)ke[Fe].selectorText.indexOf(pe)!==-1&&Pe.push(Fe);for(let Fe=Pe.length-1;Fe>=0;Fe--)be.sheet.deleteRule(Pe[Fe])}e.removeCSSRulesContainingSelector=W;function V(pe){return typeof HTMLElement=="object"?pe instanceof HTMLElement:pe&&typeof pe=="object"&&pe.nodeType===1&&typeof pe.nodeName=="string"}e.isHTMLElement=V,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:L.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:L.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:L.isWebKit?"webkitAnimationIteration":"animationiteration"};function Z(pe){const be=pe;return!!(be&&typeof be.preventDefault=="function"&&typeof be.stopPropagation=="function")}e.isEventLike=Z,e.EventHelper={stop:(pe,be)=>(pe.preventDefault(),be&&pe.stopPropagation(),pe)};function ie(pe){const be=[];for(let ke=0;pe&&pe.nodeType===pe.ELEMENT_NODE;ke++)be[ke]=pe.scrollTop,pe=pe.parentNode;return be}e.saveParentsScrollTop=ie;function le(pe,be){for(let ke=0;pe&&pe.nodeType===pe.ELEMENT_NODE;ke++)pe.scrollTop!==be[ke]&&(pe.scrollTop=be[ke]),pe=pe.parentNode}e.restoreParentsScrollTop=le;class he extends v.Disposable{static hasFocusWithin(be){const ke=B(be),Pe=ke?ke.activeElement:document.activeElement;return O(Pe,be)}constructor(be){super(),this._onDidFocus=this._register(new m.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event;let ke=he.hasFocusWithin(be),Pe=!1;const Fe=()=>{Pe=!1,ke||(ke=!0,this._onDidFocus.fire())},Ue=()=>{ke&&(Pe=!0,window.setTimeout(()=>{Pe&&(Pe=!1,ke=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{he.hasFocusWithin(be)!==ke&&(ke?Ue():Fe())},this._register(a(be,e.EventType.FOCUS,Fe,!0)),this._register(a(be,e.EventType.BLUR,Ue,!0)),be instanceof HTMLElement&&(this._register(a(be,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(a(be,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function de(pe){return new he(pe)}e.trackFocus=de;function ce(pe,...be){if(pe.append(...be),be.length===1&&typeof be[0]!="string")return be[0]}e.append=ce;function ae(pe,be){return pe.insertBefore(be,pe.firstChild),be}e.prepend=ae;function J(pe,...be){pe.innerText="",ce(pe,...be)}e.reset=J;const K=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var H;(function(pe){pe.HTML="http://www.w3.org/1999/xhtml",pe.SVG="http://www.w3.org/2000/svg"})(H||(e.Namespace=H={}));function Q(pe,be,ke,...Pe){const Fe=K.exec(be);if(!Fe)throw new Error("Bad use of emmet");const Ue=Fe[1]||"div";let qe;return pe!==H.HTML?qe=document.createElementNS(pe,Ue):qe=document.createElement(Ue),Fe[3]&&(qe.id=Fe[3]),Fe[4]&&(qe.className=Fe[4].replace(/\./g," ").trim()),ke&&Object.entries(ke).forEach(([je,Ze])=>{typeof Ze>"u"||(/^on\w+$/.test(je)?qe[je]=Ze:je==="selected"?Ze&&qe.setAttribute(je,"true"):qe.setAttribute(je,Ze))}),qe.append(...Pe),qe}function j(pe,be,...ke){return Q(H.HTML,pe,be,...ke)}e.$=j,j.SVG=function(pe,be,...ke){return Q(H.SVG,pe,be,...ke)};function re(pe,...be){pe?se(...be):ue(...be)}e.setVisibility=re;function se(...pe){for(const be of pe)be.style.display="",be.removeAttribute("aria-hidden")}e.show=se;function ue(...pe){for(const be of pe)be.style.display="none",be.setAttribute("aria-hidden","true")}e.hide=ue;function me(pe){const be=window.devicePixelRatio*pe;return Math.max(1,Math.floor(be))/window.devicePixelRatio}e.computeScreenAwareSize=me;function ve(pe){window.open(pe,"_blank","noopener")}e.windowOpenNoOpener=ve;function Ce(pe){const be=()=>{pe(),ke=(0,e.scheduleAtNextAnimationFrame)(be)};let ke=(0,e.scheduleAtNextAnimationFrame)(be);return(0,v.toDisposable)(()=>ke.dispose())}e.animate=Ce,C.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function we(pe){return pe?`url('${C.FileAccess.uriToBrowserUri(pe).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=we;function Le(pe){return`'${pe.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Le;function Ee(pe,be){if(pe!==void 0){const ke=pe.match(/^\s*var\((.+)\)$/);if(ke){const Pe=ke[1].split(",",2);return Pe.length===2&&(be=Ee(Pe[1].trim(),be)),`var(${Pe[0]}, ${be})`}return pe}return be}e.asCssValueWithDefault=Ee;function Ne(pe,be=!1){const ke=document.createElement("a");return _.addHook("afterSanitizeAttributes",Pe=>{for(const Fe of["href","src"])if(Pe.hasAttribute(Fe)){const Ue=Pe.getAttribute(Fe);if(Fe==="href"&&Ue.startsWith("#"))continue;if(ke.href=Ue,!pe.includes(ke.protocol.replace(/:$/,""))){if(be&&Fe==="src"&&ke.href.startsWith("data:"))continue;Pe.removeAttribute(Fe)}}}),(0,v.toDisposable)(()=>{_.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Ne,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const Ae=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Re extends m.Emitter{constructor(){super(),this._subscriptions=new v.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(a(window,"keydown",be=>{if(be.defaultPrevented)return;const ke=new y.StandardKeyboardEvent(be);if(!(ke.keyCode===6&&be.repeat)){if(be.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(be.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(be.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(be.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ke.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=be.altKey,this._keyStatus.ctrlKey=be.ctrlKey,this._keyStatus.metaKey=be.metaKey,this._keyStatus.shiftKey=be.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=be,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(a(window,"keyup",be=>{be.defaultPrevented||(!be.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!be.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!be.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!be.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=be.altKey,this._keyStatus.ctrlKey=be.ctrlKey,this._keyStatus.metaKey=be.metaKey,this._keyStatus.shiftKey=be.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=be,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(a(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mousemove",be=>{be.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(a(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Re.instance||(Re.instance=new Re),Re.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Re;class ye extends v.Disposable{constructor(be,ke){super(),this.element=be,this.callbacks=ke,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(a(this.element,e.EventType.DRAG_ENTER,be=>{this.counter++,this.dragStartTime=be.timeStamp,this.callbacks.onDragEnter(be)})),this._register(a(this.element,e.EventType.DRAG_OVER,be=>{var ke,Pe;be.preventDefault(),(Pe=(ke=this.callbacks).onDragOver)===null||Pe===void 0||Pe.call(ke,be,be.timeStamp-this.dragStartTime)})),this._register(a(this.element,e.EventType.DRAG_LEAVE,be=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(be))})),this._register(a(this.element,e.EventType.DRAG_END,be=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(be)})),this._register(a(this.element,e.EventType.DROP,be=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(be)}))}}e.DragAndDropObserver=ye;const De=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function fe(pe,...be){let ke,Pe;Array.isArray(be[0])?(ke={},Pe=be[0]):(ke=be[0]||{},Pe=be[1]);const Fe=De.exec(pe);if(!Fe||!Fe.groups)throw new Error("Bad use of h");const Ue=Fe.groups.tag||"div",qe=document.createElement(Ue);Fe.groups.id&&(qe.id=Fe.groups.id);const je=[];if(Fe.groups.class)for(const Ke of Fe.groups.class.split("."))Ke!==""&&je.push(Ke);if(ke.className!==void 0)for(const Ke of ke.className.split("."))Ke!==""&&je.push(Ke);je.length>0&&(qe.className=je.join(" "));const Ze={};if(Fe.groups.name&&(Ze[Fe.groups.name]=qe),Pe)for(const Ke of Pe)Ke instanceof HTMLElement?qe.appendChild(Ke):typeof Ke=="string"?qe.append(Ke):"root"in Ke&&(Object.assign(Ze,Ke),qe.appendChild(Ke.root));for(const[Ke,ot]of Object.entries(ke))if(Ke!=="className")if(Ke==="style")for(const[st,lt]of Object.entries(ot))qe.style.setProperty(_e(st),typeof lt=="number"?lt+"px":""+lt);else Ke==="tabIndex"?qe.tabIndex=ot:qe.setAttribute(_e(Ke),ot.toString());return Ze.root=qe,Ze}e.h=fe;function _e(pe){return pe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ee[309],te([1,0,7]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(s,n={}){const i=D(n);return i.textContent=s,i}e.renderText=k;function y(s,n={}){const i=D(n);return m(i,_(s,!!n.renderCodeSegments),n.actionHandler,n.renderCodeSegments),i}e.renderFormattedText=y;function D(s){const n=s.inline?"span":"div",i=document.createElement(n);return s.className&&(i.className=s.className),i}e.createElement=D;class S{constructor(n){this.source=n,this.index=0}eos(){return this.index>=this.source.length}next(){const n=this.peek();return this.advance(),n}peek(){return this.source[this.index]}advance(){this.index++}}function m(s,n,i,t){let a;if(n.type===2)a=document.createTextNode(n.content||"");else if(n.type===3)a=document.createElement("b");else if(n.type===4)a=document.createElement("i");else if(n.type===7&&t)a=document.createElement("code");else if(n.type===5&&i){const u=document.createElement("a");i.disposables.add(L.addStandardDisposableListener(u,"click",h=>{i.callback(String(n.index),h)})),a=u}else n.type===8?a=document.createElement("br"):n.type===1&&(a=s);a&&s!==a&&s.appendChild(a),a&&Array.isArray(n.children)&&n.children.forEach(u=>{m(a,u,i,t)})}function _(s,n){const i={type:1,children:[]};let t=0,a=i;const u=[],h=new S(s);for(;!h.eos();){let l=h.next();const c=l==="\\"&&C(h.peek(),n)!==0;if(c&&(l=h.next()),!c&&v(l,n)&&l===h.peek()){h.advance(),a.type===2&&(a=u.pop());const o=C(l,n);if(a.type===o||a.type===5&&o===6)a=u.pop();else{const d={type:o,children:[]};o===5&&(d.index=t,t++),a.children.push(d),u.push(a),a=d}}else if(l===`
`)a.type===2&&(a=u.pop()),a.children.push({type:8});else if(a.type!==2){const o={type:2,content:l};a.children.push(o),u.push(a),a=o}else a.content+=l}return a.type===2&&(a=u.pop()),u.length,i}function v(s,n){return C(s,n)!==0}function C(s,n){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return n?7:0;default:return 0}}}),define(ee[151],te([1,0,7,2]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class y{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,m){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const _=this._onStopCallback;this._onStopCallback=null,S&&_&&_(m)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,m,_,v,C){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=v,this._onStopCallback=C;let s=S;try{S.setPointerCapture(m),this._hooks.add((0,k.toDisposable)(()=>{try{S.releasePointerCapture(m)}catch{}}))}catch{s=window}this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_MOVE,n=>{if(n.buttons!==_){this.stopMonitoring(!0);return}n.preventDefault(),this._pointerMoveCallback(n)})),this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_UP,n=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=y}),define(ee[60],te([1,0,7,14,106,2,62]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var m;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(m||(e.EventType=m={}));class _ extends D.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new S.LinkedList,this.ignoreTargets=new S.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(L.addDisposableListener(document,"touchstart",C=>this.onTouchStart(C),{passive:!1})),this._register(L.addDisposableListener(document,"touchend",C=>this.onTouchEnd(C))),this._register(L.addDisposableListener(document,"touchmove",C=>this.onTouchMove(C),{passive:!1}))}static addTarget(C){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=new _);const s=_.INSTANCE.targets.push(C);return(0,D.toDisposable)(s)}static ignoreTarget(C){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=new _);const s=_.INSTANCE.ignoreTargets.push(C);return(0,D.toDisposable)(s)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(C){const s=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=C.targetTouches.length;n<i;n++){const t=C.targetTouches.item(n);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:s,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[s],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};const a=this.newGestureEvent(m.Start,t.target);a.pageX=t.pageX,a.pageY=t.pageY,this.dispatchEvent(a)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}onTouchEnd(C){const s=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,t=C.changedTouches.length;i<t;i++){const a=C.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const u=this.activeTouches[a.identifier],h=Date.now()-u.initialTimeStamp;if(h<_.HOLD_DELAY&&Math.abs(u.initialPageX-k.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-k.tail(u.rollingPageY))<30){const l=this.newGestureEvent(m.Tap,u.initialTarget);l.pageX=k.tail(u.rollingPageX),l.pageY=k.tail(u.rollingPageY),this.dispatchEvent(l)}else if(h>=_.HOLD_DELAY&&Math.abs(u.initialPageX-k.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-k.tail(u.rollingPageY))<30){const l=this.newGestureEvent(m.Contextmenu,u.initialTarget);l.pageX=k.tail(u.rollingPageX),l.pageY=k.tail(u.rollingPageY),this.dispatchEvent(l)}else if(n===1){const l=k.tail(u.rollingPageX),c=k.tail(u.rollingPageY),o=k.tail(u.rollingTimestamps)-u.rollingTimestamps[0],d=l-u.rollingPageX[0],r=c-u.rollingPageY[0],g=[...this.targets].filter(f=>u.initialTarget instanceof Node&&f.contains(u.initialTarget));this.inertia(g,s,Math.abs(d)/o,d>0?1:-1,l,Math.abs(r)/o,r>0?1:-1,c)}this.dispatchEvent(this.newGestureEvent(m.End,u.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}newGestureEvent(C,s){const n=document.createEvent("CustomEvent");return n.initEvent(C,!1,!0),n.initialTarget=s,n.tapCount=0,n}dispatchEvent(C){if(C.type===m.Tap){const s=new Date().getTime();let n=0;s-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=s,C.tapCount=n}else(C.type===m.Change||C.type===m.Contextmenu)&&(this._lastSetTapCountTime=0);if(C.initialTarget instanceof Node){for(const s of this.ignoreTargets)if(s.contains(C.initialTarget))return;for(const s of this.targets)s.contains(C.initialTarget)&&(s.dispatchEvent(C),this.dispatched=!0)}}inertia(C,s,n,i,t,a,u,h){this.handle=L.scheduleAtNextAnimationFrame(()=>{const l=Date.now(),c=l-s;let o=0,d=0,r=!0;n+=_.SCROLL_FRICTION*c,a+=_.SCROLL_FRICTION*c,n>0&&(r=!1,o=i*n*c),a>0&&(r=!1,d=u*a*c);const g=this.newGestureEvent(m.Change);g.translationX=o,g.translationY=d,C.forEach(f=>f.dispatchEvent(g)),r||this.inertia(C,l,n,i,t+o,a,u,h+d)})}onTouchMove(C){const s=Date.now();for(let n=0,i=C.changedTouches.length;n<i;n++){const t=C.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}const a=this.activeTouches[t.identifier],u=this.newGestureEvent(m.Change,a.initialTarget);u.translationX=t.pageX-k.tail(a.rollingPageX),u.translationY=t.pageY-k.tail(a.rollingPageY),u.pageX=t.pageX,u.pageY=t.pageY,this.dispatchEvent(u),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(t.pageX),a.rollingPageY.push(t.pageY),a.rollingTimestamps.push(s)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}}e.Gesture=_,_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Ie([y.memoize],_,"isTouchDevice",null)}),define(ee[49],te([1,0,7,396]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let y,D,S,m,_;function v(i){y=document.createElement("div"),y.className="monaco-aria-container";const t=()=>{const u=document.createElement("div");return u.className="monaco-alert",u.setAttribute("role","alert"),u.setAttribute("aria-atomic","true"),y.appendChild(u),u};D=t(),S=t();const a=()=>{const u=document.createElement("div");return u.className="monaco-status",u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),y.appendChild(u),u};m=a(),_=a(),i.appendChild(y)}e.setARIAContainer=v;function C(i){y&&(D.textContent!==i?(L.clearNode(S),n(D,i)):(L.clearNode(D),n(S,i)))}e.alert=C;function s(i){y&&(m.textContent!==i?(L.clearNode(_),n(m,i)):(L.clearNode(m),n(_,i)))}e.status=s;function n(i,t){L.clearNode(i),t.length>k&&(t=t.substr(0,k)),i.textContent=t,i.style.visibility="hidden",i.style.visibility="visible"}}),define(ee[310],te([1,0,218,7,2,17,166,400]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=e.isAnchor=void 0;function m(n){const i=n;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}e.isAnchor=m;var _;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(_||(e.LayoutAnchorMode=_={}));function v(n,i,t){const a=t.mode===_.ALIGN?t.offset:t.offset+t.size,u=t.mode===_.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=n-a?a:i<=u?u-i:Math.max(n-i,0):i<=u?u-i:i<=n-a?a:0}e.layout=v;class C extends y.Disposable{constructor(i,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=y.Disposable.None,this.toDisposeOnSetContainer=y.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,k.hide(this.view),this.setContainer(i,t),this._register((0,y.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var a;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(a=this.shadowRootHostElement)===null||a===void 0||a.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const h=document.createElement("style");h.textContent=s,this.shadowRoot.appendChild(h),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const u=new y.DisposableStore;C.BUBBLE_UP_EVENTS.forEach(h=>{u.add(k.addStandardDisposableListener(this.container,h,l=>{this.onDOMEvent(l,!1)}))}),C.BUBBLE_DOWN_EVENTS.forEach(h=>{u.add(k.addStandardDisposableListener(this.container,h,l=>{this.onDOMEvent(l,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(i){var t,a;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=i.render(this.view)||y.Disposable.None,this.delegate=i,this.doLayout(),(a=(t=this.delegate).focus)===null||a===void 0||a.call(t)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&L.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(k.isHTMLElement(i)){const g=k.getDomNodePagePosition(i),f=k.getDomNodeZoomLevel(i);t={top:g.top*f,left:g.left*f,width:g.width*f,height:g.height*f}}else m(i)?t={top:i.y,left:i.x,width:i.width||1,height:i.height||2}:t={top:i.posy,left:i.posx,width:2,height:2};const a=k.getTotalWidth(this.view),u=k.getTotalHeight(this.view),h=this.delegate.anchorPosition||0,l=this.delegate.anchorAlignment||0,c=this.delegate.anchorAxisAlignment||0;let o,d;if(c===0){const g={offset:t.top-window.pageYOffset,size:t.height,position:h===0?0:1},f={offset:t.left,size:t.width,position:l===0?0:1,mode:_.ALIGN};o=v(window.innerHeight,u,g)+window.pageYOffset,S.Range.intersects({start:o,end:o+u},{start:g.offset,end:g.offset+g.size})&&(f.mode=_.AVOID),d=v(window.innerWidth,a,f)}else{const g={offset:t.left,size:t.width,position:l===0?0:1},f={offset:t.top,size:t.height,position:h===0?0:1,mode:_.ALIGN};d=v(window.innerWidth,a,g),S.Range.intersects({start:d,end:d+a},{start:g.offset,end:g.offset+g.size})&&(f.mode=_.AVOID),o=v(window.innerHeight,u,f)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(h===0?"bottom":"top"),this.view.classList.add(l===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const r=k.getDomNodePagePosition(this.container);this.view.style.top=`${o-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:r.top)}px`,this.view.style.left=`${d-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:r.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(i),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):t&&!k.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=C,C.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],C.BUBBLE_DOWN_EVENTS=["click"];const s=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[311],te([1,0,7,10,401]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class y{constructor(S,m,_){this.options=m,this.styles=_,this.count=0,this.element=(0,L.append)(S,(0,L.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,m;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=(m=this.styles.badgeForeground)!==null&&m!==void 0?m:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=y}),define(ee[573],te([1,0,7,43,60,41,6,265]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class m extends D.ActionRunner{constructor(C,s){super(),this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,L.append)(C,(0,L.$)(".monaco-dropdown")),this._label=(0,L.append)(this._element,(0,L.$)(".dropdown-label"));let n=s.labelRenderer;n||(n=t=>(t.textContent=s.label||"",null));for(const t of[L.EventType.CLICK,L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this.element,t,a=>L.EventHelper.stop(a,!0)));for(const t of[L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this._label,t,a=>{a instanceof MouseEvent&&(a.detail>1||a.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,L.addDisposableListener)(this._label,L.EventType.KEY_UP,t=>{const a=new k.StandardKeyboardEvent(t);(a.equals(3)||a.equals(10))&&(L.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const i=n(this._label);i&&this._register(i),this._register(y.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class _ extends m{constructor(C,s){super(C,s),this._options=s,this._actions=[],this.actions=s.actions||[]}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(C,s)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C,s):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=_}),define(ee[128],te([1,0,7,27]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const y=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(m){const _=new Array;let v,C=0,s=0;for(;(v=y.exec(m))!==null;){s=v.index||0,C<s&&_.push(m.substring(C,s)),C=(v.index||0)+v[0].length;const[,n,i]=v;_.push(n?`$(${i})`:S({id:i}))}return C<m.length&&_.push(m.substring(C)),_}e.renderLabelWithIcons=D;function S(m){const _=L.$("span");return _.classList.add(...k.ThemeIcon.asClassNameArray(m)),_}e.renderIcon=S}),define(ee[312],te([1,0,7,128,52]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(m,_){var v;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(v=_?.supportIcons)!==null&&v!==void 0?v:!1,this.domNode=L.append(m,L.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(m,_=[],v="",C){m||(m=""),C&&(m=D.escapeNewLines(m,_)),!(this.didEverRender&&this.text===m&&this.title===v&&y.equals(this.highlights,_))&&(this.text=m,this.title=v,this.highlights=_,this.render())}render(){const m=[];let _=0;for(const v of this.highlights){if(v.end===v.start)continue;if(_<v.start){const n=this.text.substring(_,v.start);this.supportIcons?m.push(...(0,k.renderLabelWithIcons)(n)):m.push(n),_=v.start}const C=this.text.substring(_,v.end),s=L.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(C):[C]);v.extraClasses&&s.classList.add(...v.extraClasses),m.push(s),_=v.end}if(_<this.text.length){const v=this.text.substring(_);this.supportIcons?m.push(...(0,k.renderLabelWithIcons)(v)):m.push(v)}L.reset(this.domNode,...m),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(m,_){let v=0,C=0;return m.replace(/\r\n|\r|\n/g,(s,n)=>{C=s===`\r
`?-1:0,n+=v;for(const i of _)i.end<=n||(i.start>=n&&(i.start+=C),i.end>=n&&(i.end+=C));return v+=C,"\u23CE"})}}e.HighlightedLabel=D}),define(ee[223],te([1,0,7,217,52,559,405]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const S=L.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class m{constructor(v,C,s){this.os=C,this.keyElements=new Set,this.options=s||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=L.append(v,S(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.didEverRender=!1,v.appendChild(this.domNode)}get element(){return this.domNode}set(v,C){this.didEverRender&&this.keybinding===v&&m.areSame(this.matches,C)||(this.keybinding=v,this.matches=C,this.render())}render(){var v;if(this.clear(),this.keybinding){const C=this.keybinding.getChords();C[0]&&this.renderChord(this.domNode,C[0],this.matches?this.matches.firstPart:null);for(let n=1;n<C.length;n++)L.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,C[n],this.matches?this.matches.chordPart:null);const s=(v=this.options.disableTitle)!==null&&v!==void 0&&v?void 0:this.keybinding.getAriaLabel()||void 0;s!==void 0?this.domNode.title=s:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){L.clearNode(this.domNode),this.keyElements.clear()}renderChord(v,C,s){const n=k.UILabelProvider.modifierLabels[this.os];C.ctrlKey&&this.renderKey(v,n.ctrlKey,!!s?.ctrlKey,n.separator),C.shiftKey&&this.renderKey(v,n.shiftKey,!!s?.shiftKey,n.separator),C.altKey&&this.renderKey(v,n.altKey,!!s?.altKey,n.separator),C.metaKey&&this.renderKey(v,n.metaKey,!!s?.metaKey,n.separator);const i=C.keyLabel;i&&this.renderKey(v,i,!!s?.keyCode,"")}renderKey(v,C,s,n){L.append(v,this.createKeyElement(C,s?".highlight":"")),n&&L.append(v,S("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(v){L.append(v,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(v,C=""){const s=S("span.monaco-keybinding-key"+C,void 0,v);return this.keyElements.add(s),this.options.keybindingLabelBackground&&(s.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(s.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(s.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(s.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),s}static areSame(v,C){return v===C||!v&&!C?!0:!!v&&!!C&&(0,y.equals)(v.firstPart,C.firstPart)&&(0,y.equals)(v.chordPart,C.chordPart)}}e.KeybindingLabel=m}),define(ee[574],te([1,0,7]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var S;try{(S=D.parentElement)===null||S===void 0||S.removeChild(D)}catch{}}class y{constructor(S){this.renderers=S,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(S){let m=this.getTemplateCache(S).pop(),_=!1;if(m)_=this.transactionNodesPendingRemoval.has(m.domNode),_&&this.transactionNodesPendingRemoval.delete(m.domNode);else{const v=(0,L.$)(".monaco-list-row"),s=this.getRenderer(S).renderTemplate(v);m={domNode:v,templateId:S,templateData:s}}return{row:m,isReusingConnectedDomNode:_}}release(S){S&&this.releaseRow(S)}transact(S){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{S()}finally{for(const m of this.transactionNodesPendingRemoval)this.doRemoveNode(m);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(S){const{domNode:m,templateId:_}=S;m&&(this.inTransaction?this.transactionNodesPendingRemoval.add(m):this.doRemoveNode(m)),this.getTemplateCache(_).push(S)}doRemoveNode(S){S.classList.remove("scrolling"),k(S)}getTemplateCache(S){let m=this.cache.get(S);return m||(m=[],this.cache.set(S,m)),m}dispose(){this.cache.forEach((S,m)=>{for(const _ of S)this.getRenderer(m).disposeTemplate(_.templateData),_.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(S){const m=this.renderers.get(S);if(!m)throw new Error(`No renderer found for ${S}`);return m}}e.RowCache=y}),define(ee[575],te([1,0,7,13,2,407]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",S="active",m="infinite",_="infinite-long-running",v="discrete";class C extends y.Disposable{constructor(n,i){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),C.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(n,i)}create(n,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),n.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(S,m,_,v),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(n){return this.element.classList.add(D),this.element.classList.contains(m)?(this.bit.style.opacity="0",n?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",n?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(v,D,_),this.element.classList.add(S,m),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(_)}getContainer(){return this.element}}e.ProgressBar=C,C.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ee[152],te([1,0,7,79,60,13,106,6,2,17,408]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const C=!1;var s;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(s||(e.OrthogonalEdge=s={}));let n=4;const i=new m.Emitter;let t=300;const a=new m.Emitter;class u{constructor(){this.disposables=new _.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ie([S.memoize],u.prototype,"onPointerMove",null),Ie([S.memoize],u.prototype,"onPointerUp",null);class h{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.End)).event}constructor(r){this.el=r,this.disposables=new _.DisposableStore}dispose(){this.disposables.dispose()}}Ie([S.memoize],h.prototype,"onPointerMove",null),Ie([S.memoize],h.prototype,"onPointerUp",null);class l{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(r){this.factory=r}dispose(){}}Ie([S.memoize],l.prototype,"onPointerMove",null),Ie([S.memoize],l.prototype,"onPointerUp",null);const c="pointer-events-disabled";class o extends _.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(r){this._state!==r&&(this.el.classList.toggle("disabled",r===0),this.el.classList.toggle("minimum",r===1),this.el.classList.toggle("maximum",r===2),this._state=r,this.onDidEnablementChange.fire(r))}set orthogonalStartSash(r){if(this._orthogonalStartSash!==r){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),r){const g=f=>{this.orthogonalStartDragHandleDisposables.clear(),f!==0&&(this._orthogonalStartDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>o.onMouseEnter(r),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>o.onMouseLeave(r),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(r.onDidEnablementChange.event(g,this)),g(r.state)}this._orthogonalStartSash=r}}set orthogonalEndSash(r){if(this._orthogonalEndSash!==r){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),r){const g=f=>{this.orthogonalEndDragHandleDisposables.clear(),f!==0&&(this._orthogonalEndDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>o.onMouseEnter(r),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>o.onMouseLeave(r),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(r.onDidEnablementChange.event(g,this)),g(r.state)}this._orthogonalEndSash=r}}constructor(r,g,f){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new m.Emitter),this._onDidStart=this._register(new m.Emitter),this._onDidChange=this._register(new m.Emitter),this._onDidReset=this._register(new m.Emitter),this._onDidEnd=this._register(new m.Emitter),this.orthogonalStartSashDisposables=this._register(new _.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new _.DisposableStore),this.orthogonalEndSashDisposables=this._register(new _.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new _.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,L.append)(r,(0,L.$)(".monaco-sash")),f.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${f.orthogonalEdge}`),v.isMacintosh&&this.el.classList.add("mac");const p=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(p(F=>this.onPointerStart(F,new u),this));const b=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(b(this.onPointerDoublePress,this));const w=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>o.onMouseEnter(this)));const E=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>o.onMouseLeave(this))),this._register(y.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,y.EventType.Start)).event;this._register(I(F=>this.onPointerStart(F,new h(this.el)),this));const N=this._register(new k.DomEmitter(this.el,y.EventType.Tap)).event;let R;this._register(N(F=>{if(R){clearTimeout(R),R=void 0,this.onPointerDoublePress(F);return}clearTimeout(R),R=setTimeout(()=>R=void 0,250)},this)),typeof f.size=="number"?(this.size=f.size,f.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=n,this._register(i.event(F=>{this.size=F,this.layout()}))),this._register(a.event(F=>this.hoverDelay=F)),this.layoutProvider=g,this.orthogonalStartSash=f.orthogonalStartSash,this.orthogonalEndSash=f.orthogonalEndSash,this.orientation=f.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}onPointerStart(r,g){L.EventHelper.stop(r);let f=!1;if(!r.__orthogonalSashEvent){const T=this.getOrthogonalSash(r);T&&(f=!0,r.__orthogonalSashEvent=!0,T.onPointerStart(r,new l(g)))}if(this.linkedSash&&!r.__linkedSashEvent&&(r.__linkedSashEvent=!0,this.linkedSash.onPointerStart(r,new l(g))),!this.state)return;const p=document.getElementsByTagName("iframe");for(const T of p)T.classList.add(c);const b=r.pageX,w=r.pageY,E=r.altKey,I={startX:b,currentX:b,startY:w,currentY:w,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const N=(0,L.createStyleSheet)(this.el),R=()=>{let T="";f?T="all-scroll":this.orientation===1?this.state===1?T="s-resize":this.state===2?T="n-resize":T=v.isMacintosh?"row-resize":"ns-resize":this.state===1?T="e-resize":this.state===2?T="w-resize":T=v.isMacintosh?"col-resize":"ew-resize",N.textContent=`* { cursor: ${T} !important; }`},F=new _.DisposableStore;R(),f||this.onDidEnablementChange.event(R,null,F);const M=T=>{L.EventHelper.stop(T,!1);const O={startX:b,currentX:T.pageX,startY:w,currentY:T.pageY,altKey:E};this._onDidChange.fire(O)},A=T=>{L.EventHelper.stop(T,!1),this.el.removeChild(N),this.el.classList.remove("active"),this._onDidEnd.fire(),F.dispose();for(const O of p)O.classList.remove(c)};g.onPointerMove(M,null,F),g.onPointerUp(A,null,F),F.add(g)}onPointerDoublePress(r){const g=this.getOrthogonalSash(r);g&&g._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(r,g=!1){r.el.classList.contains("active")?(r.hoverDelayer.cancel(),r.el.classList.add("hover")):r.hoverDelayer.trigger(()=>r.el.classList.add("hover"),r.hoverDelay).then(void 0,()=>{}),!g&&r.linkedSash&&o.onMouseEnter(r.linkedSash,!0)}static onMouseLeave(r,g=!1){r.hoverDelayer.cancel(),r.el.classList.remove("hover"),!g&&r.linkedSash&&o.onMouseLeave(r.linkedSash,!0)}clearSashHoverState(){o.onMouseLeave(this)}layout(){if(this.orientation===0){const r=this.layoutProvider;this.el.style.left=r.getVerticalSashLeft(this)-this.size/2+"px",r.getVerticalSashTop&&(this.el.style.top=r.getVerticalSashTop(this)+"px"),r.getVerticalSashHeight&&(this.el.style.height=r.getVerticalSashHeight(this)+"px")}else{const r=this.layoutProvider;this.el.style.top=r.getHorizontalSashTop(this)-this.size/2+"px",r.getHorizontalSashLeft&&(this.el.style.left=r.getHorizontalSashLeft(this)+"px"),r.getHorizontalSashWidth&&(this.el.style.width=r.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(r){var g;const f=(g=r.initialTarget)!==null&&g!==void 0?g:r.target;if(!(!f||!(f instanceof HTMLElement))&&f.classList.contains("orthogonal-drag-handle"))return f.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=o}),define(ee[224],te([1,0,7,152,6,2]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new y.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new L.Dimension(0,0),this._minSize=new L.Dimension(0,0),this._maxSize=new L.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let _,v=0,C=0;this._sashListener.add(y.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{_===void 0&&(this._onDidWillResize.fire(),_=this._size,v=0,C=0)})),this._sashListener.add(y.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{_!==void 0&&(_=void 0,v=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{_&&(C=s.currentX-s.startX,this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{_&&(C=-(s.currentX-s.startX),this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{_&&(v=-(s.currentY-s.startY),this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{_&&(v=s.currentY-s.startY,this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(y.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(y.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(_,v,C,s){this._northSash.state=_?3:0,this._eastSash.state=v?3:0,this._southSash.state=C?3:0,this._westSash.state=s?3:0}layout(_=this.size.height,v=this.size.width){const{height:C,width:s}=this._minSize,{height:n,width:i}=this._maxSize;_=Math.max(C,Math.min(n,_)),v=Math.max(s,Math.min(i,v));const t=new L.Dimension(v,_);L.Dimension.equals(t,this._size)||(this.domNode.style.height=_+"px",this.domNode.style.width=v+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(_){this._maxSize=_}get maxSize(){return this._maxSize}set minSize(_){this._minSize=_}get minSize(){return this._minSize}set preferredSize(_){this._preferredSize=_}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ee[576],te([1,0,7,60,14,6,2,17]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class _ extends S.Disposable{constructor(C,s,n,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=n,this.registerListeners(),this.setOptions(C,s)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(C=>{this._register(L.addDisposableListener(this.selectElement,C,s=>{this.selectElement.focus()}))}),this._register(L.addStandardDisposableListener(this.selectElement,"click",C=>{L.EventHelper.stop(C,!0)})),this._register(L.addStandardDisposableListener(this.selectElement,"change",C=>{this.selectElement.title=C.target.value,this._onDidSelect.fire({index:C.target.selectedIndex,selected:C.target.value})})),this._register(L.addStandardDisposableListener(this.selectElement,"keydown",C=>{let s=!1;m.isMacintosh?(C.keyCode===18||C.keyCode===16||C.keyCode===10)&&(s=!0):(C.keyCode===18&&C.altKey||C.keyCode===10||C.keyCode===3)&&(s=!0),s&&C.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(C,s){(!this.options||!y.equals(this.options,C))&&(this.options=C,this.selectElement.options.length=0,this.options.forEach((n,i)=>{this.selectElement.add(this.createOption(n.text,i,n.isDisabled))})),s!==void 0&&this.select(s)}select(C){this.options.length===0?this.selected=0:C>=0&&C<this.options.length?this.selected=C:C>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(C){this.selectElement.tabIndex=C?0:-1}render(C){C.classList.add("select-container"),C.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var C,s,n;this.selectElement&&(this.selectElement.style.backgroundColor=(C=this.styles.selectBackground)!==null&&C!==void 0?C:"",this.selectElement.style.color=(s=this.styles.selectForeground)!==null&&s!==void 0?s:"",this.selectElement.style.borderColor=(n=this.styles.selectBorder)!==null&&n!==void 0?n:"")}createOption(C,s,n){const i=document.createElement("option");return i.value=C,i.text=C,i.disabled=!!n,i}}e.SelectBoxNative=_}),define(ee[83],te([1,0,7,43,59,60,2]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends S.Disposable{onclick(v,C){this._register(L.addDisposableListener(v,L.EventType.CLICK,s=>C(new y.StandardMouseEvent(s))))}onmousedown(v,C){this._register(L.addDisposableListener(v,L.EventType.MOUSE_DOWN,s=>C(new y.StandardMouseEvent(s))))}onmouseover(v,C){this._register(L.addDisposableListener(v,L.EventType.MOUSE_OVER,s=>C(new y.StandardMouseEvent(s))))}onmouseleave(v,C){this._register(L.addDisposableListener(v,L.EventType.MOUSE_LEAVE,s=>C(new y.StandardMouseEvent(s))))}onkeydown(v,C){this._register(L.addDisposableListener(v,L.EventType.KEY_DOWN,s=>C(new k.StandardKeyboardEvent(s))))}onkeyup(v,C){this._register(L.addDisposableListener(v,L.EventType.KEY_UP,s=>C(new k.StandardKeyboardEvent(s))))}oninput(v,C){this._register(L.addDisposableListener(v,L.EventType.INPUT,C))}onblur(v,C){this._register(L.addDisposableListener(v,L.EventType.BLUR,C))}onfocus(v,C){this._register(L.addDisposableListener(v,L.EventType.FOCUS,C))}ignoreGesture(v){return D.Gesture.ignoreTarget(v)}}e.Widget=m}),define(ee[225],te([1,0,151,83,13,27,7]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class m extends k.Widget{constructor(v){super(),this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top<"u"&&(this.bgDomNode.style.top="0px"),typeof v.left<"u"&&(this.bgDomNode.style.left="0px"),typeof v.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof v.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(v.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top<"u"&&(this.domNode.style.top=v.top+"px"),typeof v.left<"u"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom<"u"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right<"u"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._register(S.addStandardDisposableListener(this.bgDomNode,S.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._register(S.addStandardDisposableListener(this.domNode,S.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._pointerdownRepeatTimer=this._register(new y.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new y.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const C=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(C,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=m}),define(ee[313],te([1,0,7,37,151,225,568,83,17]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const v=140;class C extends m.Widget{constructor(n){super(),this._lazyRender=n.lazyRender,this._host=n.host,this._scrollable=n.scrollable,this._scrollByPage=n.scrollByPage,this._scrollbarState=n.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(n.visibility,"visible scrollbar "+n.extraScrollbarClassName,"invisible scrollbar "+n.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(L.addDisposableListener(this.domNode.domNode,L.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(n){const i=this._register(new D.ScrollbarArrow(n));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(n,i,t,a){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(n),this.slider.setLeft(i),typeof t=="number"&&this.slider.setWidth(t),typeof a=="number"&&this.slider.setHeight(a),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(L.addDisposableListener(this.slider.domNode,L.EventType.POINTER_DOWN,u=>{u.button===0&&(u.preventDefault(),this._sliderPointerDown(u))})),this.onclick(this.slider.domNode,u=>{u.leftButton&&u.stopPropagation()})}_onElementSize(n){return this._scrollbarState.setVisibleSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(n){return this._scrollbarState.setScrollSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(n){return this._scrollbarState.setScrollPosition(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(n){n.target===this.domNode.domNode&&this._onPointerDown(n)}delegatePointerDown(n){const i=this.domNode.domNode.getClientRects()[0].top,t=i+this._scrollbarState.getSliderPosition(),a=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),u=this._sliderPointerPosition(n);t<=u&&u<=a?n.button===0&&(n.preventDefault(),this._sliderPointerDown(n)):this._onPointerDown(n)}_onPointerDown(n){let i,t;if(n.target===this.domNode.domNode&&typeof n.offsetX=="number"&&typeof n.offsetY=="number")i=n.offsetX,t=n.offsetY;else{const u=L.getDomNodePagePosition(this.domNode.domNode);i=n.pageX-u.left,t=n.pageY-u.top}const a=this._pointerDownRelativePosition(i,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(a):this._scrollbarState.getDesiredScrollPositionFromOffset(a)),n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))}_sliderPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const i=this._sliderPointerPosition(n),t=this._sliderOrthogonalPointerPosition(n),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,u=>{const h=this._sliderOrthogonalPointerPosition(u),l=Math.abs(h-t);if(_.isWindows&&l>v){this._setDesiredScrollPositionNow(a.getScrollPosition());return}const o=this._sliderPointerPosition(u)-i;this._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(o))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(n){const i={};this.writeScrollPosition(i,n),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(n){this._updateScrollbarSize(n),this._scrollbarState.setScrollbarSize(n),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(ee[577],te([1,0,59,313,225,196,26]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(v,C,s){const n=v.getScrollDimensions(),i=v.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:s,scrollbarState:new D.ScrollbarState(C.horizontalHasArrows?C.arrowSize:0,C.horizontal===2?0:C.horizontalScrollbarSize,C.vertical===2?0:C.verticalScrollbarSize,n.width,n.scrollWidth,i.scrollLeft),visibility:C.horizontal,extraScrollbarClassName:"horizontal",scrollable:v,scrollByPage:C.scrollByPage}),C.horizontalHasArrows){const t=(C.arrowSize-y.ARROW_IMG_SIZE)/2,a=(C.horizontalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:a,left:t,bottom:void 0,right:void 0,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:t,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((C.horizontalScrollbarSize-C.horizontalSliderSize)/2),0,void 0,C.horizontalSliderSize)}_updateSlider(v,C){this.slider.setWidth(v),this.slider.setLeft(C)}_renderDomNode(v,C){this.domNode.setWidth(v),this.domNode.setHeight(C),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(v.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,C){return v}_sliderPointerPosition(v){return v.pageX}_sliderOrthogonalPointerPosition(v){return v.pageY}_updateScrollbarSize(v){this.slider.setHeight(v)}writeScrollPosition(v,C){v.scrollLeft=C}updateOptions(v){this.updateScrollbarSize(v.horizontal===2?0:v.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._visibilityController.setVisibility(v.horizontal),this._scrollByPage=v.scrollByPage}}e.HorizontalScrollbar=m}),define(ee[578],te([1,0,59,313,225,196,26]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(v,C,s){const n=v.getScrollDimensions(),i=v.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:s,scrollbarState:new D.ScrollbarState(C.verticalHasArrows?C.arrowSize:0,C.vertical===2?0:C.verticalScrollbarSize,0,n.height,n.scrollHeight,i.scrollTop),visibility:C.vertical,extraScrollbarClassName:"vertical",scrollable:v,scrollByPage:C.scrollByPage}),C.verticalHasArrows){const t=(C.arrowSize-y.ARROW_IMG_SIZE)/2,a=(C.verticalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:t,left:a,bottom:void 0,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:a,bottom:t,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((C.verticalScrollbarSize-C.verticalSliderSize)/2),C.verticalSliderSize,void 0)}_updateSlider(v,C){this.slider.setHeight(v),this.slider.setTop(C)}_renderDomNode(v,C){this.domNode.setWidth(C),this.domNode.setHeight(v),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(v.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,C){return C}_sliderPointerPosition(v){return v.pageY}_sliderOrthogonalPointerPosition(v){return v.pageX}_updateScrollbarSize(v){this.slider.setWidth(v)}writeScrollPosition(v,C){v.scrollTop=C}updateOptions(v){this.updateScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(v.vertical),this._scrollByPage=v.scrollByPage}}e.VerticalScrollbar=m}),define(ee[84],te([1,0,51,7,37,59,577,578,83,13,6,2,17,167,409]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,a=50,u=!0;class h{constructor(p,b,w){this.timestamp=p,this.deltaX=b,this.deltaY=w,this.score=0}}class l{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let p=1,b=0,w=1,E=this._rear;do{const I=E===this._front?p:Math.pow(2,-w);if(p-=I,b+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,w++}while(!0);return b<=.5}acceptStandardWheelEvent(p){const b=window.devicePixelRatio/(0,L.getZoomFactor)();n.isWindows||n.isLinux?this.accept(Date.now(),p.deltaX/b,p.deltaY/b):this.accept(Date.now(),p.deltaX,p.deltaY)}accept(p,b,w){const E=new h(p,b,w);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(p){if(Math.abs(p.deltaX)>0&&Math.abs(p.deltaY)>0)return 1;let b=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(p.deltaX)||!this._isAlmostInt(p.deltaY))&&(b+=.25),Math.min(Math.max(b,0),1)}_isAlmostInt(p){return Math.abs(Math.round(p)-p)<.01}}e.MouseWheelClassifier=l,l.INSTANCE=new l;class c extends _.Widget{get options(){return this._options}constructor(p,b,w){super(),this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new C.Emitter),p.style.overflow="hidden",this._options=g(b),this._scrollable=w,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(p),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new v.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(p){this._verticalScrollbar.delegatePointerDown(p)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(p){this._scrollable.setScrollDimensions(p,!1)}updateClassName(p){this._options.className=p,n.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(p){typeof p.handleMouseWheel<"u"&&(this._options.handleMouseWheel=p.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof p.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=p.mouseWheelScrollSensitivity),typeof p.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=p.fastScrollSensitivity),typeof p.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=p.scrollPredominantAxis),typeof p.horizontal<"u"&&(this._options.horizontal=p.horizontal),typeof p.vertical<"u"&&(this._options.vertical=p.vertical),typeof p.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=p.horizontalScrollbarSize),typeof p.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=p.verticalScrollbarSize),typeof p.scrollByPage<"u"&&(this._options.scrollByPage=p.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(p){this._onMouseWheel(new D.StandardWheelEvent(p))}_setListeningToMouseWheel(p){if(this._mouseWheelToDispose.length>0!==p&&(this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),p)){const w=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(p){var b;if(!((b=p.browserEvent)===null||b===void 0)&&b.defaultPrevented)return;const w=l.INSTANCE;u&&w.acceptStandardWheelEvent(p);let E=!1;if(p.deltaY||p.deltaX){let N=p.deltaY*this._options.mouseWheelScrollSensitivity,R=p.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&R+N===0?R=N=0:Math.abs(N)>=Math.abs(R)?R=0:N=0),this._options.flipAxes&&([N,R]=[R,N]);const F=!n.isMacintosh&&p.browserEvent&&p.browserEvent.shiftKey;(this._options.scrollYToX||F)&&!R&&(R=N,N=0),p.browserEvent&&p.browserEvent.altKey&&(R=R*this._options.fastScrollSensitivity,N=N*this._options.fastScrollSensitivity);const M=this._scrollable.getFutureScrollPosition();let A={};if(N){const T=a*N,O=M.scrollTop-(T<0?Math.floor(T):Math.ceil(T));this._verticalScrollbar.writeScrollPosition(A,O)}if(R){const T=a*R,O=M.scrollLeft-(T<0?Math.floor(T):Math.ceil(T));this._horizontalScrollbar.writeScrollPosition(A,O)}A=this._scrollable.validateScrollPosition(A),(M.scrollLeft!==A.scrollLeft||M.scrollTop!==A.scrollTop)&&(u&&this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(A):this._scrollable.setScrollPositionNow(A),E=!0)}let I=E;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(p.preventDefault(),p.stopPropagation())}_onDidScroll(p){this._shouldRender=this._horizontalScrollbar.onDidScroll(p)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(p)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const p=this._scrollable.getCurrentScrollPosition(),b=p.scrollTop>0,w=p.scrollLeft>0,E=w?" left":"",I=b?" top":"",N=w||b?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${N}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(p){this._mouseIsOver=!1,this._hide()}_onMouseOver(p){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=c;class o extends c{constructor(p,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(p,b,w),this._register(w)}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}}e.ScrollableElement=o;class d extends c{constructor(p,b,w){super(p,b,w)}setScrollPosition(p){p.reuseAnimation?this._scrollable.setScrollPositionSmooth(p,p.reuseAnimation):this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=d;class r extends c{constructor(p,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(p,b,w),this._register(w),this._element=p,this._register(this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)})),this.scanDomNode()}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=r;function g(f){const p={lazyRender:typeof f.lazyRender<"u"?f.lazyRender:!1,className:typeof f.className<"u"?f.className:"",useShadows:typeof f.useShadows<"u"?f.useShadows:!0,handleMouseWheel:typeof f.handleMouseWheel<"u"?f.handleMouseWheel:!0,flipAxes:typeof f.flipAxes<"u"?f.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof f.consumeMouseWheelIfScrollbarIsNeeded<"u"?f.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof f.alwaysConsumeMouseWheel<"u"?f.alwaysConsumeMouseWheel:!1,scrollYToX:typeof f.scrollYToX<"u"?f.scrollYToX:!1,mouseWheelScrollSensitivity:typeof f.mouseWheelScrollSensitivity<"u"?f.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof f.fastScrollSensitivity<"u"?f.fastScrollSensitivity:5,scrollPredominantAxis:typeof f.scrollPredominantAxis<"u"?f.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof f.mouseWheelSmoothScroll<"u"?f.mouseWheelSmoothScroll:!0,arrowSize:typeof f.arrowSize<"u"?f.arrowSize:11,listenOnDomNode:typeof f.listenOnDomNode<"u"?f.listenOnDomNode:null,horizontal:typeof f.horizontal<"u"?f.horizontal:1,horizontalScrollbarSize:typeof f.horizontalScrollbarSize<"u"?f.horizontalScrollbarSize:10,horizontalSliderSize:typeof f.horizontalSliderSize<"u"?f.horizontalSliderSize:0,horizontalHasArrows:typeof f.horizontalHasArrows<"u"?f.horizontalHasArrows:!1,vertical:typeof f.vertical<"u"?f.vertical:1,verticalScrollbarSize:typeof f.verticalScrollbarSize<"u"?f.verticalScrollbarSize:10,verticalHasArrows:typeof f.verticalHasArrows<"u"?f.verticalHasArrows:!1,verticalSliderSize:typeof f.verticalSliderSize<"u"?f.verticalSliderSize:0,scrollByPage:typeof f.scrollByPage<"u"?f.scrollByPage:!1};return p.horizontalSliderSize=typeof f.horizontalSliderSize<"u"?f.horizontalSliderSize:p.horizontalScrollbarSize,p.verticalSliderSize=typeof f.verticalSliderSize<"u"?f.verticalSliderSize:p.verticalScrollbarSize,n.isMacintosh&&(p.className+=" mac"),p}}),define(ee[314],te([1,0,7,43,84,2,556,402]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverAccessibleViewHint=e.HoverAction=e.HoverWidget=void 0;const m=L.$;class _ extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new y.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=_;class v extends D.Disposable{static render(n,i,t){return new v(n,i,t)}constructor(n,i,t){super(),this.actionContainer=L.append(n,m("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=L.append(this.actionContainer,m("a.action")),this.action.setAttribute("role","button"),i.iconClass&&L.append(this.action,m(`span.icon.${i.iconClass}`));const a=L.append(this.action,m("span"));a.textContent=t?`${i.label} (${t})`:i.label,this._register(L.addDisposableListener(this.actionContainer,L.EventType.CLICK,u=>{u.stopPropagation(),u.preventDefault(),i.run(this.actionContainer)})),this._register(L.addDisposableListener(this.actionContainer,L.EventType.KEY_DOWN,u=>{const h=new k.StandardKeyboardEvent(u);(h.equals(3)||h.equals(10))&&(u.stopPropagation(),u.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(n){n?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v;function C(s,n){return s&&n?(0,S.localize)(0,null,n):s?(0,S.localize)(1,null):""}e.getHoverAccessibleViewHint=C}),define(ee[226],te([1,0,197,7,79,60,84,14,13,106,6,2,166,167,394,574,9]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const h={CurrentDragAndDropData:void 0},l={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(p){return[p]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class c{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=c;class o{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class d{constructor(){this.types=[],this.files=[]}update(b){if(b.types&&this.types.splice(0,this.types.length,...b.types),b.files){this.files.splice(0,this.files.length);for(let w=0;w<b.files.length;w++){const E=b.files.item(w);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=d;function r(p,b){return Array.isArray(p)&&Array.isArray(b)?(0,m.equals)(p,b):p===b}class g{constructor(b){b?.getSetSize?this.getSetSize=b.getSetSize.bind(b):this.getSetSize=(w,E,I)=>I,b?.getPosInSet?this.getPosInSet=b.getPosInSet.bind(b):this.getPosInSet=(w,E)=>E+1,b?.getRole?this.getRole=b.getRole.bind(b):this.getRole=w=>"listitem",b?.isChecked?this.isChecked=b.isChecked.bind(b):this.isChecked=w=>{}}}class f{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(b){if(b!==this._horizontalScrolling){if(b&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=b,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(b,w,E,I=l){var N,R,F,M,A,T,O,P,x,z,q,B,$;if(this.virtualDelegate=w,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new _.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.Disposable.None,this.onDragLeaveTimeout=s.Disposable.None,this.disposables=new s.DisposableStore,this._onDidChangeContentHeight=new C.Emitter,this._onDidChangeContentWidth=new C.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new t.RangeMap((N=I.paddingTop)!==null&&N!==void 0?N:0);for(const ne of E)this.renderers.set(ne.templateId,ne);this.cache=this.disposables.add(new a.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(R=I.horizontalScrolling)!==null&&R!==void 0?R:l.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof I.paddingBottom>"u"?0:I.paddingBottom,this.accessibilityProvider=new g(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((F=I.transformOptimization)!==null&&F!==void 0?F:l.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=I.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:ne=>(0,k.scheduleAtNextAnimationFrame)(ne)})),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(A=I.alwaysConsumeMouseWheel)!==null&&A!==void 0?A:l.alwaysConsumeMouseWheel,horizontal:1,vertical:(T=I.verticalScrollMode)!==null&&T!==void 0?T:l.verticalScrollMode,useShadows:(O=I.useShadows)!==null&&O!==void 0?O:l.useShadows,mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity,scrollByPage:I.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),b.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,ne=>this.onTouchChange(ne))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",ne=>ne.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",ne=>this.onDragOver(this.toDragEvent(ne)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",ne=>this.onDrop(this.toDragEvent(ne)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",ne=>this.onDragLeave(this.toDragEvent(ne)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",ne=>this.onDragEnd(ne))),this.setRowLineHeight=(P=I.setRowLineHeight)!==null&&P!==void 0?P:l.setRowLineHeight,this.setRowHeight=(x=I.setRowHeight)!==null&&x!==void 0?x:l.setRowHeight,this.supportDynamicHeights=(z=I.supportDynamicHeights)!==null&&z!==void 0?z:l.supportDynamicHeights,this.dnd=(q=I.dnd)!==null&&q!==void 0?q:l.dnd,this.layout((B=I.initialSize)===null||B===void 0?void 0:B.height,($=I.initialSize)===null||$===void 0?void 0:$.width)}updateOptions(b){b.paddingBottom!==void 0&&(this.paddingBottom=b.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),b.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(b.smoothScrolling?125:0),b.horizontalScrolling!==void 0&&(this.horizontalScrolling=b.horizontalScrolling);let w;if(b.scrollByPage!==void 0&&(w=Object.assign(Object.assign({},w??{}),{scrollByPage:b.scrollByPage})),b.mouseWheelScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{mouseWheelScrollSensitivity:b.mouseWheelScrollSensitivity})),b.fastScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{fastScrollSensitivity:b.fastScrollSensitivity})),w&&this.scrollableElement.updateOptions(w),b.paddingTop!==void 0&&b.paddingTop!==this.rangeMap.paddingTop){const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I=b.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=b.paddingTop,this.render(E,Math.max(0,this.lastRenderTop+I),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(b,w,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(b,w,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(b,w,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:b,end:b+w},R=n.Range.intersect(I,N),F=new Map;for(let U=R.end-1;U>=R.start;U--){const W=this.items[U];if(W.dragStartDisposable.dispose(),W.checkedDisposable.dispose(),W.row){let V=F.get(W.templateId);V||(V=[],F.set(W.templateId,V));const Z=this.renderers.get(W.templateId);Z&&Z.disposeElement&&Z.disposeElement(W.element,U,W.row.templateData,W.size),V.push(W.row)}W.row=null}const M={start:b+w,end:this.items.length},A=n.Range.intersect(M,I),T=n.Range.relativeComplement(M,I),O=E.map(U=>({id:String(this.itemId++),element:U,templateId:this.virtualDelegate.getTemplateId(U),size:this.virtualDelegate.getHeight(U),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(U),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.Disposable.None,checkedDisposable:s.Disposable.None}));let P;b===0&&w>=this.items.length?(this.rangeMap=new t.RangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,O),P=this.items,this.items=O):(this.rangeMap.splice(b,w,O),P=this.items.splice(b,w,...O));const x=E.length-w,z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),q=(0,t.shift)(A,x),B=n.Range.intersect(z,q);for(let U=B.start;U<B.end;U++)this.updateItemInDOM(this.items[U],U);const $=n.Range.relativeComplement(q,z);for(const U of $)for(let W=U.start;W<U.end;W++)this.removeItemFromDOM(W);const X=T.map(U=>(0,t.shift)(U,x)),oe=[{start:b,end:b+E.length},...X].map(U=>n.Range.intersect(z,U)),Y=this.getNextToLastElement(oe);for(const U of oe)for(let W=U.start;W<U.end;W++){const V=this.items[W],Z=F.get(V.templateId),ie=Z?.pop();this.insertItemInDOM(W,Y,ie)}for(const U of F.values())for(const W of U)this.cache.release(W);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),P.map(U=>U.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let b=0;for(const w of this.items)typeof w.width<"u"&&(b=Math.max(b,w.width));this.scrollWidth=b,this.scrollableElement.setScrollDimensions({scrollWidth:b===0?0:b+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const b of this.items)b.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const b=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),w=this.rangeMap.positionAt(b.start),E=this.rangeMap.positionAt(b.start+1);return E!==-1&&(E-w)/2+w<this.scrollTop?b.start+1:b.start}element(b){return this.items[b].element}domElement(b){const w=this.items[b].row;return w&&w.domNode}elementHeight(b){return this.items[b].size}elementTop(b){return this.rangeMap.positionAt(b)}indexAt(b){return this.rangeMap.indexAt(b)}indexAfter(b){return this.rangeMap.indexAfter(b)}layout(b,w){const E={height:typeof b=="number"?b:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof w<"u"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,k.getContentWidth)(this.domNode)})}render(b,w,E,I,N,R=!1){const F=this.getRenderRange(w,E),M=n.Range.relativeComplement(F,b),A=n.Range.relativeComplement(b,F),T=this.getNextToLastElement(M);if(R){const O=n.Range.intersect(b,F);for(let P=O.start;P<O.end;P++)this.updateItemInDOM(this.items[P],P)}this.cache.transact(()=>{for(const O of A)for(let P=O.start;P<O.end;P++)this.removeItemFromDOM(P);for(const O of M)for(let P=O.start;P<O.end;P++)this.insertItemInDOM(P,T)}),I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=E}insertItemInDOM(b,w,E){const I=this.items[b];let N=!1;if(!I.row)if(E)I.row=E;else{const T=this.cache.alloc(I.templateId);I.row=T.row,N=T.isReusingConnectedDomNode}const R=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",R);const F=this.accessibilityProvider.isChecked(I.element);if(typeof F=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!F));else if(F){const T=O=>I.row.domNode.setAttribute("aria-checked",String(!!O));T(F.value),I.checkedDisposable=F.onDidChange(T)}(N||!I.row.domNode.parentElement)&&(w?this.rowsContainer.insertBefore(I.row.domNode,w):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,b);const M=this.renderers.get(I.templateId);if(!M)throw new Error(`No renderer found for template id ${I.templateId}`);M?.renderElement(I.element,b,I.row.templateData,I.size);const A=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!A,A&&(I.dragStartDisposable=(0,k.addDisposableListener)(I.row.domNode,"dragstart",T=>this.onDragStart(I.element,A,T))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(b){if(!b.row||!b.row.domNode)return;b.row.domNode.style.width="fit-content",b.width=(0,k.getContentWidth)(b.row.domNode);const w=window.getComputedStyle(b.row.domNode);w.paddingLeft&&(b.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(b.width+=parseFloat(w.paddingRight)),b.row.domNode.style.width=""}updateItemInDOM(b,w){b.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(b.row.domNode.style.height=`${b.size}px`),this.setRowLineHeight&&(b.row.domNode.style.lineHeight=`${b.size}px`),b.row.domNode.setAttribute("data-index",`${w}`),b.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),b.row.domNode.setAttribute("data-parity",w%2===0?"even":"odd"),b.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(b.element,w,this.length))),b.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(b.element,w))),b.row.domNode.setAttribute("id",this.getElementDomId(w)),b.row.domNode.classList.toggle("drop-target",b.dropTarget)}removeItemFromDOM(b){const w=this.items[b];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){const E=this.renderers.get(w.templateId);E&&E.disposeElement&&E.disposeElement(w.element,b,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(b,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:b,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(b){this.setScrollTop(b)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"click")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseDblClick(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"dblclick")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseMiddleClick(){return C.Event.filter(C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"auxclick")).event,b=>this.toMouseEvent(b),this.disposables),b=>b.browserEvent.button===1,this.disposables)}get onMouseDown(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mousedown")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOver(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseover")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOut(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseout")).event,b=>this.toMouseEvent(b),this.disposables)}get onContextMenu(){return C.Event.any(C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"contextmenu")).event,b=>this.toMouseEvent(b),this.disposables),C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,b=>this.toGestureEvent(b),this.disposables))}get onTouchStart(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"touchstart")).event,b=>this.toTouchEvent(b),this.disposables)}get onTap(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,b=>this.toGestureEvent(b),this.disposables)}toMouseEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toTouchEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toGestureEvent(b){const w=this.getItemIndexFromEventTarget(b.initialTarget||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toDragEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}onScroll(b){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,b.scrollTop,b.height,b.scrollLeft,b.scrollWidth),this.supportDynamicHeights&&this._rerender(b.scrollTop,b.height,b.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",b),w}}onTouchChange(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY}onDragStart(b,w,E){var I,N;if(!E.dataTransfer)return;const R=this.dnd.getDragElements(b);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(L.DataTransfers.TEXT,w),E.dataTransfer.setDragImage){let F;this.dnd.getDragLabel&&(F=this.dnd.getDragLabel(R,E)),typeof F>"u"&&(F=String(R.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=F;const T=(O=>{for(;O&&!O.classList.contains("monaco-workbench");)O=O.parentElement;return O||document.body})(this.domNode);T.appendChild(M),E.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>T.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new c(R),h.CurrentDragAndDropData=new o(R),(N=(I=this.dnd).onDragStart)===null||N===void 0||N.call(I,this.currentDragData,E)}onDragOver(b){var w;if(b.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),h.CurrentDragAndDropData&&h.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(b.browserEvent),!b.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(h.CurrentDragAndDropData)this.currentDragData=h.CurrentDragAndDropData;else{if(!b.browserEvent.dataTransfer.types)return!1;this.currentDragData=new d}const E=this.dnd.onDragOver(this.currentDragData,b.element,b.index,b.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;b.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let I;if(typeof E!="boolean"&&E.feedback?I=E.feedback:typeof b.index>"u"?I=[-1]:I=[b.index],I=(0,m.distinct)(I).filter(N=>N>=-1&&N<this.length).sort((N,R)=>N-R),I=I[0]===-1?[-1]:I,r(this.currentDragFeedback,I))return!0;if(this.currentDragFeedback=I,this.currentDragFeedbackDisposable.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of I){const R=this.items[N];R.dropTarget=!0,(w=R.row)===null||w===void 0||w.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{var N;for(const R of I){const F=this.items[R];F.dropTarget=!1,(N=F.row)===null||N===void 0||N.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(b){var w,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,_.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(w=this.dnd).onDragLeave)===null||E===void 0||E.call(w,this.currentDragData,b.element,b.index,b.browserEvent))}onDrop(b){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,!(!w||!b.browserEvent.dataTransfer)&&(b.browserEvent.preventDefault(),w.update(b.browserEvent.dataTransfer),this.dnd.drop(w,b.element,b.index,b.browserEvent))}onDragEnd(b){var w,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,(E=(w=this.dnd).onDragEnd)===null||E===void 0||E.call(w,b)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.Disposable.None}setupDragAndDropScrollTopAnimation(b){if(!this.dragOverAnimationDisposable){const w=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,_.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=b.pageY}animateDragAndDropScrollTop(b){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-b,E=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(b){const w=this.scrollableElement.getDomNode();let E=b;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&w.contains(E);){const I=E.getAttribute("data-index");if(I){const N=Number(I);if(!isNaN(N))return N}E=E.parentElement}}getRenderRange(b,w){return{start:this.rangeMap.indexAt(b),end:this.rangeMap.indexAfter(b+w-1)}}_rerender(b,w,E){const I=this.getRenderRange(b,w);let N,R;b===this.elementTop(I.start)?(N=I.start,R=0):I.end-I.start>1&&(N=I.start+1,R=this.elementTop(N)-b);let F=0;for(;;){const M=this.getRenderRange(b,w);let A=!1;for(let T=M.start;T<M.end;T++){const O=this.probeDynamicHeight(T);O!==0&&this.rangeMap.splice(T,1,[this.items[T]]),F+=O,A=A||O!==0}if(!A){F!==0&&this.eventuallyUpdateScrollDimensions();const T=n.Range.relativeComplement(I,M);for(const P of T)for(let x=P.start;x<P.end;x++)this.items[x].row&&this.removeItemFromDOM(x);const O=n.Range.relativeComplement(M,I);for(const P of O)for(let x=P.start;x<P.end;x++){const z=x+1,q=z<this.items.length?this.items[z].row:null,B=q?q.domNode:null;this.insertItemInDOM(x,B)}for(let P=M.start;P<M.end;P++)this.items[P].row&&this.updateItemInDOM(this.items[P],P);if(typeof N=="number"){const P=this.scrollable.getFutureScrollPosition().scrollTop-b,x=this.elementTop(N)-R+P;this.setScrollTop(x,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(b){var w,E,I;const N=this.items[b];if(this.virtualDelegate.getDynamicHeight){const A=this.virtualDelegate.getDynamicHeight(N.element);if(A!==null){const T=N.size;return N.size=A,N.lastDynamicHeightWidth=this.renderWidth,A-T}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const R=N.size;if(N.row)return N.row.domNode.style.height="",N.size=N.row.domNode.offsetHeight,N.lastDynamicHeightWidth=this.renderWidth,N.size-R;const{row:F}=this.cache.alloc(N.templateId);F.domNode.style.height="",this.rowsContainer.appendChild(F.domNode);const M=this.renderers.get(N.templateId);if(!M)throw new u.BugIndicatingError("Missing renderer for templateId: "+N.templateId);return M.renderElement(N.element,b,F.templateData,void 0),N.size=F.domNode.offsetHeight,(w=M.disposeElement)===null||w===void 0||w.call(M,N.element,b,F.templateData,void 0),(I=(E=this.virtualDelegate).setDynamicHeight)===null||I===void 0||I.call(E,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(F.domNode),this.cache.release(F),N.size-R}getNextToLastElement(b){const w=b[b.length-1];if(!w)return null;const E=this.items[w.end];return!E||!E.row?null:E.row.domNode}getElementDomId(b){return`${this.domId}_${b}`}dispose(){var b;if(this.items){for(const w of this.items)if(w.row){const E=this.renderers.get(w.row.templateId);E&&((b=E.disposeElement)===null||b===void 0||b.call(E,w.element,-1,w.row.templateData,void 0),E.disposeTemplate(w.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,s.dispose)(this.disposables)}}e.ListView=f,f.InstanceCount=0,Ie([v.memoize],f.prototype,"onMouseClick",null),Ie([v.memoize],f.prototype,"onMouseDblClick",null),Ie([v.memoize],f.prototype,"onMouseMiddleClick",null),Ie([v.memoize],f.prototype,"onMouseDown",null),Ie([v.memoize],f.prototype,"onMouseOver",null),Ie([v.memoize],f.prototype,"onMouseOut",null),Ie([v.memoize],f.prototype,"onContextMenu",null),Ie([v.memoize],f.prototype,"onTouchStart",null),Ie([v.memoize],f.prototype,"onTap",null)}),define(ee[113],te([1,0,7,79,43,60,49,385,14,13,36,106,6,68,2,139,17,20,384,226,59,267]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class d{constructor(V){this.trait=V,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(V){return V}renderElement(V,Z,ie){const le=this.renderedElements.findIndex(he=>he.templateData===ie);if(le>=0){const he=this.renderedElements[le];this.trait.unrender(ie),he.index=Z}else{const he={index:Z,templateData:ie};this.renderedElements.push(he)}this.trait.renderIndex(Z,ie)}splice(V,Z,ie){const le=[];for(const he of this.renderedElements)he.index<V?le.push(he):he.index>=V+Z&&le.push({index:he.index+ie-Z,templateData:he.templateData});this.renderedElements=le}renderIndexes(V){for(const{index:Z,templateData:ie}of this.renderedElements)V.indexOf(Z)>-1&&this.trait.renderIndex(Z,ie)}disposeTemplate(V){const Z=this.renderedElements.findIndex(ie=>ie.templateData===V);Z<0||this.renderedElements.splice(Z,1)}}class r{get name(){return this._trait}get renderer(){return new d(this)}constructor(V){this._trait=V,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new n.Emitter,this.onChange=this._onChange.event}splice(V,Z,ie){var le;Z=Math.max(0,Math.min(Z,this.length-V));const he=ie.length-Z,de=V+Z,ce=[];let ae=0;for(;ae<this.sortedIndexes.length&&this.sortedIndexes[ae]<V;)ce.push(this.sortedIndexes[ae++]);for(let K=0;K<ie.length;K++)ie[K]&&ce.push(K+V);for(;ae<this.sortedIndexes.length&&this.sortedIndexes[ae]>=de;)ce.push(this.sortedIndexes[ae++]+he);const J=this.length+he;if(this.sortedIndexes.length>0&&ce.length===0&&J>0){const K=(le=this.sortedIndexes.find(H=>H>=V))!==null&&le!==void 0?le:J-1;ce.push(Math.min(K,J-1))}this.renderer.splice(V,Z,ie.length),this._set(ce,ce),this.length=J}renderIndex(V,Z){Z.classList.toggle(this._trait,this.contains(V))}unrender(V){V.classList.remove(this._trait)}set(V,Z){return this._set(V,[...V].sort(X),Z)}_set(V,Z,ie){const le=this.indexes,he=this.sortedIndexes;this.indexes=V,this.sortedIndexes=Z;const de=B(he,V);return this.renderer.renderIndexes(de),this._onChange.fire({indexes:V,browserEvent:ie}),le}get(){return this.indexes}contains(V){return(0,_.binarySearch)(this.sortedIndexes,V,X)>=0}dispose(){(0,t.dispose)(this._onChange)}}Ie([s.memoize],r.prototype,"renderer",null);class g extends r{constructor(V){super("selected"),this.setAriaSelected=V}renderIndex(V,Z){super.renderIndex(V,Z),this.setAriaSelected&&(this.contains(V)?Z.setAttribute("aria-selected","true"):Z.setAttribute("aria-selected","false"))}}class f{constructor(V,Z,ie){this.trait=V,this.view=Z,this.identityProvider=ie}splice(V,Z,ie){if(!this.identityProvider)return this.trait.splice(V,Z,new Array(ie.length).fill(!1));const le=this.trait.get().map(ce=>this.identityProvider.getId(this.view.element(ce)).toString());if(le.length===0)return this.trait.splice(V,Z,new Array(ie.length).fill(!1));const he=new Set(le),de=ie.map(ce=>he.has(this.identityProvider.getId(ce).toString()));this.trait.splice(V,Z,de)}}function p(W){return W.tagName==="INPUT"||W.tagName==="TEXTAREA"}e.isInputElement=p;function b(W){return W.classList.contains("monaco-editor")?!0:W.classList.contains("monaco-list")||!W.parentElement?!1:b(W.parentElement)}e.isMonacoEditor=b;function w(W){return W.tagName==="A"&&W.classList.contains("monaco-button")||W.tagName==="DIV"&&W.classList.contains("monaco-button-dropdown")?!0:W.classList.contains("monaco-list")||!W.parentElement?!1:w(W.parentElement)}e.isButton=w;class E{get onKeyDown(){return n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,V=>V.filter(Z=>!p(Z.target)).map(Z=>new y.StandardKeyboardEvent(Z)))}constructor(V,Z,ie){this.list=V,this.view=Z,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=ie.multipleSelectionSupport,this.disposables.add(this.onKeyDown(le=>{switch(le.keyCode){case 3:return this.onEnter(le);case 16:return this.onUpArrow(le);case 18:return this.onDownArrow(le);case 11:return this.onPageUpArrow(le);case 12:return this.onPageDownArrow(le);case 9:return this.onEscape(le);case 31:this.multipleSelectionSupport&&(u.isMacintosh?le.metaKey:le.ctrlKey)&&this.onCtrlA(le)}}))}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=V.multipleSelectionSupport)}onEnter(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection(this.list.getFocus(),V.browserEvent)}onUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPrevious(1,!1,V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNext(1,!1,V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onPageUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPreviousPage(V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onPageDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNextPage(V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onCtrlA(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection((0,_.range)(this.list.length),V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(V){this.list.getSelection().length&&(V.preventDefault(),V.stopPropagation(),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ie([s.memoize],E.prototype,"onKeyDown",null);var I;(function(W){W[W.Automatic=0]="Automatic",W[W.Trigger=1]="Trigger"})(I||(e.TypeNavigationMode=I={}));var N;(function(W){W[W.Idle=0]="Idle",W[W.Typing=1]="Typing"})(N||(N={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(W){return W.ctrlKey||W.metaKey||W.altKey?!1:W.keyCode>=31&&W.keyCode<=56||W.keyCode>=21&&W.keyCode<=30||W.keyCode>=98&&W.keyCode<=107||W.keyCode>=85&&W.keyCode<=95}};class R{constructor(V,Z,ie,le,he){this.list=V,this.view=Z,this.keyboardNavigationLabelProvider=ie,this.keyboardNavigationEventFilter=le,this.delegate=he,this.enabled=!1,this.state=N.Idle,this.mode=I.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(V.options)}updateOptions(V){var Z,ie;!((Z=V.typeNavigationEnabled)!==null&&Z!==void 0)||Z?this.enable():this.disable(),this.mode=(ie=V.typeNavigationMode)!==null&&ie!==void 0?ie:I.Automatic}enable(){if(this.enabled)return;let V=!1;const Z=n.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,he=>he.filter(de=>!p(de.target)).filter(()=>this.mode===I.Automatic||this.triggered).map(de=>new y.StandardKeyboardEvent(de)).filter(de=>V||this.keyboardNavigationEventFilter(de)).filter(de=>this.delegate.mightProducePrintableCharacter(de)).forEach(de=>L.EventHelper.stop(de,!0)).map(de=>de.browserEvent.key)),ie=n.Event.debounce(Z,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);n.Event.reduce(n.Event.any(Z,ie),(he,de)=>de===null?null:(he||"")+de,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ie(this.onClear,this,this.enabledDisposables),Z(()=>V=!0,void 0,this.enabledDisposables),ie(()=>V=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var V;const Z=this.list.getFocus();if(Z.length>0&&Z[0]===this.previouslyFocused){const ie=(V=this.list.options.accessibilityProvider)===null||V===void 0?void 0:V.getAriaLabel(this.list.element(Z[0]));ie&&(0,S.alert)(ie)}this.previouslyFocused=-1}onInput(V){if(!V){this.state=N.Idle,this.triggered=!1;return}const Z=this.list.getFocus(),ie=Z.length>0?Z[0]:0,le=this.state===N.Idle?1:0;this.state=N.Typing;for(let he=0;he<this.list.length;he++){const de=(ie+he+le)%this.list.length,ce=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(de)),ae=ce&&ce.toString();if(this.list.options.typeNavigationEnabled){if(typeof ae<"u"){if((0,i.matchesPrefix)(V,ae)){this.previouslyFocused=ie,this.list.setFocus([de]),this.list.reveal(de);return}const J=(0,i.matchesFuzzy2)(V,ae);if(J&&J[0].end-J[0].start>1&&J.length===1){this.previouslyFocused=ie,this.list.setFocus([de]),this.list.reveal(de);return}}}else if(typeof ae>"u"||(0,i.matchesPrefix)(V,ae)){this.previouslyFocused=ie,this.list.setFocus([de]),this.list.reveal(de);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class F{constructor(V,Z){this.list=V,this.view=Z,this.disposables=new t.DisposableStore;const ie=n.Event.chain(this.disposables.add(new k.DomEmitter(Z.domNode,"keydown")).event,he=>he.filter(de=>!p(de.target)).map(de=>new y.StandardKeyboardEvent(de)));n.Event.chain(ie,he=>he.filter(de=>de.keyCode===2&&!de.ctrlKey&&!de.metaKey&&!de.shiftKey&&!de.altKey))(this.onTab,this,this.disposables)}onTab(V){if(V.target!==this.view.domNode)return;const Z=this.list.getFocus();if(Z.length===0)return;const ie=this.view.domElement(Z[0]);if(!ie)return;const le=ie.querySelector("[tabIndex]");if(!le||!(le instanceof HTMLElement)||le.tabIndex===-1)return;const he=window.getComputedStyle(le);he.visibility==="hidden"||he.display==="none"||(V.preventDefault(),V.stopPropagation(),le.focus())}dispose(){this.disposables.dispose()}}function M(W){return u.isMacintosh?W.browserEvent.metaKey:W.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=M;function A(W){return W.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=A;function T(W){return W instanceof MouseEvent&&W.button===2}const O={isSelectionSingleChangeEvent:M,isSelectionRangeChangeEvent:A};class P{constructor(V){this.list=V,this.disposables=new t.DisposableStore,this._onPointer=new n.Emitter,this.onPointer=this._onPointer.event,V.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||O),this.mouseSupport=typeof V.options.mouseSupport>"u"||!!V.options.mouseSupport,this.mouseSupport&&(V.onMouseDown(this.onMouseDown,this,this.disposables),V.onContextMenu(this.onContextMenu,this,this.disposables),V.onMouseDblClick(this.onDoubleClick,this,this.disposables),V.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(V.getHTMLElement()))),n.Event.any(V.onMouseClick,V.onMouseMiddleClick,V.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,V.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||O))}isSelectionSingleChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(V):!1}isSelectionRangeChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(V):!1}isSelectionChangeEvent(V){return this.isSelectionSingleChangeEvent(V)||this.isSelectionRangeChangeEvent(V)}onMouseDown(V){b(V.browserEvent.target)||document.activeElement!==V.browserEvent.target&&this.list.domFocus()}onContextMenu(V){if(p(V.browserEvent.target)||b(V.browserEvent.target))return;const Z=typeof V.index>"u"?[]:[V.index];this.list.setFocus(Z,V.browserEvent)}onViewPointer(V){if(!this.mouseSupport||p(V.browserEvent.target)||b(V.browserEvent.target)||V.browserEvent.isHandledByList)return;V.browserEvent.isHandledByList=!0;const Z=V.index;if(typeof Z>"u"){this.list.setFocus([],V.browserEvent),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(V))return this.changeSelection(V);this.list.setFocus([Z],V.browserEvent),this.list.setAnchor(Z),T(V.browserEvent)||this.list.setSelection([Z],V.browserEvent),this._onPointer.fire(V)}onDoubleClick(V){if(p(V.browserEvent.target)||b(V.browserEvent.target)||this.isSelectionChangeEvent(V)||V.browserEvent.isHandledByList)return;V.browserEvent.isHandledByList=!0;const Z=this.list.getFocus();this.list.setSelection(Z,V.browserEvent)}changeSelection(V){const Z=V.index;let ie=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(V)){if(typeof ie>"u"){const K=this.list.getFocus()[0];ie=K??Z,this.list.setAnchor(ie)}const le=Math.min(ie,Z),he=Math.max(ie,Z),de=(0,_.range)(le,he+1),ce=this.list.getSelection(),ae=q(B(ce,[ie]),ie);if(ae.length===0)return;const J=B(de,$(ce,ae));this.list.setSelection(J,V.browserEvent),this.list.setFocus([Z],V.browserEvent)}else if(this.isSelectionSingleChangeEvent(V)){const le=this.list.getSelection(),he=le.filter(de=>de!==Z);this.list.setFocus([Z]),this.list.setAnchor(Z),le.length===he.length?this.list.setSelection([...he,Z],V.browserEvent):this.list.setSelection(he,V.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=P;class x{constructor(V,Z){this.styleElement=V,this.selectorSuffix=Z}style(V){var Z,ie;const le=this.selectorSuffix&&`.${this.selectorSuffix}`,he=[];V.listBackground&&he.push(`.monaco-list${le} .monaco-list-rows { background: ${V.listBackground}; }`),V.listFocusBackground&&(he.push(`.monaco-list${le}:focus .monaco-list-row.focused { background-color: ${V.listFocusBackground}; }`),he.push(`.monaco-list${le}:focus .monaco-list-row.focused:hover { background-color: ${V.listFocusBackground}; }`)),V.listFocusForeground&&he.push(`.monaco-list${le}:focus .monaco-list-row.focused { color: ${V.listFocusForeground}; }`),V.listActiveSelectionBackground&&(he.push(`.monaco-list${le}:focus .monaco-list-row.selected { background-color: ${V.listActiveSelectionBackground}; }`),he.push(`.monaco-list${le}:focus .monaco-list-row.selected:hover { background-color: ${V.listActiveSelectionBackground}; }`)),V.listActiveSelectionForeground&&he.push(`.monaco-list${le}:focus .monaco-list-row.selected { color: ${V.listActiveSelectionForeground}; }`),V.listActiveSelectionIconForeground&&he.push(`.monaco-list${le}:focus .monaco-list-row.selected .codicon { color: ${V.listActiveSelectionIconForeground}; }`),V.listFocusAndSelectionBackground&&he.push(`
				.monaco-drag-image,
				.monaco-list${le}:focus .monaco-list-row.selected.focused { background-color: ${V.listFocusAndSelectionBackground}; }
			`),V.listFocusAndSelectionForeground&&he.push(`
				.monaco-drag-image,
				.monaco-list${le}:focus .monaco-list-row.selected.focused { color: ${V.listFocusAndSelectionForeground}; }
			`),V.listInactiveFocusForeground&&(he.push(`.monaco-list${le} .monaco-list-row.focused { color:  ${V.listInactiveFocusForeground}; }`),he.push(`.monaco-list${le} .monaco-list-row.focused:hover { color:  ${V.listInactiveFocusForeground}; }`)),V.listInactiveSelectionIconForeground&&he.push(`.monaco-list${le} .monaco-list-row.focused .codicon { color:  ${V.listInactiveSelectionIconForeground}; }`),V.listInactiveFocusBackground&&(he.push(`.monaco-list${le} .monaco-list-row.focused { background-color:  ${V.listInactiveFocusBackground}; }`),he.push(`.monaco-list${le} .monaco-list-row.focused:hover { background-color:  ${V.listInactiveFocusBackground}; }`)),V.listInactiveSelectionBackground&&(he.push(`.monaco-list${le} .monaco-list-row.selected { background-color:  ${V.listInactiveSelectionBackground}; }`),he.push(`.monaco-list${le} .monaco-list-row.selected:hover { background-color:  ${V.listInactiveSelectionBackground}; }`)),V.listInactiveSelectionForeground&&he.push(`.monaco-list${le} .monaco-list-row.selected { color: ${V.listInactiveSelectionForeground}; }`),V.listHoverBackground&&he.push(`.monaco-list${le}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${V.listHoverBackground}; }`),V.listHoverForeground&&he.push(`.monaco-list${le}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${V.listHoverForeground}; }`);const de=(0,L.asCssValueWithDefault)(V.listFocusAndSelectionOutline,(0,L.asCssValueWithDefault)(V.listSelectionOutline,(Z=V.listFocusOutline)!==null&&Z!==void 0?Z:""));de&&he.push(`.monaco-list${le}:focus .monaco-list-row.focused.selected { outline: 1px solid ${de}; outline-offset: -1px;}`),V.listFocusOutline&&he.push(`
				.monaco-drag-image,
				.monaco-list${le}:focus .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${le}.last-focused .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
			`);const ce=(0,L.asCssValueWithDefault)(V.listSelectionOutline,(ie=V.listInactiveFocusOutline)!==null&&ie!==void 0?ie:"");ce&&he.push(`.monaco-list${le} .monaco-list-row.focused.selected { outline: 1px dotted ${ce}; outline-offset: -1px; }`),V.listSelectionOutline&&he.push(`.monaco-list${le} .monaco-list-row.selected { outline: 1px dotted ${V.listSelectionOutline}; outline-offset: -1px; }`),V.listInactiveFocusOutline&&he.push(`.monaco-list${le} .monaco-list-row.focused { outline: 1px dotted ${V.listInactiveFocusOutline}; outline-offset: -1px; }`),V.listHoverOutline&&he.push(`.monaco-list${le} .monaco-list-row:hover { outline: 1px dashed ${V.listHoverOutline}; outline-offset: -1px; }`),V.listDropBackground&&he.push(`
				.monaco-list${le}.drop-target,
				.monaco-list${le} .monaco-list-rows.drop-target,
				.monaco-list${le} .monaco-list-row.drop-target { background-color: ${V.listDropBackground} !important; color: inherit !important; }
			`),V.tableColumnsBorder&&he.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${V.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),V.tableOddRowsBackgroundColor&&he.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${V.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=he.join(`
`)}}e.DefaultStyleController=x,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:C.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:C.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:C.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const z={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function q(W,V){const Z=W.indexOf(V);if(Z===-1)return[];const ie=[];let le=Z-1;for(;le>=0&&W[le]===V-(Z-le);)ie.push(W[le--]);for(ie.reverse(),le=Z;le<W.length&&W[le]===V+(le-Z);)ie.push(W[le++]);return ie}function B(W,V){const Z=[];let ie=0,le=0;for(;ie<W.length||le<V.length;)if(ie>=W.length)Z.push(V[le++]);else if(le>=V.length)Z.push(W[ie++]);else if(W[ie]===V[le]){Z.push(W[ie]),ie++,le++;continue}else W[ie]<V[le]?Z.push(W[ie++]):Z.push(V[le++]);return Z}function $(W,V){const Z=[];let ie=0,le=0;for(;ie<W.length||le<V.length;)if(ie>=W.length)Z.push(V[le++]);else if(le>=V.length)Z.push(W[ie++]);else if(W[ie]===V[le]){ie++,le++;continue}else W[ie]<V[le]?Z.push(W[ie++]):le++;return Z}const X=(W,V)=>W-V;class ne{constructor(V,Z){this._templateId=V,this.renderers=Z}get templateId(){return this._templateId}renderTemplate(V){return this.renderers.map(Z=>Z.renderTemplate(V))}renderElement(V,Z,ie,le){let he=0;for(const de of this.renderers)de.renderElement(V,Z,ie[he++],le)}disposeElement(V,Z,ie,le){var he;let de=0;for(const ce of this.renderers)(he=ce.disposeElement)===null||he===void 0||he.call(ce,V,Z,ie[de],le),de+=1}disposeTemplate(V){let Z=0;for(const ie of this.renderers)ie.disposeTemplate(V[Z++])}}class oe{constructor(V){this.accessibilityProvider=V,this.templateId="a18n"}renderTemplate(V){return V}renderElement(V,Z,ie){const le=this.accessibilityProvider.getAriaLabel(V);le?ie.setAttribute("aria-label",le):ie.removeAttribute("aria-label");const he=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(V);typeof he=="number"?ie.setAttribute("aria-level",`${he}`):ie.removeAttribute("aria-level")}disposeTemplate(V){}}class Y{constructor(V,Z){this.list=V,this.dnd=Z}getDragElements(V){const Z=this.list.getSelectedElements();return Z.indexOf(V)>-1?Z:[V]}getDragURI(V){return this.dnd.getDragURI(V)}getDragLabel(V,Z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V,Z)}onDragStart(V,Z){var ie,le;(le=(ie=this.dnd).onDragStart)===null||le===void 0||le.call(ie,V,Z)}onDragOver(V,Z,ie,le){return this.dnd.onDragOver(V,Z,ie,le)}onDragLeave(V,Z,ie,le){var he,de;(de=(he=this.dnd).onDragLeave)===null||de===void 0||de.call(he,V,Z,ie,le)}onDragEnd(V){var Z,ie;(ie=(Z=this.dnd).onDragEnd)===null||ie===void 0||ie.call(Z,V)}drop(V,Z,ie,le){this.dnd.drop(V,Z,ie,le)}}class U{get onDidChangeFocus(){return n.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),V=>this.toListEvent(V),this.disposables)}get onDidChangeSelection(){return n.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),V=>this.toListEvent(V),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let V=!1;const Z=n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,he=>he.map(de=>new y.StandardKeyboardEvent(de)).filter(de=>V=de.keyCode===58||de.shiftKey&&de.keyCode===68).map(de=>L.EventHelper.stop(de,!0)).filter(()=>!1)),ie=n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,he=>he.forEach(()=>V=!1).map(de=>new y.StandardKeyboardEvent(de)).filter(de=>de.keyCode===58||de.shiftKey&&de.keyCode===68).map(de=>L.EventHelper.stop(de,!0)).map(({browserEvent:de})=>{const ce=this.getFocus(),ae=ce.length?ce[0]:void 0,J=typeof ae<"u"?this.view.element(ae):void 0,K=typeof ae<"u"?this.view.domElement(ae):this.view.domNode;return{index:ae,element:J,anchor:K,browserEvent:de}})),le=n.Event.chain(this.view.onContextMenu,he=>he.filter(de=>!V).map(({element:de,index:ce,browserEvent:ae})=>({element:de,index:ce,anchor:new o.StandardMouseEvent(ae),browserEvent:ae})));return n.Event.any(Z,ie,le)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return n.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}constructor(V,Z,ie,le,he=z){var de,ce,ae,J;this.user=V,this._options=he,this.focus=new r("focused"),this.anchor=new r("anchor"),this.eventBufferer=new n.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new n.Emitter,this.onDidDispose=this._onDidDispose.event;const K=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(de=this._options.accessibilityProvider)===null||de===void 0?void 0:de.getWidgetRole():"list";this.selection=new g(K!=="listbox");const H=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=he.accessibilityProvider,this.accessibilityProvider&&(H.push(new oe(this.accessibilityProvider)),(ae=(ce=this.accessibilityProvider).onDidChangeActiveDescendant)===null||ae===void 0||ae.call(ce,this.onDidChangeActiveDescendant,this,this.disposables)),le=le.map(j=>new ne(j.templateId,[...H,j]));const Q=Object.assign(Object.assign({},he),{dnd:he.dnd&&new Y(this,he.dnd)});if(this.view=this.createListView(Z,ie,le,Q),this.view.domNode.setAttribute("role",K),he.styleController)this.styleController=he.styleController(this.view.domId);else{const j=(0,L.createStyleSheet)(this.view.domNode);this.styleController=new x(j,this.view.domId)}if(this.spliceable=new m.CombinedSpliceable([new f(this.focus,this.view,he.identityProvider),new f(this.selection,this.view,he.identityProvider),new f(this.anchor,this.view,he.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new F(this,this.view)),(typeof he.keyboardSupport!="boolean"||he.keyboardSupport)&&(this.keyboardController=new E(this,this.view,he),this.disposables.add(this.keyboardController)),he.keyboardNavigationLabelProvider){const j=he.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new R(this,this.view,he.keyboardNavigationLabelProvider,(J=he.keyboardNavigationEventFilter)!==null&&J!==void 0?J:()=>!0,j),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(he),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(V,Z,ie,le){return new c.ListView(V,Z,ie,le)}createMouseController(V){return new P(this)}updateOptions(V={}){var Z,ie;this._options=Object.assign(Object.assign({},this._options),V),(Z=this.typeNavigationController)===null||Z===void 0||Z.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(V),(ie=this.keyboardController)===null||ie===void 0||ie.updateOptions(V),this.view.updateOptions(V)}get options(){return this._options}splice(V,Z,ie=[]){if(V<0||V>this.view.length)throw new l.ListError(this.user,`Invalid start index: ${V}`);if(Z<0)throw new l.ListError(this.user,`Invalid delete count: ${Z}`);Z===0&&ie.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(V,Z,ie))}rerender(){this.view.rerender()}element(V){return this.view.element(V)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(V){this.view.setScrollTop(V)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(V){this._ariaLabel=V,this.view.domNode.setAttribute("aria-label",V)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(V,Z){this.view.layout(V,Z)}setSelection(V,Z){for(const ie of V)if(ie<0||ie>=this.length)throw new l.ListError(this.user,`Invalid index ${ie}`);this.selection.set(V,Z)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(V=>this.view.element(V))}setAnchor(V){if(typeof V>"u"){this.anchor.set([]);return}if(V<0||V>=this.length)throw new l.ListError(this.user,`Invalid index ${V}`);this.anchor.set([V])}getAnchor(){return(0,_.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const V=this.getAnchor();return typeof V>"u"?void 0:this.element(V)}setFocus(V,Z){for(const ie of V)if(ie<0||ie>=this.length)throw new l.ListError(this.user,`Invalid index ${ie}`);this.focus.set(V,Z)}focusNext(V=1,Z=!1,ie,le){if(this.length===0)return;const he=this.focus.get(),de=this.findNextIndex(he.length>0?he[0]+V:0,Z,le);de>-1&&this.setFocus([de],ie)}focusPrevious(V=1,Z=!1,ie,le){if(this.length===0)return;const he=this.focus.get(),de=this.findPreviousIndex(he.length>0?he[0]-V:0,Z,le);de>-1&&this.setFocus([de],ie)}focusNextPage(V,Z){return Se(this,void 0,void 0,function*(){let ie=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ie=ie===0?0:ie-1;const le=this.getFocus()[0];if(le!==ie&&(le===void 0||ie>le)){const he=this.findPreviousIndex(ie,!1,Z);he>-1&&le!==he?this.setFocus([he],V):this.setFocus([ie],V)}else{const he=this.view.getScrollTop();let de=he+this.view.renderHeight;ie>le&&(de-=this.view.elementHeight(ie)),this.view.setScrollTop(de),this.view.getScrollTop()!==he&&(this.setFocus([]),yield(0,v.timeout)(0),yield this.focusNextPage(V,Z))}})}focusPreviousPage(V,Z){return Se(this,void 0,void 0,function*(){let ie;const le=this.view.getScrollTop();le===0?ie=this.view.indexAt(le):ie=this.view.indexAfter(le-1);const he=this.getFocus()[0];if(he!==ie&&(he===void 0||he>=ie)){const de=this.findNextIndex(ie,!1,Z);de>-1&&he!==de?this.setFocus([de],V):this.setFocus([ie],V)}else{const de=le;this.view.setScrollTop(le-this.view.renderHeight),this.view.getScrollTop()!==de&&(this.setFocus([]),yield(0,v.timeout)(0),yield this.focusPreviousPage(V,Z))}})}focusLast(V,Z){if(this.length===0)return;const ie=this.findPreviousIndex(this.length-1,!1,Z);ie>-1&&this.setFocus([ie],V)}focusFirst(V,Z){this.focusNth(0,V,Z)}focusNth(V,Z,ie){if(this.length===0)return;const le=this.findNextIndex(V,!1,ie);le>-1&&this.setFocus([le],Z)}findNextIndex(V,Z=!1,ie){for(let le=0;le<this.length;le++){if(V>=this.length&&!Z)return-1;if(V=V%this.length,!ie||ie(this.element(V)))return V;V++}return-1}findPreviousIndex(V,Z=!1,ie){for(let le=0;le<this.length;le++){if(V<0&&!Z)return-1;if(V=(this.length+V%this.length)%this.length,!ie||ie(this.element(V)))return V;V--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(V=>this.view.element(V))}reveal(V,Z){if(V<0||V>=this.length)throw new l.ListError(this.user,`Invalid index ${V}`);const ie=this.view.getScrollTop(),le=this.view.elementTop(V),he=this.view.elementHeight(V);if((0,h.isNumber)(Z)){const de=he-this.view.renderHeight;this.view.setScrollTop(de*(0,a.clamp)(Z,0,1)+le)}else{const de=le+he,ce=ie+this.view.renderHeight;le<ie&&de>=ce||(le<ie||de>=ce&&he>=this.view.renderHeight?this.view.setScrollTop(le):de>=ce&&this.view.setScrollTop(de-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(V){return this.view.getElementDomId(V)}style(V){this.styleController.style(V)}toListEvent({indexes:V,browserEvent:Z}){return{indexes:V,elements:V.map(ie=>this.view.element(ie)),browserEvent:Z}}_onFocusChange(){const V=this.focus.get();this.view.domNode.classList.toggle("element-focused",V.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var V;const Z=this.focus.get();if(Z.length>0){let ie;!((V=this.accessibilityProvider)===null||V===void 0)&&V.getActiveDescendantId&&(ie=this.accessibilityProvider.getActiveDescendantId(this.view.element(Z[0]))),this.view.domNode.setAttribute("aria-activedescendant",ie||this.view.getElementDomId(Z[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const V=this.selection.get();this.view.domNode.classList.toggle("selection-none",V.length===0),this.view.domNode.classList.toggle("selection-single",V.length===1),this.view.domNode.classList.toggle("selection-multiple",V.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=U,Ie([s.memoize],U.prototype,"onDidChangeFocus",null),Ie([s.memoize],U.prototype,"onDidChangeSelection",null),Ie([s.memoize],U.prototype,"onContextMenu",null),Ie([s.memoize],U.prototype,"onKeyDown",null),Ie([s.memoize],U.prototype,"onDidFocus",null)}),define(ee[579],te([1,0,14,19,6,2,113,267]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{get templateId(){return this.renderer.templateId}constructor(n,i){this.renderer=n,this.modelProvider=i}renderTemplate(n){return{data:this.renderer.renderTemplate(n),disposable:D.Disposable.None}}renderElement(n,i,t,a){var u;if((u=t.disposable)===null||u===void 0||u.dispose(),!t.data)return;const h=this.modelProvider();if(h.isResolved(n))return this.renderer.renderElement(h.get(n),n,t.data,a);const l=new k.CancellationTokenSource,c=h.resolve(n,l.token);t.disposable={dispose:()=>l.cancel()},this.renderer.renderPlaceholder(n,t.data),c.then(o=>this.renderer.renderElement(o,n,t.data,a))}disposeTemplate(n){n.disposable&&(n.disposable.dispose(),n.disposable=void 0),n.data&&(this.renderer.disposeTemplate(n.data),n.data=void 0)}}class _{constructor(n,i){this.modelProvider=n,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(n){const i=this.modelProvider();return i.isResolved(n)?this.accessibilityProvider.getAriaLabel(i.get(n)):null}}function v(s,n){return Object.assign(Object.assign({},n),{accessibilityProvider:n.accessibilityProvider&&new _(s,n.accessibilityProvider)})}class C{constructor(n,i,t,a,u={}){const h=()=>this.model,l=a.map(c=>new m(c,h));this.list=new S.List(n,i,t,l,v(h,u))}updateOptions(n){this.list.updateOptions(n)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:n,index:i,browserEvent:t})=>({element:n===void 0?void 0:this._model.get(n),index:i,browserEvent:t}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:n,index:i,browserEvent:t})=>({element:n===void 0?void 0:this._model.get(n),index:i,browserEvent:t}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:n,indexes:i,browserEvent:t})=>({elements:n.map(a=>this._model.get(a)),indexes:i,browserEvent:t}))}get model(){return this._model}set model(n){this._model=n,this.list.splice(0,this.list.length,(0,L.range)(n.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(n=>this.model.get(n))}style(n){this.list.style(n)}dispose(){this.list.dispose()}}e.PagedList=C}),define(ee[315],te([1,0,7,79,152,84,14,36,6,2,139,167,20,412]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:m.Color.transparent};class t{set size(d){this._size=d}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(d,r){var g,f;d!==this.visible&&(d?(this.size=(0,C.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof r=="number"?r:this.size,this.size=0),this.container.classList.toggle("visible",d),(f=(g=this.view).setVisible)===null||f===void 0||f.call(g,d))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var d;return(d=this.view.proportionalLayout)!==null&&d!==void 0?d:!0}get snap(){return!!this.view.snap}set enabled(d){this.container.style.pointerEvents=d?"":"none"}constructor(d,r,g,f){this.container=d,this.view=r,this.disposable=f,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,d.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}layout(d,r){this.layoutContainer(d),this.view.layout(this.size,d,r)}dispose(){this.disposable.dispose()}}class a extends t{layoutContainer(d){this.container.style.top=`${d}px`,this.container.style.height=`${this.size}px`}}class u extends t{layoutContainer(d){this.container.style.left=`${d}px`,this.container.style.width=`${this.size}px`}}var h;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(h||(h={}));var l;(function(o){o.Distribute={type:"distribute"};function d(f){return{type:"split",index:f}}o.Split=d;function r(f){return{type:"auto",index:f}}o.Auto=r;function g(f){return{type:"invisible",cachedVisibleSize:f}}o.Invisible=g})(l||(e.Sizing=l={}));class c extends v.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(d){for(const r of this.sashItems)r.sash.orthogonalStartSash=d;this._orthogonalStartSash=d}set orthogonalEndSash(d){for(const r of this.sashItems)r.sash.orthogonalEndSash=d;this._orthogonalEndSash=d}set startSnappingEnabled(d){this._startSnappingEnabled!==d&&(this._startSnappingEnabled=d,this.updateSashEnablement())}set endSnappingEnabled(d){this._endSnappingEnabled!==d&&(this._endSnappingEnabled=d,this.updateSashEnablement())}constructor(d,r={}){var g,f,p,b,w;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=h.Idle,this._onDidSashChange=this._register(new _.Emitter),this._onDidSashReset=this._register(new _.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(g=r.orientation)!==null&&g!==void 0?g:0,this.inverseAltBehavior=(f=r.inverseAltBehavior)!==null&&f!==void 0?f:!1,this.proportionalLayout=(p=r.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=r.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),d.appendChild(this.el),this.sashContainer=(0,L.append)(this.el,(0,L.$)(".sash-container")),this.viewContainer=(0,L.$)(".split-view-container"),this.scrollable=this._register(new s.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:L.scheduleAtNextAnimationFrame})),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(b=r.scrollbarVisibility)!==null&&b!==void 0?b:1:2,horizontal:this.orientation===1?(w=r.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable));const E=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(I=>{const N=this.scrollableElement.getScrollPosition(),R=Math.abs(this.viewContainer.scrollLeft-N.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,F=Math.abs(this.viewContainer.scrollTop-N.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(R!==void 0||F!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:R,scrollTop:F})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,L.append)(this.el,this.scrollableElement.getDomNode()),this.style(r.styles||i),r.descriptor&&(this.size=r.descriptor.size,r.descriptor.views.forEach((I,N)=>{const R=n.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},F=I.view;this.doAddView(F,R,N,!0)}),this.contentSize=this.viewItems.reduce((I,N)=>I+N.size,0),this.saveProportions())}style(d){d.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",d.separatorBorder.toString()))}addView(d,r,g=this.viewItems.length,f){this.doAddView(d,r,g,f)}layout(d,r){const g=Math.max(this.size,this.contentSize);if(this.size=d,this.layoutContext=r,this.proportions){let f=0;for(let p=0;p<this.viewItems.length;p++){const b=this.viewItems[p],w=this.proportions[p];typeof w=="number"?f+=w:d-=b.size}for(let p=0;p<this.viewItems.length;p++){const b=this.viewItems[p],w=this.proportions[p];typeof w=="number"&&(b.size=(0,C.clamp)(Math.round(w*d/f),b.minimumSize,b.maximumSize))}}else{const f=(0,S.range)(this.viewItems.length),p=f.filter(w=>this.viewItems[w].priority===1),b=f.filter(w=>this.viewItems[w].priority===2);this.resize(this.viewItems.length-1,d-g,void 0,p,b)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(d=>d.proportionalLayout?d.size/this.contentSize:void 0))}onSashStart({sash:d,start:r,alt:g}){for(const w of this.viewItems)w.enabled=!1;const f=this.sashItems.findIndex(w=>w.sash===d),p=(0,v.combinedDisposable)((0,L.addDisposableListener)(document.body,"keydown",w=>b(this.sashDragState.current,w.altKey)),(0,L.addDisposableListener)(document.body,"keyup",()=>b(this.sashDragState.current,!1))),b=(w,E)=>{const I=this.viewItems.map(A=>A.size);let N=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(f===this.sashItems.length-1){const T=this.viewItems[f];N=(T.minimumSize-T.size)/2,R=(T.maximumSize-T.size)/2}else{const T=this.viewItems[f+1];N=(T.size-T.maximumSize)/2,R=(T.size-T.minimumSize)/2}let F,M;if(!E){const A=(0,S.range)(f,-1),T=(0,S.range)(f+1,this.viewItems.length),O=A.reduce((ne,oe)=>ne+(this.viewItems[oe].minimumSize-I[oe]),0),P=A.reduce((ne,oe)=>ne+(this.viewItems[oe].viewMaximumSize-I[oe]),0),x=T.length===0?Number.POSITIVE_INFINITY:T.reduce((ne,oe)=>ne+(I[oe]-this.viewItems[oe].minimumSize),0),z=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((ne,oe)=>ne+(I[oe]-this.viewItems[oe].viewMaximumSize),0),q=Math.max(O,z),B=Math.min(x,P),$=this.findFirstSnapIndex(A),X=this.findFirstSnapIndex(T);if(typeof $=="number"){const ne=this.viewItems[$],oe=Math.floor(ne.viewMinimumSize/2);F={index:$,limitDelta:ne.visible?q-oe:q+oe,size:ne.size}}if(typeof X=="number"){const ne=this.viewItems[X],oe=Math.floor(ne.viewMinimumSize/2);M={index:X,limitDelta:ne.visible?B+oe:B-oe,size:ne.size}}}this.sashDragState={start:w,current:w,index:f,sizes:I,minDelta:N,maxDelta:R,alt:E,snapBefore:F,snapAfter:M,disposable:p}};b(r,g)}onSashChange({current:d}){const{index:r,start:g,sizes:f,alt:p,minDelta:b,maxDelta:w,snapBefore:E,snapAfter:I}=this.sashDragState;this.sashDragState.current=d;const N=d-g,R=this.resize(r,N,f,void 0,void 0,b,w,E,I);if(p){const F=r===this.sashItems.length-1,M=this.viewItems.map(z=>z.size),A=F?r:r+1,T=this.viewItems[A],O=T.size-T.maximumSize,P=T.size-T.minimumSize,x=F?r-1:r+1;this.resize(x,-R,M,void 0,void 0,O,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(d){this._onDidSashChange.fire(d),this.sashDragState.disposable.dispose(),this.saveProportions();for(const r of this.viewItems)r.enabled=!0}onViewChange(d,r){const g=this.viewItems.indexOf(d);g<0||g>=this.viewItems.length||(r=typeof r=="number"?r:d.size,r=(0,C.clamp)(r,d.minimumSize,d.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((d.size-r)/2)),this.distributeEmptySpace(),this.layoutViews()):(d.size=r,this.relayout([g],void 0)))}resizeView(d,r){if(this.state!==h.Idle)throw new Error("Cant modify splitview");if(this.state=h.Busy,d<0||d>=this.viewItems.length)return;const g=(0,S.range)(this.viewItems.length).filter(w=>w!==d),f=[...g.filter(w=>this.viewItems[w].priority===1),d],p=g.filter(w=>this.viewItems[w].priority===2),b=this.viewItems[d];r=Math.round(r),r=(0,C.clamp)(r,b.minimumSize,Math.min(b.maximumSize,this.size)),b.size=r,this.relayout(f,p),this.state=h.Idle}distributeViewSizes(){const d=[];let r=0;for(const w of this.viewItems)w.maximumSize-w.minimumSize>0&&(d.push(w),r+=w.size);const g=Math.floor(r/d.length);for(const w of d)w.size=(0,C.clamp)(g,w.minimumSize,w.maximumSize);const f=(0,S.range)(this.viewItems.length),p=f.filter(w=>this.viewItems[w].priority===1),b=f.filter(w=>this.viewItems[w].priority===2);this.relayout(p,b)}getViewSize(d){return d<0||d>=this.viewItems.length?-1:this.viewItems[d].size}doAddView(d,r,g=this.viewItems.length,f){if(this.state!==h.Idle)throw new Error("Cant modify splitview");this.state=h.Busy;const p=(0,L.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(g));const b=d.onDidChange(F=>this.onViewChange(N,F)),w=(0,v.toDisposable)(()=>this.viewContainer.removeChild(p)),E=(0,v.combinedDisposable)(b,w);let I;typeof r=="number"?I=r:(r.type==="auto"&&(this.areViewsDistributed()?r={type:"distribute"}:r={type:"split",index:r.index}),r.type==="split"?I=this.getViewSize(r.index)/2:r.type==="invisible"?I={cachedVisibleSize:r.cachedVisibleSize}:I=d.minimumSize);const N=this.orientation===0?new a(p,d,I,E):new u(p,d,I,E);if(this.viewItems.splice(g,0,N),this.viewItems.length>1){const F={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},M=this.orientation===0?new y.Sash(this.sashContainer,{getHorizontalSashTop:ne=>this.getSashPosition(ne),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},F),{orientation:1})):new y.Sash(this.sashContainer,{getVerticalSashLeft:ne=>this.getSashPosition(ne),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},F),{orientation:0})),A=this.orientation===0?ne=>({sash:M,start:ne.startY,current:ne.currentY,alt:ne.altKey}):ne=>({sash:M,start:ne.startX,current:ne.currentX,alt:ne.altKey}),O=_.Event.map(M.onDidStart,A)(this.onSashStart,this),x=_.Event.map(M.onDidChange,A)(this.onSashChange,this),q=_.Event.map(M.onDidEnd,()=>this.sashItems.findIndex(ne=>ne.sash===M))(this.onSashEnd,this),B=M.onDidReset(()=>{const ne=this.sashItems.findIndex(V=>V.sash===M),oe=(0,S.range)(ne,-1),Y=(0,S.range)(ne+1,this.viewItems.length),U=this.findFirstSnapIndex(oe),W=this.findFirstSnapIndex(Y);typeof U=="number"&&!this.viewItems[U].visible||typeof W=="number"&&!this.viewItems[W].visible||this._onDidSashReset.fire(ne)}),$=(0,v.combinedDisposable)(O,x,q,B,M),X={sash:M,disposable:$};this.sashItems.splice(g-1,0,X)}p.appendChild(d.element);let R;typeof r!="number"&&r.type==="split"&&(R=[r.index]),f||this.relayout([g],R),this.state=h.Idle,!f&&typeof r!="number"&&r.type==="distribute"&&this.distributeViewSizes()}relayout(d,r){const g=this.viewItems.reduce((f,p)=>f+p.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,d,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(d,r,g=this.viewItems.map(N=>N.size),f,p,b=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,E,I){if(d<0||d>=this.viewItems.length)return 0;const N=(0,S.range)(d,-1),R=(0,S.range)(d+1,this.viewItems.length);if(p)for(const X of p)(0,S.pushToStart)(N,X),(0,S.pushToStart)(R,X);if(f)for(const X of f)(0,S.pushToEnd)(N,X),(0,S.pushToEnd)(R,X);const F=N.map(X=>this.viewItems[X]),M=N.map(X=>g[X]),A=R.map(X=>this.viewItems[X]),T=R.map(X=>g[X]),O=N.reduce((X,ne)=>X+(this.viewItems[ne].minimumSize-g[ne]),0),P=N.reduce((X,ne)=>X+(this.viewItems[ne].maximumSize-g[ne]),0),x=R.length===0?Number.POSITIVE_INFINITY:R.reduce((X,ne)=>X+(g[ne]-this.viewItems[ne].minimumSize),0),z=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((X,ne)=>X+(g[ne]-this.viewItems[ne].maximumSize),0),q=Math.max(O,z,b),B=Math.min(x,P,w);let $=!1;if(E){const X=this.viewItems[E.index],ne=r>=E.limitDelta;$=ne!==X.visible,X.setVisible(ne,E.size)}if(!$&&I){const X=this.viewItems[I.index],ne=r<I.limitDelta;$=ne!==X.visible,X.setVisible(ne,I.size)}if($)return this.resize(d,r,g,f,p,b,w);r=(0,C.clamp)(r,q,B);for(let X=0,ne=r;X<F.length;X++){const oe=F[X],Y=(0,C.clamp)(M[X]+ne,oe.minimumSize,oe.maximumSize),U=Y-M[X];ne-=U,oe.size=Y}for(let X=0,ne=r;X<A.length;X++){const oe=A[X],Y=(0,C.clamp)(T[X]-ne,oe.minimumSize,oe.maximumSize),U=Y-T[X];ne+=U,oe.size=Y}return r}distributeEmptySpace(d){const r=this.viewItems.reduce((w,E)=>w+E.size,0);let g=this.size-r;const f=(0,S.range)(this.viewItems.length-1,-1),p=f.filter(w=>this.viewItems[w].priority===1),b=f.filter(w=>this.viewItems[w].priority===2);for(const w of b)(0,S.pushToStart)(f,w);for(const w of p)(0,S.pushToEnd)(f,w);typeof d=="number"&&(0,S.pushToEnd)(f,d);for(let w=0;g!==0&&w<f.length;w++){const E=this.viewItems[f[w]],I=(0,C.clamp)(E.size+g,E.minimumSize,E.maximumSize),N=I-E.size;g-=N,E.size=I}}layoutViews(){this.contentSize=this.viewItems.reduce((r,g)=>r+g.size,0);let d=0;for(const r of this.viewItems)r.layout(d,this.layoutContext),d+=r.size;this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let d=!1;const r=this.viewItems.map(E=>d=E.size-E.minimumSize>0||d);d=!1;const g=this.viewItems.map(E=>d=E.maximumSize-E.size>0||d),f=[...this.viewItems].reverse();d=!1;const p=f.map(E=>d=E.size-E.minimumSize>0||d).reverse();d=!1;const b=f.map(E=>d=E.maximumSize-E.size>0||d).reverse();let w=0;for(let E=0;E<this.sashItems.length;E++){const{sash:I}=this.sashItems[E],N=this.viewItems[E];w+=N.size;const R=!(r[E]&&b[E+1]),F=!(g[E]&&p[E+1]);if(R&&F){const M=(0,S.range)(E,-1),A=(0,S.range)(E+1,this.viewItems.length),T=this.findFirstSnapIndex(M),O=this.findFirstSnapIndex(A),P=typeof T=="number"&&!this.viewItems[T].visible,x=typeof O=="number"&&!this.viewItems[O].visible;P&&p[E]&&(w>0||this.startSnappingEnabled)?I.state=1:x&&r[E]&&(w<this.contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else R&&!F?I.state=1:!R&&F?I.state=2:I.state=3}}getSashPosition(d){let r=0;for(let g=0;g<this.sashItems.length;g++)if(r+=this.viewItems[g].size,this.sashItems[g].sash===d)return r;return 0}findFirstSnapIndex(d){for(const r of d){const g=this.viewItems[r];if(g.visible&&g.snap)return r}for(const r of d){const g=this.viewItems[r];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return r}}areViewsDistributed(){let d,r;for(const g of this.viewItems)if(d=d===void 0?g.size:Math.min(d,g.size),r=r===void 0?g.size:Math.max(r,g.size),r-d>2)return!1;return!0}dispose(){var d;(d=this.sashDragState)===null||d===void 0||d.disposable.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(r=>r.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=c}),define(ee[580],te([1,0,7,113,315,6,2,413]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class m{constructor(n,i,t){this.columns=n,this.getColumnSize=t,this.templateId=m.TemplateId,this.renderedTemplates=new Set;const a=new Map(i.map(u=>[u.templateId,u]));this.renderers=[];for(const u of n){const h=a.get(u.templateId);if(!h)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(h)}}renderTemplate(n){const i=(0,L.append)(n,(0,L.$)(".monaco-table-tr")),t=[],a=[];for(let h=0;h<this.columns.length;h++){const l=this.renderers[h],c=(0,L.append)(i,(0,L.$)(".monaco-table-td",{"data-col-index":h}));c.style.width=`${this.getColumnSize(h)}px`,t.push(c),a.push(l.renderTemplate(c))}const u={container:n,cellContainers:t,cellTemplateData:a};return this.renderedTemplates.add(u),u}renderElement(n,i,t,a){for(let u=0;u<this.columns.length;u++){const l=this.columns[u].project(n);this.renderers[u].renderElement(l,i,t.cellTemplateData[u],a)}}disposeElement(n,i,t,a){for(let u=0;u<this.columns.length;u++){const h=this.renderers[u];if(h.disposeElement){const c=this.columns[u].project(n);h.disposeElement(c,i,t.cellTemplateData[u],a)}}}disposeTemplate(n){for(let i=0;i<this.columns.length;i++)this.renderers[i].disposeTemplate(n.cellTemplateData[i]);(0,L.clearNode)(n.container),this.renderedTemplates.delete(n)}layoutColumn(n,i){for(const{cellContainers:t}of this.renderedTemplates)t[n].style.width=`${i}px`}}m.TemplateId="row";function _(s){return{getHeight(n){return s.getHeight(n)},getTemplateId(){return m.TemplateId}}}class v{get minimumSize(){var n;return(n=this.column.minimumWidth)!==null&&n!==void 0?n:120}get maximumSize(){var n;return(n=this.column.maximumWidth)!==null&&n!==void 0?n:Number.POSITIVE_INFINITY}get onDidChange(){var n;return(n=this.column.onDidChangeWidthConstraints)!==null&&n!==void 0?n:D.Event.None}constructor(n,i){this.column=n,this.index=i,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,L.$)(".monaco-table-th",{"data-col-index":i,title:n.tooltip},n.label)}layout(n){this._onDidLayout.fire([this.index,n])}}class C{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(n){this.list.scrollTop=n}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(n,i,t,a,u,h){this.virtualDelegate=t,this.domId=`table_id_${++C.InstanceCount}`,this.disposables=new S.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,L.append)(i,(0,L.$)(`.monaco-table.${this.domId}`));const l=a.map((d,r)=>new v(d,r)),c={size:l.reduce((d,r)=>d+r.column.weight,0),views:l.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:c})),this.splitview.el.style.height=`${t.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${t.headerRowHeight}px`;const o=new m(a,u,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new k.List(n,this.domNode,_(t),[o],h)),D.Event.any(...l.map(d=>d.onDidLayout))(([d,r])=>o.layoutColumn(d,r),null,this.disposables),this.splitview.onDidSashReset(d=>{const r=a.reduce((f,p)=>f+p.weight,0),g=a[d].weight/r*this.cachedWidth;this.splitview.resizeView(d,g)},null,this.disposables),this.styleElement=(0,L.createStyleSheet)(this.domNode),this.style(k.unthemedListStyles)}updateOptions(n){this.list.updateOptions(n)}splice(n,i,t=[]){this.list.splice(n,i,t)}getHTMLElement(){return this.domNode}style(n){const i=[];i.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=i.join(`
`),this.list.style(n)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=C,C.InstanceCount=0}),define(ee[153],te([1,0,83,27,6,414]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends L.Widget{constructor(m){super(),this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=m,this._checked=this._opts.isChecked;const _=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,_.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&_.push(...this._opts.actionClassName.split(" ")),this._checked&&_.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(..._),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,v=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),v.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,v=>{if(v.keyCode===10||v.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),v.preventDefault(),v.stopPropagation();return}this._onKeyDown.fire(v)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(m){this._checked=m,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=D}),define(ee[316],te([1,0,153,26,554]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=y.localize(0,null),S=y.localize(1,null),m=y.localize(2,null);class _ extends L.Toggle{constructor(n){super({icon:k.Codicon.caseSensitive,title:D+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.CaseSensitiveToggle=_;class v extends L.Toggle{constructor(n){super({icon:k.Codicon.wholeWord,title:S+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.WholeWordsToggle=v;class C extends L.Toggle{constructor(n){super({icon:k.Codicon.regex,title:m+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.RegexToggle=C}),define(ee[44],te([1,0,221,54,92,17,10,21]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function _(s){return(0,m.uriToFsPath)(s,!0)}e.originalFSPath=_;class v{constructor(n){this._ignorePathCasing=n}compare(n,i,t=!1){return n===i?0:(0,S.compare)(this.getComparisonKey(n,t),this.getComparisonKey(i,t))}isEqual(n,i,t=!1){return n===i?!0:!n||!i?!1:this.getComparisonKey(n,t)===this.getComparisonKey(i,t)}getComparisonKey(n,i=!1){return n.with({path:this._ignorePathCasing(n)?n.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(n,i,t=!1){if(n.scheme===i.scheme){if(n.scheme===k.Schemas.file)return L.isEqualOrParent(_(n),_(i),this._ignorePathCasing(n))&&n.query===i.query&&(t||n.fragment===i.fragment);if((0,e.isEqualAuthority)(n.authority,i.authority))return L.isEqualOrParent(n.path,i.path,this._ignorePathCasing(n),"/")&&n.query===i.query&&(t||n.fragment===i.fragment)}return!1}joinPath(n,...i){return m.URI.joinPath(n,...i)}basenameOrAuthority(n){return(0,e.basename)(n)||n.authority}basename(n){return y.posix.basename(n.path)}extname(n){return y.posix.extname(n.path)}dirname(n){if(n.path.length===0)return n;let i;return n.scheme===k.Schemas.file?i=m.URI.file(y.dirname(_(n))).path:(i=y.posix.dirname(n.path),n.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),i="/")),n.with({path:i})}normalizePath(n){if(!n.path.length)return n;let i;return n.scheme===k.Schemas.file?i=m.URI.file(y.normalize(_(n))).path:i=y.posix.normalize(n.path),n.with({path:i})}relativePath(n,i){if(n.scheme!==i.scheme||!(0,e.isEqualAuthority)(n.authority,i.authority))return;if(n.scheme===k.Schemas.file){const u=y.relative(_(n),_(i));return D.isWindows?L.toSlashes(u):u}let t=n.path||"/";const a=i.path||"/";if(this._ignorePathCasing(n)){let u=0;for(const h=Math.min(t.length,a.length);u<h&&!(t.charCodeAt(u)!==a.charCodeAt(u)&&t.charAt(u).toLowerCase()!==a.charAt(u).toLowerCase());u++);t=a.substr(0,u)+t.substr(u)}return y.posix.relative(t,a)}resolvePath(n,i){if(n.scheme===k.Schemas.file){const t=m.URI.file(y.resolve(_(n),i));return n.with({authority:t.authority,path:t.path})}return i=L.toPosixPath(i),n.with({path:y.posix.resolve(n.path,i)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,i){return n===i||n!==void 0&&i!==void 0&&(0,S.equalsIgnoreCase)(n,i)}hasTrailingPathSeparator(n,i=y.sep){if(n.scheme===k.Schemas.file){const t=_(n);return t.length>L.getRoot(t).length&&t[t.length-1]===i}else{const t=n.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,i=y.sep){return(0,e.hasTrailingPathSeparator)(n,i)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,i=y.sep){let t=!1;if(n.scheme===k.Schemas.file){const a=_(n);t=a!==void 0&&a.length===L.getRoot(a).length&&a[a.length-1]===i}else{i="/";const a=n.path;t=a.length===1&&a.charCodeAt(a.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(n,i)?n.with({path:n.path+"/"}):n}}e.ExtUri=v,e.extUri=new v(()=>!1),e.extUriBiasedIgnorePathCase=new v(s=>s.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new v(s=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var C;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function n(i){const t=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(h=>{const[l,c]=h.split(":");l&&c&&t.set(l,c)});const u=i.path.substring(0,i.path.indexOf(";"));return u&&t.set(s.META_DATA_MIME,u),t}s.parseMetaData=n})(C||(e.DataUri=C={}))}),define(ee[56],te([1,0,9,119,44,10,21]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class m{constructor(u="",h=!1){var l,c,o;if(this.value=u,typeof this.value!="string")throw(0,L.illegalArgument)("value");typeof h=="boolean"?(this.isTrusted=h,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=h.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(c=h.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(o=h.supportHtml)!==null&&o!==void 0?o:!1)}appendText(u,h=0){return this.value+=s(this.supportThemeIcons?(0,k.escapeIcons)(u):u).replace(/([ \t]+)/g,(l,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,h===1?`\\
`:`

`),this}appendMarkdown(u){return this.value+=u,this}appendCodeblock(u,h){return this.value+="\n```",this.value+=u,this.value+=`
`,this.value+=h,this.value+="\n```\n",this}appendLink(u,h,l){return this.value+="[",this.value+=this._escape(h,"]"),this.value+="](",this.value+=this._escape(String(u),")"),l&&(this.value+=` "${this._escape(this._escape(l,'"'),")")}"`),this.value+=")",this}_escape(u,h){const l=new RegExp((0,D.escapeRegExpCharacters)(h),"g");return u.replace(l,(c,o)=>u.charAt(o-1)!=="\\"?`\\${c}`:c)}}e.MarkdownString=m;function _(a){return v(a)?!a.value:Array.isArray(a)?a.every(_):!0}e.isEmptyMarkdownString=_;function v(a){return a instanceof m?!0:a&&typeof a=="object"?typeof a.value=="string"&&(typeof a.isTrusted=="boolean"||typeof a.isTrusted=="object"||a.isTrusted===void 0)&&(typeof a.supportThemeIcons=="boolean"||a.supportThemeIcons===void 0):!1}e.isMarkdownString=v;function C(a,u){return a===u?!0:!a||!u?!1:a.value===u.value&&a.isTrusted===u.isTrusted&&a.supportThemeIcons===u.supportThemeIcons&&a.supportHtml===u.supportHtml&&(a.baseUri===u.baseUri||!!a.baseUri&&!!u.baseUri&&(0,y.isEqual)(S.URI.from(a.baseUri),S.URI.from(u.baseUri)))}e.markdownStringEqual=C;function s(a){return a.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=s;function n(a){return a.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=n;function i(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=i;function t(a){const u=[],h=a.split("|").map(c=>c.trim());a=h[0];const l=h[1];if(l){const c=/height=(\d+)/.exec(l),o=/width=(\d+)/.exec(l),d=c?c[1]:"",r=o?o[1]:"",g=isFinite(parseInt(r)),f=isFinite(parseInt(d));g&&u.push(`width="${r}"`),f&&u.push(`height="${d}"`)}return{href:a,dimensions:u}}e.parseHrefAndDimensions=t}),define(ee[182],te([1,0,7,308,79,309,43,59,128,9,6,56,119,164,98,2,389,222,54,52,44,10,21]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillInIncompleteTokens=e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.allowedMarkdownAttr=e.renderMarkdown=void 0;const g=Object.freeze({image:(Y,U,W)=>{let V=[],Z=[];return Y&&({href:Y,dimensions:V}=(0,s.parseHrefAndDimensions)(Y),Z.push(`src="${(0,s.escapeDoubleQuotes)(Y)}"`)),W&&Z.push(`alt="${(0,s.escapeDoubleQuotes)(W)}"`),U&&Z.push(`title="${(0,s.escapeDoubleQuotes)(U)}"`),V.length&&(Z=Z.concat(V)),"<img "+Z.join(" ")+">"},paragraph:Y=>`<p>${Y}</p>`,link:(Y,U,W)=>typeof Y!="string"?"":(Y===W&&(W=(0,s.removeMarkdownEscapes)(W)),U=typeof U=="string"?(0,s.escapeDoubleQuotes)((0,s.removeMarkdownEscapes)(U)):"",Y=(0,s.removeMarkdownEscapes)(Y),Y=Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Y}" title="${U||Y}">${W}</a>`)});function f(Y,U={},W={}){var V,Z;const ie=new a.DisposableStore;let le=!1;const he=(0,D.createElement)(U),de=function(se){let ue;try{ue=(0,h.parse)(decodeURIComponent(se))}catch{}return ue?(ue=(0,c.cloneAndChange)(ue,me=>{if(Y.uris&&Y.uris[me])return r.URI.revive(Y.uris[me])}),encodeURIComponent(JSON.stringify(ue))):se},ce=function(se,ue){const me=Y.uris&&Y.uris[se];let ve=r.URI.revive(me);return ue?se.startsWith(l.Schemas.data+":")?se:(ve||(ve=r.URI.parse(se)),l.FileAccess.uriToBrowserUri(ve).toString(!0)):!ve||r.URI.parse(se).toString()===ve.toString()?se:(ve.query&&(ve=ve.with({query:de(ve.query)})),ve.toString())},ae=new u.marked.Renderer;ae.image=g.image,ae.link=g.link,ae.paragraph=g.paragraph;const J=[],K=[];if(U.codeBlockRendererSync?ae.code=(se,ue)=>{const me=i.defaultGenerator.nextId(),ve=U.codeBlockRendererSync(p(ue),se);return K.push([me,ve]),`<div class="code" data-code="${me}">${(0,d.escape)(se)}</div>`}:U.codeBlockRenderer&&(ae.code=(se,ue)=>{const me=i.defaultGenerator.nextId(),ve=U.codeBlockRenderer(p(ue),se);return J.push(ve.then(Ce=>[me,Ce])),`<div class="code" data-code="${me}">${(0,d.escape)(se)}</div>`}),U.actionHandler){const se=function(ve){let Ce=ve.target;if(!(Ce.tagName!=="A"&&(Ce=Ce.parentElement,!Ce||Ce.tagName!=="A")))try{let we=Ce.dataset.href;we&&(Y.baseUri&&(we=b(r.URI.from(Y.baseUri),we)),U.actionHandler.callback(we,ve))}catch(we){(0,v.onUnexpectedError)(we)}finally{ve.preventDefault()}},ue=U.actionHandler.disposables.add(new y.DomEmitter(he,"click")),me=U.actionHandler.disposables.add(new y.DomEmitter(he,"auxclick"));U.actionHandler.disposables.add(C.Event.any(ue.event,me.event)(ve=>{const Ce=new m.StandardMouseEvent(ve);!Ce.leftButton&&!Ce.middleButton||se(Ce)})),U.actionHandler.disposables.add(L.addDisposableListener(he,"keydown",ve=>{const Ce=new S.StandardKeyboardEvent(ve);!Ce.equals(10)&&!Ce.equals(3)||se(Ce)}))}Y.supportHtml||(W.sanitizer=se=>(Y.isTrusted?se.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?se:"",W.sanitize=!0,W.silent=!0),W.renderer=ae;let H=(V=Y.value)!==null&&V!==void 0?V:"";H.length>1e5&&(H=`${H.substr(0,1e5)}\u2026`),Y.supportThemeIcons&&(H=(0,n.markdownEscapeEscapedIcons)(H));let Q;if(U.fillInIncompleteTokens){const se=Object.assign(Object.assign({},u.marked.defaults),W),ue=u.marked.lexer(H,se),me=T(ue);Q=u.marked.parser(me,se)}else Q=u.marked.parse(H,W);Y.supportThemeIcons&&(Q=(0,_.renderLabelWithIcons)(Q).map(ue=>typeof ue=="string"?ue:ue.outerHTML).join(""));const re=new DOMParser().parseFromString(w(Y,Q),"text/html");if(re.body.querySelectorAll("img").forEach(se=>{const ue=se.getAttribute("src");if(ue){let me=ue;try{Y.baseUri&&(me=b(r.URI.from(Y.baseUri),me))}catch{}se.src=ce(me,!0)}}),re.body.querySelectorAll("a").forEach(se=>{const ue=se.getAttribute("href");if(se.setAttribute("href",""),!ue||/^data:|javascript:/i.test(ue)||/^command:/i.test(ue)&&!Y.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ue))se.replaceWith(...se.childNodes);else{let me=ce(ue,!1);Y.baseUri&&(me=b(r.URI.from(Y.baseUri),ue)),se.dataset.href=me}}),he.innerHTML=w(Y,re.body.innerHTML),J.length>0)Promise.all(J).then(se=>{var ue,me;if(le)return;const ve=new Map(se),Ce=he.querySelectorAll("div[data-code]");for(const we of Ce){const Le=ve.get((ue=we.dataset.code)!==null&&ue!==void 0?ue:"");Le&&L.reset(we,Le)}(me=U.asyncRenderCallback)===null||me===void 0||me.call(U)});else if(K.length>0){const se=new Map(K),ue=he.querySelectorAll("div[data-code]");for(const me of ue){const ve=se.get((Z=me.dataset.code)!==null&&Z!==void 0?Z:"");ve&&L.reset(me,ve)}}if(U.asyncRenderCallback)for(const se of he.getElementsByTagName("img")){const ue=ie.add(L.addDisposableListener(se,"load",()=>{ue.dispose(),U.asyncRenderCallback()}))}return{element:he,dispose:()=>{le=!0,ie.dispose()}}}e.renderMarkdown=f;function p(Y){if(!Y)return"";const U=Y.split(/[\s+|:|,|\{|\?]/,1);return U.length?U[0]:Y}function b(Y,U){return/^\w[\w\d+.-]*:/.test(U)?U:Y.path.endsWith("/")?(0,o.resolvePath)(Y,U).toString():(0,o.resolvePath)((0,o.dirname)(Y),U).toString()}function w(Y,U){const{config:W,allowedSchemes:V}=E(Y);k.addHook("uponSanitizeAttribute",(ie,le)=>{if(le.attrName==="style"||le.attrName==="class"){if(ie.tagName==="SPAN"){if(le.attrName==="style"){le.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(le.attrValue);return}else if(le.attrName==="class"){le.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(le.attrValue);return}}le.keepAttr=!1;return}});const Z=L.hookDomPurifyHrefAndSrcSanitizer(V);try{return k.sanitize(U,Object.assign(Object.assign({},W),{RETURN_TRUSTED_TYPE:!0}))}finally{k.removeHook("uponSanitizeAttribute"),Z.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function E(Y){const U=[l.Schemas.http,l.Schemas.https,l.Schemas.mailto,l.Schemas.data,l.Schemas.file,l.Schemas.vscodeFileResource,l.Schemas.vscodeRemote,l.Schemas.vscodeRemoteResource];return Y.isTrusted&&U.push(l.Schemas.command),{config:{ALLOWED_TAGS:[...L.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:U}}function I(Y){return typeof Y=="string"?Y:N(Y)}e.renderStringAsPlaintext=I;function N(Y){var U;let W=(U=Y.value)!==null&&U!==void 0?U:"";W.length>1e5&&(W=`${W.substr(0,1e5)}\u2026`);const V=u.marked.parse(W,{renderer:F.value}).replace(/&(#\d+|[a-zA-Z]+);/g,Z=>{var ie;return(ie=R.get(Z))!==null&&ie!==void 0?ie:Z});return w({isTrusted:!1},V).toString()}e.renderMarkdownAsPlaintext=N;const R=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),F=new t.Lazy(()=>{const Y=new u.marked.Renderer;return Y.code=U=>U,Y.blockquote=U=>U,Y.html=U=>"",Y.heading=(U,W,V)=>U+`
`,Y.hr=()=>"",Y.list=(U,W)=>U,Y.listitem=U=>U+`
`,Y.paragraph=U=>U+`
`,Y.table=(U,W)=>U+W+`
`,Y.tablerow=U=>U,Y.tablecell=(U,W)=>U+" ",Y.strong=U=>U,Y.em=U=>U,Y.codespan=U=>U,Y.br=()=>`
`,Y.del=U=>U,Y.image=(U,W,V)=>"",Y.text=U=>U,Y.link=(U,W,V)=>V,Y});function M(Y){let U="";return Y.forEach(W=>{U+=W.raw}),U}function A(Y){for(const U of Y.tokens)if(U.type==="text"){const W=U.raw.split(`
`),V=W[W.length-1];if(V.includes("`"))return P(Y);if(V.includes("**"))return $(Y);if(V.match(/\*\w/))return x(Y);if(V.match(/(^|\s)__\w/))return X(Y);if(V.match(/(^|\s)_\w/))return z(Y);if(V.match(/(^|\s)\[.*\]\(\w*/))return q(Y);if(V.match(/(^|\s)\[\w/))return B(Y)}}function T(Y){let U,W;for(U=0;U<Y.length;U++){const V=Y[U];if(V.type==="paragraph"&&V.raw.match(/(\n|^)```/)){W=O(Y.slice(U));break}if(V.type==="paragraph"&&V.raw.match(/(\n|^)\|/)){W=oe(Y.slice(U));break}if(U===Y.length-1&&V.type==="paragraph"){const Z=A(V);if(Z){W=[Z];break}}}if(W){const V=[...Y.slice(0,U),...W];return V.links=Y.links,V}return Y}e.fillInIncompleteTokens=T;function O(Y){const U=M(Y);return u.marked.lexer(U+"\n```")}function P(Y){return ne(Y,"`")}function x(Y){return ne(Y,"*")}function z(Y){return ne(Y,"_")}function q(Y){return ne(Y,")")}function B(Y){return ne(Y,"](about:blank)")}function $(Y){return ne(Y,"**")}function X(Y){return ne(Y,"__")}function ne(Y,U){const W=M(Array.isArray(Y)?Y:[Y]);return u.marked.lexer(W+U)[0]}function oe(Y){const U=M(Y),W=U.split(`
`);let V,Z=!1;for(let ie=0;ie<W.length;ie++){const le=W[ie].trim();if(typeof V>"u"&&le.match(/^\s*\|/)){const he=le.match(/(\|[^\|]+)(?=\||$)/g);he&&(V=he.length)}else if(typeof V=="number")if(le.match(/^\s*\|/)){if(ie!==W.length-1)return;Z=!0}else return}if(typeof V=="number"&&V>0){const ie=Z?W.slice(0,-1).join(`
`):U,le=!!ie.match(/\|\s*$/),he=ie+(le?"":"|")+`
|${" --- |".repeat(V)}`;return u.marked.lexer(he)}}}),define(ee[317],te([1,0,7,308,43,182,60,128,36,6,56,2,397]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:_.Color.white.toString(),buttonForeground:_.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class n extends s.Disposable{get onDidClick(){return this._onDidClick.event}constructor(t,a){super(),this._label="",this._onDidClick=this._register(new v.Emitter),this.options=a,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!a.secondary);const u=a.secondary?a.buttonSecondaryBackground:a.buttonBackground,h=a.secondary?a.buttonSecondaryForeground:a.buttonForeground;this._element.style.color=h||"",this._element.style.backgroundColor=u||"",a.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),t.appendChild(this._element),this._register(S.Gesture.addTarget(this._element)),[L.EventType.CLICK,S.EventType.Tap].forEach(l=>{this._register((0,L.addDisposableListener)(this._element,l,c=>{if(!this.enabled){L.EventHelper.stop(c);return}this._onDidClick.fire(c)}))}),this._register((0,L.addDisposableListener)(this._element,L.EventType.KEY_DOWN,l=>{const c=new y.StandardKeyboardEvent(l);let o=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this._onDidClick.fire(l),o=!0):c.equals(9)&&(this._element.blur(),o=!0),o&&L.EventHelper.stop(c,!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OUT,l=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,L.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(t){const a=[];for(let u of(0,m.renderLabelWithIcons)(t))if(typeof u=="string"){if(u=u.trim(),u==="")continue;const h=document.createElement("span");h.textContent=u,a.push(h)}else a.push(u);return a}updateBackground(t){let a;this.options.secondary?a=t?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:a=t?this.options.buttonHoverBackground:this.options.buttonBackground,a&&(this._element.style.backgroundColor=a)}get element(){return this._element}set label(t){var a;if(this._label===t||(0,C.isMarkdownString)(this._label)&&(0,C.isMarkdownString)(t)&&(0,C.markdownStringEqual)(this._label,t))return;this._element.classList.add("monaco-text-button");const u=this.options.supportShortLabel?this._labelElement:this._element;if((0,C.isMarkdownString)(t)){const h=(0,D.renderMarkdown)(t,{inline:!0});h.dispose();const l=(a=h.element.querySelector("p"))===null||a===void 0?void 0:a.innerHTML;if(l){const c=(0,k.sanitize)(l,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});u.innerHTML=c}else(0,L.reset)(u)}else this.options.supportIcons?(0,L.reset)(u,...this.getContentElements(t)):u.textContent=t;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,D.renderStringAsPlaintext)(t)),this._label=t}get label(){return this._label}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=n}),define(ee[318],te([1,0,7,13,19,56,119,2,20,557]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function C(i,t){(0,_.isString)(t)?i.title=(0,S.stripIcons)(t):t?.markdownNotSupportedFallback?i.title=t.markdownNotSupportedFallback:i.removeAttribute("title")}e.setupNativeHover=C;class s{constructor(t,a,u){this.hoverDelegate=t,this.target=a,this.fadeInAnimation=u}update(t,a,u){var h;return Se(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let l;if(t===void 0||(0,_.isString)(t)||t instanceof HTMLElement)l=t;else if(!(0,_.isFunction)(t.markdown))l=(h=t.markdown)!==null&&h!==void 0?h:t.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,v.localize)(0,null),a),this._cancellationTokenSource=new y.CancellationTokenSource;const c=this._cancellationTokenSource.token;if(l=yield t.markdown(c),l===void 0&&(l=t.markdownNotSupportedFallback),this.isDisposed||c.isCancellationRequested)return}this.show(l,a,u)})}show(t,a,u){const h=this._hoverWidget;if(this.hasContent(t)){const l=Object.assign({content:t,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!h},u);this._hoverWidget=this.hoverDelegate.showHover(l,a)}h?.dispose()}hasContent(t){return t?(0,D.isMarkdownString)(t)?!!t.value:!0:!1}get isDisposed(){var t;return(t=this._hoverWidget)===null||t===void 0?void 0:t.isDisposed}dispose(){var t,a;(t=this._hoverWidget)===null||t===void 0||t.dispose(),(a=this._cancellationTokenSource)===null||a===void 0||a.dispose(!0),this._cancellationTokenSource=void 0}}function n(i,t,a,u){let h,l;const c=(f,p)=>{var b;const w=l!==void 0;f&&(l?.dispose(),l=void 0),p&&(h?.dispose(),h=void 0),w&&((b=i.onDidHideHover)===null||b===void 0||b.call(i))},o=(f,p,b)=>new k.TimeoutTimer(()=>Se(this,void 0,void 0,function*(){(!l||l.isDisposed)&&(l=new s(i,b||t,f>0),yield l.update(a,p,u))}),f),d=()=>{if(h)return;const f=new m.DisposableStore,p=E=>c(!1,E.fromElement===t);f.add(L.addDisposableListener(t,L.EventType.MOUSE_LEAVE,p,!0));const b=()=>c(!0,!0);f.add(L.addDisposableListener(t,L.EventType.MOUSE_DOWN,b,!0));const w={targetElements:[t],dispose:()=>{}};if(i.placement===void 0||i.placement==="mouse"){const E=I=>{w.x=I.x+10,I.target instanceof HTMLElement&&I.target.classList.contains("action-label")&&c(!0,!0)};f.add(L.addDisposableListener(t,L.EventType.MOUSE_MOVE,E,!0))}f.add(o(i.delay,!1,w)),h=f},r=L.addDisposableListener(t,L.EventType.MOUSE_OVER,d,!0);return{show:f=>{c(!1,!0),o(0,f)},hide:()=>{c(!0,!0)},update:(f,p)=>Se(this,void 0,void 0,function*(){a=f,yield l?.update(a,void 0,p)}),dispose:()=>{r.dispose(),c(!0,!0)}}}e.setupCustomHover=n}),define(ee[227],te([1,0,7,312,318,2,52,166,403]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class _{constructor(t){this._element=t}get element(){return this._element}set textContent(t){this.disposed||t===this._textContent||(this._textContent=t,this._element.textContent=t)}set className(t){this.disposed||t===this._className||(this._className=t,this._element.className=t)}set empty(t){this.disposed||t===this._empty||(this._empty=t,this._element.style.marginLeft=t?"0":"")}dispose(){this.disposed=!0}}class v extends D.Disposable{constructor(t,a){super(),this.customHovers=new Map,this.creationOptions=a,this.domNode=this._register(new _(L.append(t,L.$(".monaco-icon-label")))),this.labelContainer=L.append(this.domNode.element,L.$(".monaco-icon-label-container"));const u=L.append(this.labelContainer,L.$("span.monaco-icon-name-container"));a?.supportHighlights||a?.supportIcons?this.nameNode=new n(u,!!a.supportIcons):this.nameNode=new C(u),this.hoverDelegate=a?.hoverDelegate}get element(){return this.domNode.element}setLabel(t,a,u){const h=["monaco-icon-label"],l=["monaco-icon-label-container"];let c="";if(u&&(u.extraClasses&&h.push(...u.extraClasses),u.italic&&h.push("italic"),u.strikethrough&&h.push("strikethrough"),u.disabledCommand&&l.push("disabled"),u.title&&(c+=u.title)),this.domNode.className=h.join(" "),this.domNode.element.setAttribute("aria-label",c),this.labelContainer.className=l.join(" "),this.setupHover(u?.descriptionTitle?this.labelContainer:this.element,u?.title),this.nameNode.setLabel(t,u),a||this.descriptionNode){const o=this.getOrCreateDescriptionNode();o instanceof k.HighlightedLabel?(o.set(a||"",u?u.descriptionMatches:void 0,void 0,u?.labelEscapeNewLines),this.setupHover(o.element,u?.descriptionTitle)):(o.textContent=a&&u?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(a,[]):a||"",this.setupHover(o.element,u?.descriptionTitle||""),o.empty=!a)}}setupHover(t,a){const u=this.customHovers.get(t);if(u&&(u.dispose(),this.customHovers.delete(t)),!a){t.removeAttribute("title");return}if(!this.hoverDelegate)(0,y.setupNativeHover)(t,a);else{const h=(0,y.setupCustomHover)(this.hoverDelegate,t,a);h&&this.customHovers.set(t,h)}}dispose(){super.dispose();for(const t of this.customHovers.values())t.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var t;if(!this.descriptionNode){const a=this._register(new _(L.append(this.labelContainer,L.$("span.monaco-icon-description-container"))));!((t=this.creationOptions)===null||t===void 0)&&t.supportDescriptionHighlights?this.descriptionNode=new k.HighlightedLabel(L.append(a.element,L.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new _(L.append(a.element,L.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=v;class C{constructor(t){this.container=t,this.label=void 0,this.singleLabel=void 0}setLabel(t,a){if(!(this.label===t&&(0,S.equals)(this.options,a)))if(this.label=t,this.options=a,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=L.append(this.container,L.$("a.label-name",{id:a?.domId}))),this.singleLabel.textContent=t;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let u=0;u<t.length;u++){const h=t[u],l=a?.domId&&`${a?.domId}_${u}`;L.append(this.container,L.$("a.label-name",{id:l,"data-icon-label-count":t.length,"data-icon-label-index":u,role:"treeitem"},h)),u<t.length-1&&L.append(this.container,L.$("span.label-separator",void 0,a?.separator||"/"))}}}}function s(i,t,a){if(!a)return;let u=0;return i.map(h=>{const l={start:u,end:u+h.length},c=a.map(o=>m.Range.intersect(l,o)).filter(o=>!m.Range.isEmpty(o)).map(({start:o,end:d})=>({start:o-u,end:d-u}));return u=l.end+t.length,c})}class n{constructor(t,a){this.container=t,this.supportIcons=a,this.label=void 0,this.singleLabel=void 0}setLabel(t,a){if(!(this.label===t&&(0,S.equals)(this.options,a)))if(this.label=t,this.options=a,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(L.append(this.container,L.$("a.label-name",{id:a?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(t,a?.matches,void 0,a?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const u=a?.separator||"/",h=s(t,u,a?.matches);for(let l=0;l<t.length;l++){const c=t[l],o=h?h[l]:void 0,d=a?.domId&&`${a?.domId}_${l}`,r=L.$("a.label-name",{id:d,"data-icon-label-count":t.length,"data-icon-label-index":l,role:"treeitem"});new k.HighlightedLabel(L.append(this.container,r),{supportIcons:this.supportIcons}).set(c,o,void 0,a?.labelEscapeNewLines),l<t.length-1&&L.append(r,L.$("span.label-separator",void 0,u))}}}}}),define(ee[581],te([1,0,7,79,43,182,113,14,6,61,2,17,560,411]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const i=L.$,t="selectOption.entry.template";class a{get templateId(){return t}renderTemplate(l){const c=Object.create(null);return c.root=l,c.text=L.append(l,i(".option-text")),c.detail=L.append(l,i(".option-detail")),c.decoratorRight=L.append(l,i(".option-decorator-right")),c}renderElement(l,c,o){const d=o,r=l.text,g=l.detail,f=l.decoratorRight,p=l.isDisabled;d.text.textContent=r,d.detail.textContent=g||"",d.decoratorRight.innerText=f||"",p?d.root.classList.add("option-disabled"):d.root.classList.remove("option-disabled")}disposeTemplate(l){}}class u extends C.Disposable{constructor(l,c,o,d,r){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=d,this.selectBoxOptions=r||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new _.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(o),this.selected=c||0,l&&this.setOptions(l,c),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return t}constructSelectDropDown(l){this.contextViewProvider=l,this.selectDropDownContainer=L.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=L.append(this.selectDropDownContainer,i(".select-box-details-pane"));const c=L.append(this.selectDropDownContainer,i(".select-box-dropdown-container-width-control")),o=L.append(c,i(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",L.append(o,this.widthControlElement),this._dropDownPosition=0,this.styleElement=L.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.DRAG_START,d=>{L.EventHelper.stop(d,!0)}))}registerListeners(){this._register(L.addStandardDisposableListener(this.selectElement,"change",c=>{this.selected=c.target.selectedIndex,this._onDidSelect.fire({index:c.target.selectedIndex,selected:c.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.CLICK,c=>{L.EventHelper.stop(c),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.MOUSE_DOWN,c=>{L.EventHelper.stop(c)}));let l;this._register(L.addDisposableListener(this.selectElement,"touchstart",c=>{l=this._isVisible})),this._register(L.addDisposableListener(this.selectElement,"touchend",c=>{L.EventHelper.stop(c),l?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.KEY_DOWN,c=>{const o=new y.StandardKeyboardEvent(c);let d=!1;s.isMacintosh?(o.keyCode===18||o.keyCode===16||o.keyCode===10||o.keyCode===3)&&(d=!0):(o.keyCode===18&&o.altKey||o.keyCode===16&&o.altKey||o.keyCode===10||o.keyCode===3)&&(d=!0),d&&(this.showSelectDropDown(),L.EventHelper.stop(c,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(l,c){m.equals(this.options,l)||(this.options=l,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((o,d)=>{this.selectElement.add(this.createOption(o.text,d,o.isDisabled)),typeof o.description=="string"&&(this._hasDetails=!0)})),c!==void 0&&(this.select(c),this._currentSelection=this.selected)}setOptionsList(){var l;(l=this.selectList)===null||l===void 0||l.splice(0,this.selectList.length,this.options)}select(l){l>=0&&l<this.options.length?this.selected=l:l>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(l){this.selectElement.tabIndex=l?0:-1}render(l){this.container=l,l.classList.add("select-container"),l.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const l=[];this.styles.listFocusBackground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(l.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),l.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),l.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=l.join(`
`)}styleSelectElement(){var l,c,o;const d=(l=this.styles.selectBackground)!==null&&l!==void 0?l:"",r=(c=this.styles.selectForeground)!==null&&c!==void 0?c:"",g=(o=this.styles.selectBorder)!==null&&o!==void 0?o:"";this.selectElement.style.backgroundColor=d,this.selectElement.style.color=r,this.selectElement.style.borderColor=g}styleList(){var l,c;const o=(l=this.styles.selectBackground)!==null&&l!==void 0?l:"",d=L.asCssValueWithDefault(this.styles.selectListBackground,o);this.selectDropDownListContainer.style.backgroundColor=d,this.selectionDetailsPane.style.backgroundColor=d;const r=(c=this.styles.focusBorder)!==null&&c!==void 0?c:"";this.selectDropDownContainer.style.outlineColor=r,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(l,c,o){const d=document.createElement("option");return d.value=l,d.text=l,d.disabled=!!o,d}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:l=>this.renderSelectDropDown(l,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:l=>this.renderSelectDropDown(l),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(l){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),l&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(l,c){return l.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(c),{dispose:()=>{try{l.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let l=0;return this.options.forEach((c,o)=>{this.updateDetail(o),this.selectionDetailsPane.offsetHeight>l&&(l=this.selectionDetailsPane.offsetHeight)}),l}layoutSelectDropDown(l){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const c=L.getDomNodePagePosition(this.selectElement),o=getComputedStyle(this.selectElement),d=parseFloat(o.getPropertyValue("--dropdown-padding-top"))+parseFloat(o.getPropertyValue("--dropdown-padding-bottom")),r=window.innerHeight-c.top-c.height-(this.selectBoxOptions.minBottomMargin||0),g=c.top-u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,f=this.selectElement.offsetWidth,p=this.setWidthControlElement(this.widthControlElement),b=Math.max(p,Math.round(f)).toString()+"px";this.selectDropDownContainer.style.width=b,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let w=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const E=this._hasDetails?this._cachedMaxDetailsHeight:0,I=w+d+E,N=Math.floor((r-d-E)/this.getHeight()),R=Math.floor((g-d-E)/this.getHeight());if(l)return c.top+c.height>window.innerHeight-22||c.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||N<1&&R<1?!1:(N<u.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&R>N&&this.options.length>N?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(c.top+c.height>window.innerHeight-22||c.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&N<1||this._dropDownPosition===1&&R<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&N+R<1)return this.hideSelectDropDown(!0),!1;I>r&&(w=N*this.getHeight())}else I>g&&(w=R*this.getHeight());return this.selectList.layout(w),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=w+d+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=w+d+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=b,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(l){let c=0;if(l){let o=0,d=0;this.options.forEach((r,g)=>{const f=r.detail?r.detail.length:0,p=r.decoratorRight?r.decoratorRight.length:0,b=r.text.length+f+p;b>d&&(o=g,d=b)}),l.textContent=this.options[o].text+(this.options[o].decoratorRight?this.options[o].decoratorRight+" ":""),c=L.getTotalWidth(l)}return c}createSelectList(l){if(this.selectList)return;this.selectDropDownListContainer=L.append(l,i(".select-box-dropdown-list-container")),this.listRenderer=new a,this.selectList=new S.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:d=>{let r=d.text;return d.detail&&(r+=`. ${d.detail}`),d.decoratorRight&&(r+=`. ${d.decoratorRight}`),d.description&&(r+=`. ${d.description}`),r},getWidgetAriaLabel:()=>(0,n.localize)(0,null),getRole:()=>s.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const c=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),o=_.Event.chain(c.event,d=>d.filter(()=>this.selectList.length>0).map(r=>new y.StandardKeyboardEvent(r)));this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===3))(this.onEnter,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===2))(this.onEnter,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===9))(this.onEscape,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===16))(this.onUpArrow,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===18))(this.onDownArrow,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===12))(this.onPageDown,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===11))(this.onPageUp,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===14))(this.onHome,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode===13))(this.onEnd,this)),this._register(_.Event.chain(o,d=>d.filter(r=>r.keyCode>=21&&r.keyCode<=56||r.keyCode>=85&&r.keyCode<=113))(this.onCharacter,this)),this._register(L.addDisposableListener(this.selectList.getHTMLElement(),L.EventType.POINTER_UP,d=>this.onPointerUp(d))),this._register(this.selectList.onMouseOver(d=>typeof d.index<"u"&&this.selectList.setFocus([d.index]))),this._register(this.selectList.onDidChangeFocus(d=>this.onListFocus(d))),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.FOCUS_OUT,d=>{!this._isVisible||L.isAncestor(d.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(l){if(!this.selectList.length)return;L.EventHelper.stop(l);const c=l.target;if(!c||c.classList.contains("slider"))return;const o=c.closest(".monaco-list-row");if(!o)return;const d=Number(o.getAttribute("data-index")),r=o.classList.contains("option-disabled");d>=0&&d<this.options.length&&!r&&(this.selected=d,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(l,c){const o=r=>{for(let g=0;g<r.childNodes.length;g++){const f=r.childNodes.item(g);(f.tagName&&f.tagName.toLowerCase())==="img"?r.removeChild(f):o(f)}},d=(0,D.renderMarkdown)({value:l,supportThemeIcons:!0},{actionHandler:c});return d.element.classList.add("select-box-description-markdown"),o(d.element),d.element}onListFocus(l){!this._isVisible||!this._hasDetails||this.updateDetail(l.indexes[0])}updateDetail(l){var c,o;this.selectionDetailsPane.innerText="";const d=this.options[l],r=(c=d?.description)!==null&&c!==void 0?c:"",g=(o=d?.descriptionIsMarkdown)!==null&&o!==void 0?o:!1;if(r){if(g){const f=d.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(r,f))}else this.selectionDetailsPane.innerText=r;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(l){L.EventHelper.stop(l),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(l){L.EventHelper.stop(l),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(l){if(this.selected<this.options.length-1){L.EventHelper.stop(l,!0);const c=this.options[this.selected+1].isDisabled;if(c&&this.options.length>this.selected+2)this.selected+=2;else{if(c)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(l){this.selected>0&&(L.EventHelper.stop(l,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(l){L.EventHelper.stop(l),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(l){L.EventHelper.stop(l),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(l){L.EventHelper.stop(l),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(l){L.EventHelper.stop(l),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(l){const c=v.KeyCodeUtils.toString(l.keyCode);let o=-1;for(let d=0;d<this.options.length-1;d++)if(o=(d+this.selected+1)%this.options.length,this.options[o].text.charAt(0).toUpperCase()===c&&!this.options[o].isDisabled){this.select(o),this.selectList.setFocus([o]),this.selectList.reveal(this.selectList.getFocus()[0]),L.EventHelper.stop(l);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=u,u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,u.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ee[582],te([1,0,581,576,83,17,410]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class S extends y.Widget{constructor(_,v,C,s,n){super(),D.isMacintosh&&!n?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(_,v,s,n):this.selectBoxDelegate=new L.SelectBoxList(_,v,C,s,n),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(_,v){this.selectBoxDelegate.setOptions(_,v)}select(_){this.selectBoxDelegate.select(_)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(_){this.selectBoxDelegate.setFocusable(_)}render(_){this.selectBoxDelegate.render(_)}}e.SelectBox=S}),define(ee[129],te([1,0,51,197,7,60,318,582,41,2,17,20,552,264]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends v.Disposable{get action(){return this._action}constructor(h,l,c={}){super(),this.options=c,this._context=h||this,this._action=l,l instanceof _.Action&&this._register(l.onDidChange(o=>{this.element&&this.handleActionChangeEvent(o)}))}handleActionChangeEvent(h){h.enabled!==void 0&&this.updateEnabled(),h.checked!==void 0&&this.updateChecked(),h.class!==void 0&&this.updateClass(),h.label!==void 0&&(this.updateLabel(),this.updateTooltip()),h.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _.ActionRunner)),this._actionRunner}set actionRunner(h){this._actionRunner=h}isEnabled(){return this._action.enabled}setActionContext(h){this._context=h}render(h){const l=this.element=h;this._register(D.Gesture.addTarget(h));const c=this.options&&this.options.draggable;c&&(h.draggable=!0,L.isFirefox&&this._register((0,y.addDisposableListener)(h,y.EventType.DRAG_START,o=>{var d;return(d=o.dataTransfer)===null||d===void 0?void 0:d.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,y.addDisposableListener)(l,D.EventType.Tap,o=>this.onClick(o,!0))),this._register((0,y.addDisposableListener)(l,y.EventType.MOUSE_DOWN,o=>{c||y.EventHelper.stop(o,!0),this._action.enabled&&o.button===0&&l.classList.add("active")})),C.isMacintosh&&this._register((0,y.addDisposableListener)(l,y.EventType.CONTEXT_MENU,o=>{o.button===0&&o.ctrlKey===!0&&this.onClick(o)})),this._register((0,y.addDisposableListener)(l,y.EventType.CLICK,o=>{y.EventHelper.stop(o,!0),this.options&&this.options.isMenu||this.onClick(o)})),this._register((0,y.addDisposableListener)(l,y.EventType.DBLCLICK,o=>{y.EventHelper.stop(o,!0)})),[y.EventType.MOUSE_UP,y.EventType.MOUSE_OUT].forEach(o=>{this._register((0,y.addDisposableListener)(l,o,d=>{y.EventHelper.stop(d),l.classList.remove("active")}))})}onClick(h,l=!1){var c;y.EventHelper.stop(h,!0);const o=s.isUndefinedOrNull(this._context)?!((c=this.options)===null||c===void 0)&&c.useEventAsContext?h:{preserveFocus:l}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(h){this.element&&(this.element.tabIndex=h?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var h;if(!this.element)return;const l=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(l):(this.customHover=(0,S.setupCustomHover)(this.options.hoverDelegate,this.element,l),this._store.add(this.customHover))):this.element.title=l}updateAriaLabel(){var h;if(this.element){const l=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.element.setAttribute("aria-label",l)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=i;class t extends i{constructor(h,l,c){super(h,l,c),this.options=c,this.options.icon=c.icon!==void 0?c.icon:!1,this.options.label=c.label!==void 0?c.label:!0,this.cssClass=""}render(h){super.render(h),this.element&&(this.label=(0,y.append)(this.element,(0,y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,y.append)(this.element,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===_.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(h){this.label&&(this.label.tabIndex=h?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let h=null;return this.action.tooltip?h=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(h=this.action.label,this.options.keybinding&&(h=n.localize(0,null,h,this.options.keybinding))),h??void 0}updateClass(){var h;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(h=this.label)===null||h===void 0||h.classList.remove("codicon")}updateEnabled(){var h,l;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(h=this.element)===null||h===void 0||h.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(l=this.element)===null||l===void 0||l.classList.add("disabled"))}updateAriaLabel(){var h;if(this.label){const l=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.label.setAttribute("aria-label",l)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=t;class a extends i{constructor(h,l,c,o,d,r,g){super(h,l),this.selectBox=new m.SelectBox(c,o,d,r,g),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(h){this.selectBox.select(h)}registerListeners(){this._register(this.selectBox.onDidSelect(h=>this.runAction(h.selected,h.index)))}runAction(h,l){this.actionRunner.run(this._action,this.getActionContext(h,l))}getActionContext(h,l){return h}setFocusable(h){this.selectBox.setFocusable(h)}focus(){var h;(h=this.selectBox)===null||h===void 0||h.focus()}blur(){var h;(h=this.selectBox)===null||h===void 0||h.blur()}render(h){this.selectBox.render(h)}}e.SelectActionViewItem=a}),define(ee[72],te([1,0,7,43,129,41,6,2,20,264]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class v extends m.Disposable{constructor(s,n={}){var i,t,a,u,h,l;super(),this._actionRunnerDisposables=this._register(new m.DisposableStore),this.viewItemDisposables=this._register(new m.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new S.Emitter),this.onWillRun=this._onWillRun.event,this.options=n,this._context=(i=n.context)!==null&&i!==void 0?i:null,this._orientation=(t=this.options.orientation)!==null&&t!==void 0?t:0,this._triggerKeys={keyDown:(u=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keyDown)!==null&&u!==void 0?u:!1,keys:(l=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(d=>this._onWillRun.fire(d))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",n.animated!==!1&&this.domNode.classList.add("animated");let c,o;switch(this._orientation){case 0:c=[15],o=[17];break;case 1:c=[16],o=[18],this.domNode.className+=" vertical";break}this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_DOWN,d=>{const r=new k.StandardKeyboardEvent(d);let g=!0;const f=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(r.equals(c[0])||r.equals(c[1]))?g=this.focusPrevious():o&&(r.equals(o[0])||r.equals(o[1]))?g=this.focusNext():r.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():r.equals(14)?g=this.focusFirst():r.equals(13)?g=this.focusLast():r.equals(2)&&f instanceof y.BaseActionViewItem&&f.trapsArrowNavigation?g=this.focusNext():this.isTriggerKeyEvent(r)?this._triggerKeys.keyDown?this.doTrigger(r):this.triggerKeyDown=!0:g=!1,g&&(r.preventDefault(),r.stopPropagation())})),this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_UP,d=>{const r=new k.StandardKeyboardEvent(d);this.isTriggerKeyEvent(r)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(r)),r.preventDefault(),r.stopPropagation()):(r.equals(2)||r.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(L.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(L.getActiveElement()===this.domNode||!L.isAncestor(L.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const n=this.viewItems.find(i=>i instanceof y.BaseActionViewItem&&i.isEnabled());n instanceof y.BaseActionViewItem&&n.setFocusable(!0)}else this.viewItems.forEach(n=>{n instanceof y.BaseActionViewItem&&n.setFocusable(!1)})}isTriggerKeyEvent(s){let n=!1;return this._triggerKeys.keys.forEach(i=>{n=n||s.equals(i)}),n}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const n=this.actionsList.children[s];if(L.isAncestor(L.getActiveElement(),n)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(n=>n.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(n=>this._onDidRun.fire(n))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(n=>this._onWillRun.fire(n))),this.viewItems.forEach(n=>n.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var n;if(typeof s=="number")return(n=this.viewItems[s])===null||n===void 0?void 0:n.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===s)return this.viewItems[i].action}}push(s,n={}){const i=Array.isArray(s)?s:[s];let t=_.isNumber(n.index)?n.index:null;i.forEach(a=>{const u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation");let h;const l=Object.assign({hoverDelegate:this.options.hoverDelegate},n);this.options.actionViewItemProvider&&(h=this.options.actionViewItemProvider(a,l)),h||(h=new y.ActionViewItem(this.context,a,l)),this.options.allowContextMenu||this.viewItemDisposables.set(h,L.addDisposableListener(u,L.EventType.CONTEXT_MENU,c=>{L.EventHelper.stop(c,!0)})),h.actionRunner=this._actionRunner,h.setActionContext(this.context),h.render(u),this.focusable&&h instanceof y.BaseActionViewItem&&this.viewItems.length===0&&h.setFocusable(!0),t===null||t<0||t>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(h)):(this.actionsList.insertBefore(u,this.actionsList.children[t]),this.viewItems.splice(t,0,h),t++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,m.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),L.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let n=!1,i;if(s===void 0?n=!0:typeof s=="number"?i=s:typeof s=="boolean"&&(n=s),n&&typeof this.focusedItem>"u"){const t=this.viewItems.findIndex(a=>a.isEnabled());this.focusedItem=t===-1?void 0:t,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let i;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=n,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=n,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,n,i=!1){var t;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((t=this.viewItems[this.previouslyFocusedItem])===null||t===void 0||t.blur());const a=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(a){let u=!0;_.isFunction(a.focus)||(u=!1),this.options.focusOnlyEnabledItems&&_.isFunction(a.isEnabled)&&!a.isEnabled()&&(u=!1),a.action.id===D.Separator.ID&&(u=!1),u?(i||this.previouslyFocusedItem!==this.focusedItem)&&(a.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem=void 0)}}doTrigger(s){if(typeof this.focusedItem>"u")return;const n=this.viewItems[this.focusedItem];if(n instanceof y.BaseActionViewItem){const i=n._context===null||n._context===void 0?s:n._context;this.run(n._action,i)}}run(s,n){return Se(this,void 0,void 0,function*(){yield this._actionRunner.run(s,n)})}dispose(){this._context=void 0,this.viewItems=(0,m.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=v}),define(ee[319],te([1,0,7,129,573,6,265]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends k.BaseActionViewItem{constructor(_,v,C,s=Object.create(null)){super(null,_,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=v,this.contextMenuProvider=C,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(_){this.actionItem=_;const v=n=>{this.element=(0,L.append)(n,(0,L.$)("a.action-label"));let i=[];return typeof this.options.classNames=="string"?i=this.options.classNames.split(/\s+/g).filter(t=>!!t):this.options.classNames&&(i=this.options.classNames),i.find(t=>t==="icon")||i.push("codicon"),this.element.classList.add(...i),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},C=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:v,menuAsChild:this.options.menuAsChild,actions:C?this.menuActionsOrProvider:void 0,actionProvider:C?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new y.DropdownMenu(_,s)),this._register(this.dropdownMenu.onDidChangeVisibility(n=>{var i;(i=this.element)===null||i===void 0||i.setAttribute("aria-expanded",`${n}`),this._onDidChangeVisibility.fire(n)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const n=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return n.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let _=null;return this.action.tooltip?_=this.action.tooltip:this.action.label&&(_=this.action.label),_??void 0}setActionContext(_){super.setActionContext(_),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=_:this.dropdownMenu.menuOptions={context:_})}show(){var _;(_=this.dropdownMenu)===null||_===void 0||_.show()}updateEnabled(){var _,v;const C=!this.action.enabled;(_=this.actionItem)===null||_===void 0||_.classList.toggle("disabled",C),(v=this.element)===null||v===void 0||v.classList.toggle("disabled",C)}}e.DropdownMenuActionViewItem=S}),define(ee[228],te([1,0,7,79,309,72,49,84,83,6,391,52,558,404]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const i=L.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class t extends _.Widget{constructor(h,l,c){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new v.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=c,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(o=this.options.tooltip)!==null&&o!==void 0?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=L.append(h,i(".monaco-inputbox.idle"));const d=this.options.flexibleHeight?"textarea":"input",r=L.append(this.element,i(".ibwrapper"));if(this.input=L.append(r,i(d+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=L.append(r,i("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new m.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),L.append(h,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(p=>this.input.scrollTop=p.scrollTop));const g=this._register(new k.DomEmitter(document,"selectionchange")),f=v.Event.filter(g.event,()=>{const p=document.getSelection();return p?.anchorNode===r});this._register(f(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(h){this.placeholder=h,this.input.setAttribute("placeholder",h)}setTooltip(h){this.tooltip=h,this.input.title=h}get inputElement(){return this.input}get value(){return this.input.value}set value(h){this.input.value!==h&&(this.input.value=h,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:L.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(h=null){this.input.select(),h&&(this.input.setSelectionRange(h.start,h.end),h.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(h){this.input.style.width=`calc(100% - ${h}px)`,this.mirror&&(this.mirror.style.paddingRight=h+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const h=this.cachedContentHeight,l=this.cachedHeight,c=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:h,height:l}),this.scrollableElement.setScrollPosition({scrollTop:c})}showMessage(h,l){if(this.state==="open"&&(0,s.equals)(this.message,h))return;this.message=h,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(h.type));const c=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${L.asCssValueWithDefault(c.border,"transparent")}`,this.message.content&&(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let h=null;return this.validation&&(h=this.validation(this.value),h?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(h)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),h?.type}stylesForType(h){const l=this.options.inputBoxStyles;switch(h){case 1:return{border:l.inputValidationInfoBorder,background:l.inputValidationInfoBackground,foreground:l.inputValidationInfoForeground};case 2:return{border:l.inputValidationWarningBorder,background:l.inputValidationWarningBackground,foreground:l.inputValidationWarningForeground};default:return{border:l.inputValidationErrorBorder,background:l.inputValidationErrorBackground,foreground:l.inputValidationErrorForeground}}}classForType(h){switch(h){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let h;const l=()=>h.style.width=L.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{var d,r;if(!this.message)return null;h=L.append(o,i(".monaco-inputbox-container")),l();const g={inline:!0,className:"monaco-inputbox-message"},f=this.message.formatContent?(0,y.renderFormattedText)(this.message.content,g):(0,y.renderText)(this.message.content,g);f.classList.add(this.classForType(this.message.type));const p=this.stylesForType(this.message.type);return f.style.backgroundColor=(d=p.background)!==null&&d!==void 0?d:"",f.style.color=(r=p.foreground)!==null&&r!==void 0?r:"",f.style.border=p.border?`1px solid ${p.border}`:"",L.append(h,f),null},onHide:()=>{this.state="closed"},layout:l});let c;this.message.type===3?c=n.localize(0,null,this.message.content):this.message.type===2?c=n.localize(1,null,this.message.content):c=n.localize(2,null,this.message.content),S.alert(c),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const h=this.value,c=h.charCodeAt(h.length-1)===10?" ":"";(h+c).replace(/\u000c/g,"")?this.mirror.textContent=h+c:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var h,l,c;const o=this.options.inputBoxStyles,d=(h=o.inputBackground)!==null&&h!==void 0?h:"",r=(l=o.inputForeground)!==null&&l!==void 0?l:"",g=(c=o.inputBorder)!==null&&c!==void 0?c:"";this.element.style.backgroundColor=d,this.element.style.color=r,this.input.style.backgroundColor="inherit",this.input.style.color=r,this.element.style.border=`1px solid ${L.asCssValueWithDefault(g,"transparent")}`}layout(){if(!this.mirror)return;const h=this.cachedContentHeight;this.cachedContentHeight=L.getTotalHeight(this.mirror),h!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(h){const l=this.inputElement,c=l.selectionStart,o=l.selectionEnd,d=l.value;c!==null&&o!==null&&(this.value=d.substr(0,c)+h+d.substr(o),l.setSelectionRange(c+1,c+1),this.layout())}dispose(){var h;this._hideMessage(),this.message=null,(h=this.actionbar)===null||h===void 0||h.dispose(),super.dispose()}}e.InputBox=t;class a extends t{constructor(h,l,c){const o=n.localize(3,null),d=` or \u21C5 ${o}`,r=` (\u21C5 ${o})`;super(h,l,c),this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new C.HistoryNavigator(c.history,100);const g=()=>{if(c.showHistoryHint&&c.showHistoryHint()&&!this.placeholder.endsWith(d)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const f=this.placeholder.endsWith(")")?d:r,p=this.placeholder+f;c.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=p:this.setPlaceHolder(p)}};this.observer=new MutationObserver((f,p)=>{f.forEach(b=>{b.target.textContent||g()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>g()),this.onblur(this.input,()=>{const f=p=>{if(this.placeholder.endsWith(p)){const b=this.placeholder.slice(0,this.placeholder.length-p.length);return c.showPlaceholderOnFocus?this.placeholder=b:this.setPlaceHolder(b),!0}else return!1};f(r)||f(d)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(h){this.value&&(h||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let h=this.getNextValue();h&&(h=h===this.value?this.getNextValue():h),this.value=h??"",S.status(this.value?this.value:n.localize(4,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let h=this.getPreviousValue();h&&(h=h===this.value?this.getPreviousValue():h),h&&(this.value=h,S.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let h=this.history.current();return h||(h=this.history.last(),this.history.next()),h}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=a}),define(ee[229],te([1,0,7,316,228,83,6,553,2,266]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=m.localize(0,null);class C extends D.Widget{constructor(n,i,t){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new _.DisposableStore,this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=t.placeholder||"",this.validation=t.validation,this.label=t.label||v,this.showCommonFindToggles=!!t.showCommonFindToggles;const a=t.appendCaseSensitiveLabel||"",u=t.appendWholeWordsLabel||"",h=t.appendRegexLabel||"",l=t.history||[],c=!!t.flexibleHeight,o=!!t.flexibleWidth,d=t.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,i,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:l,showHistoryHint:t.showHistoryHint,flexibleHeight:c,flexibleWidth:o,flexibleMaxHeight:d,inputBoxStyles:t.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:h,isChecked:!1},t.toggleStyles))),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:u,isChecked:!1},t.toggleStyles))),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:a,isChecked:!1},t.toggleStyles))),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)}));const r=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){const f=r.indexOf(document.activeElement);if(f>=0){let p=-1;g.equals(17)?p=(f+1)%r.length:g.equals(15)&&(f===0?p=r.length-1:p=f-1),g.equals(9)?(r[f].blur(),this.inputBox.focus()):p>=0&&r[p].focus(),L.EventHelper.stop(g,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(t?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),n?.appendChild(this.domNode),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionstart",r=>{this.imeSessionInProgress=!0})),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionend",r=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,r=>this._onKeyDown.fire(r)),this.onkeyup(this.inputBox.inputElement,r=>this._onKeyUp.fire(r)),this.oninput(this.inputBox.inputElement,r=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,r=>this._onMouseDown.fire(r))}get onDidChange(){return this.inputBox.onDidChange}layout(n){this.inputBox.layout(),this.updateInputBoxPadding(n.collapsedFindWidget)}enable(){var n,i,t;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(n=this.regex)===null||n===void 0||n.enable(),(i=this.wholeWords)===null||i===void 0||i.enable(),(t=this.caseSensitive)===null||t===void 0||t.enable();for(const a of this.additionalToggles)a.enable()}disable(){var n,i,t;this.domNode.classList.add("disabled"),this.inputBox.disable(),(n=this.regex)===null||n===void 0||n.disable(),(i=this.wholeWords)===null||i===void 0||i.disable(),(t=this.caseSensitive)===null||t===void 0||t.disable();for(const a of this.additionalToggles)a.disable()}setFocusInputOnOptionClick(n){this.fixFocusOnOptionClickEnabled=n}setEnabled(n){n?this.enable():this.disable()}setAdditionalToggles(n){for(const i of this.additionalToggles)i.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new _.DisposableStore;for(const i of n??[])this.additionalTogglesDisposables.add(i),this.controls.appendChild(i.domNode),this.additionalTogglesDisposables.add(i.onChange(t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(i);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(n=!1){var i,t,a,u,h,l;n?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((t=(i=this.caseSensitive)===null||i===void 0?void 0:i.width())!==null&&t!==void 0?t:0)+((u=(a=this.wholeWords)===null||a===void 0?void 0:a.width())!==null&&u!==void 0?u:0)+((l=(h=this.regex)===null||h===void 0?void 0:h.width())!==null&&l!==void 0?l:0)+this.additionalToggles.reduce((c,o)=>c+o.width(),0)}getValue(){return this.inputBox.value}setValue(n){this.inputBox.value!==n&&(this.inputBox.value=n)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var n,i;return(i=(n=this.caseSensitive)===null||n===void 0?void 0:n.checked)!==null&&i!==void 0?i:!1}setCaseSensitive(n){this.caseSensitive&&(this.caseSensitive.checked=n)}getWholeWords(){var n,i;return(i=(n=this.wholeWords)===null||n===void 0?void 0:n.checked)!==null&&i!==void 0?i:!1}setWholeWords(n){this.wholeWords&&(this.wholeWords.checked=n)}getRegex(){var n,i;return(i=(n=this.regex)===null||n===void 0?void 0:n.checked)!==null&&i!==void 0?i:!1}setRegex(n){this.regex&&(this.regex.checked=n,this.validate())}focusOnCaseSensitive(){var n;(n=this.caseSensitive)===null||n===void 0||n.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(n){this.inputBox.showMessage(n)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=C}),define(ee[583],te([1,0,7,153,228,83,26,6,555,266]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const v=_.localize(0,null),C=_.localize(1,null);class s extends k.Toggle{constructor(t){super({icon:S.Codicon.preserveCase,title:C+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class n extends D.Widget{constructor(t,a,u,h){super(),this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new m.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new m.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new m.Emitter),this._onInput=this._register(new m.Emitter),this._onKeyUp=this._register(new m.Emitter),this._onPreserveCaseKeyDown=this._register(new m.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=a,this.placeholder=h.placeholder||"",this.validation=h.validation,this.label=h.label||v;const l=h.appendPreserveCaseLabel||"",c=h.history||[],o=!!h.flexibleHeight,d=!!h.flexibleWidth,r=h.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:c,showHistoryHint:h.showHistoryHint,flexibleHeight:o,flexibleWidth:d,flexibleMaxHeight:r,inputBoxStyles:h.inputBoxStyles})),this.preserveCase=this._register(new s(Object.assign({appendTitle:l,isChecked:!1},h.toggleStyles))),this._register(this.preserveCase.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(p=>{this._onPreserveCaseKeyDown.fire(p)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const g=[this.preserveCase.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){const b=g.indexOf(document.activeElement);if(b>=0){let w=-1;p.equals(17)?w=(b+1)%g.length:p.equals(15)&&(b===0?w=g.length-1:w=b-1),p.equals(9)?(g[b].blur(),this.inputBox.focus()):w>=0&&g[w].focus(),L.EventHelper.stop(p,!0)}}});const f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),t?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){var t;(t=this.inputBox)===null||t===void 0||t.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}e.ReplaceInput=n}),define(ee[584],te([1,0,51,60,7,43,59,72,129,310,84,41,13,26,27,119,2,17,10]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var c;(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"})(c||(e.Direction=c={}));class o extends m.ActionBar{constructor(E,I,N,R){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const F=document.createElement("div");F.classList.add("monaco-menu"),F.setAttribute("role","presentation"),super(F,{orientation:1,actionViewItemProvider:T=>this.doGetActionViewItem(T,N,M),context:N.context,actionRunner:N.actionRunner,ariaLabel:N.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...h.isMacintosh||h.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=R,this.menuElement=F,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new u.DisposableStore),this.initializeOrUpdateStyleSheet(E,R),this._register(k.Gesture.addTarget(F)),(0,y.addDisposableListener)(F,y.EventType.KEY_DOWN,T=>{new D.StandardKeyboardEvent(T).equals(2)&&T.preventDefault()}),N.enableMnemonics&&this.menuDisposables.add((0,y.addDisposableListener)(F,y.EventType.KEY_DOWN,T=>{const O=T.key.toLocaleLowerCase();if(this.mnemonics.has(O)){y.EventHelper.stop(T,!0);const P=this.mnemonics.get(O);if(P.length===1&&(P[0]instanceof r&&P[0].container&&this.focusItemByElement(P[0].container),P[0].onClick(T)),P.length>1){const x=P.shift();x&&x.container&&(this.focusItemByElement(x.container),P.push(x)),this.mnemonics.set(O,P)}}})),h.isLinux&&this._register((0,y.addDisposableListener)(F,y.EventType.KEY_DOWN,T=>{const O=new D.StandardKeyboardEvent(T);O.equals(14)||O.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),y.EventHelper.stop(T,!0)):(O.equals(13)||O.equals(12))&&(this.focusedItem=0,this.focusPrevious(),y.EventHelper.stop(T,!0))})),this._register((0,y.addDisposableListener)(this.domNode,y.EventType.MOUSE_OUT,T=>{const O=T.relatedTarget;(0,y.isAncestor)(O,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),T.stopPropagation())})),this._register((0,y.addDisposableListener)(this.actionsList,y.EventType.MOUSE_OVER,T=>{let O=T.target;if(!(!O||!(0,y.isAncestor)(O,this.actionsList)||O===this.actionsList)){for(;O.parentElement!==this.actionsList&&O.parentElement!==null;)O=O.parentElement;if(O.classList.contains("action-item")){const P=this.focusedItem;this.setFocusedItem(O),P!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,y.addDisposableListener)(this.actionsList,k.EventType.Tap,T=>{let O=T.initialTarget;if(!(!O||!(0,y.isAncestor)(O,this.actionsList)||O===this.actionsList)){for(;O.parentElement!==this.actionsList&&O.parentElement!==null;)O=O.parentElement;if(O.classList.contains("action-item")){const P=this.focusedItem;this.setFocusedItem(O),P!==this.focusedItem&&this.updateFocus()}}}));const M={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new C.DomScrollableElement(F,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const A=this.scrollableElement.getDomNode();A.style.position="",this.styleScrollElement(A,R),this._register((0,y.addDisposableListener)(F,k.EventType.Change,T=>{y.EventHelper.stop(T,!0);const O=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:O-T.translationY})})),this._register((0,y.addDisposableListener)(A,y.EventType.MOUSE_UP,T=>{T.preventDefault()})),F.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,I=I.filter(T=>{var O;return!((O=N.submenuIds)===null||O===void 0)&&O.has(T.id)?(console.warn(`Found submenu cycle: ${T.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(T=>!(T instanceof g)).forEach((T,O,P)=>{T.updatePositionInSet(O+1,P.length)})}initializeOrUpdateStyleSheet(E,I){this.styleSheet||((0,y.isInShadowDOM)(E)?this.styleSheet=(0,y.createStyleSheet)(E):(o.globalStyleSheet||(o.globalStyleSheet=(0,y.createStyleSheet)()),this.styleSheet=o.globalStyleSheet)),this.styleSheet.textContent=b(I,(0,y.isInShadowDOM)(E))}styleScrollElement(E,I){var N,R;const F=(N=I.foregroundColor)!==null&&N!==void 0?N:"",M=(R=I.backgroundColor)!==null&&R!==void 0?R:"",A=I.borderColor?`1px solid ${I.borderColor}`:"",T="5px",O=I.shadowColor?`0 2px 8px ${I.shadowColor}`:"";E.style.outline=A,E.style.borderRadius=T,E.style.color=F,E.style.backgroundColor=M,E.style.boxShadow=O}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const I=this.focusedItem;this.setFocusedItem(E),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let I=0;I<this.actionsList.children.length;I++){const N=this.actionsList.children[I];if(E===N){this.focusedItem=I;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,I,N){if(E instanceof s.Separator)return new g(I.context,E,{icon:!0},this.menuStyles);if(E instanceof s.SubmenuAction){const R=new r(E,E.actions,N,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],E.id])}),this.menuStyles);if(I.enableMnemonics){const F=R.getMnemonic();if(F&&R.isEnabled()){let M=[];this.mnemonics.has(F)&&(M=this.mnemonics.get(F)),M.push(R),this.mnemonics.set(F,M)}}return R}else{const R={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const M=I.getKeyBinding(E);if(M){const A=M.getLabel();A&&(R.keybinding=A)}}const F=new d(I.context,E,R,this.menuStyles);if(I.enableMnemonics){const M=F.getMnemonic();if(M&&F.isEnabled()){let A=[];this.mnemonics.has(M)&&(A=this.mnemonics.get(M)),A.push(F),this.mnemonics.set(M,A)}}return F}}}e.Menu=o;class d extends _.BaseActionViewItem{constructor(E,I,N,R){if(N.isMenu=!0,super(I,I,N),this.menuStyle=R,this.options=N,this.options.icon=N.icon!==void 0?N.icon:!1,this.options.label=N.label!==void 0?N.label:!0,this.cssClass="",this.options.label&&N.enableMnemonics){const F=this.action.label;if(F){const M=e.MENU_MNEMONIC_REGEX.exec(F);M&&(this.mnemonic=(M[1]?M[1]:M[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n.RunOnceScheduler(()=>{this.element&&(this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_UP,F=>{if(y.EventHelper.stop(F,!0),L.isFirefox){if(new S.StandardMouseEvent(F).rightButton)return;this.onClick(F)}else setTimeout(()=>{this.onClick(F)},0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.CONTEXT_MENU,F=>{y.EventHelper.stop(F,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,y.append)(this.element,(0,y.$)("a.action-menu-item")),this._action.id===s.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,y.append)(this.item,(0,y.$)("span.menu-item-check"+t.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,y.append)(this.item,(0,y.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,y.append)(this.item,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,I){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,y.clearNode)(this.label);let I=(0,a.stripIcons)(this.action.label);if(I){const N=f(I);this.options.enableMnemonics||(I=N),this.label.setAttribute("aria-label",N.replace(/&&/g,"&"));const R=e.MENU_MNEMONIC_REGEX.exec(I);if(R){I=l.escape(I),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let F=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);for(;F&&F[1];)F=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);const M=A=>A.replace(/&amp;&amp;/g,"&amp;");F?this.label.append(l.ltrim(M(I.substr(0,F.index))," "),(0,y.$)("u",{"aria-hidden":"true"},F[3]),l.rtrim(M(I.substr(F.index+F[0].length))," ")):this.label.innerText=M(I).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=I.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),I=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,N=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,R=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",F=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=I??"",this.item.style.backgroundColor=N??"",this.item.style.outline=R,this.item.style.outlineOffset=F),this.check&&(this.check.style.color=I??"")}}class r extends d{constructor(E,I,N,R,F){super(E,E,R,F),this.submenuActions=I,this.parentData=N,this.submenuOptions=R,this.mysubmenu=null,this.submenuDisposables=this._register(new u.DisposableStore),this.mouseOver=!1,this.expandDirection=R&&R.expandDirection!==void 0?R.expandDirection:c.Right,this.showScheduler=new n.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new n.RunOnceScheduler(()=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,y.append)(this.item,(0,y.$)("span.submenu-indicator"+t.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_UP,I=>{const N=new D.StandardKeyboardEvent(I);(N.equals(17)||N.equals(3))&&(y.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_DOWN,I=>{const N=new D.StandardKeyboardEvent(I);(0,y.getActiveElement)()===this.item&&(N.equals(17)||N.equals(3))&&y.EventHelper.stop(I,!0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register((0,y.addDisposableListener)(this.element,y.EventType.FOCUS_OUT,I=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){y.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,I,N,R){const F={top:0,left:0};return F.left=(0,v.layout)(E.width,I.width,{position:R===c.Right?0:1,offset:N.left,size:N.width}),F.left>=N.left&&F.left<N.left+N.width&&(N.left+10+I.width<=E.width&&(F.left=N.left+10),N.top+=10,N.height=0),F.top=(0,v.layout)(E.height,I.height,{position:0,offset:N.top,size:0}),F.top+I.height===N.top&&F.top+N.height+I.height<=E.height&&(F.top+=N.height),F}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,y.append)(this.element,(0,y.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),N=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new o(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new s.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const R=this.element.getBoundingClientRect(),F={top:R.top-N,left:R.left,height:R.height+2*N,width:R.width},M=this.submenuContainer.getBoundingClientRect(),{top:A,left:T}=this.calculateSubmenuMenuLayout(new y.Dimension(window.innerWidth,window.innerHeight),y.Dimension.lift(M),F,this.expandDirection);this.submenuContainer.style.left=`${T-M.left}px`,this.submenuContainer.style.top=`${A-M.top}px`,this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_UP,O=>{new D.StandardKeyboardEvent(O).equals(15)&&(y.EventHelper.stop(O,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(15)&&y.EventHelper.stop(O,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class g extends _.ActionViewItem{constructor(E,I,N,R){super(E,I,N),this.menuStyles=R}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function f(w){const E=e.MENU_MNEMONIC_REGEX,I=E.exec(w);if(!I)return w;const N=!I[1];return w.replace(E,N?"$2$3":"").trim()}e.cleanMnemonic=f;function p(w){const E=(0,i.getCodiconFontCharacters)()[w.id];return`.codicon-${w.id}:before { content: '\\${E.toString(16)}'; }`}e.formatRule=p;function b(w,E){let I=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${p(i.Codicon.menuSelection)}
${p(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){I+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const N=w.scrollbarShadow;N&&(I+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${N} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${N} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${N} 6px 6px 6px -6px inset;
				}
			`);const R=w.scrollbarSliderBackground;R&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${R};
				}
			`);const F=w.scrollbarSliderHoverBackground;F&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${F};
				}
			`);const M=w.scrollbarSliderActiveBackground;M&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${M};
				}
			`)}return I}}),define(ee[585],te([1,0,72,319,41,26,27,6,2,561,415]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class C extends _.Disposable{constructor(i,t,a={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new m.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new _.DisposableStore),this.options=a,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new s(()=>{var u;return(u=this.toggleMenuActionViewItem)===null||u===void 0?void 0:u.show()},a.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",i.appendChild(this.element),this.actionBar=this._register(new L.ActionBar(this.element,{orientation:a.orientation,ariaLabel:a.ariaLabel,actionRunner:a.actionRunner,allowContextMenu:a.allowContextMenu,highlightToggledItems:a.highlightToggledItems,actionViewItemProvider:(u,h)=>{var l;if(u.id===s.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(u,u.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:S.ThemeIcon.asClassNameArray((l=a.moreIcon)!==null&&l!==void 0?l:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(a.actionViewItemProvider){const c=a.actionViewItemProvider(u,h);if(c)return c}if(u instanceof y.SubmenuAction){const c=new k.DropdownMenuActionViewItem(u,u.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return c.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(c),this.disposables.add(this._onDidChangeDropdownVisibility.add(c.onDidChangeVisibility)),c}}}))}set actionRunner(i){this.actionBar.actionRunner=i}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(i){return this.actionBar.getAction(i)}setActions(i,t){this.clear();const a=i?i.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),a.push(this.toggleMenuAction)),a.forEach(u=>{this.actionBar.push(u,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(u)})})}getKeybindingLabel(i){var t,a,u;const h=this.lookupKeybindings?(a=(t=this.options).getKeyBinding)===null||a===void 0?void 0:a.call(t,i):void 0;return(u=h?.getLabel())!==null&&u!==void 0?u:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=C;class s extends y.Action{constructor(i,t){t=t||v.localize(0,null),super(s.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=i}run(){return Se(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(i){this._menuActions=i}}e.ToggleMenuAction=s,s.ID="toolbar.toggle.more"}),define(ee[183],te([1,0,7,79,43,72,229,228,226,113,153,219,137,41,14,13,26,27,163,6,68,2,139,20,562,416]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class p extends _.ElementsDragAndDropData{constructor(W){super(W.elements.map(V=>V.element)),this.data=W}}function b(U){return U instanceof _.ElementsDragAndDropData?new p(U):U}class w{constructor(W,V){this.modelProvider=W,this.dnd=V,this.autoExpandDisposable=d.Disposable.None}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(Z=>Z.element),V)}onDragStart(W,V){var Z,ie;(ie=(Z=this.dnd).onDragStart)===null||ie===void 0||ie.call(Z,b(W),V)}onDragOver(W,V,Z,ie,le=!0){const he=this.dnd.onDragOver(b(W),V&&V.element,Z,ie),de=this.autoExpandNode!==V;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=V),typeof V>"u")return he;if(de&&typeof he!="boolean"&&he.autoExpand&&(this.autoExpandDisposable=(0,a.disposableTimeout)(()=>{const H=this.modelProvider(),Q=H.getNodeLocation(V);H.isCollapsed(Q)&&H.setCollapsed(Q,!1),this.autoExpandNode=void 0},500)),typeof he=="boolean"||!he.accept||typeof he.bubble>"u"||he.feedback){if(!le){const H=typeof he=="boolean"?he:he.accept,Q=typeof he=="boolean"?void 0:he.effect;return{accept:H,effect:Q,feedback:[Z]}}return he}if(he.bubble===1){const H=this.modelProvider(),Q=H.getNodeLocation(V),j=H.getParentNodeLocation(Q),re=H.getNode(j),se=j&&H.getListIndex(j);return this.onDragOver(W,re,se,ie,!1)}const ce=this.modelProvider(),ae=ce.getNodeLocation(V),J=ce.getListIndex(ae),K=ce.getListRenderCount(ae);return Object.assign(Object.assign({},he),{feedback:(0,t.range)(J,J+K)})}drop(W,V,Z,ie){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(b(W),V&&V.element,Z,ie)}onDragEnd(W){var V,Z;(Z=(V=this.dnd).onDragEnd)===null||Z===void 0||Z.call(V,W)}}function E(U,W){return W&&Object.assign(Object.assign({},W),{identityProvider:W.identityProvider&&{getId(V){return W.identityProvider.getId(V.element)}},dnd:W.dnd&&new w(U,W.dnd),multipleSelectionController:W.multipleSelectionController&&{isSelectionSingleChangeEvent(V){return W.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))},isSelectionRangeChangeEvent(V){return W.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))}},accessibilityProvider:W.accessibilityProvider&&Object.assign(Object.assign({},W.accessibilityProvider),{getSetSize(V){const Z=U(),ie=Z.getNodeLocation(V),le=Z.getParentNodeLocation(ie);return Z.getNode(le).visibleChildrenCount},getPosInSet(V){return V.visibleChildIndex+1},isChecked:W.accessibilityProvider&&W.accessibilityProvider.isChecked?V=>W.accessibilityProvider.isChecked(V.element):void 0,getRole:W.accessibilityProvider&&W.accessibilityProvider.getRole?V=>W.accessibilityProvider.getRole(V.element):()=>"treeitem",getAriaLabel(V){return W.accessibilityProvider.getAriaLabel(V.element)},getWidgetAriaLabel(){return W.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:W.accessibilityProvider&&W.accessibilityProvider.getWidgetRole?()=>W.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:W.accessibilityProvider&&W.accessibilityProvider.getAriaLevel?V=>W.accessibilityProvider.getAriaLevel(V.element):V=>V.depth,getActiveDescendantId:W.accessibilityProvider.getActiveDescendantId&&(V=>W.accessibilityProvider.getActiveDescendantId(V.element))}),keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},W.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(V){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V.element)}})})}class I{constructor(W){this.delegate=W}getHeight(W){return this.delegate.getHeight(W.element)}getTemplateId(W){return this.delegate.getTemplateId(W.element)}hasDynamicHeight(W){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(W.element)}setDynamicHeight(W,V){var Z,ie;(ie=(Z=this.delegate).setDynamicHeight)===null||ie===void 0||ie.call(Z,W.element,V)}}e.ComposedTreeDelegate=I;var N;(function(U){U.None="none",U.OnHover="onHover",U.Always="always"})(N||(e.RenderIndentGuides=N={}));class R{get elements(){return this._elements}constructor(W,V=[]){this._elements=V,this.disposables=new d.DisposableStore,this.onDidChange=c.Event.forEach(W,Z=>this._elements=Z,this.disposables)}dispose(){this.disposables.dispose()}}class F{constructor(W,V,Z,ie,le,he={}){var de;this.renderer=W,this.modelProvider=V,this.activeNodes=ie,this.renderedIndentGuides=le,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=F.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=W.templateId,this.updateOptions(he),c.Event.map(Z,ce=>ce.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(de=W.onDidChangeTwistieState)===null||de===void 0||de.call(W,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(W={}){if(typeof W.indent<"u"){const V=(0,r.clamp)(W.indent,0,40);if(V!==this.indent){this.indent=V;for(const[Z,ie]of this.renderedNodes)this.renderTreeElement(Z,ie)}}if(typeof W.renderIndentGuides<"u"){const V=W.renderIndentGuides!==N.None;if(V!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=V;for(const[Z,ie]of this.renderedNodes)this._renderIndentGuides(Z,ie);if(this.indentGuidesDisposable.dispose(),V){const Z=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Z),this.indentGuidesDisposable=Z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof W.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=W.hideTwistiesOfChildlessElements)}renderTemplate(W){const V=(0,L.append)(W,(0,L.$)(".monaco-tl-row")),Z=(0,L.append)(V,(0,L.$)(".monaco-tl-indent")),ie=(0,L.append)(V,(0,L.$)(".monaco-tl-twistie")),le=(0,L.append)(V,(0,L.$)(".monaco-tl-contents")),he=this.renderer.renderTemplate(le);return{container:W,indent:Z,twistie:ie,indentGuidesDisposable:d.Disposable.None,templateData:he}}renderElement(W,V,Z,ie){this.renderedNodes.set(W,Z),this.renderedElements.set(W.element,W),this.renderTreeElement(W,Z),this.renderer.renderElement(W,V,Z.templateData,ie)}disposeElement(W,V,Z,ie){var le,he;Z.indentGuidesDisposable.dispose(),(he=(le=this.renderer).disposeElement)===null||he===void 0||he.call(le,W,V,Z.templateData,ie),typeof ie=="number"&&(this.renderedNodes.delete(W),this.renderedElements.delete(W.element))}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}onDidChangeTwistieState(W){const V=this.renderedElements.get(W);V&&this.onDidChangeNodeTwistieState(V)}onDidChangeNodeTwistieState(W){const V=this.renderedNodes.get(W);V&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(W,V))}renderTreeElement(W,V){const Z=F.DefaultIndent+(W.depth-1)*this.indent;V.twistie.style.paddingLeft=`${Z}px`,V.indent.style.width=`${Z+this.indent-16}px`,W.collapsible?V.container.setAttribute("aria-expanded",String(!W.collapsed)):V.container.removeAttribute("aria-expanded"),V.twistie.classList.remove(...h.ThemeIcon.asClassNameArray(u.Codicon.treeItemExpanded));let ie=!1;this.renderer.renderTwistie&&(ie=this.renderer.renderTwistie(W.element,V.twistie)),W.collapsible&&(!this.hideTwistiesOfChildlessElements||W.visibleChildrenCount>0)?(ie||V.twistie.classList.add(...h.ThemeIcon.asClassNameArray(u.Codicon.treeItemExpanded)),V.twistie.classList.add("collapsible"),V.twistie.classList.toggle("collapsed",W.collapsed)):V.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(W,V)}_renderIndentGuides(W,V){if((0,L.clearNode)(V.indent),V.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Z=new d.DisposableStore,ie=this.modelProvider();for(;;){const le=ie.getNodeLocation(W),he=ie.getParentNodeLocation(le);if(!he)break;const de=ie.getNode(he),ce=(0,L.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(de)&&ce.classList.add("active"),V.indent.childElementCount===0?V.indent.appendChild(ce):V.indent.insertBefore(ce,V.indent.firstElementChild),this.renderedIndentGuides.add(de,ce),Z.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(de,ce))),W=de}V.indentGuidesDisposable=Z}_onDidChangeActiveNodes(W){if(!this.shouldRenderIndentGuides)return;const V=new Set,Z=this.modelProvider();W.forEach(ie=>{const le=Z.getNodeLocation(ie);try{const he=Z.getParentNodeLocation(le);ie.collapsible&&ie.children.length>0&&!ie.collapsed?V.add(ie):he&&V.add(Z.getNode(he))}catch{}}),this.activeIndentNodes.forEach(ie=>{V.has(ie)||this.renderedIndentGuides.forEach(ie,le=>le.classList.remove("active"))}),V.forEach(ie=>{this.activeIndentNodes.has(ie)||this.renderedIndentGuides.forEach(ie,le=>le.classList.add("active"))}),this.activeIndentNodes=V}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}F.DefaultIndent=8;class M{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(W,V,Z){this.tree=W,this.keyboardNavigationLabelProvider=V,this._filter=Z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,W.onWillRefilter(this.reset,this,this.disposables)}filter(W,V){let Z=1;if(this._filter){const he=this._filter.filter(W,V);if(typeof he=="boolean"?Z=he?1:0:(0,s.isFilterResult)(he)?Z=(0,s.getVisibleState)(he.visibility):Z=he,Z===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:o.FuzzyScore.Default,visibility:Z};const ie=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W),le=Array.isArray(ie)?ie:[ie];for(const he of le){const de=he&&he.toString();if(typeof de>"u")return{data:o.FuzzyScore.Default,visibility:Z};let ce;if(this.tree.findMatchType===x.Contiguous){const ae=de.toLowerCase().indexOf(this._lowercasePattern);if(ae>-1){ce=[Number.MAX_SAFE_INTEGER,0];for(let J=this._lowercasePattern.length;J>0;J--)ce.push(ae+J-1)}}else ce=(0,o.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ce)return this._matchCount++,le.length===1?{data:ce,visibility:Z}:{data:{label:de,score:ce},visibility:Z}}return this.tree.findMode===P.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(W):2:{data:o.FuzzyScore.Default,visibility:Z}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class A extends C.Toggle{constructor(W){var V;super({icon:u.Codicon.listFilter,title:(0,f.localize)(0,null),isChecked:(V=W.isChecked)!==null&&V!==void 0?V:!1,inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.ModeToggle=A;class T extends C.Toggle{constructor(W){var V;super({icon:u.Codicon.searchFuzzy,title:(0,f.localize)(1,null),isChecked:(V=W.isChecked)!==null&&V!==void 0?V:!1,inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.FuzzyToggle=T;const O={inputBoxStyles:m.unthemedInboxStyles,toggleStyles:C.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var P;(function(U){U[U.Highlight=0]="Highlight",U[U.Filter=1]="Filter"})(P||(e.TreeFindMode=P={}));var x;(function(U){U[U.Fuzzy=0]="Fuzzy",U[U.Contiguous=1]="Contiguous"})(x||(e.TreeFindMatchType=x={}));class z extends d.Disposable{set mode(W){this.modeToggle.checked=W===P.Filter,this.findInput.inputBox.setPlaceHolder(W===P.Filter?(0,f.localize)(2,null):(0,f.localize)(3,null))}set matchType(W){this.matchTypeToggle.checked=W===x.Fuzzy}constructor(W,V,Z,ie,le,he){var de;super(),this.tree=V,this.elements=(0,L.h)(".monaco-tree-type-filter",[(0,L.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,L.h)(".monaco-tree-type-filter-input@findInput"),(0,L.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new c.Emitter,W.appendChild(this.elements.root),this._register((0,d.toDisposable)(()=>W.removeChild(this.elements.root)));const ce=(de=he?.styles)!==null&&de!==void 0?de:O;ce.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=ce.listFilterWidgetBackground),ce.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${ce.listFilterWidgetShadow}`),this.modeToggle=this._register(new A(Object.assign(Object.assign({},ce.toggleStyles),{isChecked:ie===P.Filter}))),this.matchTypeToggle=this._register(new T(Object.assign(Object.assign({},ce.toggleStyles),{isChecked:le===x.Fuzzy}))),this.onDidChangeMode=c.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?P.Filter:P.Highlight,this._store),this.onDidChangeMatchType=c.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?x.Fuzzy:x.Contiguous,this._store),this.findInput=this._register(new S.FindInput(this.elements.findInput,Z,{label:(0,f.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ce.inputBoxStyles,toggleStyles:ce.toggleStyles,history:he?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=ie;const ae=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),J=c.Event.chain(ae.event,j=>j.map(re=>new y.StandardKeyboardEvent(re)));this._register(J(j=>{if(j.equals(3)){j.preventDefault(),j.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(j.equals(18)){j.preventDefault(),j.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(j.equals(16)){j.preventDefault(),j.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const K=this._register(new i.Action("close",(0,f.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(K,{icon:!0,label:!1});const H=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(H.event(j=>{const re=new d.DisposableStore,se=re.add(new k.DomEmitter(window,"mousemove")),ue=re.add(new k.DomEmitter(window,"mouseup")),me=this.right,ve=j.pageX,Ce=this.top,we=j.pageY;this.elements.grab.classList.add("grabbing");const Le=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Ee=Ne=>{const Ae=Ne.pageX-ve;this.right=me-Ae;const Re=Ne.pageY-we;this.top=Ce+Re,this.layout()};re.add(se.event(Ee)),re.add(ue.event(Ne=>{Ee(Ne),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=Le,re.dispose()}))}));const Q=c.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,j=>j.map(re=>new y.StandardKeyboardEvent(re)));this._register(Q(j=>{let re,se;if(j.keyCode===15?re=Number.POSITIVE_INFINITY:j.keyCode===17?re=0:j.keyCode===10&&(re=this.right===0?Number.POSITIVE_INFINITY:0),j.keyCode===16?se=0:j.keyCode===18&&(se=Number.POSITIVE_INFINITY),re!==void 0&&(j.preventDefault(),j.stopPropagation(),this.right=re,this.layout()),se!==void 0){j.preventDefault(),j.stopPropagation(),this.top=se;const ue=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=ue},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(W=this.width){this.width=W,this.right=(0,r.clamp)(this.right,0,Math.max(0,W-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,r.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(W){this.findInput.showMessage(W)}clearMessage(){this.findInput.clearMessage()}dispose(){const W=Object.create(null,{dispose:{get:()=>super.dispose}});return Se(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,a.timeout)(300),W.dispose.call(this)})}}class q{get pattern(){return this._pattern}get mode(){return this._mode}set mode(W){W!==this._mode&&(this._mode=W,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(W))}get matchType(){return this._matchType}set matchType(W){W!==this._matchType&&(this._matchType=W,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(W))}constructor(W,V,Z,ie,le,he={}){var de,ce;this.tree=W,this.view=Z,this.filter=ie,this.contextViewProvider=le,this.options=he,this._pattern="",this.width=0,this._onDidChangeMode=new c.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new c.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new c.Emitter,this._onDidChangeOpenState=new c.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this._mode=(de=W.options.defaultFindMode)!==null&&de!==void 0?de:P.Highlight,this._matchType=(ce=W.options.defaultFindMatchType)!==null&&ce!==void 0?ce:x.Fuzzy,V.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(W={}){W.defaultFindMode!==void 0&&(this.mode=W.defaultFindMode),W.defaultFindMatchType!==void 0&&(this.matchType=W.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var W,V,Z,ie;const le=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&le?!((W=this.tree.options.showNotFoundMessage)!==null&&W!==void 0)||W?(V=this.widget)===null||V===void 0||V.showMessage({type:2,content:(0,f.localize)(6,null)}):(Z=this.widget)===null||Z===void 0||Z.showMessage({type:2}):(ie=this.widget)===null||ie===void 0||ie.clearMessage()}shouldAllowFocus(W){return!this.widget||!this.pattern||this._mode===P.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!o.FuzzyScore.isDefault(W.filterData)}layout(W){var V;this.width=W,(V=this.widget)===null||V===void 0||V.layout(W)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function B(U){let W=n.TreeMouseEventTarget.Unknown;return(0,L.hasParentWithClass)(U.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?W=n.TreeMouseEventTarget.Twistie:(0,L.hasParentWithClass)(U.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?W=n.TreeMouseEventTarget.Element:(0,L.hasParentWithClass)(U.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(W=n.TreeMouseEventTarget.Filter),{browserEvent:U.browserEvent,element:U.element?U.element.element:null,target:W}}function $(U,W){W(U),U.children.forEach(V=>$(V,W))}class X{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(W,V){this.getFirstViewElementWithTrait=W,this.identityProvider=V,this.nodes=[],this._onDidChange=new c.Emitter,this.onDidChange=this._onDidChange.event}set(W,V){!V?.__forceEvent&&(0,t.equals)(this.nodes,W)||this._set(W,!1,V)}_set(W,V,Z){if(this.nodes=[...W],this.elements=void 0,this._nodeSet=void 0,!V){const ie=this;this._onDidChange.fire({get elements(){return ie.get()},browserEvent:Z})}}get(){return this.elements||(this.elements=this.nodes.map(W=>W.element)),[...this.elements]}getNodes(){return this.nodes}has(W){return this.nodeSet.has(W)}onDidModelSplice({insertedNodes:W,deletedNodes:V}){if(!this.identityProvider){const ce=this.createNodeSet(),ae=J=>ce.delete(J);V.forEach(J=>$(J,ae)),this.set([...ce.values()]);return}const Z=new Set,ie=ce=>Z.add(this.identityProvider.getId(ce.element).toString());V.forEach(ce=>$(ce,ie));const le=new Map,he=ce=>le.set(this.identityProvider.getId(ce.element).toString(),ce);W.forEach(ce=>$(ce,he));const de=[];for(const ce of this.nodes){const ae=this.identityProvider.getId(ce.element).toString();if(!Z.has(ae))de.push(ce);else{const K=le.get(ae);K&&K.visible&&de.push(K)}}if(this.nodes.length>0&&de.length===0){const ce=this.getFirstViewElementWithTrait();ce&&de.push(ce)}this._set(de,!0)}createNodeSet(){const W=new Set;for(const V of this.nodes)W.add(V);return W}}class ne extends v.MouseController{constructor(W,V){super(W),this.tree=V}onViewPointer(W){if((0,v.isButton)(W.browserEvent.target)||(0,v.isInputElement)(W.browserEvent.target)||(0,v.isMonacoEditor)(W.browserEvent.target)||W.browserEvent.isHandledByList)return;const V=W.element;if(!V)return super.onViewPointer(W);if(this.isSelectionRangeChangeEvent(W)||this.isSelectionSingleChangeEvent(W))return super.onViewPointer(W);const Z=W.browserEvent.target,ie=Z.classList.contains("monaco-tl-twistie")||Z.classList.contains("monaco-icon-label")&&Z.classList.contains("folder-icon")&&W.browserEvent.offsetX<16;let le=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?le=this.tree.expandOnlyOnTwistieClick(V.element):le=!!this.tree.expandOnlyOnTwistieClick,le&&!ie&&W.browserEvent.detail!==2)return super.onViewPointer(W);if(!this.tree.expandOnDoubleClick&&W.browserEvent.detail===2)return super.onViewPointer(W);if(V.collapsible){const he=this.tree.getNodeLocation(V),de=W.browserEvent.altKey;if(this.tree.setFocus([he]),this.tree.toggleCollapsed(he,de),le&&ie){W.browserEvent.isHandledByList=!0;return}}super.onViewPointer(W)}onDoubleClick(W){W.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||W.browserEvent.isHandledByList||super.onDoubleClick(W)}}class oe extends v.List{constructor(W,V,Z,ie,le,he,de,ce){super(W,V,Z,ie,ce),this.focusTrait=le,this.selectionTrait=he,this.anchorTrait=de}createMouseController(W){return new ne(this,W.tree)}splice(W,V,Z=[]){if(super.splice(W,V,Z),Z.length===0)return;const ie=[],le=[];let he;Z.forEach((de,ce)=>{this.focusTrait.has(de)&&ie.push(W+ce),this.selectionTrait.has(de)&&le.push(W+ce),this.anchorTrait.has(de)&&(he=W+ce)}),ie.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...ie])),le.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...le])),typeof he=="number"&&super.setAnchor(he)}setFocus(W,V,Z=!1){super.setFocus(W,V),Z||this.focusTrait.set(W.map(ie=>this.element(ie)),V)}setSelection(W,V,Z=!1){super.setSelection(W,V),Z||this.selectionTrait.set(W.map(ie=>this.element(ie)),V)}setAnchor(W,V=!1){super.setAnchor(W),V||(typeof W>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(W)]))}}class Y{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return c.Event.filter(c.Event.map(this.view.onMouseDblClick,B),W=>W.target!==n.TreeMouseEventTarget.Filter)}get onPointer(){return c.Event.map(this.view.onPointer,B)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return c.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var W,V;return(V=(W=this.findController)===null||W===void 0?void 0:W.mode)!==null&&V!==void 0?V:P.Highlight}set findMode(W){this.findController&&(this.findController.mode=W)}get findMatchType(){var W,V;return(V=(W=this.findController)===null||W===void 0?void 0:W.matchType)!==null&&V!==void 0?V:x.Fuzzy}set findMatchType(W){this.findController&&(this.findController.matchType=W)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(W,V,Z,ie,le={}){var he;this._user=W,this._options=le,this.eventBufferer=new c.EventBufferer,this.onDidChangeFindOpenState=c.Event.None,this.disposables=new d.DisposableStore,this._onWillRefilter=new c.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new c.Emitter;const de=new I(Z),ce=new c.Relay,ae=new c.Relay,J=this.disposables.add(new R(ae.event)),K=new l.SetMap;this.renderers=ie.map(se=>new F(se,()=>this.model,ce.event,J,K,le));for(const se of this.renderers)this.disposables.add(se);let H;le.keyboardNavigationLabelProvider&&(H=new M(this,le.keyboardNavigationLabelProvider,le.filter),le=Object.assign(Object.assign({},le),{filter:H}),this.disposables.add(H)),this.focus=new X(()=>this.view.getFocusedElements()[0],le.identityProvider),this.selection=new X(()=>this.view.getSelectedElements()[0],le.identityProvider),this.anchor=new X(()=>this.view.getAnchorElement(),le.identityProvider),this.view=new oe(W,V,de,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},E(()=>this.model,le)),{tree:this})),this.model=this.createModel(W,this.view,le),ce.input=this.model.onDidChangeCollapseState;const Q=c.Event.forEach(this.model.onDidSplice,se=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(se),this.selection.onDidModelSplice(se)})},this.disposables);Q(()=>null,null,this.disposables);const j=this.disposables.add(new c.Emitter),re=this.disposables.add(new a.Delayer(0));if(this.disposables.add(c.Event.any(Q,this.focus.onDidChange,this.selection.onDidChange)(()=>{re.trigger(()=>{const se=new Set;for(const ue of this.focus.getNodes())se.add(ue);for(const ue of this.selection.getNodes())se.add(ue);j.fire([...se.values()])})})),ae.input=j.event,le.keyboardSupport!==!1){const se=c.Event.chain(this.view.onKeyDown,ue=>ue.filter(me=>!(0,v.isInputElement)(me.target)).map(me=>new y.StandardKeyboardEvent(me)));c.Event.chain(se,ue=>ue.filter(me=>me.keyCode===15))(this.onLeftArrow,this,this.disposables),c.Event.chain(se,ue=>ue.filter(me=>me.keyCode===17))(this.onRightArrow,this,this.disposables),c.Event.chain(se,ue=>ue.filter(me=>me.keyCode===10))(this.onSpace,this,this.disposables)}if((!((he=le.findWidgetEnabled)!==null&&he!==void 0)||he)&&le.keyboardNavigationLabelProvider&&le.contextViewProvider){const se=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new q(this,this.model,this.view,H,le.contextViewProvider,se),this.focusNavigationFilter=ue=>this.findController.shouldAllowFocus(ue),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=c.Event.None,this.onDidChangeFindMatchType=c.Event.None;this.styleElement=(0,L.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===N.Always)}updateOptions(W={}){var V;this._options=Object.assign(Object.assign({},this._options),W);for(const Z of this.renderers)Z.updateOptions(W);this.view.updateOptions(this._options),(V=this.findController)===null||V===void 0||V.updateOptions(W),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===N.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(W){this.view.scrollTop=W}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(W,V){var Z;this.view.layout(W,V),(0,g.isNumber)(V)&&((Z=this.findController)===null||Z===void 0||Z.layout(V))}style(W){const V=`.${this.view.domId}`,Z=[];W.treeIndentGuidesStroke&&(Z.push(`.monaco-list${V}:hover .monaco-tl-indent > .indent-guide, .monaco-list${V}.always .monaco-tl-indent > .indent-guide  { border-color: ${W.treeInactiveIndentGuidesStroke}; }`),Z.push(`.monaco-list${V} .monaco-tl-indent > .indent-guide.active { border-color: ${W.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Z.join(`
`),this.view.style(W)}getParentElement(W){const V=this.model.getParentNodeLocation(W);return this.model.getNode(V).element}getFirstElementChild(W){return this.model.getFirstElementChild(W)}getNode(W){return this.model.getNode(W)}getNodeLocation(W){return this.model.getNodeLocation(W)}collapse(W,V=!1){return this.model.setCollapsed(W,!0,V)}expand(W,V=!1){return this.model.setCollapsed(W,!1,V)}toggleCollapsed(W,V=!1){return this.model.setCollapsed(W,void 0,V)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,V){return this.model.setCollapsible(W,V)}isCollapsed(W){return this.model.isCollapsed(W)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(W,V){const Z=W.map(le=>this.model.getNode(le));this.selection.set(Z,V);const ie=W.map(le=>this.model.getListIndex(le)).filter(le=>le>-1);this.view.setSelection(ie,V,!0)}getSelection(){return this.selection.get()}setFocus(W,V){const Z=W.map(le=>this.model.getNode(le));this.focus.set(Z,V);const ie=W.map(le=>this.model.getListIndex(le)).filter(le=>le>-1);this.view.setFocus(ie,V,!0)}getFocus(){return this.focus.get()}reveal(W,V){this.model.expandTo(W);const Z=this.model.getListIndex(W);Z!==-1&&this.view.reveal(Z,V)}onLeftArrow(W){W.preventDefault(),W.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Z=V[0],ie=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ie,!0)){const he=this.model.getParentNodeLocation(ie);if(!he)return;const de=this.model.getListIndex(he);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(W){W.preventDefault(),W.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Z=V[0],ie=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ie,!1)){if(!Z.children.some(ce=>ce.visible))return;const[he]=this.view.getFocus(),de=he+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(W){W.preventDefault(),W.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Z=V[0],ie=this.model.getNodeLocation(Z),le=W.browserEvent.altKey;this.model.setCollapsed(ie,void 0,le)}dispose(){(0,d.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=Y}),define(ee[586],te([1,0,183,220]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class y extends L.AbstractTree{constructor(S,m,_,v,C,s={}){super(S,m,_,v,s),this.user=S,this.dataSource=C,this.identityProvider=s.identityProvider}createModel(S,m,_){return new k.ObjectTreeModel(S,m,_)}}e.DataTree=y}),define(ee[320],te([1,0,183,569,220,106,47]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends L.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(n,i,t,a,u={}){super(n,i,t,a,u),this.user=n}setChildren(n,i=S.Iterable.empty(),t){this.model.setChildren(n,i,t)}rerender(n){if(n===void 0){this.view.rerender();return}this.model.rerender(n)}hasElement(n){return this.model.has(n)}createModel(n,i,t){return new y.ObjectTreeModel(n,i,t)}}e.ObjectTree=m;class _{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(n,i){this._compressedTreeNodeProvider=n,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(n){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(n)}}renderElement(n,i,t,a){const u=this.compressedTreeNodeProvider.getCompressedTreeNode(n.element);u.element.elements.length===1?(t.compressedTreeNode=void 0,this.renderer.renderElement(n,i,t.data,a)):(t.compressedTreeNode=u,this.renderer.renderCompressedElements(u,i,t.data,a))}disposeElement(n,i,t,a){var u,h,l,c;t.compressedTreeNode?(h=(u=this.renderer).disposeCompressedElements)===null||h===void 0||h.call(u,t.compressedTreeNode,i,t.data,a):(c=(l=this.renderer).disposeElement)===null||c===void 0||c.call(l,n,i,t.data,a)}disposeTemplate(n){this.renderer.disposeTemplate(n.data)}renderTwistie(n,i){return this.renderer.renderTwistie?this.renderer.renderTwistie(n,i):!1}}Ie([D.memoize],_.prototype,"compressedTreeNodeProvider",null);function v(s,n){return n&&Object.assign(Object.assign({},n),{keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let t;try{t=s().getCompressedTreeNode(i)}catch{return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return t.element.elements.length===1?n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.element.elements)}}})}class C extends m{constructor(n,i,t,a,u={}){const h=()=>this,l=a.map(c=>new _(h,c));super(n,i,t,l,v(h,u))}setChildren(n,i=S.Iterable.empty(),t){this.model.setChildren(n,i,t)}createModel(n,i,t){return new k.CompressibleObjectTreeModel(n,i,t)}updateOptions(n={}){super.updateOptions(n),typeof n.compressionEnabled<"u"&&this.model.setCompressionEnabled(n.compressionEnabled)}getCompressedTreeNode(n=null){return this.model.getCompressedTreeNode(n)}}e.CompressibleObjectTree=C}),define(ee[587],te([1,0,226,183,219,320,137,13,26,27,9,6,47,2,20]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function a(M){return Object.assign(Object.assign({},M),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function u(M,A){return A.parent?A.parent===M?!0:u(M,A.parent):!1}function h(M,A){return M===A||u(M,A)||u(A,M)}class l{get element(){return this.node.element.element}get children(){return this.node.children.map(A=>new l(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A){this.node=A}}class c{constructor(A,T,O){this.renderer=A,this.nodeMapper=T,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,T,O,P){this.renderer.renderElement(this.nodeMapper.map(A),T,O.templateData,P)}renderTwistie(A,T){return A.slow?(T.classList.add(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(T.classList.remove(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(A,T,O,P){var x,z;(z=(x=this.renderer).disposeElement)===null||z===void 0||z.call(x,this.nodeMapper.map(A),T,O.templateData,P)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear()}}function o(M){return{browserEvent:M.browserEvent,elements:M.elements.map(A=>A.element)}}function d(M){return{browserEvent:M.browserEvent,element:M.element&&M.element.element,target:M.target}}class r extends L.ElementsDragAndDropData{constructor(A){super(A.elements.map(T=>T.element)),this.data=A}}function g(M){return M instanceof L.ElementsDragAndDropData?new r(M):M}class f{constructor(A){this.dnd=A}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,T){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(O=>O.element),T)}onDragStart(A,T){var O,P;(P=(O=this.dnd).onDragStart)===null||P===void 0||P.call(O,g(A),T)}onDragOver(A,T,O,P,x=!0){return this.dnd.onDragOver(g(A),T&&T.element,O,P)}drop(A,T,O,P){this.dnd.drop(g(A),T&&T.element,O,P)}onDragEnd(A){var T,O;(O=(T=this.dnd).onDragEnd)===null||O===void 0||O.call(T,A)}}function p(M){return M&&Object.assign(Object.assign({},M),{collapseByDefault:!0,identityProvider:M.identityProvider&&{getId(A){return M.identityProvider.getId(A.element)}},dnd:M.dnd&&new f(M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent(A){return M.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))},isSelectionRangeChangeEvent(A){return M.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))}},accessibilityProvider:M.accessibilityProvider&&Object.assign(Object.assign({},M.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:M.accessibilityProvider.getRole?A=>M.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:M.accessibilityProvider.isChecked?A=>{var T;return!!(!((T=M.accessibilityProvider)===null||T===void 0)&&T.isChecked(A.element))}:void 0,getAriaLabel(A){return M.accessibilityProvider.getAriaLabel(A.element)},getWidgetAriaLabel(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider.getWidgetRole?()=>M.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:M.accessibilityProvider.getAriaLevel&&(A=>M.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&(A=>M.accessibilityProvider.getActiveDescendantId(A.element))}),filter:M.filter&&{filter(A,T){return M.filter.filter(A.element,T)}},keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(A){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof M.expandOnlyOnTwistieClick>"u"?void 0:typeof M.expandOnlyOnTwistieClick!="function"?M.expandOnlyOnTwistieClick:A=>M.expandOnlyOnTwistieClick(A.element),defaultFindVisibility:A=>A.hasChildren&&A.stale?1:typeof M.defaultFindVisibility=="number"?M.defaultFindVisibility:typeof M.defaultFindVisibility>"u"?2:M.defaultFindVisibility(A.element)})}function b(M,A){A(M),M.children.forEach(T=>b(T,A))}class w{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return s.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return s.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return s.Event.map(this.tree.onMouseDblClick,d)}get onPointer(){return s.Event.map(this.tree.onPointer,d)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(A,T,O,P,x,z={}){this.user=A,this.dataSource=x,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new s.Emitter,this._onDidChangeNodeSlowState=new s.Emitter,this.nodeMapper=new S.WeakMapper(q=>new l(q)),this.disposables=new i.DisposableStore,this.identityProvider=z.identityProvider,this.autoExpandSingleChildren=typeof z.autoExpandSingleChildren>"u"?!1:z.autoExpandSingleChildren,this.sorter=z.sorter,this.collapseByDefault=z.collapseByDefault,this.tree=this.createTree(A,T,O,P,z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=a({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(A,T,O,P,x){const z=new k.ComposedTreeDelegate(O),q=P.map($=>new c($,this.nodeMapper,this._onDidChangeNodeSlowState.event)),B=p(x)||{};return new D.ObjectTree(A,T,z,q,B)}updateOptions(A={}){this.tree.updateOptions(A)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(A){this.tree.scrollTop=A}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(A,T){this.tree.layout(A,T)}style(A){this.tree.style(A)}getInput(){return this.root.element}setInput(A,T){return Se(this,void 0,void 0,function*(){this.refreshPromises.forEach(P=>P.cancel()),this.refreshPromises.clear(),this.root.element=A;const O=T&&{viewState:T,focus:[],selection:[]};yield this._updateChildren(A,!0,!1,O),O&&(this.tree.setFocus(O.focus),this.tree.setSelection(O.selection)),T&&typeof T.scrollTop=="number"&&(this.scrollTop=T.scrollTop)})}_updateChildren(A=this.root.element,T=!0,O=!1,P,x){return Se(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const z=this.getDataNode(A);if(yield this.refreshAndRenderNode(z,T,P,x),O)try{this.tree.rerender(z)}catch{}})}rerender(A){if(A===void 0||A===this.root.element){this.tree.rerender();return}const T=this.getDataNode(A);this.tree.rerender(T)}getNode(A=this.root.element){const T=this.getDataNode(A),O=this.tree.getNode(T===this.root?null:T);return this.nodeMapper.map(O)}collapse(A,T=!1){const O=this.getDataNode(A);return this.tree.collapse(O===this.root?null:O,T)}expand(A,T=!1){return Se(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const O=this.getDataNode(A);if(this.tree.hasElement(O)&&!this.tree.isCollapsible(O)||(O.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),O!==this.root&&!O.refreshPromise&&!this.tree.isCollapsed(O)))return!1;const P=this.tree.expand(O===this.root?null:O,T);return O.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),P})}setSelection(A,T){const O=A.map(P=>this.getDataNode(P));this.tree.setSelection(O,T)}getSelection(){return this.tree.getSelection().map(T=>T.element)}setFocus(A,T){const O=A.map(P=>this.getDataNode(P));this.tree.setFocus(O,T)}getFocus(){return this.tree.getFocus().map(T=>T.element)}reveal(A,T){this.tree.reveal(this.getDataNode(A),T)}getParentElement(A){const T=this.tree.getParentElement(this.getDataNode(A));return T&&T.element}getFirstElementChild(A=this.root.element){const T=this.getDataNode(A),O=this.tree.getFirstElementChild(T===this.root?null:T);return O&&O.element}getDataNode(A){const T=this.nodes.get(A===this.root.element?null:A);if(!T)throw new S.TreeError(this.user,`Data tree node not found: ${A}`);return T}refreshAndRenderNode(A,T,O,P){return Se(this,void 0,void 0,function*(){yield this.refreshNode(A,T,O),this.render(A,O,P)})}refreshNode(A,T,O){return Se(this,void 0,void 0,function*(){let P;if(this.subTreeRefreshPromises.forEach((x,z)=>{!P&&h(z,A)&&(P=x.then(()=>this.refreshNode(A,T,O)))}),P)return P;if(A!==this.root&&this.tree.getNode(A).collapsed){A.hasChildren=!!this.dataSource.hasChildren(A.element),A.stale=!0;return}return this.doRefreshSubTree(A,T,O)})}doRefreshSubTree(A,T,O){return Se(this,void 0,void 0,function*(){let P;A.refreshPromise=new Promise(x=>P=x),this.subTreeRefreshPromises.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.subTreeRefreshPromises.delete(A)});try{const x=yield this.doRefreshNode(A,T,O);A.stale=!1,yield m.Promises.settled(x.map(z=>this.doRefreshSubTree(z,T,O)))}finally{P()}})}doRefreshNode(A,T,O){return Se(this,void 0,void 0,function*(){A.hasChildren=!!this.dataSource.hasChildren(A.element);let P;if(!A.hasChildren)P=Promise.resolve(n.Iterable.empty());else{const x=this.doGetChildren(A);if((0,t.isIterable)(x))P=Promise.resolve(x);else{const z=(0,m.timeout)(800);z.then(()=>{A.slow=!0,this._onDidChangeNodeSlowState.fire(A)},q=>null),P=x.finally(()=>z.cancel())}}try{const x=yield P;return this.setChildren(A,x,T,O)}catch(x){if(A!==this.root&&this.tree.hasElement(A)&&this.tree.collapse(A),(0,C.isCancellationError)(x))return[];throw x}finally{A.slow&&(A.slow=!1,this._onDidChangeNodeSlowState.fire(A))}})}doGetChildren(A){let T=this.refreshPromises.get(A);if(T)return T;const O=this.dataSource.getChildren(A.element);return(0,t.isIterable)(O)?this.processChildren(O):(T=(0,m.createCancelablePromise)(()=>Se(this,void 0,void 0,function*(){return this.processChildren(yield O)})),this.refreshPromises.set(A,T),T.finally(()=>{this.refreshPromises.delete(A)}))}_onDidChangeCollapseState({node:A,deep:T}){A.element!==null&&!A.collapsed&&A.element.stale&&(T?this.collapse(A.element.element):this.refreshAndRenderNode(A.element,!1).catch(C.onUnexpectedError))}setChildren(A,T,O,P){const x=[...T];if(A.children.length===0&&x.length===0)return[];const z=new Map,q=new Map;for(const X of A.children)if(z.set(X.element,X),this.identityProvider){const ne=this.tree.isCollapsed(X);q.set(X.id,{node:X,collapsed:ne})}const B=[],$=x.map(X=>{const ne=!!this.dataSource.hasChildren(X);if(!this.identityProvider){const W=a({element:X,parent:A,hasChildren:ne});return ne&&this.collapseByDefault&&!this.collapseByDefault(X)&&(W.collapsedByDefault=!1,B.push(W)),W}const oe=this.identityProvider.getId(X).toString(),Y=q.get(oe);if(Y){const W=Y.node;return z.delete(W.element),this.nodes.delete(W.element),this.nodes.set(X,W),W.element=X,W.hasChildren=ne,O?Y.collapsed?(W.children.forEach(V=>b(V,Z=>this.nodes.delete(Z.element))),W.children.splice(0,W.children.length),W.stale=!0):B.push(W):ne&&this.collapseByDefault&&!this.collapseByDefault(X)&&(W.collapsedByDefault=!1,B.push(W)),W}const U=a({element:X,parent:A,id:oe,hasChildren:ne});return P&&P.viewState.focus&&P.viewState.focus.indexOf(oe)>-1&&P.focus.push(U),P&&P.viewState.selection&&P.viewState.selection.indexOf(oe)>-1&&P.selection.push(U),P&&P.viewState.expanded&&P.viewState.expanded.indexOf(oe)>-1?B.push(U):ne&&this.collapseByDefault&&!this.collapseByDefault(X)&&(U.collapsedByDefault=!1,B.push(U)),U});for(const X of z.values())b(X,ne=>this.nodes.delete(ne.element));for(const X of $)this.nodes.set(X.element,X);return A.children.splice(0,A.children.length,...$),A!==this.root&&this.autoExpandSingleChildren&&$.length===1&&B.length===0&&($[0].collapsedByDefault=!1,B.push($[0])),B}render(A,T,O){const P=A.children.map(z=>this.asTreeElement(z,T)),x=O&&Object.assign(Object.assign({},O),{diffIdentityProvider:O.diffIdentityProvider&&{getId(z){return O.diffIdentityProvider.getId(z.element)}}});this.tree.setChildren(A===this.root?null:A,P,x),A!==this.root&&this.tree.setCollapsible(A,A.hasChildren),this._onDidRender.fire()}asTreeElement(A,T){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let O;return T&&T.viewState.expanded&&A.id&&T.viewState.expanded.indexOf(A.id)>-1?O=!1:O=A.collapsedByDefault,A.collapsedByDefault=void 0,{element:A,children:A.hasChildren?n.Iterable.map(A.children,P=>this.asTreeElement(P,T)):[],collapsible:A.hasChildren,collapsed:O}}processChildren(A){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),A}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=w;class E{get element(){return{elements:this.node.element.elements.map(A=>A.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(A=>new E(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A){this.node=A}}class I{constructor(A,T,O,P){this.renderer=A,this.nodeMapper=T,this.compressibleNodeMapperProvider=O,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.disposables=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,T,O,P){this.renderer.renderElement(this.nodeMapper.map(A),T,O.templateData,P)}renderCompressedElements(A,T,O,P){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(A),T,O.templateData,P)}renderTwistie(A,T){return A.slow?(T.classList.add(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(T.classList.remove(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(A,T,O,P){var x,z;(z=(x=this.renderer).disposeElement)===null||z===void 0||z.call(x,this.nodeMapper.map(A),T,O.templateData,P)}disposeCompressedElements(A,T,O,P){var x,z;(z=(x=this.renderer).disposeCompressedElements)===null||z===void 0||z.call(x,this.compressibleNodeMapperProvider().map(A),T,O.templateData,P)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function N(M){const A=M&&p(M);return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(T){return M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(T.map(O=>O.element))}})})}class R extends w{constructor(A,T,O,P,x,z,q={}){super(A,T,O,x,z,q),this.compressionDelegate=P,this.compressibleNodeMapper=new S.WeakMapper(B=>new E(B)),this.filter=q.filter}createTree(A,T,O,P,x){const z=new k.ComposedTreeDelegate(O),q=P.map($=>new I($,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),B=N(x)||{};return new D.CompressibleObjectTree(A,T,z,q,B)}asTreeElement(A,T){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(A.element)},super.asTreeElement(A,T))}updateOptions(A={}){this.tree.updateOptions(A)}render(A,T){if(!this.identityProvider)return super.render(A,T);const O=oe=>this.identityProvider.getId(oe).toString(),P=oe=>{const Y=new Set;for(const U of oe){const W=this.tree.getCompressedTreeNode(U===this.root?null:U);if(W.element)for(const V of W.element.elements)Y.add(O(V.element))}return Y},x=P(this.tree.getSelection()),z=P(this.tree.getFocus());super.render(A,T);const q=this.getSelection();let B=!1;const $=this.getFocus();let X=!1;const ne=oe=>{const Y=oe.element;if(Y)for(let U=0;U<Y.elements.length;U++){const W=O(Y.elements[U].element),V=Y.elements[Y.elements.length-1].element;x.has(W)&&q.indexOf(V)===-1&&(q.push(V),B=!0),z.has(W)&&$.indexOf(V)===-1&&($.push(V),X=!0)}oe.children.forEach(ne)};ne(this.tree.getCompressedTreeNode(A===this.root?null:A)),B&&this.setSelection(q),X&&this.setFocus($)}processChildren(A){return this.filter&&(A=n.Iterable.filter(A,T=>{const O=this.filter.filter(T,1),P=F(O);if(P===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return P===1})),super.processChildren(A)}}e.CompressibleAsyncDataTree=R;function F(M){return typeof M=="boolean"?M?1:0:(0,y.isFilterResult)(M)?(0,y.getVisibleState)(M.visibility):(0,y.getVisibleState)(M)}}),define(ee[321],te([1,0,9,6,2,52,17,10]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const _="$initialize";let v=!1;function C(g){S.isWeb&&(v||(v=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(g.message))}e.logOnceWebWorkerWarning=C;class s{constructor(f,p,b,w){this.vsWorker=f,this.req=p,this.method=b,this.args=w,this.type=0}}class n{constructor(f,p,b,w){this.vsWorker=f,this.seq=p,this.res=b,this.err=w,this.type=1}}class i{constructor(f,p,b,w){this.vsWorker=f,this.req=p,this.eventName=b,this.arg=w,this.type=2}}class t{constructor(f,p,b){this.vsWorker=f,this.req=p,this.event=b,this.type=3}}class a{constructor(f,p){this.vsWorker=f,this.req=p,this.type=4}}class u{constructor(f){this._workerId=-1,this._handler=f,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(f){this._workerId=f}sendMessage(f,p){const b=String(++this._lastSentReq);return new Promise((w,E)=>{this._pendingReplies[b]={resolve:w,reject:E},this._send(new s(this._workerId,b,f,p))})}listen(f,p){let b=null;const w=new k.Emitter({onWillAddFirstListener:()=>{b=String(++this._lastSentReq),this._pendingEmitters.set(b,w),this._send(new i(this._workerId,b,f,p))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(b),this._send(new a(this._workerId,b)),b=null}});return w.event}handleMessage(f){!f||!f.vsWorker||this._workerId!==-1&&f.vsWorker!==this._workerId||this._handleMessage(f)}_handleMessage(f){switch(f.type){case 1:return this._handleReplyMessage(f);case 0:return this._handleRequestMessage(f);case 2:return this._handleSubscribeEventMessage(f);case 3:return this._handleEventMessage(f);case 4:return this._handleUnsubscribeEventMessage(f)}}_handleReplyMessage(f){if(!this._pendingReplies[f.seq]){console.warn("Got reply to unknown seq");return}const p=this._pendingReplies[f.seq];if(delete this._pendingReplies[f.seq],f.err){let b=f.err;f.err.$isError&&(b=new Error,b.name=f.err.name,b.message=f.err.message,b.stack=f.err.stack),p.reject(b);return}p.resolve(f.res)}_handleRequestMessage(f){const p=f.req;this._handler.handleMessage(f.method,f.args).then(w=>{this._send(new n(this._workerId,p,w,void 0))},w=>{w.detail instanceof Error&&(w.detail=(0,L.transformErrorForSerialization)(w.detail)),this._send(new n(this._workerId,p,void 0,(0,L.transformErrorForSerialization)(w)))})}_handleSubscribeEventMessage(f){const p=f.req,b=this._handler.handleEvent(f.eventName,f.arg)(w=>{this._send(new t(this._workerId,p,w))});this._pendingEvents.set(p,b)}_handleEventMessage(f){if(!this._pendingEmitters.has(f.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(f.req).fire(f.event)}_handleUnsubscribeEventMessage(f){if(!this._pendingEvents.has(f.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(f.req).dispose(),this._pendingEvents.delete(f.req)}_send(f){const p=[];if(f.type===0)for(let b=0;b<f.args.length;b++)f.args[b]instanceof ArrayBuffer&&p.push(f.args[b]);else f.type===1&&f.res instanceof ArrayBuffer&&p.push(f.res);this._handler.sendMessage(f,p)}}class h extends y.Disposable{constructor(f,p,b){super();let w=null;this._worker=this._register(f.create("vs/base/common/worker/simpleWorker",M=>{this._protocol.handleMessage(M)},M=>{w?.(M)})),this._protocol=new u({sendMessage:(M,A)=>{this._worker.postMessage(M,A)},handleMessage:(M,A)=>{if(typeof b[M]!="function")return Promise.reject(new Error("Missing method "+M+" on main thread host."));try{return Promise.resolve(b[M].apply(b,A))}catch(T){return Promise.reject(T)}},handleEvent:(M,A)=>{if(c(M)){const T=b[M].call(b,A);if(typeof T!="function")throw new Error(`Missing dynamic event ${M} on main thread host.`);return T}if(l(M)){const T=b[M];if(typeof T!="function")throw new Error(`Missing event ${M} on main thread host.`);return T}throw new Error(`Malformed event name ${M}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?E=I.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const N=(0,D.getAllMethodNames)(b);this._onModuleLoaded=this._protocol.sendMessage(_,[this._worker.getId(),JSON.parse(JSON.stringify(E)),p,N]);const R=(M,A)=>this._request(M,A),F=(M,A)=>this._protocol.listen(M,A);this._lazyProxy=new Promise((M,A)=>{w=A,this._onModuleLoaded.then(T=>{M(o(T,R,F))},T=>{A(T),this._onError("Worker failed to load "+p,T)})})}getProxyObject(){return this._lazyProxy}_request(f,p){return new Promise((b,w)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(f,p).then(b,w)},w)})}_onError(f,p){console.error(f),console.info(p)}}e.SimpleWorkerClient=h;function l(g){return g[0]==="o"&&g[1]==="n"&&m.isUpperAsciiLetter(g.charCodeAt(2))}function c(g){return/^onDynamic/.test(g)&&m.isUpperAsciiLetter(g.charCodeAt(9))}function o(g,f,p){const b=I=>function(){const N=Array.prototype.slice.call(arguments,0);return f(I,N)},w=I=>function(N){return p(I,N)},E={};for(const I of g){if(c(I)){E[I]=w(I);continue}if(l(I)){E[I]=p(I,void 0);continue}E[I]=b(I)}return E}class d{constructor(f,p){this._requestHandlerFactory=p,this._requestHandler=null,this._protocol=new u({sendMessage:(b,w)=>{f(b,w)},handleMessage:(b,w)=>this._handleMessage(b,w),handleEvent:(b,w)=>this._handleEvent(b,w)})}onmessage(f){this._protocol.handleMessage(f)}_handleMessage(f,p){if(f===_)return this.initialize(p[0],p[1],p[2],p[3]);if(!this._requestHandler||typeof this._requestHandler[f]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+f));try{return Promise.resolve(this._requestHandler[f].apply(this._requestHandler,p))}catch(b){return Promise.reject(b)}}_handleEvent(f,p){if(!this._requestHandler)throw new Error("Missing requestHandler");if(c(f)){const b=this._requestHandler[f].call(this._requestHandler,p);if(typeof b!="function")throw new Error(`Missing dynamic event ${f} on request handler.`);return b}if(l(f)){const b=this._requestHandler[f];if(typeof b!="function")throw new Error(`Missing event ${f} on request handler.`);return b}throw new Error(`Malformed event name ${f}`)}initialize(f,p,b,w){this._protocol.setWorkerId(f);const N=o(w,(R,F)=>this._protocol.sendMessage(R,F),(R,F)=>this._protocol.listen(R,F));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(N),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(p&&(typeof p.baseUrl<"u"&&delete p.baseUrl,typeof p.paths<"u"&&typeof p.paths.vs<"u"&&delete p.paths.vs,typeof p.trustedTypesPolicy!==void 0&&delete p.trustedTypesPolicy,p.catchError=!0,globalThis.require.config(p)),new Promise((R,F)=>{(globalThis.require||G)([b],A=>{if(this._requestHandler=A.create(N),!this._requestHandler){F(new Error("No RequestHandler!"));return}R((0,D.getAllMethodNames)(this._requestHandler))},F)}))}}e.SimpleWorkerServer=d;function r(g){return new d(g,null)}e.create=r}),define(ee[588],te([1,0,89,9,54,321]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const S=(0,L.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:n=>n});function m(n){const i=globalThis.MonacoEnvironment;if(i){if(typeof i.getWorker=="function")return i.getWorker("workerMain.js",n);if(typeof i.getWorkerUrl=="function"){const t=i.getWorkerUrl("workerMain.js",n);return new Worker(S?S.createScriptURL(t):t,{name:n})}}if(typeof G=="function"){const t=G.toUrl("vs/base/worker/workerMain.js"),a=_(t,n);return new Worker(S?S.createScriptURL(a):a,{name:n})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(n,i){if(/^((http:)|(https:)|(file:))/.test(n)&&n.substring(0,globalThis.origin.length)!==globalThis.origin){const l="vs/base/worker/defaultWorkerFactory.js",c=G.toUrl(l).slice(0,-l.length),o=`/*${i}*/globalThis.MonacoEnvironment={baseUrl: '${c}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${n}') ?? '${n}');/*${i}*/`,d=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(d)}const t=n.lastIndexOf("?"),a=n.lastIndexOf("#",t),u=t>0?new URLSearchParams(n.substring(t+1,~a?a:void 0)):new URLSearchParams;return y.COI.addSearchParam(u,!0,!0),u.toString()?`${n}?${u.toString()}#${i}`:`${n}#${i}`}e.getWorkerBootstrapUrl=_;function v(n){return typeof n.then=="function"}class C{constructor(i,t,a,u,h){this.id=t,this.label=a;const l=m(a);v(l)?this.worker=l:this.worker=Promise.resolve(l),this.postMessage(i,[]),this.worker.then(c=>{c.onmessage=function(o){u(o.data)},c.onmessageerror=h,typeof c.addEventListener=="function"&&c.addEventListener("error",h)})}getId(){return this.id}postMessage(i,t){var a;(a=this.worker)===null||a===void 0||a.then(u=>{try{u.postMessage(i,t)}catch(h){(0,k.onUnexpectedError)(h),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:h}))}})}dispose(){var i;(i=this.worker)===null||i===void 0||i.then(t=>t.terminate()),this.worker=null}}class s{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,t,a){const u=++s.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new C(i,u,this._label||"anonymous"+u,t,h=>{(0,D.logOnceWebWorkerWarning)(h),this._webWorkerFailedBeforeError=h,a(h)})}}e.DefaultWorkerFactory=s,s.LAST_WORKER_ID=0}),define(ee[589],te([1,0,13,6,2,222,20]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var m;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(m||(e.StorageHint=m={}));var _;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(_||(e.StorageState=_={}));class v extends y.Disposable{constructor(n,i=Object.create(null)){super(),this.database=n,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=_.None,this.cache=new Map,this.flushDelayer=new L.ThrottledDelayer(v.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(n=>this.onDidChangeItemsExternal(n)))}onDidChangeItemsExternal(n){var i,t;this._onDidChangeStorage.pause();try{(i=n.changed)===null||i===void 0||i.forEach((a,u)=>this.acceptExternal(u,a)),(t=n.deleted)===null||t===void 0||t.forEach(a=>this.acceptExternal(a,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(n,i){if(this.state===_.Closed)return;let t=!1;(0,S.isUndefinedOrNull)(i)?t=this.cache.delete(n):this.cache.get(n)!==i&&(this.cache.set(n,i),t=!0),t&&this._onDidChangeStorage.fire({key:n,external:!0})}get(n,i){const t=this.cache.get(n);return(0,S.isUndefinedOrNull)(t)?i:t}getBoolean(n,i){const t=this.get(n);return(0,S.isUndefinedOrNull)(t)?i:t==="true"}getNumber(n,i){const t=this.get(n);return(0,S.isUndefinedOrNull)(t)?i:parseInt(t,10)}set(n,i,t=!1){return Se(this,void 0,void 0,function*(){if(this.state===_.Closed)return;if((0,S.isUndefinedOrNull)(i))return this.delete(n,t);const a=(0,S.isObject)(i)||Array.isArray(i)?(0,D.stringify)(i):String(i);if(this.cache.get(n)!==a)return this.cache.set(n,a),this.pendingInserts.set(n,a),this.pendingDeletes.delete(n),this._onDidChangeStorage.fire({key:n,external:t}),this.doFlush()})}delete(n,i=!1){return Se(this,void 0,void 0,function*(){if(!(this.state===_.Closed||!this.cache.delete(n)))return this.pendingDeletes.has(n)||this.pendingDeletes.add(n),this.pendingInserts.delete(n),this._onDidChangeStorage.fire({key:n,external:i}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Se(this,void 0,void 0,function*(){if(!this.hasPending)return;const n={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(n).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})})}doFlush(n){return Se(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),n)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=v,v.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(n){var i,t;return Se(this,void 0,void 0,function*(){(i=n.insert)===null||i===void 0||i.forEach((a,u)=>this.items.set(u,a)),(t=n.delete)===null||t===void 0||t.forEach(a=>this.items.delete(a))})}}e.InMemoryStorageDatabase=C}),define(ee[184],te([1,0,51,7,79,43,259,13,6,2,107,10,273,24]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var t;(function(c){c.Tap="-monaco-textarea-synthetic-tap"})(t||(e.TextAreaSyntethicEvents=t={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class a{constructor(){this._lastState=null}set(o,d){this._lastState={lastCopiedValue:o,data:d}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=a,a.INSTANCE=new a;class u{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const d={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,d}}class h extends v.Disposable{get textAreaState(){return this._textAreaState}constructor(o,d,r,g){super(),this._host=o,this._textArea=d,this._OS=r,this._browser=g,this._onFocus=this._register(new _.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new _.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new _.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new _.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new _.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new _.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new _.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new _.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new _.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new _.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new m.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new m.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=n.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let f=null;this._register(this._textArea.onKeyDown(p=>{const b=new D.StandardKeyboardEvent(p);(b.keyCode===114||this._currentComposition&&b.keyCode===1)&&b.stopPropagation(),b.equals(9)&&b.preventDefault(),f=b,this._onKeyDown.fire(b)})),this._register(this._textArea.onKeyUp(p=>{const b=new D.StandardKeyboardEvent(p);this._onKeyUp.fire(b)})),this._register(this._textArea.onCompositionStart(p=>{n._debugComposition&&console.log("[compositionstart]",p);const b=new u;if(this._currentComposition){this._currentComposition=b;return}if(this._currentComposition=b,this._OS===2&&f&&f.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(f.code==="ArrowRight"||f.code==="ArrowLeft")){n._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),b.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{n._debugComposition&&console.log("[compositionupdate]",p);const b=this._currentComposition;if(!b)return;if(this._browser.isAndroid){const E=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),I=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(I),this._onCompositionUpdate.fire(p);return}const w=b.handleCompositionUpdate(p.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{n._debugComposition&&console.log("[compositionend]",p);const b=this._currentComposition;if(!b)return;if(this._currentComposition=null,this._browser.isAndroid){const E=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),I=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(I),this._onCompositionEnd.fire();return}const w=b.handleCompositionUpdate(p.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(n._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const b=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),w=n.TextAreaState.deduceInput(this._textAreaState,b,this._OS===2);w.replacePrevCharCnt===0&&w.text.length===1&&(s.isHighSurrogate(w.text.charCodeAt(0))||w.text.charCodeAt(0)===127)||(this._textAreaState=b,(w.text!==""||w.replacePrevCharCnt!==0||w.replaceNextCharCnt!==0||w.positionDelta!==0)&&this._onType.fire(w))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[b,w]=e.ClipboardEventUtils.getTextData(p.clipboardData);b&&(w=w||a.INSTANCE.get(b),this._onPaste.fire({text:b,metadata:w}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return k.addDisposableListener(document,"selectionchange",d=>{if(S.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const r=Date.now(),g=r-o;if(o=r,g<5)return;const f=r-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),f<100||!this._textAreaState.selection)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const b=this._textArea.getSelectionStart(),w=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===b&&this._textAreaState.selectionEnd===w)return;const E=this._textAreaState.deduceEditorPosition(b),I=this._host.deduceModelPosition(E[0],E[1],E[2]),N=this._textAreaState.deduceEditorPosition(w),R=this._host.deduceModelPosition(N[0],N[1],N[2]),F=new i.Selection(I.lineNumber,I.column,R.lineNumber,R.column);this._onSelectionChangeRequest.fire(F)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,d){this._hasFocus||(d=d.collapseSelection()),d.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=d}writeScreenReaderContent(o){this._currentComposition||this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(o){const d=this._host.getDataToCopy(),r={version:1,isFromEmptySelection:d.isFromEmptySelection,multicursorText:d.multicursorText,mode:d.mode};a.INSTANCE.set(this._browser.isFirefox?d.text.replace(/\r\n/g,`
`):d.text,r),o.preventDefault(),o.clipboardData&&e.ClipboardEventUtils.setTextData(o.clipboardData,d.text,d.html,r)}}e.TextAreaInput=h,e.ClipboardEventUtils={getTextData(c){const o=c.getData(C.Mimes.text);let d=null;const r=c.getData("vscode-editor-data");if(typeof r=="string")try{d=JSON.parse(r),d.version!==1&&(d=null)}catch{}return o.length===0&&d===null&&c.files.length>0?[Array.prototype.slice.call(c.files,0).map(f=>f.name).join(`
`),null]:[o,d]},setTextData(c,o,d,r){c.setData(C.Mimes.text,o),typeof d=="string"&&c.setData("text/html",d),c.setData("vscode-editor-data",JSON.stringify(r))}};class l extends v.Disposable{constructor(o){super(),this._actual=o,this.onKeyDown=this._register(new y.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new y.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new y.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new y.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new y.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new y.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new y.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new y.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new y.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new y.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new y.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new y.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new _.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>S.inputLatency.onBeforeInput())),this._register(this.onInput(()=>S.inputLatency.onInput())),this._register(this.onKeyUp(()=>S.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,t.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=k.getShadowRoot(this._actual);return o?o.activeElement===this._actual:k.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,d){const r=this._actual;r.value!==d&&(this.setIgnoreSelectionChangeTime("setValue"),r.value=d)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,d,r){const g=this._actual;let f=null;const p=k.getShadowRoot(g);p?f=p.activeElement:f=document.activeElement;const b=f===g,w=g.selectionStart,E=g.selectionEnd;if(b&&w===d&&E===r){L.isFirefox&&window.parent!==window&&g.focus();return}if(b){this.setIgnoreSelectionChangeTime("setSelectionRange"),g.setSelectionRange(d,r),L.isFirefox&&window.parent!==window&&g.focus();return}try{const I=k.saveParentsScrollTop(g);this.setIgnoreSelectionChangeTime("setSelectionRange"),g.focus(),g.setSelectionRange(d,r),k.restoreParentsScrollTop(g,I)}catch{}}}e.TextAreaWrapper=l}),define(ee[590],te([1,0,7,37,53]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends y.ViewPart{constructor(n,i){super(n),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(n);return!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLineMappingChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(n){return this._updateAnchorsViewPositions(),!0}onLinesInserted(n){return this._updateAnchorsViewPositions(),!0}onScrollChanged(n){return!0}onZonesChanged(n){return!0}_updateAnchorsViewPositions(){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].updateAnchorViewPosition()}addWidget(n){const i=new S(this._context,this._viewDomNode,n);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(n,i,t,a,u){this._widgets[n.getId()].setPosition(i,t,a,u),this.setShouldRender()}removeWidget(n){const i=n.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const a=t.domNode.domNode;a.parentNode.removeChild(a),a.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(n){return this._widgets.hasOwnProperty(n)?this._widgets[n].suppressMouseDown:!1}onBeforeRender(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(n)}prepareRender(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(n)}render(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(n)}}e.ViewContentWidgets=D;class S{constructor(n,i,t){this._primaryAnchor=new m(null,null),this._secondaryAnchor=new m(null,null),this._context=n,this._viewDomNode=i,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const a=this._context.configuration.options,u=a.get(142);this._fixedOverflowWidgets=a.get(41),this._contentWidth=u.contentWidth,this._contentLeft=u.contentLeft,this._lineHeight=a.get(65),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(n){const i=this._context.configuration.options;if(this._lineHeight=i.get(65),n.hasChanged(142)){const t=i.get(142);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(n,i,t){this._affinity=n,this._primaryAnchor=a(i,this._context.viewModel,this._affinity),this._secondaryAnchor=a(t,this._context.viewModel,this._affinity);function a(u,h,l){if(!u)return new m(null,null);const c=h.model.validatePosition(u);if(h.coordinatesConverter.modelPositionIsVisible(c)){const o=h.coordinatesConverter.convertModelPositionToViewPosition(c,l??void 0);return new m(u,o)}return new m(u,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(n,i,t,a){this._setPosition(a,n,i),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(n,i,t,a){const u=n.top,h=u,l=n.top+n.height,c=a.viewportHeight-l,o=u-t,d=h>=t,r=l,g=c>=t;let f=n.left;return f+i>a.scrollLeft+a.viewportWidth&&(f=a.scrollLeft+a.viewportWidth-i),f<a.scrollLeft&&(f=a.scrollLeft),{fitsAbove:d,aboveTop:o,fitsBelow:g,belowTop:r,left:f}}_layoutHorizontalSegmentInPage(n,i,t,a){const l=Math.max(15,i.left-a),c=Math.min(i.left+i.width+a,n.width-15);let o=i.left+t-window.scrollX;if(o+a>c){const d=o-(c-a);o-=d,t-=d}if(o<l){const d=o-l;o-=d,t-=d}return[t,o]}_layoutBoxInPage(n,i,t,a){const u=n.top-t,h=n.top+n.height,l=L.getDomNodePagePosition(this._viewDomNode.domNode),c=l.top+u-window.scrollY,o=l.top+h-window.scrollY,d=L.getClientArea(document.body),[r,g]=this._layoutHorizontalSegmentInPage(d,l,n.left-a.scrollLeft+this._contentLeft,i),f=22,p=22,b=c>=f,w=o+t<=d.height-p;return this._fixedOverflowWidgets?{fitsAbove:b,aboveTop:Math.max(c,f),fitsBelow:w,belowTop:o,left:g}:{fitsAbove:b,aboveTop:u,fitsBelow:w,belowTop:h,left:r}}_prepareRenderWidgetAtExactPositionOverflowing(n){return new _(n.top,n.left+this._contentLeft)}_getAnchorsCoordinates(n){var i,t;const a=l(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),u=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,h=l(u,this._affinity,this._lineHeight);return{primary:a,secondary:h};function l(c,o,d){if(!c)return null;const r=n.visibleRangeForPosition(c);if(!r)return null;const g=c.column===1&&o===3?0:r.left,f=n.getVerticalOffsetForLineNumber(c.lineNumber)-n.scrollTop;return new v(f,g,d)}}_reduceAnchorCoordinates(n,i,t){if(!i)return n;const a=this._context.configuration.options.get(49);let u=i.left;return u<n.left?u=Math.max(u,n.left-t+a.typicalFullwidthCharacterWidth):u=Math.min(u,n.left+t-a.typicalFullwidthCharacterWidth),new v(n.top,u,n.height)}_prepareRenderWidget(n){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:t}=this._getAnchorsCoordinates(n);if(!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let h=null;if(typeof this._actual.beforeRender=="function"&&(h=C(this._actual.beforeRender,this._actual)),h)this._cachedDomNodeOffsetWidth=h.width,this._cachedDomNodeOffsetHeight=h.height;else{const c=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(c.width),this._cachedDomNodeOffsetHeight=Math.round(c.height)}}const a=this._reduceAnchorCoordinates(i,t,this._cachedDomNodeOffsetWidth);let u;this.allowEditorOverflow?u=this._layoutBoxInPage(a,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n):u=this._layoutBoxInViewport(a,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n);for(let h=1;h<=2;h++)for(const l of this._preference)if(l===1){if(!u)return null;if(h===2||u.fitsAbove)return{coordinate:new _(u.aboveTop,u.left),position:1}}else if(l===2){if(!u)return null;if(h===2||u.fitsBelow)return{coordinate:new _(u.belowTop,u.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new _(a.top,a.left)),position:0}:{coordinate:new _(a.top,a.left),position:0};return null}onBeforeRender(n){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<n.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>n.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(n){this._renderData=this._prepareRenderWidget(n)}render(n){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+n.scrollTop-n.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}class m{constructor(n,i){this.modelPosition=n,this.viewPosition=i}}class _{constructor(n,i){this.top=n,this.left=i,this._coordinateBrand=void 0}}class v{constructor(n,i,t){this.top=n,this.left=i,this.height=t,this._anchorCoordinateBrand=void 0}}function C(s,n,...i){try{return s.call(n,...i)}catch{return null}}}),define(ee[591],te([1,0,152,2,40]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends k.Disposable{constructor(m,_,v){super(),this._options=m,this._domNode=_,this._dimensions=v,this._sashRatio=(0,y.observableValue)(this,void 0),this.sashLeft=(0,y.derived)(this,C=>{var s;const n=(s=this._sashRatio.read(C))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(C);return this._computeSashLeft(n,C)}),this._sash=this._register(new L.Sash(this._domNode,{getVerticalSashTop:C=>0,getVerticalSashLeft:C=>this.sashLeft.get(),getVerticalSashHeight:C=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(C=>{const s=this._dimensions.width.get(),n=this._computeSashLeft((this._startSashPosition+(C.currentX-C.startX))/s,void 0);this._sashRatio.set(n/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,y.autorun)(C=>{const s=this._options.enableSplitViewResizing.read(C);this._sash.state=s?3:0,this.sashLeft.read(C),this._sash.layout()}))}setBoundarySashes(m){this._sash.orthogonalEndSash=m.bottom}_computeSashLeft(m,_){const v=this._dimensions.width.read(_),C=Math.floor(this._options.splitViewDefaultRatio.read(_)*v),s=this._options.enableSplitViewResizing.read(_)?Math.floor(m*v):C,n=100;return v<=n*2?C:s<n?n:s>v-n?v-n:s}}e.DiffEditorSash=D}),define(ee[101],te([1,0,19,570,2,40,269]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.applyViewZones=e.observeHotReloadableExports=e.readHotReloadableExport=e.applyStyle=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.animatedObservable=e.ObservableElementSizeObserver=e.appendRemoveOnDispose=e.applyObservableDecorations=e.joinCombine=void 0;function m(d,r,g,f){if(d.length===0)return r;if(r.length===0)return d;const p=[];let b=0,w=0;for(;b<d.length&&w<r.length;){const E=d[b],I=r[w],N=g(E),R=g(I);N<R?(p.push(E),b++):N>R?(p.push(I),w++):(p.push(f(E,I)),b++,w++)}for(;b<d.length;)p.push(d[b]),b++;for(;w<r.length;)p.push(r[w]),w++;return p}e.joinCombine=m;function _(d,r){const g=new y.DisposableStore,f=d.createDecorationsCollection();return g.add((0,D.autorunOpts)({debugName:()=>`Apply decorations from ${r.debugName}`},p=>{const b=r.read(p);f.set(b)})),g.add({dispose:()=>{f.clear()}}),g}e.applyObservableDecorations=_;function v(d,r){return d.appendChild(r),(0,y.toDisposable)(()=>{d.removeChild(r)})}e.appendRemoveOnDispose=v;class C extends y.Disposable{get width(){return this._width}get height(){return this._height}constructor(r,g){super(),this.elementSizeObserver=this._register(new S.ElementSizeObserver(r,g)),this._width=(0,D.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,D.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(f=>(0,D.transaction)(p=>{this._width.set(this.elementSizeObserver.getWidth(),p),this._height.set(this.elementSizeObserver.getHeight(),p)})))}observe(r){this.elementSizeObserver.observe(r)}setAutomaticLayout(r){r?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=C;function s(d,r){let g=d.get(),f=g,p=g;const b=(0,D.observableValue)("animatedValue",g);let w=-1;const E=300;let I;r.add((0,D.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(R,F)=>(R.didChange(d)&&(F.animate=F.animate||R.change),!0)},(R,F)=>{I!==void 0&&(cancelAnimationFrame(I),I=void 0),f=p,g=d.read(R),w=Date.now()-(F.animate?0:E),N()}));function N(){const R=Date.now()-w;p=Math.floor(n(R,f,g-f,E)),R<E?I=requestAnimationFrame(N):p=g,b.set(p,void 0)}return b}e.animatedObservable=s;function n(d,r,g,f){return d===f?r+g:g*(-Math.pow(2,-10*d/f)+1)+r}class i extends y.Disposable{constructor(r,g,f){super(),this._register(new a(r,f)),this._register(u(f,{height:g.actualHeight,top:g.actualTop}))}}e.ViewZoneOverlayWidget=i;class t{get afterLineNumber(){return this._afterLineNumber.get()}constructor(r,g){this._afterLineNumber=r,this.heightInPx=g,this.domNode=document.createElement("div"),this._actualTop=(0,D.observableValue)(this,void 0),this._actualHeight=(0,D.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=f=>{this._actualTop.set(f,void 0)},this.onComputedHeight=f=>{this._actualHeight.set(f,void 0)}}}e.PlaceholderViewZone=t;class a{constructor(r,g){this._editor=r,this._domElement=g,this._overlayWidgetId=`managedOverlayWidget-${a._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=a,a._counter=0;function u(d,r){return(0,D.autorun)(g=>{for(let[f,p]of Object.entries(r))p&&typeof p=="object"&&"read"in p&&(p=p.read(g)),typeof p=="number"&&(p=`${p}px`),f=f.replace(/[A-Z]/g,b=>"-"+b.toLowerCase()),d.style[f]=p})}e.applyStyle=u;function h(d,r){return l([d],r),d}e.readHotReloadableExport=h;function l(d,r){(0,k.isHotReloadEnabled)()&&(0,D.observableSignalFromEvent)("reload",f=>(0,k.registerHotReloadHandler)(p=>{if([...Object.values(p)].some(b=>d.includes(b)))return b=>(f(void 0),!0)})).read(r)}e.observeHotReloadableExports=l;function c(d,r,g){const f=new y.DisposableStore,p=[];return f.add((0,D.autorun)(b=>{const w=r.read(b),E=new Map,I=new Map;g&&g(!0),d.changeViewZones(N=>{for(const R of p)N.removeZone(R);p.length=0;for(const R of w){const F=N.addZone(R);p.push(F),E.set(R,F)}}),g&&g(!1),f.add((0,D.autorunHandleChanges)({createEmptyChangeSummary(){return[]},handleChange(N,R){const F=I.get(N.changedObservable);return F!==void 0&&R.push(F),!0}},(N,R)=>{for(const F of w)F.onChange&&(I.set(F.onChange,E.get(F)),F.onChange.read(N));g&&g(!0),d.changeViewZones(F=>{for(const M of R)F.layoutZone(M)}),g&&g(!1)}))})),f.add({dispose(){g&&g(!0),d.changeViewZones(b=>{for(const w of p)b.removeZone(w)}),g&&g(!1)}}),f}e.applyViewZones=c;class o extends L.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=o}),define(ee[102],te([1,0,10,17,138]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let m;function _(){return m||(m=new TextDecoder("UTF-16BE")),m}let v;function C(){return v||(v=k.isLittleEndian()?S():_()),v}e.getPlatformTextDecoder=C;function s(t,a,u){const h=new Uint16Array(t.buffer,a,u);return u>0&&(h[0]===65279||h[0]===65534)?n(t,a,u):S().decode(h)}e.decodeUTF16LE=s;function n(t,a,u){const h=[];let l=0;for(let c=0;c<u;c++){const o=y.readUInt16LE(t,a);a+=2,h[l++]=String.fromCharCode(o)}return h.join("")}class i{constructor(a){this._capacity=a|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const a=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(a)}_flushBuffer(){const a=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[a]:this._completedStrings[this._completedStrings.length]=a}appendCharCode(a){const u=this._capacity-this._bufferLength;u<=1&&(u===0||L.isHighSurrogate(a))&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendASCIICharCode(a){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendString(a){const u=a.length;if(this._bufferLength+u>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=a;return}for(let h=0;h<u;h++)this._buffer[this._bufferLength++]=a.charCodeAt(h)}}e.StringBuilder=i}),define(ee[592],te([1,0,89,10,69,102,286,110]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const _=(0,L.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:a=>a});class v{static create(){return new v}constructor(){}createLineBreaksComputer(u,h,l,c,o){const d=[],r=[];return{addRequest:(g,f,p)=>{d.push(g),r.push(f)},finalize:()=>C(d,u,h,l,c,o,r)}}}e.DOMLineBreaksComputerFactory=v;function C(a,u,h,l,c,o,d){var r;function g(q){const B=d[q];if(B){const $=m.LineInjectedText.applyInjectedText(a[q],B),X=B.map(oe=>oe.options),ne=B.map(oe=>oe.column-1);return new S.ModelLineProjectionData(ne,X,[$.length],[],0)}else return null}if(l===-1){const q=[];for(let B=0,$=a.length;B<$;B++)q[B]=g(B);return q}const f=Math.round(l*u.typicalHalfwidthCharacterWidth),b=Math.round(h*(c===3?2:c===2?1:0)),w=Math.ceil(u.spaceWidth*b),E=document.createElement("div");(0,y.applyFontInfo)(E,u);const I=new D.StringBuilder(1e4),N=[],R=[],F=[],M=[],A=[];for(let q=0;q<a.length;q++){const B=m.LineInjectedText.applyInjectedText(a[q],d[q]);let $=0,X=0,ne=f;if(c!==0)if($=k.firstNonWhitespaceIndex(B),$===-1)$=0;else{for(let W=0;W<$;W++){const V=B.charCodeAt(W)===9?h-X%h:1;X+=V}const U=Math.ceil(u.spaceWidth*X);U+u.typicalFullwidthCharacterWidth>f?($=0,X=0):ne=f-U}const oe=B.substr($),Y=s(oe,X,h,ne,I,w);N[q]=$,R[q]=X,F[q]=oe,M[q]=Y[0],A[q]=Y[1]}const T=I.build(),O=(r=_?.createHTML(T))!==null&&r!==void 0?r:T;E.innerHTML=O,E.style.position="absolute",E.style.top="10000",o==="keepAll"?(E.style.wordBreak="keep-all",E.style.overflowWrap="anywhere"):(E.style.wordBreak="inherit",E.style.overflowWrap="break-word"),document.body.appendChild(E);const P=document.createRange(),x=Array.prototype.slice.call(E.children,0),z=[];for(let q=0;q<a.length;q++){const B=x[q],$=n(P,B,F[q],M[q]);if($===null){z[q]=g(q);continue}const X=N[q],ne=R[q]+b,oe=A[q],Y=[];for(let Z=0,ie=$.length;Z<ie;Z++)Y[Z]=oe[$[Z]];if(X!==0)for(let Z=0,ie=$.length;Z<ie;Z++)$[Z]+=X;let U,W;const V=d[q];V?(U=V.map(Z=>Z.options),W=V.map(Z=>Z.column-1)):(U=null,W=null),z[q]=new S.ModelLineProjectionData(W,U,$,Y,ne)}return document.body.removeChild(E),z}function s(a,u,h,l,c,o){if(o!==0){const w=String(o);c.appendString('<div style="text-indent: -'),c.appendString(w),c.appendString("px; padding-left: "),c.appendString(w),c.appendString("px; box-sizing: border-box; width:")}else c.appendString('<div style="width:');c.appendString(String(l)),c.appendString('px;">');const d=a.length;let r=u,g=0;const f=[],p=[];let b=0<d?a.charCodeAt(0):0;c.appendString("<span>");for(let w=0;w<d;w++){w!==0&&w%16384===0&&c.appendString("</span><span>"),f[w]=g,p[w]=r;const E=b;b=w+1<d?a.charCodeAt(w+1):0;let I=1,N=1;switch(E){case 9:I=h-r%h,N=I;for(let R=1;R<=I;R++)R<I?c.appendCharCode(160):c.appendASCIICharCode(32);break;case 32:b===32?c.appendCharCode(160):c.appendASCIICharCode(32);break;case 60:c.appendString("&lt;");break;case 62:c.appendString("&gt;");break;case 38:c.appendString("&amp;");break;case 0:c.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:c.appendCharCode(65533);break;default:k.isFullWidthCharacter(E)&&N++,E<32?c.appendCharCode(9216+E):c.appendCharCode(E)}g+=I,r+=N}return c.appendString("</span>"),f[a.length]=g,p[a.length]=r,c.appendString("</div>"),[f,p]}function n(a,u,h,l){if(h.length<=1)return null;const c=Array.prototype.slice.call(u.children,0),o=[];try{i(a,c,l,0,null,h.length-1,null,o)}catch(d){return console.log(d),null}return o.length===0?null:(o.push(h.length),o)}function i(a,u,h,l,c,o,d,r){if(l===o||(c=c||t(a,u,h[l],h[l+1]),d=d||t(a,u,h[o],h[o+1]),Math.abs(c[0].top-d[0].top)<=.1))return;if(l+1===o){r.push(o);return}const g=l+(o-l)/2|0,f=t(a,u,h[g],h[g+1]);i(a,u,h,l,c,g,f,r),i(a,u,h,g,f,o,d,r)}function t(a,u,h,l){return a.setStart(u[h/16384|0].firstChild,h%16384),a.setEnd(u[l/16384|0].firstChild,l%16384),a.getClientRects()}}),define(ee[230],te([1,0,37,89,9,102]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class S{constructor(C){this._createLine=C,this._set(1,[])}flush(){this._set(1,[])}_set(C,s){this._lines=s,this._rendLineNumberStart=C}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(C){const s=C-this._rendLineNumberStart;if(s<0||s>=this._lines.length)throw new y.BugIndicatingError("Illegal value for lineNumber");return this._lines[s]}onLinesDeleted(C,s){if(this.getCount()===0)return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(s<n){const h=s-C+1;return this._rendLineNumberStart-=h,null}if(C>i)return null;let t=0,a=0;for(let h=n;h<=i;h++){const l=h-this._rendLineNumberStart;C<=h&&h<=s&&(a===0?(t=l,a=1):a++)}if(C<n){let h=0;s<n?h=s-C+1:h=n-C,this._rendLineNumberStart-=h}return this._lines.splice(t,a)}onLinesChanged(C,s){const n=C+s-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let a=!1;for(let u=C;u<=n;u++)u>=i&&u<=t&&(this._lines[u-this._rendLineNumberStart].onContentChanged(),a=!0);return a}onLinesInserted(C,s){if(this.getCount()===0)return null;const n=s-C+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(C<=i)return this._rendLineNumberStart+=n,null;if(C>t)return null;if(n+C>t)return this._lines.splice(C-this._rendLineNumberStart,t-C+1);const a=[];for(let o=0;o<n;o++)a[o]=this._createLine();const u=C-this._rendLineNumberStart,h=this._lines.slice(0,u),l=this._lines.slice(u,this._lines.length-n),c=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=h.concat(a).concat(l),c}onTokensChanged(C){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let t=0,a=C.length;t<a;t++){const u=C[t];if(u.toLineNumber<s||u.fromLineNumber>n)continue;const h=Math.max(s,u.fromLineNumber),l=Math.min(n,u.toLineNumber);for(let c=h;c<=l;c++){const o=c-this._rendLineNumberStart;this._lines[o].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=S;class m{constructor(C){this._host=C,this.domNode=this._createDomNode(),this._linesCollection=new S(()=>this._host.createVisibleLine())}_createDomNode(){const C=(0,L.createFastDomNode)(document.createElement("div"));return C.setClassName("view-layer"),C.setPosition("absolute"),C.domNode.setAttribute("role","presentation"),C.domNode.setAttribute("aria-hidden","true"),C}onConfigurationChanged(C){return!!C.hasChanged(142)}onFlushed(C){return this._linesCollection.flush(),!0}onLinesChanged(C){return this._linesCollection.onLinesChanged(C.fromLineNumber,C.count)}onLinesDeleted(C){const s=this._linesCollection.onLinesDeleted(C.fromLineNumber,C.toLineNumber);if(s)for(let n=0,i=s.length;n<i;n++){const t=s[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(C){const s=this._linesCollection.onLinesInserted(C.fromLineNumber,C.toLineNumber);if(s)for(let n=0,i=s.length;n<i;n++){const t=s[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(C){return C.scrollTopChanged}onTokensChanged(C){return this._linesCollection.onTokensChanged(C.ranges)}onZonesChanged(C){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(C){return this._linesCollection.getLine(C)}renderLines(C){const s=this._linesCollection._get(),n=new _(this.domNode.domNode,this._host,C),i={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines,linesLength:s.lines.length},t=n.render(i,C.startLineNumber,C.endLineNumber,C.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=m;class _{constructor(C,s,n){this.domNode=C,this.host=s,this.viewportData=n}render(C,s,n,i){const t={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines.slice(0),linesLength:C.linesLength};if(t.rendLineNumberStart+t.linesLength-1<s||n<t.rendLineNumberStart){t.rendLineNumberStart=s,t.linesLength=n-s+1,t.lines=[];for(let a=s;a<=n;a++)t.lines[a-s]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(s-t.rendLineNumberStart,0),Math.min(n-t.rendLineNumberStart,t.linesLength-1),i,s),t.rendLineNumberStart>s){const a=s,u=Math.min(n,t.rendLineNumberStart-1);a<=u&&(this._insertLinesBefore(t,a,u,i,s),t.linesLength+=u-a+1)}else if(t.rendLineNumberStart<s){const a=Math.min(t.linesLength,s-t.rendLineNumberStart);a>0&&(this._removeLinesBefore(t,a),t.linesLength-=a)}if(t.rendLineNumberStart=s,t.rendLineNumberStart+t.linesLength-1<n){const a=t.rendLineNumberStart+t.linesLength,u=n;a<=u&&(this._insertLinesAfter(t,a,u,i,s),t.linesLength+=u-a+1)}else if(t.rendLineNumberStart+t.linesLength-1>n){const a=Math.max(0,n-t.rendLineNumberStart+1),h=t.linesLength-1-a+1;h>0&&(this._removeLinesAfter(t,h),t.linesLength-=h)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(C,s,n,i,t){const a=C.rendLineNumberStart,u=C.lines;for(let h=s;h<=n;h++){const l=a+h;u[h].layoutLine(l,i[l-t])}}_insertLinesBefore(C,s,n,i,t){const a=[];let u=0;for(let h=s;h<=n;h++)a[u++]=this.host.createVisibleLine();C.lines=a.concat(C.lines)}_removeLinesBefore(C,s){for(let n=0;n<s;n++){const i=C.lines[n].getDomNode();i&&this.domNode.removeChild(i)}C.lines.splice(0,s)}_insertLinesAfter(C,s,n,i,t){const a=[];let u=0;for(let h=s;h<=n;h++)a[u++]=this.host.createVisibleLine();C.lines=C.lines.concat(a)}_removeLinesAfter(C,s){const n=C.linesLength-s;for(let i=0;i<s;i++){const t=C.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}C.lines.splice(n,s)}_finishRenderingNewLines(C,s,n,i){_._ttPolicy&&(n=_._ttPolicy.createHTML(n));const t=this.domNode.lastChild;s||!t?this.domNode.innerHTML=n:t.insertAdjacentHTML("afterend",n);let a=this.domNode.lastChild;for(let u=C.linesLength-1;u>=0;u--){const h=C.lines[u];i[u]&&(h.setDomNode(a),a=a.previousSibling)}}_finishRenderingInvalidLines(C,s,n){const i=document.createElement("div");_._ttPolicy&&(s=_._ttPolicy.createHTML(s)),i.innerHTML=s;for(let t=0;t<C.linesLength;t++){const a=C.lines[t];if(n[t]){const u=i.firstChild,h=a.getDomNode();h.parentNode.replaceChild(u,h),a.setDomNode(u)}}}_finishRendering(C,s,n){const i=_._sb,t=C.linesLength,a=C.lines,u=C.rendLineNumberStart,h=[];{i.reset();let l=!1;for(let c=0;c<t;c++){const o=a[c];h[c]=!1,!(o.getDomNode()||!o.renderLine(c+u,n[c],this.viewportData,i))&&(h[c]=!0,l=!0)}l&&this._finishRenderingNewLines(C,s,i.build(),h)}{i.reset();let l=!1;const c=[];for(let o=0;o<t;o++){const d=a[o];c[o]=!1,!(h[o]||!d.renderLine(o+u,n[o],this.viewportData,i))&&(c[o]=!0,l=!0)}l&&this._finishRenderingInvalidLines(C,i.build(),c)}}}_._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:v=>v}),_._sb=new D.StringBuilder(1e5)}),define(ee[593],te([1,0,37,69,230,53]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(s){super(s),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(49);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,n=this._dynamicOverlays.length;s<n;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,n=this._dynamicOverlays.length;s<n;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let u=n;u<=i;u++)this._visibleLines.getVisibleLine(u).onConfigurationChanged(s);const a=this._context.configuration.options.get(49);return(0,k.applyFontInfo)(this.domNode,a),!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const n=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,t=n.length;i<t;i++){const a=n[i];a.prepareRender(s),a.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=S;class m{constructor(s,n){this._configuration=s,this._lineHeight=this._configuration.options.get(65),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,L.createFastDomNode)(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(65)}renderLine(s,n,i,t){let a="";for(let u=0,h=this._dynamicOverlays.length;u<h;u++){const l=this._dynamicOverlays[u];a+=l.render(i.startLineNumber,s)}return this._renderedContent===a?!1:(this._renderedContent=a,t.appendString('<div style="position:absolute;top:'),t.appendString(String(n)),t.appendString("px;width:100%;height:"),t.appendString(String(this._lineHeight)),t.appendString('px;">'),t.appendString(a),t.appendString("</div>"),!0)}layoutLine(s,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=m;class _ extends S{constructor(s){super(s);const i=this._context.configuration.options.get(142);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const i=this._context.configuration.options.get(142);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=_;class v extends S{constructor(s){super(s);const n=this._context.configuration.options,i=n.get(142);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,n.get(49))}onConfigurationChanged(s){const n=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,n.get(49));const i=n.get(142);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const n=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=v}),define(ee[322],te([1,0,138,102]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function y(_){return _.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(v,C,s,n){this.oldPosition=v,this.oldText=C,this.newPosition=s,this.newText=n}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${y(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${y(this.oldText)}")`:`(replace@${this.oldPosition} "${y(this.oldText)}" with "${y(this.newText)}")`}static _writeStringSize(v){return 4+2*v.length}static _writeString(v,C,s){const n=C.length;L.writeUInt32BE(v,n,s),s+=4;for(let i=0;i<n;i++)L.writeUInt16LE(v,C.charCodeAt(i),s),s+=2;return s}static _readString(v,C){const s=L.readUInt32BE(v,C);return C+=4,(0,k.decodeUTF16LE)(v,C,s)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(v,C){return L.writeUInt32BE(v,this.oldPosition,C),C+=4,L.writeUInt32BE(v,this.newPosition,C),C+=4,C=D._writeString(v,this.oldText,C),C=D._writeString(v,this.newText,C),C}static read(v,C,s){const n=L.readUInt32BE(v,C);C+=4;const i=L.readUInt32BE(v,C);C+=4;const t=D._readString(v,C);C+=D._writeStringSize(t);const a=D._readString(v,C);return C+=D._writeStringSize(a),s.push(new D(n,t,i,a)),C}}e.TextChange=D;function S(_,v){return _===null||_.length===0?v:new m(_,v).compress()}e.compressConsecutiveTextChanges=S;class m{constructor(v,C){this._prevEdits=v,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let v=0,C=0,s=this._getPrev(v),n=this._getCurr(C);for(;v<this._prevLen||C<this._currLen;){if(s===null){this._acceptCurr(n),n=this._getCurr(++C);continue}if(n===null){this._acceptPrev(s),s=this._getPrev(++v);continue}if(n.oldEnd<=s.newPosition){this._acceptCurr(n),n=this._getCurr(++C);continue}if(s.newEnd<=n.oldPosition){this._acceptPrev(s),s=this._getPrev(++v);continue}if(n.oldPosition<s.newPosition){const[h,l]=m._splitCurr(n,s.newPosition-n.oldPosition);this._acceptCurr(h),n=l;continue}if(s.newPosition<n.oldPosition){const[h,l]=m._splitPrev(s,n.oldPosition-s.newPosition);this._acceptPrev(h),s=l;continue}let a,u;if(n.oldEnd===s.newEnd)a=s,u=n,s=this._getPrev(++v),n=this._getCurr(++C);else if(n.oldEnd<s.newEnd){const[h,l]=m._splitPrev(s,n.oldLength);a=h,u=n,s=l,n=this._getCurr(++C)}else{const[h,l]=m._splitCurr(n,s.newLength);a=s,u=h,s=this._getPrev(++v),n=l}this._result[this._resultLen++]=new D(a.oldPosition,a.oldText,u.newPosition,u.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=u.newLength-u.oldLength}const i=m._merge(this._result);return m._removeNoOps(i)}_acceptCurr(v){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,v),this._currDeltaOffset+=v.newLength-v.oldLength}_getCurr(v){return v<this._currLen?this._currEdits[v]:null}_acceptPrev(v){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,v),this._prevDeltaOffset+=v.newLength-v.oldLength}_getPrev(v){return v<this._prevLen?this._prevEdits[v]:null}static _rebaseCurr(v,C){return new D(C.oldPosition-v,C.oldText,C.newPosition,C.newText)}static _rebasePrev(v,C){return new D(C.oldPosition,C.oldText,C.newPosition+v,C.newText)}static _splitPrev(v,C){const s=v.newText.substr(0,C),n=v.newText.substr(C);return[new D(v.oldPosition,v.oldText,v.newPosition,s),new D(v.oldEnd,"",v.newPosition+C,n)]}static _splitCurr(v,C){const s=v.oldText.substr(0,C),n=v.oldText.substr(C);return[new D(v.oldPosition,s,v.newPosition,v.newText),new D(v.oldPosition+C,n,v.newEnd,"")]}static _merge(v){if(v.length===0)return v;const C=[];let s=0,n=v[0];for(let i=1;i<v.length;i++){const t=v[i];n.oldEnd===t.oldPosition?n=new D(n.oldPosition,n.oldText+t.oldText,n.newPosition,n.newText+t.newText):(C[s++]=n,n=t)}return C[s++]=n,C}static _removeNoOps(v){if(v.length===0)return v;const C=[];let s=0;for(let n=0;n<v.length;n++){const i=v[n];i.oldText!==i.newText&&(C[s++]=i)}return C}}}),define(ee[594],te([1,0,307,92]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function y(D,S,m,_,v,C){if(Array.isArray(D)){let s=0;for(const n of D){const i=y(n,S,m,_,v,C);if(i===10)return i;i>s&&(s=i)}return s}else{if(typeof D=="string")return _?D==="*"?5:D===m?10:0:0;if(D){const{language:s,pattern:n,scheme:i,hasAccessToAllModels:t,notebookType:a}=D;if(!_&&!t)return 0;a&&v&&(S=v);let u=0;if(i)if(i===S.scheme)u=10;else if(i==="*")u=5;else return 0;if(s)if(s===m)u=10;else if(s==="*")u=Math.max(u,5);else return 0;if(a)if(a===C)u=10;else if(a==="*"&&C!==void 0)u=Math.max(u,5);else return 0;if(n){let h;if(typeof n=="string"?h=n:h=Object.assign(Object.assign({},n),{base:(0,k.normalize)(n.base)}),h===S.fsPath||(0,L.match)(h,S.fsPath))u=10;else return 0}return u}else return 0}}e.score=y}),define(ee[595],te([1,0,6,2,48,594]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function S(C){return typeof C=="string"?!1:Array.isArray(C)?C.every(S):!!C.exclusive}class m{constructor(s,n,i,t){this.uri=s,this.languageId=n,this.notebookUri=i,this.notebookType=t}equals(s){var n,i;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((n=this.notebookUri)===null||n===void 0?void 0:n.toString())===((i=s.notebookUri)===null||i===void 0?void 0:i.toString())}}class _{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}register(s,n){let i={selector:s,provider:n,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const n=[];for(const i of this._entries)i._score>0&&n.push(i.provider);return n}ordered(s){const n=[];return this._orderedForEach(s,i=>n.push(i.provider)),n}orderedGroups(s){const n=[];let i,t;return this._orderedForEach(s,a=>{i&&t===a._score?i.push(a.provider):(t=a._score,i=[a.provider],n.push(i))}),n}_orderedForEach(s,n){this._updateScores(s);for(const i of this._entries)i._score>0&&n(i)}_updateScores(s){var n,i;const t=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,s.uri),a=t?new m(s.uri,s.getLanguageId(),t.uri,t.type):new m(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(a))){this._lastCandidate=a;for(const u of this._entries)if(u._score=(0,D.score)(u.selector,a.uri,a.languageId,(0,y.shouldSynchronizeModel)(s),a.notebookUri,a.notebookType),S(u.selector)&&u._score>0){for(const h of this._entries)h._score=0;u._score=1e3;break}this._entries.sort(_._compareByScoreAndTime)}}static _compareByScoreAndTime(s,n){return s._score<n._score?1:s._score>n._score?-1:v(s.selector)&&!v(n.selector)?1:!v(s.selector)&&v(n.selector)?-1:s._time<n._time?1:s._time>n._time?-1:0}}e.LanguageFeatureRegistry=_;function v(C){return typeof C=="string"?!1:Array.isArray(C)?C.some(v):!!C.isBuiltin}}),define(ee[231],te([1,0,10,102,5]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(o,d,r,g,f,p){this._richEditBracketBrand=void 0,this.languageId=o,this.index=d,this.open=r,this.close=g,this.forwardRegex=f,this.reversedRegex=p,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const d=new Set;for(const r of o)d.add(r);return d}}e.RichEditBracket=D;function S(c){const o=c.length;c=c.map(p=>[p[0].toLowerCase(),p[1].toLowerCase()]);const d=[];for(let p=0;p<o;p++)d[p]=p;const r=(p,b)=>{const[w,E]=p,[I,N]=b;return w===I||w===N||E===I||E===N},g=(p,b)=>{const w=Math.min(p,b),E=Math.max(p,b);for(let I=0;I<o;I++)d[I]===E&&(d[I]=w)};for(let p=0;p<o;p++){const b=c[p];for(let w=p+1;w<o;w++){const E=c[w];r(b,E)&&g(d[p],d[w])}}const f=[];for(let p=0;p<o;p++){const b=[],w=[];for(let E=0;E<o;E++)if(d[E]===p){const[I,N]=c[E];b.push(I),w.push(N)}b.length>0&&f.push({open:b,close:w})}return f}class m{constructor(o,d){this._richEditBracketsBrand=void 0;const r=S(d);this.brackets=r.map((g,f)=>new D(o,f,g.open,g.close,s(g.open,g.close,r,f),n(g.open,g.close,r,f))),this.forwardRegex=i(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const g of this.brackets){for(const f of g.open)this.textIsBracket[f]=g,this.textIsOpenBracket[f]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,f.length);for(const f of g.close)this.textIsBracket[f]=g,this.textIsOpenBracket[f]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,f.length)}}}e.RichEditBrackets=m;function _(c,o,d,r){for(let g=0,f=o.length;g<f;g++){if(g===d)continue;const p=o[g];for(const b of p.open)b.indexOf(c)>=0&&r.push(b);for(const b of p.close)b.indexOf(c)>=0&&r.push(b)}}function v(c,o){return c.length-o.length}function C(c){if(c.length<=1)return c;const o=[],d=new Set;for(const r of c)d.has(r)||(o.push(r),d.add(r));return o}function s(c,o,d,r){let g=[];g=g.concat(c),g=g.concat(o);for(let f=0,p=g.length;f<p;f++)_(g[f],d,r,g);return g=C(g),g.sort(v),g.reverse(),u(g)}function n(c,o,d,r){let g=[];g=g.concat(c),g=g.concat(o);for(let f=0,p=g.length;f<p;f++)_(g[f],d,r,g);return g=C(g),g.sort(v),g.reverse(),u(g.map(h))}function i(c){let o=[];for(const d of c){for(const r of d.open)o.push(r);for(const r of d.close)o.push(r)}return o=C(o),u(o)}function t(c){let o=[];for(const d of c){for(const r of d.open)o.push(r);for(const r of d.close)o.push(r)}return o=C(o),u(o.map(h))}function a(c){const o=/^[\w ]+$/.test(c);return c=L.escapeRegExpCharacters(c),o?`\\b${c}\\b`:c}function u(c){const o=`(${c.map(a).join(")|(")})`;return L.createRegExp(o,!0)}const h=function(){function c(r){const g=new Uint16Array(r.length);let f=0;for(let p=r.length-1;p>=0;p--)g[f++]=r.charCodeAt(p);return k.getPlatformTextDecoder().decode(g)}let o=null,d=null;return function(g){return o!==g&&(o=g,d=c(o)),d}}();class l{static _findPrevBracketInText(o,d,r,g){const f=r.match(o);if(!f)return null;const p=r.length-(f.index||0),b=f[0].length,w=g+p;return new y.Range(d,w-b+1,d,w+1)}static findPrevBracketInRange(o,d,r,g,f){const b=h(r).substring(r.length-f,r.length-g);return this._findPrevBracketInText(o,d,b,g)}static findNextBracketInText(o,d,r,g){const f=r.match(o);if(!f)return null;const p=f.index||0,b=f[0].length;if(b===0)return null;const w=g+p;return new y.Range(d,w+1,d,w+1+b)}static findNextBracketInRange(o,d,r,g,f){const p=r.substring(g,f);return this.findNextBracketInText(o,d,p,g)}}e.BracketsUtils=l}),define(ee[596],te([1,0,14,125,231]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(m){this._richEditBrackets=m}getElectricCharacters(){const m=[];if(this._richEditBrackets)for(const _ of this._richEditBrackets.brackets)for(const v of _.close){const C=v.charAt(v.length-1);m.push(C)}return(0,L.distinct)(m)}onElectricCharacter(m,_,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const C=_.findTokenIndexAtOffset(v-1);if((0,k.ignoreBracketsInToken)(_.getStandardTokenType(C)))return null;const s=this._richEditBrackets.reversedRegex,n=_.getLineContent().substring(0,v-1)+m,i=y.BracketsUtils.findPrevBracketInRange(s,1,n,0,n.length);if(!i)return null;const t=n.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const u=_.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=D}),define(ee[597],te([1,0,14,6,2,5,125,231,515]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class v extends y.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(a,u){super(),this.textModel=a,this.languageConfigurationService=u,this.bracketPairsTree=this._register(new y.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(h=>{var l;(!h.languageId||!((l=this.bracketPairsTree.value)===null||l===void 0)&&l.object.didLanguageChange(h.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(a){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(a){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(a){var u;(u=this.bracketPairsTree.value)===null||u===void 0||u.object.handleContentChanged(a)}handleDidChangeBackgroundTokenizationState(){var a;(a=this.bracketPairsTree.value)===null||a===void 0||a.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(a){var u;(u=this.bracketPairsTree.value)===null||u===void 0||u.object.handleDidChangeTokens(a)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const a=new y.DisposableStore;this.bracketPairsTree.value=C(a.add(new _.BracketPairsTree(this.textModel,u=>this.languageConfigurationService.getLanguageConfiguration(u))),a),a.add(this.bracketPairsTree.value.object.onDidChange(u=>this.onDidChangeEmitter.fire(u))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(a){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketPairsInRange(a,!1))||L.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(a){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketPairsInRange(a,!0))||L.CallbackIterable.empty}getBracketsInRange(a,u=!1){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketsInRange(a,u))||L.CallbackIterable.empty}findMatchingBracketUp(a,u,h){const l=this.textModel.validatePosition(u),c=this.textModel.getLanguageIdAtPosition(l.lineNumber,l.column);if(this.canBuildAST){const o=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew.getClosingBracketInfo(a);if(!o)return null;const d=this.getBracketPairsInRange(D.Range.fromPositions(u,u)).findLast(r=>o.closes(r.openingBracketInfo));return d?d.openingBracketRange:null}else{const o=a.toLowerCase(),d=this.languageConfigurationService.getLanguageConfiguration(c).brackets;if(!d)return null;const r=d.textIsBracket[o];return r?i(this._findMatchingBracketUp(r,l,s(h))):null}}matchBracket(a,u){if(this.canBuildAST){const h=this.getBracketPairsInRange(D.Range.fromPositions(a,a)).filter(l=>l.closingBracketRange!==void 0&&(l.openingBracketRange.containsPosition(a)||l.closingBracketRange.containsPosition(a))).findLastMaxBy((0,L.compareBy)(l=>l.openingBracketRange.containsPosition(a)?l.openingBracketRange:l.closingBracketRange,D.Range.compareRangesUsingStarts));return h?[h.openingBracketRange,h.closingBracketRange]:null}else{const h=s(u);return this._matchBracket(this.textModel.validatePosition(a),h)}}_establishBracketSearchOffsets(a,u,h,l){const c=u.getCount(),o=u.getLanguageId(l);let d=Math.max(0,a.column-1-h.maxBracketLength);for(let g=l-1;g>=0;g--){const f=u.getEndOffset(g);if(f<=d)break;if((0,S.ignoreBracketsInToken)(u.getStandardTokenType(g))||u.getLanguageId(g)!==o){d=f;break}}let r=Math.min(u.getLineContent().length,a.column-1+h.maxBracketLength);for(let g=l+1;g<c;g++){const f=u.getStartOffset(g);if(f>=r)break;if((0,S.ignoreBracketsInToken)(u.getStandardTokenType(g))||u.getLanguageId(g)!==o){r=f;break}}return{searchStartOffset:d,searchEndOffset:r}}_matchBracket(a,u){const h=a.lineNumber,l=this.textModel.tokenization.getLineTokens(h),c=this.textModel.getLineContent(h),o=l.findTokenIndexAtOffset(a.column-1);if(o<0)return null;const d=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId(o)).brackets;if(d&&!(0,S.ignoreBracketsInToken)(l.getStandardTokenType(o))){let{searchStartOffset:r,searchEndOffset:g}=this._establishBracketSearchOffsets(a,l,d,o),f=null;for(;;){const p=m.BracketsUtils.findNextBracketInRange(d.forwardRegex,h,c,r,g);if(!p)break;if(p.startColumn<=a.column&&a.column<=p.endColumn){const b=c.substring(p.startColumn-1,p.endColumn-1).toLowerCase(),w=this._matchFoundBracket(p,d.textIsBracket[b],d.textIsOpenBracket[b],u);if(w){if(w instanceof n)return null;f=w}}r=p.endColumn-1}if(f)return f}if(o>0&&l.getStartOffset(o)===a.column-1){const r=o-1,g=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId(r)).brackets;if(g&&!(0,S.ignoreBracketsInToken)(l.getStandardTokenType(r))){const{searchStartOffset:f,searchEndOffset:p}=this._establishBracketSearchOffsets(a,l,g,r),b=m.BracketsUtils.findPrevBracketInRange(g.reversedRegex,h,c,f,p);if(b&&b.startColumn<=a.column&&a.column<=b.endColumn){const w=c.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),E=this._matchFoundBracket(b,g.textIsBracket[w],g.textIsOpenBracket[w],u);if(E)return E instanceof n?null:E}}}return null}_matchFoundBracket(a,u,h,l){if(!u)return null;const c=h?this._findMatchingBracketDown(u,a.getEndPosition(),l):this._findMatchingBracketUp(u,a.getStartPosition(),l);return c?c instanceof n?c:[a,c]:null}_findMatchingBracketUp(a,u,h){const l=a.languageId,c=a.reversedRegex;let o=-1,d=0;const r=(g,f,p,b)=>{for(;;){if(h&&++d%100===0&&!h())return n.INSTANCE;const w=m.BracketsUtils.findPrevBracketInRange(c,g,f,p,b);if(!w)break;const E=f.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(a.isOpen(E)?o++:a.isClose(E)&&o--,o===0)return w;b=w.startColumn-1}return null};for(let g=u.lineNumber;g>=1;g--){const f=this.textModel.tokenization.getLineTokens(g),p=f.getCount(),b=this.textModel.getLineContent(g);let w=p-1,E=b.length,I=b.length;g===u.lineNumber&&(w=f.findTokenIndexAtOffset(u.column-1),E=u.column-1,I=u.column-1);let N=!0;for(;w>=0;w--){const R=f.getLanguageId(w)===l&&!(0,S.ignoreBracketsInToken)(f.getStandardTokenType(w));if(R)N?E=f.getStartOffset(w):(E=f.getStartOffset(w),I=f.getEndOffset(w));else if(N&&E!==I){const F=r(g,b,E,I);if(F)return F}N=R}if(N&&E!==I){const R=r(g,b,E,I);if(R)return R}}return null}_findMatchingBracketDown(a,u,h){const l=a.languageId,c=a.forwardRegex;let o=1,d=0;const r=(f,p,b,w)=>{for(;;){if(h&&++d%100===0&&!h())return n.INSTANCE;const E=m.BracketsUtils.findNextBracketInRange(c,f,p,b,w);if(!E)break;const I=p.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(a.isOpen(I)?o++:a.isClose(I)&&o--,o===0)return E;b=E.endColumn-1}return null},g=this.textModel.getLineCount();for(let f=u.lineNumber;f<=g;f++){const p=this.textModel.tokenization.getLineTokens(f),b=p.getCount(),w=this.textModel.getLineContent(f);let E=0,I=0,N=0;f===u.lineNumber&&(E=p.findTokenIndexAtOffset(u.column-1),I=u.column-1,N=u.column-1);let R=!0;for(;E<b;E++){const F=p.getLanguageId(E)===l&&!(0,S.ignoreBracketsInToken)(p.getStandardTokenType(E));if(F)R||(I=p.getStartOffset(E)),N=p.getEndOffset(E);else if(R&&I!==N){const M=r(f,w,I,N);if(M)return M}R=F}if(R&&I!==N){const F=r(f,w,I,N);if(F)return F}}return null}findPrevBracket(a){var u;const h=this.textModel.validatePosition(a);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getFirstBracketBefore(h))||null;let l=null,c=null,o=null;for(let d=h.lineNumber;d>=1;d--){const r=this.textModel.tokenization.getLineTokens(d),g=r.getCount(),f=this.textModel.getLineContent(d);let p=g-1,b=f.length,w=f.length;if(d===h.lineNumber){p=r.findTokenIndexAtOffset(h.column-1),b=h.column-1,w=h.column-1;const I=r.getLanguageId(p);l!==I&&(l=I,c=this.languageConfigurationService.getLanguageConfiguration(l).brackets,o=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew)}let E=!0;for(;p>=0;p--){const I=r.getLanguageId(p);if(l!==I){if(c&&o&&E&&b!==w){const R=m.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,f,b,w);if(R)return this._toFoundBracket(o,R);E=!1}l=I,c=this.languageConfigurationService.getLanguageConfiguration(l).brackets,o=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew}const N=!!c&&!(0,S.ignoreBracketsInToken)(r.getStandardTokenType(p));if(N)E?b=r.getStartOffset(p):(b=r.getStartOffset(p),w=r.getEndOffset(p));else if(o&&c&&E&&b!==w){const R=m.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,f,b,w);if(R)return this._toFoundBracket(o,R)}E=N}if(o&&c&&E&&b!==w){const I=m.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,f,b,w);if(I)return this._toFoundBracket(o,I)}}return null}findNextBracket(a){var u;const h=this.textModel.validatePosition(a);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getFirstBracketAfter(h))||null;const l=this.textModel.getLineCount();let c=null,o=null,d=null;for(let r=h.lineNumber;r<=l;r++){const g=this.textModel.tokenization.getLineTokens(r),f=g.getCount(),p=this.textModel.getLineContent(r);let b=0,w=0,E=0;if(r===h.lineNumber){b=g.findTokenIndexAtOffset(h.column-1),w=h.column-1,E=h.column-1;const N=g.getLanguageId(b);c!==N&&(c=N,o=this.languageConfigurationService.getLanguageConfiguration(c).brackets,d=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew)}let I=!0;for(;b<f;b++){const N=g.getLanguageId(b);if(c!==N){if(d&&o&&I&&w!==E){const F=m.BracketsUtils.findNextBracketInRange(o.forwardRegex,r,p,w,E);if(F)return this._toFoundBracket(d,F);I=!1}c=N,o=this.languageConfigurationService.getLanguageConfiguration(c).brackets,d=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew}const R=!!o&&!(0,S.ignoreBracketsInToken)(g.getStandardTokenType(b));if(R)I||(w=g.getStartOffset(b)),E=g.getEndOffset(b);else if(d&&o&&I&&w!==E){const F=m.BracketsUtils.findNextBracketInRange(o.forwardRegex,r,p,w,E);if(F)return this._toFoundBracket(d,F)}I=R}if(d&&o&&I&&w!==E){const N=m.BracketsUtils.findNextBracketInRange(o.forwardRegex,r,p,w,E);if(N)return this._toFoundBracket(d,N)}}return null}findEnclosingBrackets(a,u){const h=this.textModel.validatePosition(a);if(this.canBuildAST){const w=D.Range.fromPositions(h),E=this.getBracketPairsInRange(D.Range.fromPositions(h,h)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(w));return E?[E.openingBracketRange,E.closingBracketRange]:null}const l=s(u),c=this.textModel.getLineCount(),o=new Map;let d=[];const r=(w,E)=>{if(!o.has(w)){const I=[];for(let N=0,R=E?E.brackets.length:0;N<R;N++)I[N]=0;o.set(w,I)}d=o.get(w)};let g=0;const f=(w,E,I,N,R)=>{for(;;){if(l&&++g%100===0&&!l())return n.INSTANCE;const F=m.BracketsUtils.findNextBracketInRange(w.forwardRegex,E,I,N,R);if(!F)break;const M=I.substring(F.startColumn-1,F.endColumn-1).toLowerCase(),A=w.textIsBracket[M];if(A&&(A.isOpen(M)?d[A.index]++:A.isClose(M)&&d[A.index]--,d[A.index]===-1))return this._matchFoundBracket(F,A,!1,l);N=F.endColumn-1}return null};let p=null,b=null;for(let w=h.lineNumber;w<=c;w++){const E=this.textModel.tokenization.getLineTokens(w),I=E.getCount(),N=this.textModel.getLineContent(w);let R=0,F=0,M=0;if(w===h.lineNumber){R=E.findTokenIndexAtOffset(h.column-1),F=h.column-1,M=h.column-1;const T=E.getLanguageId(R);p!==T&&(p=T,b=this.languageConfigurationService.getLanguageConfiguration(p).brackets,r(p,b))}let A=!0;for(;R<I;R++){const T=E.getLanguageId(R);if(p!==T){if(b&&A&&F!==M){const P=f(b,w,N,F,M);if(P)return i(P);A=!1}p=T,b=this.languageConfigurationService.getLanguageConfiguration(p).brackets,r(p,b)}const O=!!b&&!(0,S.ignoreBracketsInToken)(E.getStandardTokenType(R));if(O)A||(F=E.getStartOffset(R)),M=E.getEndOffset(R);else if(b&&A&&F!==M){const P=f(b,w,N,F,M);if(P)return i(P)}A=O}if(b&&A&&F!==M){const T=f(b,w,N,F,M);if(T)return i(T)}}return null}_toFoundBracket(a,u){if(!u)return null;let h=this.textModel.getValueInRange(u);h=h.toLowerCase();const l=a.getBracketInfo(h);return l?{range:u,bracketInfo:l}:null}}e.BracketPairsTextModelPart=v;function C(t,a){return{object:t,dispose:()=>a?.dispose()}}function s(t){if(typeof t>"u")return()=>!0;{const a=Date.now();return()=>Date.now()-a<=t}}class n{constructor(){this._searchCanceledBrand=void 0}}n.INSTANCE=new n;function i(t){return t instanceof n?null:t}}),define(ee[323],te([1,0,6,10,5,48,285,122,322,2]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends v.Disposable{constructor(n,i,t,a,u,h,l){super(),this._onDidChangeContent=this._register(new L.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!h,this._mightContainRTL=a,this._mightContainUnusualLineTerminators=u,this._pieceTree=new S.PieceTreeBase(n,t,l)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(n){return this._pieceTree.createSnapshot(n?this._BOM:"")}getOffsetAt(n,i){return this._pieceTree.getOffsetAt(n,i)}getPositionAt(n){return this._pieceTree.getPositionAt(n)}getRangeAt(n,i){const t=n+i,a=this.getPositionAt(n),u=this.getPositionAt(t);return new y.Range(a.lineNumber,a.column,u.lineNumber,u.column)}getValueInRange(n,i=0){if(n.isEmpty())return"";const t=this._getEndOfLine(i);return this._pieceTree.getValueInRange(n,t)}getValueLengthInRange(n,i=0){if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;const t=this.getOffsetAt(n.startLineNumber,n.startColumn),a=this.getOffsetAt(n.endLineNumber,n.endColumn);let u=0;const h=this._getEndOfLine(i),l=this.getEOL();if(h.length!==l.length){const c=h.length-l.length,o=n.endLineNumber-n.startLineNumber;u=c*o}return a-t+u}getCharacterCountInRange(n,i=0){if(this._mightContainNonBasicASCII){let t=0;const a=n.startLineNumber,u=n.endLineNumber;for(let h=a;h<=u;h++){const l=this.getLineContent(h),c=h===a?n.startColumn-1:0,o=h===u?n.endColumn-1:l.length;for(let d=c;d<o;d++)k.isHighSurrogate(l.charCodeAt(d))?(t=t+1,d=d+1):t=t+1}return t+=this._getEndOfLine(i).length*(u-a),t}return this.getValueLengthInRange(n,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(n){return this._pieceTree.getLineContent(n)}getLineCharCode(n,i){return this._pieceTree.getLineCharCode(n,i)}getLineLength(n){return this._pieceTree.getLineLength(n)}getLineFirstNonWhitespaceColumn(n){const i=k.firstNonWhitespaceIndex(this.getLineContent(n));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(n){const i=k.lastNonWhitespaceIndex(this.getLineContent(n));return i===-1?0:i+2}_getEndOfLine(n){switch(n){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(n){this._pieceTree.setEOL(n)}applyEdits(n,i,t){let a=this._mightContainRTL,u=this._mightContainUnusualLineTerminators,h=this._mightContainNonBasicASCII,l=!0,c=[];for(let b=0;b<n.length;b++){const w=n[b];l&&w._isTracked&&(l=!1);const E=w.range;if(w.text){let M=!0;h||(M=!k.isBasicASCII(w.text),h=M),!a&&M&&(a=k.containsRTL(w.text)),!u&&M&&(u=k.containsUnusualLineTerminators(w.text))}let I="",N=0,R=0,F=0;if(w.text){let M;[N,R,F,M]=(0,m.countEOL)(w.text);const A=this.getEOL();M===0||M===(A===`\r
`?2:1)?I=w.text:I=w.text.replace(/\r\n|\r|\n/g,A)}c[b]={sortIndex:b,identifier:w.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:N,firstLineLength:R,lastLineLength:F,forceMoveMarkers:!!w.forceMoveMarkers,isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}c.sort(C._sortOpsAscending);let o=!1;for(let b=0,w=c.length-1;b<w;b++){const E=c[b].range.getEndPosition(),I=c[b+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");o=!0}}l&&(c=this._reduceOperations(c));const d=t||i?C._getInverseEditRanges(c):[],r=[];if(i)for(let b=0;b<c.length;b++){const w=c[b],E=d[b];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let N="";I===E.startLineNumber&&(N=this.getLineContent(w.range.startLineNumber),k.firstNonWhitespaceIndex(N)!==-1)||r.push({lineNumber:I,oldContent:N})}}let g=null;if(t){let b=0;g=[];for(let w=0;w<c.length;w++){const E=c[w],I=d[w],N=this.getValueInRange(E.range),R=E.rangeOffset+b;b+=E.text.length-N.length,g[w]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:N,textChange:new _.TextChange(E.rangeOffset,N,R,E.text)}}o||g.sort((w,E)=>w.sortIndex-E.sortIndex)}this._mightContainRTL=a,this._mightContainUnusualLineTerminators=u,this._mightContainNonBasicASCII=h;const f=this._doApplyEdits(c);let p=null;if(i&&r.length>0){r.sort((b,w)=>w.lineNumber-b.lineNumber),p=[];for(let b=0,w=r.length;b<w;b++){const E=r[b].lineNumber;if(b>0&&r[b-1].lineNumber===E)continue;const I=r[b].oldContent,N=this.getLineContent(E);N.length===0||N===I||k.firstNonWhitespaceIndex(N)!==-1||p.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(g,f,p)}_reduceOperations(n){return n.length<1e3?n:[this._toSingleEditOperation(n)]}_toSingleEditOperation(n){let i=!1;const t=n[0].range,a=n[n.length-1].range,u=new y.Range(t.startLineNumber,t.startColumn,a.endLineNumber,a.endColumn);let h=t.startLineNumber,l=t.startColumn;const c=[];for(let f=0,p=n.length;f<p;f++){const b=n[f],w=b.range;i=i||b.forceMoveMarkers,c.push(this.getValueInRange(new y.Range(h,l,w.startLineNumber,w.startColumn))),b.text.length>0&&c.push(b.text),h=w.endLineNumber,l=w.endColumn}const o=c.join(""),[d,r,g]=(0,m.countEOL)(o);return{sortIndex:0,identifier:n[0].identifier,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u,0),text:o,eolCount:d,firstLineLength:r,lastLineLength:g,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(n){n.sort(C._sortOpsDescending);const i=[];for(let t=0;t<n.length;t++){const a=n[t],u=a.range.startLineNumber,h=a.range.startColumn,l=a.range.endLineNumber,c=a.range.endColumn;if(u===l&&h===c&&a.text.length===0)continue;a.text?(this._pieceTree.delete(a.rangeOffset,a.rangeLength),this._pieceTree.insert(a.rangeOffset,a.text,!0)):this._pieceTree.delete(a.rangeOffset,a.rangeLength);const o=new y.Range(u,h,l,c);i.push({range:o,rangeLength:a.rangeLength,text:a.text,rangeOffset:a.rangeOffset,forceMoveMarkers:a.forceMoveMarkers})}return i}findMatchesLineByLine(n,i,t,a){return this._pieceTree.findMatchesLineByLine(n,i,t,a)}static _getInverseEditRanges(n){const i=[];let t=0,a=0,u=null;for(let h=0,l=n.length;h<l;h++){const c=n[h];let o,d;u?u.range.endLineNumber===c.range.startLineNumber?(o=t,d=a+(c.range.startColumn-u.range.endColumn)):(o=t+(c.range.startLineNumber-u.range.endLineNumber),d=c.range.startColumn):(o=c.range.startLineNumber,d=c.range.startColumn);let r;if(c.text.length>0){const g=c.eolCount+1;g===1?r=new y.Range(o,d,o,d+c.firstLineLength):r=new y.Range(o,d,o+g-1,c.lastLineLength+1)}else r=new y.Range(o,d,o,d);t=r.endLineNumber,a=r.endColumn,i.push(r),u=c}return i}static _sortOpsAscending(n,i){const t=y.Range.compareRangesUsingEnds(n.range,i.range);return t===0?n.sortIndex-i.sortIndex:t}static _sortOpsDescending(n,i){const t=y.Range.compareRangesUsingEnds(n.range,i.range);return t===0?i.sortIndex-n.sortIndex:-t}}e.PieceTreeTextBuffer=C}),define(ee[598],te([1,0,10,285,323]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(_,v,C,s,n,i,t,a,u){this._chunks=_,this._bom=v,this._cr=C,this._lf=s,this._crlf=n,this._containsRTL=i,this._containsUnusualLineTerminators=t,this._isBasicASCII=a,this._normalizeEOL=u}_getEOL(_){const v=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return v===0?_===1?`
`:`\r
`:C>v/2?`\r
`:`
`}create(_){const v=this._getEOL(_),C=this._chunks;if(this._normalizeEOL&&(v===`\r
`&&(this._cr>0||this._lf>0)||v===`
`&&(this._cr>0||this._crlf>0)))for(let n=0,i=C.length;n<i;n++){const t=C[n].buffer.replace(/\r\n|\r|\n/g,v),a=(0,k.createLineStartsFast)(t);C[n]=new k.StringBuffer(t,a)}const s=new y.PieceTreeTextBuffer(C,this._bom,v,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(_){if(_.length===0)return;this.chunks.length===0&&L.startsWithUTF8BOM(_)&&(this.BOM=L.UTF8_BOM_CHARACTER,_=_.substr(1));const v=_.charCodeAt(_.length-1);v===13||v>=55296&&v<=56319?(this._acceptChunk1(_.substr(0,_.length-1),!1),this._hasPreviousChar=!0,this._previousChar=v):(this._acceptChunk1(_,!1),this._hasPreviousChar=!1,this._previousChar=v)}_acceptChunk1(_,v){!v&&_.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_):this._acceptChunk2(_))}_acceptChunk2(_){const v=(0,k.createLineStarts)(this._tmpLineStarts,_);this.chunks.push(new k.StringBuffer(_,v.lineStarts)),this.cr+=v.cr,this.lf+=v.lf,this.crlf+=v.crlf,v.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=L.containsRTL(_)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=L.containsUnusualLineTerminators(_)))}finish(_=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const _=this.chunks[this.chunks.length-1];_.buffer+=String.fromCharCode(this._previousChar);const v=(0,k.createLineStartsFast)(_.buffer);_.lineStarts=v,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ee[599],te([1,0,138,17]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function y(_){for(let v=0,C=_.length;v<C;v+=4){const s=_[v+0],n=_[v+1],i=_[v+2],t=_[v+3];_[v+0]=t,_[v+1]=i,_[v+2]=n,_[v+3]=s}}function D(_){const v=new Uint8Array(_.buffer,_.byteOffset,_.length*4);return k.isLittleEndian()||y(v),L.VSBuffer.wrap(v)}function S(_){const v=new Uint32Array(m(_));let C=0;if(v[C++]=_.id,_.type==="full")v[C++]=1,v[C++]=_.data.length,v.set(_.data,C),C+=_.data.length;else{v[C++]=2,v[C++]=_.deltas.length;for(const s of _.deltas)v[C++]=s.start,v[C++]=s.deleteCount,s.data?(v[C++]=s.data.length,v.set(s.data,C),C+=s.data.length):v[C++]=0}return D(v)}e.encodeSemanticTokensDto=S;function m(_){let v=0;if(v+=1+1,_.type==="full")v+=1+_.data.length;else{v+=1,v+=(1+1+1)*_.deltas.length;for(const C of _.deltas)C.data&&(v+=C.data.length)}return v}}),define(ee[185],te([1,0,6,2,17]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(s,n){return!!s[n]}class S{constructor(n,i){this.target=n.target,this.isLeftClick=n.event.leftButton,this.isMiddleClick=n.event.middleButton,this.isRightClick=n.event.rightButton,this.hasTriggerModifier=D(n.event,i.triggerModifier),this.hasSideBySideModifier=D(n.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1}}e.ClickLinkMouseEvent=S;class m{constructor(n,i){this.keyCodeIsTriggerKey=n.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=D(n,i.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class _{constructor(n,i,t,a){this.triggerKey=n,this.triggerModifier=i,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=a}equals(n){return this.triggerKey===n.triggerKey&&this.triggerModifier===n.triggerModifier&&this.triggerSideBySideKey===n.triggerSideBySideKey&&this.triggerSideBySideModifier===n.triggerSideBySideModifier}}e.ClickLinkOptions=_;function v(s){return s==="altKey"?y.isMacintosh?new _(57,"metaKey",6,"altKey"):new _(5,"ctrlKey",6,"altKey"):y.isMacintosh?new _(6,"altKey",57,"metaKey"):new _(6,"altKey",5,"ctrlKey")}class C extends k.Disposable{constructor(n,i){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new L.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new L.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new L.Emitter),this.onCancel=this._onCancel.event,this._editor=n,this._extractLineNumberFromMouseEvent=(t=i?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:a=>a.target.position?a.target.position.lineNumber:0,this._opts=v(this._editor.getOption(76)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(76)){const u=v(this._editor.getOption(76));if(this._opts.equals(u))return;this._opts=u,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new S(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new S(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new S(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new m(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new m(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(n){n.selection&&n.selection.startColumn!==n.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(n){this._lastMouseMoveEvent=n,this._onMouseMoveOrRelevantKeyDown.fire([n,null])}_onEditorMouseDown(n){this._hasTriggerKeyOnMouseDown=n.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(n)}_onEditorMouseUp(n){const i=this._extractLineNumberFromMouseEvent(n);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(n)}_onEditorKeyDown(n){this._lastMouseMoveEvent&&(n.keyCodeIsTriggerKey||n.keyCodeIsSideBySideKey&&n.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,n]):n.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(n){n.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C});var yt=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],L;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=G[D]&&function(S){return new Promise(function(m,_){S=G[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(v){D({value:v,done:m})},S)}};define(ee[324],te([1,0,13,9,6,2]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(v,C,s){this.value=v,this.isComplete=C,this.hasLoadingMessage=s}}e.HoverResult=S;class m extends D.Disposable{constructor(v,C){super(),this._editor=v,this._computer=C,this._onResult=this._register(new y.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(59).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(v,C=!0){this._state=v,C&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,L.createCancelableAsyncIterable)(v=>this._computer.computeAsync(v)),Se(this,void 0,void 0,function*(){var v,C,s,n;try{try{for(var i=!0,t=yt(this._asyncIterable),a;a=yield t.next(),v=a.done,!v;i=!0){n=a.value,i=!1;const u=n;u&&(this._result.push(u),this._fireResult())}}catch(u){C={error:u}}finally{try{!i&&!v&&(s=t.return)&&(yield s.call(t))}finally{if(C)throw C.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(u){(0,k.onUnexpectedError)(u)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const v=this._state===0,C=this._state===4;this._onResult.fire(new S(this._result.slice(0),v,C))}start(v){if(v===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=m}),define(ee[600],te([1,0,224,2,12,7]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const S=30,m=24;class _ extends k.Disposable{constructor(C,s=new D.Dimension(10,10)){super(),this._editor=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new L.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(s),this._resizableNode.layout(s.height,s.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(n=>{this._resize(new D.Dimension(n.dimension.width,n.dimension.height)),n.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var C;return!((C=this._contentPosition)===null||C===void 0)&&C.position?y.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(C){const s=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(C);return!s||!n?void 0:D.getDomNodePagePosition(s).top+n.top-S}_availableVerticalSpaceBelow(C){const s=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(C);if(!s||!n)return;const i=D.getDomNodePagePosition(s),t=D.getClientArea(document.body),a=i.top+n.top+n.height;return t.height-a-m}_findPositionPreference(C,s){var n,i;const t=Math.min((n=this._availableVerticalSpaceBelow(s))!==null&&n!==void 0?n:1/0,C),a=Math.min((i=this._availableVerticalSpaceAbove(s))!==null&&i!==void 0?i:1/0,C),u=Math.min(Math.max(a,t),C),h=Math.min(C,u);let l;return this._editor.getOption(59).above?l=h<=a?1:2:l=h<=t?2:1,l===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),l}_resize(C){this._resizableNode.layout(C.height,C.width)}}e.ResizableContentWidget=_}),define(ee[325],te([1,0,9,2,12,5,54,21]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class _{constructor(i,t){this.range=i,this.direction=t}}e.InlayHintAnchor=_;class v{constructor(i,t,a){this.hint=i,this.anchor=t,this.provider=a,this._isResolved=!1}with(i){const t=new v(this.hint,i.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(i){return Se(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(i){var t,a;return Se(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(t=u?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(a=u?.label)!==null&&a!==void 0?a:this.hint.label,this._isResolved=!0}catch(u){(0,L.onUnexpectedExternalError)(u),this._isResolved=!1}})}}e.InlayHintItem=v;class C{static create(i,t,a,u){return Se(this,void 0,void 0,function*(){const h=[],l=i.ordered(t).reverse().map(c=>a.map(o=>Se(this,void 0,void 0,function*(){try{const d=yield c.provideInlayHints(t,o,u);d?.hints.length&&h.push([d,c])}catch(d){(0,L.onUnexpectedExternalError)(d)}})));if(yield Promise.all(l.flat()),u.isCancellationRequested||t.isDisposed())throw new L.CancellationError;return new C(a,h,t)})}constructor(i,t,a){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const u=[];for(const[h,l]of t){this._disposables.add(h),this.provider.add(l);for(const c of h.hints){const o=a.validatePosition(c.position);let d="before";const r=C._getRangeAtPosition(a,o);let g;r.getStartPosition().isBefore(o)?(g=D.Range.fromPositions(r.getStartPosition(),o),d="after"):(g=D.Range.fromPositions(o,r.getEndPosition()),d="before"),u.push(new v(c,new _(g,d),l))}}this.items=u.sort((h,l)=>y.Position.compare(h.hint.position,l.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,t){const a=t.lineNumber,u=i.getWordAtPosition(t);if(u)return new D.Range(a,u.startColumn,a,u.endColumn);i.tokenization.tokenizeIfCheap(a);const h=i.tokenization.getLineTokens(a),l=t.column-1,c=h.findTokenIndexAtOffset(l);let o=h.getStartOffset(c),d=h.getEndOffset(c);return d-o===1&&(o===l&&c>1?(o=h.getStartOffset(c-1),d=h.getEndOffset(c-1)):d===l&&c<h.getCount()-1&&(o=h.getStartOffset(c+1),d=h.getEndOffset(c+1))),new D.Range(a,o+1,a,d+1)}}e.InlayHintsFragments=C;function s(n){return m.URI.from({scheme:S.Schemas.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}e.asCommandLink=s}),define(ee[601],te([1,0,96,13,19,163,9,5,508,150,127]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=e.provideInlineCompletions=void 0;function s(h,l,c,o,d=y.CancellationToken.None,r){return Se(this,void 0,void 0,function*(){const g=a(l,c),f=h.all(c),p=new D.SetMap;for(const A of f)A.groupId&&p.add(A.groupId,A);function b(A){if(!A.yieldsToGroupIds)return[];const T=[];for(const O of A.yieldsToGroupIds||[]){const P=p.get(O);for(const x of P)T.push(x)}return T}const w=new Map,E=new Set;function I(A,T){if(T=[...T,A],E.has(A))return T;E.add(A);try{const O=b(A);for(const P of O){const x=I(P,T);if(x)return x}}finally{E.delete(A)}}function N(A){const T=w.get(A);if(T)return T;const O=I(A,[]);O&&(0,S.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${O.map(x=>x.toString?x.toString():""+x).join(" -> ")}`));const P=new k.DeferredPromise;return w.set(A,P.p),(()=>Se(this,void 0,void 0,function*(){if(!O){const x=b(A);for(const z of x){const q=yield N(z);if(q&&q.items.length>0)return}}try{return yield A.provideInlineCompletions(c,l,o,d)}catch(x){(0,S.onUnexpectedExternalError)(x);return}}))().then(x=>P.complete(x),x=>P.error(x)),P.p}const R=yield Promise.all(f.map(A=>Se(this,void 0,void 0,function*(){return{provider:A,completions:yield N(A)}}))),F=new Map,M=[];for(const A of R){const T=A.completions;if(!T)continue;const O=new i(T,A.provider);M.push(O);for(const P of T.items){const x=t.from(P,O,g,c,r);F.set(x.hash(),x)}}return new n(Array.from(F.values()),new Set(F.keys()),M)})}e.provideInlineCompletions=s;class n{constructor(l,c,o){this.completions=l,this.hashs=c,this.providerResults=o}has(l){return this.hashs.has(l.hash())}dispose(){for(const l of this.providerResults)l.removeRef()}}e.InlineCompletionProviderResult=n;class i{constructor(l,c){this.inlineCompletions=l,this.provider=c,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=i;class t{static from(l,c,o,d,r){let g,f,p=l.range?m.Range.lift(l.range):o;if(typeof l.insertText=="string"){if(g=l.insertText,r&&l.completeBracketPairs){g=u(g,p.getStartPosition(),d,r);const b=g.length-l.insertText.length;b!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+b))}f=void 0}else if("snippet"in l.insertText){const b=l.insertText.snippet.length;if(r&&l.completeBracketPairs){l.insertText.snippet=u(l.insertText.snippet,p.getStartPosition(),d,r);const E=l.insertText.snippet.length-b;E!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+E))}const w=new C.SnippetParser().parse(l.insertText.snippet);w.children.length===1&&w.children[0]instanceof C.Text?(g=w.children[0].value,f=void 0):(g=w.toString(),f={snippet:l.insertText.snippet,range:p})}else(0,L.assertNever)(l.insertText);return new t(g,l.command,p,g,f,l.additionalTextEdits||(0,v.getReadonlyEmptyArray)(),l,c)}constructor(l,c,o,d,r,g,f,p){this.filterText=l,this.command=c,this.range=o,this.insertText=d,this.snippetInfo=r,this.additionalTextEdits=g,this.sourceInlineCompletion=f,this.source=p,l=l.replace(/\r\n|\r/g,`
`),d=l.replace(/\r\n|\r/g,`
`)}withRange(l){return new t(this.filterText,this.command,l,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function a(h,l){const c=l.getWordAtPosition(h),o=l.getLineMaxColumn(h.lineNumber);return c?new m.Range(h.lineNumber,c.startColumn,h.lineNumber,o):m.Range.fromPositions(h,h.with(void 0,o))}function u(h,l,c,o){const r=c.getLineContent(l.lineNumber).substring(0,l.column-1)+h,g=c.tokenization.tokenizeLineWithEdit(l,r.length-(l.column-1),h),f=g?.sliceAndInflate(l.column-1,r.length,0);return f?(0,_.fixBracketsInLine)(f,o):h}}),define(ee[602],te([3,4]),function(G,e){return G.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[603],te([3,4]),function(G,e){return G.create("vs/editor/browser/coreCommands",e)}),define(ee[604],te([3,4]),function(G,e){return G.create("vs/editor/browser/editorExtensions",e)}),define(ee[605],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[606],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditor.contribution",e)}),define(ee[607],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer",e)}),define(ee[608],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/colors",e)}),define(ee[609],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/decorations",e)}),define(ee[610],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors",e)}),define(ee[611],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/hideUnchangedRegionsFeature",e)}),define(ee[612],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin",e)}),define(ee[613],te([1,0,7,41,26,2,17,27,612]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class v extends D.Disposable{get visibility(){return this._visibility}set visibility(s){this._visibility!==s&&(this._visibility=s,this._diffActions.style.visibility=s?"visible":"hidden")}constructor(s,n,i,t,a,u,h,l,c){super(),this._getViewZoneId=s,this._marginDomNode=n,this._modifiedEditor=i,this._diff=t,this._editor=a,this._viewLineCounts=u,this._originalTextModel=h,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.ThemeIcon.asClassName(y.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const o=this._modifiedEditor.getOption(65);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${o}px`,this._diffActions.style.lineHeight=`${o}px`,this._marginDomNode.appendChild(this._diffActions);let d=0;const r=i.getOption(125)&&!S.isIOS,g=(f,p)=>{var b;this._contextMenuService.showContextMenu({domForShadowRoot:r&&(b=i.getDomNode())!==null&&b!==void 0?b:void 0,getAnchor:()=>({x:f,y:p}),getActions:()=>{const w=[],E=t.modified.isEmpty;return w.push(new k.Action("diff.clipboard.copyDeletedContent",E?t.original.length>1?(0,_.localize)(0,null):(0,_.localize)(1,null):t.original.length>1?(0,_.localize)(2,null):(0,_.localize)(3,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const N=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());yield this._clipboardService.writeText(N)}))),t.original.length>1&&w.push(new k.Action("diff.clipboard.copyDeletedLineContent",E?(0,_.localize)(4,null,t.original.startLineNumber+d):(0,_.localize)(5,null,t.original.startLineNumber+d),void 0,!0,()=>Se(this,void 0,void 0,function*(){let N=this._originalTextModel.getLineContent(t.original.startLineNumber+d);N===""&&(N=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(N)}))),i.getOption(89)||w.push(new k.Action("diff.inline.revertChange",(0,_.localize)(6,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),w},autoSelectFirstItem:!0})};this._register((0,L.addStandardDisposableListener)(this._diffActions,"mousedown",f=>{const{top:p,height:b}=(0,L.getDomNodePagePosition)(this._diffActions),w=Math.floor(o/3);f.preventDefault(),g(f.posx,p+b+w)})),this._register(i.onMouseMove(f=>{(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._getViewZoneId()?(d=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,o),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(f=>{f.event.rightButton&&(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._getViewZoneId()&&(f.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,o),g(f.event.posx,f.event.posy+o))}))}_updateLightBulbPosition(s,n,i){const{top:t}=(0,L.getDomNodePagePosition)(s),a=n-t,u=Math.floor(a/i),h=u*i;if(this._diffActions.style.top=`${h}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],u<l)return c}return u}}e.InlineDiffDeletedCodeMargin=v}),define(ee[614],te([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines",e)}),define(ee[326],te([1,0,7,72,41,14,78,26,2,40,27,101,81,614]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesPart=void 0;class t extends _.Disposable{constructor(l,c,o,d,r){super(),this._rootElement=l,this._diffModel=c,this._originalEditorLayoutInfo=o,this._modifiedEditorLayoutInfo=d,this._editors=r,this._originalScrollTop=(0,v.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,v.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,v.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,v.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,v.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,v.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,v.derivedWithStore)((I,N)=>{var R;this._element.replaceChildren();const F=this._diffModel.read(I),M=(R=F?.diff.read(I))===null||R===void 0?void 0:R.movedTexts;if(!M||M.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(I);const A=this._originalEditorLayoutInfo.read(I),T=this._modifiedEditorLayoutInfo.read(I);if(!A||!T){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(I),this._originalViewZonesChangedSignal.read(I);const O=M.map(X=>{function ne(he,de){const ce=de.getTopForLineNumber(he.startLineNumber,!0),ae=de.getTopForLineNumber(he.endLineNumberExclusive,!0);return(ce+ae)/2}const oe=ne(X.lineRangeMapping.original,this._editors.original),Y=this._originalScrollTop.read(I),U=ne(X.lineRangeMapping.modified,this._editors.modified),W=this._modifiedScrollTop.read(I),V=oe-Y,Z=U-W,ie=Math.min(oe,U),le=Math.max(oe,U);return{range:new n.OffsetRange(ie,le),from:V,to:Z,fromWithoutScroll:oe,toWithoutScroll:U,move:X}});O.sort((0,D.tieBreakComparators)((0,D.compareBy)(X=>X.fromWithoutScroll>X.toWithoutScroll,D.booleanComparator),(0,D.compareBy)(X=>X.fromWithoutScroll>X.toWithoutScroll?X.fromWithoutScroll:-X.toWithoutScroll,D.numberComparator)));const P=a.compute(O.map(X=>X.range)),x=10,z=A.verticalScrollbarWidth,q=(P.getTrackCount()-1)*10+x*2,B=z+q+(T.contentLeft-t.movedCodeBlockPadding);let $=0;for(const X of O){const ne=P.getTrack($),oe=z+x+ne*10,Y=15,U=15,W=B,V=T.glyphMarginWidth+T.lineNumbersWidth,Z=18,ie=document.createElementNS("http://www.w3.org/2000/svg","rect");ie.classList.add("arrow-rectangle"),ie.setAttribute("x",`${W-V}`),ie.setAttribute("y",`${X.to-Z/2}`),ie.setAttribute("width",`${V}`),ie.setAttribute("height",`${Z}`),this._element.appendChild(ie);const le=document.createElementNS("http://www.w3.org/2000/svg","g"),he=document.createElementNS("http://www.w3.org/2000/svg","path");he.setAttribute("d",`M 0 ${X.from} L ${oe} ${X.from} L ${oe} ${X.to} L ${W-U} ${X.to}`),he.setAttribute("fill","none"),le.appendChild(he);const de=document.createElementNS("http://www.w3.org/2000/svg","polygon");de.classList.add("arrow"),N.add((0,v.autorun)(ce=>{he.classList.toggle("currentMove",X.move===F.activeMovedText.read(ce)),de.classList.toggle("currentMove",X.move===F.activeMovedText.read(ce))})),de.setAttribute("points",`${W-U},${X.to-Y/2} ${W},${X.to} ${W-U},${X.to+Y/2}`),le.appendChild(de),this._element.appendChild(le),$++}this.width.set(q,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,_.toDisposable)(()=>this._element.remove())),this._register((0,v.autorun)(I=>{const N=this._originalEditorLayoutInfo.read(I),R=this._modifiedEditorLayoutInfo.read(I);!N||!R||(this._element.style.left=`${N.width-N.verticalScrollbarWidth}px`,this._element.style.height=`${N.height}px`,this._element.style.width=`${N.verticalScrollbarWidth+N.contentLeft-t.movedCodeBlockPadding+this.width.read(I)}px`)})),this._register((0,v.recomputeInitiallyAndOnChange)(this._state));const g=(0,v.derived)(I=>{const N=this._diffModel.read(I),R=N?.diff.read(I);return R?R.movedTexts.map(F=>({move:F,original:new s.PlaceholderViewZone((0,v.constObservable)(F.lineRangeMapping.original.startLineNumber-1),18),modified:new s.PlaceholderViewZone((0,v.constObservable)(F.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,s.applyViewZones)(this._editors.original,g.map(I=>I.map(N=>N.original)))),this._register((0,s.applyViewZones)(this._editors.modified,g.map(I=>I.map(N=>N.modified)))),this._register((0,v.autorunWithStore)((I,N)=>{const R=g.read(I);for(const F of R)N.add(new u(this._editors.original,F.original,F.move,"original",this._diffModel.get())),N.add(new u(this._editors.modified,F.modified,F.move,"modified",this._diffModel.get()))}));const f=(0,v.observableFromEvent)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),p=(0,v.observableFromEvent)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),b=(0,v.observableSignalFromEvent)("original.onDidFocusEditorWidget",I=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>I(void 0),0))),w=(0,v.observableSignalFromEvent)("modified.onDidFocusEditorWidget",I=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>I(void 0),0)));let E="modified";this._register((0,v.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(I,N)=>(I.didChange(b)&&(E="original"),I.didChange(w)&&(E="modified"),!0)},I=>{b.read(I),w.read(I);const N=this._diffModel.read(I);if(!N)return;const R=N.diff.read(I);let F;if(R&&E==="original"){const M=f.read(I);M&&(F=R.movedTexts.find(A=>A.lineRangeMapping.original.contains(M.lineNumber)))}if(R&&E==="modified"){const M=p.read(I);M&&(F=R.movedTexts.find(A=>A.lineRangeMapping.modified.contains(M.lineNumber)))}F!==N.movedTextToCompare.get()&&N.movedTextToCompare.set(void 0,void 0),N.setActiveMovedText(F)}))}}e.MovedBlocksLinesPart=t,t.movedCodeBlockPadding=4;class a{static compute(l){const c=[],o=[];for(const d of l){let r=c.findIndex(g=>!g.intersectsStrict(d));r===-1&&(c.length>=6?r=(0,S.findMaxIdxBy)(c,(0,D.compareBy)(f=>f.intersectWithRangeLength(d),D.numberComparator)):(r=c.length,c.push(new n.OffsetRangeSet))),c[r].addRange(d),o.push(r)}return new a(c.length,o)}constructor(l,c){this._trackCount=l,this.trackPerLineIdx=c}getTrack(l){return this.trackPerLineIdx[l]}getTrackCount(){return this._trackCount}}class u extends s.ViewZoneOverlayWidget{constructor(l,c,o,d,r){const g=(0,L.h)("div.diff-hidden-lines-widget");super(l,c,g.root),this._editor=l,this._move=o,this._kind=d,this._diffModel=r,this._nodes=(0,L.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,L.h)("div.text-content@textContent"),(0,L.h)("div.action-bar@actionBar")]),g.root.appendChild(this._nodes.root);const f=(0,v.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,s.applyStyle)(this._nodes.root,{paddingRight:f.map(I=>I.verticalScrollbarWidth)}));let p;o.changes.length>0?p=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive):p=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive);const b=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),w=new y.Action("",p,"",!1);b.push(w,{icon:!1,label:!0});const E=new y.Action("","Compare",C.ThemeIcon.asClassName(m.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===o?void 0:this._move,void 0)});this._register((0,v.autorun)(I=>{const N=this._diffModel.movedTextToCompare.read(I)===o;E.checked=N})),b.push(E,{icon:!1,label:!0})}}}),define(ee[615],te([3,4]),function(G,e){return G.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ee[616],te([3,4]),function(G,e){return G.create("vs/editor/common/config/editorOptions",e)}),define(ee[38],te([1,0,14,52,17,174,145,616]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedFloat=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class _{constructor(fe){this._values=fe}hasChanged(fe){return this._values[fe]}}e.ConfigurationChangedEvent=_;class v{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=v;class C{constructor(fe,_e,pe,be){this.id=fe,this.name=_e,this.defaultValue=pe,this.schema=be}applyUpdate(fe,_e){return n(fe,_e)}compute(fe,_e,pe){return pe}}class s{constructor(fe,_e){this.newValue=fe,this.didChange=_e}}e.ApplyUpdateResult=s;function n(De,fe){if(typeof De!="object"||typeof fe!="object"||!De||!fe)return new s(fe,De!==fe);if(Array.isArray(De)||Array.isArray(fe)){const pe=Array.isArray(De)&&Array.isArray(fe)&&L.equals(De,fe);return new s(fe,!pe)}let _e=!1;for(const pe in fe)if(fe.hasOwnProperty(pe)){const be=n(De[pe],fe[pe]);be.didChange&&(De[pe]=be.newValue,_e=!0)}return new s(De,_e)}class i{constructor(fe){this.schema=void 0,this.id=fe,this.name="_never_",this.defaultValue=void 0}applyUpdate(fe,_e){return n(fe,_e)}validate(fe){return this.defaultValue}}class t{constructor(fe,_e,pe,be){this.id=fe,this.name=_e,this.defaultValue=pe,this.schema=be}applyUpdate(fe,_e){return n(fe,_e)}validate(fe){return typeof fe>"u"?this.defaultValue:fe}compute(fe,_e,pe){return pe}}function a(De,fe){return typeof De>"u"?fe:De==="false"?!1:!!De}e.boolean=a;class u extends t{constructor(fe,_e,pe,be=void 0){typeof be<"u"&&(be.type="boolean",be.default=pe),super(fe,_e,pe,be)}validate(fe){return a(fe,this.defaultValue)}}function h(De,fe,_e,pe){if(typeof De>"u")return fe;let be=parseInt(De,10);return isNaN(be)?fe:(be=Math.max(_e,be),be=Math.min(pe,be),be|0)}e.clampedInt=h;class l extends t{static clampedInt(fe,_e,pe,be){return h(fe,_e,pe,be)}constructor(fe,_e,pe,be,ke,Pe=void 0){typeof Pe<"u"&&(Pe.type="integer",Pe.default=pe,Pe.minimum=be,Pe.maximum=ke),super(fe,_e,pe,Pe),this.minimum=be,this.maximum=ke}validate(fe){return l.clampedInt(fe,this.defaultValue,this.minimum,this.maximum)}}function c(De,fe,_e,pe){if(typeof De>"u")return fe;const be=o.float(De,fe);return o.clamp(be,_e,pe)}e.clampedFloat=c;class o extends t{static clamp(fe,_e,pe){return fe<_e?_e:fe>pe?pe:fe}static float(fe,_e){if(typeof fe=="number")return fe;if(typeof fe>"u")return _e;const pe=parseFloat(fe);return isNaN(pe)?_e:pe}constructor(fe,_e,pe,be,ke){typeof ke<"u"&&(ke.type="number",ke.default=pe),super(fe,_e,pe,ke),this.validationFn=be}validate(fe){return this.validationFn(o.float(fe,this.defaultValue))}}class d extends t{static string(fe,_e){return typeof fe!="string"?_e:fe}constructor(fe,_e,pe,be=void 0){typeof be<"u"&&(be.type="string",be.default=pe),super(fe,_e,pe,be)}validate(fe){return d.string(fe,this.defaultValue)}}function r(De,fe,_e,pe){return typeof De!="string"?fe:pe&&De in pe?pe[De]:_e.indexOf(De)===-1?fe:De}e.stringSet=r;class g extends t{constructor(fe,_e,pe,be,ke=void 0){typeof ke<"u"&&(ke.type="string",ke.enum=be,ke.default=pe),super(fe,_e,pe,ke),this._allowedValues=be}validate(fe){return r(fe,this.defaultValue,this._allowedValues)}}class f extends C{constructor(fe,_e,pe,be,ke,Pe,Fe=void 0){typeof Fe<"u"&&(Fe.type="string",Fe.enum=ke,Fe.default=be),super(fe,_e,pe,Fe),this._allowedValues=ke,this._convert=Pe}validate(fe){return typeof fe!="string"?this.defaultValue:this._allowedValues.indexOf(fe)===-1?this.defaultValue:this._convert(fe)}}function p(De){switch(De){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class b extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.localize(0,null),m.localize(1,null),m.localize(2,null)],default:"auto",tags:["accessibility"],description:m.localize(3,null)})}validate(fe){switch(fe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(fe,_e,pe){return pe===0?fe.accessibilitySupport:pe}}class w extends C{constructor(){const fe={insertSpace:!0,ignoreEmptyLines:!0};super(22,"comments",fe,{"editor.comments.insertSpace":{type:"boolean",default:fe.insertSpace,description:m.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:fe.ignoreEmptyLines,description:m.localize(5,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{insertSpace:a(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(De){switch(De){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(De){De[De.Line=1]="Line",De[De.Block=2]="Block",De[De.Underline=3]="Underline",De[De.LineThin=4]="LineThin",De[De.BlockOutline=5]="BlockOutline",De[De.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function N(De){switch(De){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class R extends i{constructor(){super(139)}compute(fe,_e,pe){const be=["monaco-editor"];return _e.get(38)&&be.push(_e.get(38)),fe.extraEditorClassName&&be.push(fe.extraEditorClassName),_e.get(72)==="default"?be.push("mouse-default"):_e.get(72)==="copy"&&be.push("mouse-copy"),_e.get(109)&&be.push("showUnused"),_e.get(137)&&be.push("showDeprecated"),be.join(" ")}}class F extends u{constructor(){super(36,"emptySelectionClipboard",!0,{description:m.localize(6,null)})}compute(fe,_e,pe){return pe&&fe.emptySelectionClipboard}}class M extends C{constructor(){const fe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(40,"find",fe,{"editor.find.cursorMoveOnType":{type:"boolean",default:fe.cursorMoveOnType,description:m.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:fe.seedSearchStringFromSelection,enumDescriptions:[m.localize(8,null),m.localize(9,null),m.localize(10,null)],description:m.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:fe.autoFindInSelection,enumDescriptions:[m.localize(12,null),m.localize(13,null),m.localize(14,null)],description:m.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:fe.globalFindClipboard,description:m.localize(16,null),included:y.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:fe.addExtraSpaceOnTop,description:m.localize(17,null)},"editor.find.loop":{type:"boolean",default:fe.loop,description:m.localize(18,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{cursorMoveOnType:a(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof fe.seedSearchStringFromSelection=="boolean"?fe.seedSearchStringFromSelection?"always":"never":r(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof fe.autoFindInSelection=="boolean"?fe.autoFindInSelection?"always":"never":r(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(_e.loop,this.defaultValue.loop)}}}class A extends C{constructor(){super(50,"fontLigatures",A.OFF,{anyOf:[{type:"boolean",description:m.localize(19,null)},{type:"string",description:m.localize(20,null)}],description:m.localize(21,null),default:!1})}validate(fe){return typeof fe>"u"?this.defaultValue:typeof fe=="string"?fe==="false"?A.OFF:fe==="true"?A.ON:fe:fe?A.ON:A.OFF}}e.EditorFontLigatures=A,A.OFF='"liga" off, "calt" off',A.ON='"liga" on, "calt" on';class T extends C{constructor(){super(53,"fontVariations",T.OFF,{anyOf:[{type:"boolean",description:m.localize(22,null)},{type:"string",description:m.localize(23,null)}],description:m.localize(24,null),default:!1})}validate(fe){return typeof fe>"u"?this.defaultValue:typeof fe=="string"?fe==="false"?T.OFF:fe==="true"?T.TRANSLATE:fe:fe?T.TRANSLATE:T.OFF}compute(fe,_e,pe){return fe.fontInfo.fontVariationSettings}}e.EditorFontVariations=T,T.OFF="normal",T.TRANSLATE="translate";class O extends i{constructor(){super(49)}compute(fe,_e,pe){return fe.fontInfo}}class P extends t{constructor(){super(51,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:m.localize(25,null)})}validate(fe){const _e=o.float(fe,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:o.clamp(_e,6,100)}compute(fe,_e,pe){return fe.fontInfo.fontSize}}class x extends C{constructor(){super(52,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:x.MINIMUM_VALUE,maximum:x.MAXIMUM_VALUE,errorMessage:m.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:x.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:m.localize(27,null)})}validate(fe){return fe==="normal"||fe==="bold"?fe:String(l.clampedInt(fe,e.EDITOR_FONT_DEFAULTS.fontWeight,x.MINIMUM_VALUE,x.MAXIMUM_VALUE))}}x.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],x.MINIMUM_VALUE=1,x.MAXIMUM_VALUE=1e3;class z extends C{constructor(){const fe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:fe.multiple,enumDescriptions:[m.localize(28,null),m.localize(29,null),m.localize(30,null)]},pe=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(57,"gotoLocation",fe,{"editor.gotoLocation.multiple":{deprecationMessage:m.localize(31,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:m.localize(32,null)},_e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:m.localize(33,null)},_e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:m.localize(34,null)},_e),"editor.gotoLocation.multipleImplementations":Object.assign({description:m.localize(35,null)},_e),"editor.gotoLocation.multipleReferences":Object.assign({description:m.localize(36,null)},_e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:fe.alternativeDefinitionCommand,enum:pe,description:m.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:fe.alternativeTypeDefinitionCommand,enum:pe,description:m.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:fe.alternativeDeclarationCommand,enum:pe,description:m.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:fe.alternativeImplementationCommand,enum:pe,description:m.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:fe.alternativeReferenceCommand,enum:pe,description:m.localize(41,null)}})}validate(fe){var _e,pe,be,ke,Pe;if(!fe||typeof fe!="object")return this.defaultValue;const Fe=fe;return{multiple:r(Fe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=Fe.multipleDefinitions)!==null&&_e!==void 0?_e:r(Fe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(pe=Fe.multipleTypeDefinitions)!==null&&pe!==void 0?pe:r(Fe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(be=Fe.multipleDeclarations)!==null&&be!==void 0?be:r(Fe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ke=Fe.multipleImplementations)!==null&&ke!==void 0?ke:r(Fe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Pe=Fe.multipleReferences)!==null&&Pe!==void 0?Pe:r(Fe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(Fe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(Fe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(Fe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(Fe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(Fe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class q extends C{constructor(){const fe={enabled:!0,delay:300,sticky:!0,above:!0};super(59,"hover",fe,{"editor.hover.enabled":{type:"boolean",default:fe.enabled,description:m.localize(42,null)},"editor.hover.delay":{type:"number",default:fe.delay,minimum:0,maximum:1e4,description:m.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:fe.sticky,description:m.localize(44,null)},"editor.hover.above":{type:"boolean",default:fe.above,description:m.localize(45,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),delay:l.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:a(_e.sticky,this.defaultValue.sticky),above:a(_e.above,this.defaultValue.above)}}}class B extends i{constructor(){super(142)}compute(fe,_e,pe){return B.computeLayout(_e,{memory:fe.memory,outerWidth:fe.outerWidth,outerHeight:fe.outerHeight,isDominatedByLongLines:fe.isDominatedByLongLines,lineHeight:fe.fontInfo.lineHeight,viewLineCount:fe.viewLineCount,lineNumbersDigitCount:fe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:fe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:fe.fontInfo.maxDigitWidth,pixelRatio:fe.pixelRatio,glyphMarginDecorationLaneCount:fe.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(fe){const _e=fe.height/fe.lineHeight,pe=Math.floor(fe.paddingTop/fe.lineHeight);let be=Math.floor(fe.paddingBottom/fe.lineHeight);fe.scrollBeyondLastLine&&(be=Math.max(be,_e-1));const ke=(pe+fe.viewLineCount+be)/(fe.pixelRatio*fe.height),Pe=Math.floor(fe.viewLineCount/ke);return{typicalViewportLineCount:_e,extraLinesBeforeFirstLine:pe,extraLinesBeyondLastLine:be,desiredRatio:ke,minimapLineCount:Pe}}static _computeMinimapLayout(fe,_e){const pe=fe.outerWidth,be=fe.outerHeight,ke=fe.pixelRatio;if(!fe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ke*be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:be};const Pe=_e.stableMinimapLayoutInput,Fe=Pe&&fe.outerHeight===Pe.outerHeight&&fe.lineHeight===Pe.lineHeight&&fe.typicalHalfwidthCharacterWidth===Pe.typicalHalfwidthCharacterWidth&&fe.pixelRatio===Pe.pixelRatio&&fe.scrollBeyondLastLine===Pe.scrollBeyondLastLine&&fe.paddingTop===Pe.paddingTop&&fe.paddingBottom===Pe.paddingBottom&&fe.minimap.enabled===Pe.minimap.enabled&&fe.minimap.side===Pe.minimap.side&&fe.minimap.size===Pe.minimap.size&&fe.minimap.showSlider===Pe.minimap.showSlider&&fe.minimap.renderCharacters===Pe.minimap.renderCharacters&&fe.minimap.maxColumn===Pe.minimap.maxColumn&&fe.minimap.scale===Pe.minimap.scale&&fe.verticalScrollbarWidth===Pe.verticalScrollbarWidth&&fe.isViewportWrapping===Pe.isViewportWrapping,Ue=fe.lineHeight,qe=fe.typicalHalfwidthCharacterWidth,je=fe.scrollBeyondLastLine,Ze=fe.minimap.renderCharacters;let Ke=ke>=2?Math.round(fe.minimap.scale*2):fe.minimap.scale;const ot=fe.minimap.maxColumn,st=fe.minimap.size,lt=fe.minimap.side,dt=fe.verticalScrollbarWidth,rt=fe.viewLineCount,Ct=fe.remainingWidth,ht=fe.isViewportWrapping,bt=Ze?2:3;let ft=Math.floor(ke*be);const _t=ft/ke;let Ve=!1,Te=!1,Oe=bt*Ke,xe=Ke/ke,$e=1;if(st==="fill"||st==="fit"){const{typicalViewportLineCount:He,extraLinesBeforeFirstLine:Qe,extraLinesBeyondLastLine:Ye,desiredRatio:nt,minimapLineCount:Xe}=B.computeContainedMinimapLineCount({viewLineCount:rt,scrollBeyondLastLine:je,paddingTop:fe.paddingTop,paddingBottom:fe.paddingBottom,height:be,lineHeight:Ue,pixelRatio:ke});if(rt/Xe>1)Ve=!0,Te=!0,Ke=1,Oe=1,xe=Ke/ke;else{let et=!1,ct=Ke+1;if(st==="fit"){const St=Math.ceil((Qe+rt+Ye)*Oe);ht&&Fe&&Ct<=_e.stableFitRemainingWidth?(et=!0,ct=_e.stableFitMaxMinimapScale):et=St>ft}if(st==="fill"||et){Ve=!0;const St=Ke;Oe=Math.min(Ue*ke,Math.max(1,Math.floor(1/nt))),ht&&Fe&&Ct<=_e.stableFitRemainingWidth&&(ct=_e.stableFitMaxMinimapScale),Ke=Math.min(ct,Math.max(1,Math.floor(Oe/bt))),Ke>St&&($e=Math.min(2,Ke/St)),xe=Ke/ke/$e,ft=Math.ceil(Math.max(He,Qe+rt+Ye)*Oe),ht?(_e.stableMinimapLayoutInput=fe,_e.stableFitRemainingWidth=Ct,_e.stableFitMaxMinimapScale=Ke):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0)}}}const tt=Math.floor(ot*xe),it=Math.min(tt,Math.max(0,Math.floor((Ct-dt-2)*xe/(qe+xe)))+e.MINIMAP_GUTTER_WIDTH);let ze=Math.floor(ke*it);const Me=ze/ke;ze=Math.floor(ze*$e);const Be=Ze?1:2,We=lt==="left"?0:pe-it-dt;return{renderMinimap:Be,minimapLeft:We,minimapWidth:it,minimapHeightIsEditorHeight:Ve,minimapIsSampling:Te,minimapScale:Ke,minimapLineHeight:Oe,minimapCanvasInnerWidth:ze,minimapCanvasInnerHeight:ft,minimapCanvasOuterWidth:Me,minimapCanvasOuterHeight:_t}}static computeLayout(fe,_e){const pe=_e.outerWidth|0,be=_e.outerHeight|0,ke=_e.lineHeight|0,Pe=_e.lineNumbersDigitCount|0,Fe=_e.typicalHalfwidthCharacterWidth,Ue=_e.maxDigitWidth,qe=_e.pixelRatio,je=_e.viewLineCount,Ze=fe.get(134),Ke=Ze==="inherit"?fe.get(133):Ze,ot=Ke==="inherit"?fe.get(129):Ke,st=fe.get(132),lt=_e.isDominatedByLongLines,dt=fe.get(56),rt=fe.get(66).renderType!==0,Ct=fe.get(67),ht=fe.get(103),bt=fe.get(82),ft=fe.get(71),_t=fe.get(101),Ve=_t.verticalScrollbarSize,Te=_t.verticalHasArrows,Oe=_t.arrowSize,xe=_t.horizontalScrollbarSize,$e=fe.get(42),tt=fe.get(108)!=="never";let it=fe.get(64);$e&&tt&&(it+=16);let ze=0;if(rt){const wt=Math.max(Pe,Ct);ze=Math.round(wt*Ue)}let Me=0;dt&&(Me=ke*_e.glyphMarginDecorationLaneCount);let Be=0,We=Be+Me,He=We+ze,Qe=He+it;const Ye=pe-Me-ze-it;let nt=!1,Xe=!1,Je=-1;Ke==="inherit"&&lt?(nt=!0,Xe=!0):ot==="on"||ot==="bounded"?Xe=!0:ot==="wordWrapColumn"&&(Je=st);const et=B._computeMinimapLayout({outerWidth:pe,outerHeight:be,lineHeight:ke,typicalHalfwidthCharacterWidth:Fe,pixelRatio:qe,scrollBeyondLastLine:ht,paddingTop:bt.top,paddingBottom:bt.bottom,minimap:ft,verticalScrollbarWidth:Ve,viewLineCount:je,remainingWidth:Ye,isViewportWrapping:Xe},_e.memory||new v);et.renderMinimap!==0&&et.minimapLeft===0&&(Be+=et.minimapWidth,We+=et.minimapWidth,He+=et.minimapWidth,Qe+=et.minimapWidth);const ct=Ye-et.minimapWidth,St=Math.max(1,Math.floor((ct-Ve-2)/Fe)),at=Te?Oe:0;return Xe&&(Je=Math.max(1,St),ot==="bounded"&&(Je=Math.min(Je,st))),{width:pe,height:be,glyphMarginLeft:Be,glyphMarginWidth:Me,glyphMarginDecorationLaneCount:_e.glyphMarginDecorationLaneCount,lineNumbersLeft:We,lineNumbersWidth:ze,decorationsLeft:He,decorationsWidth:it,contentLeft:Qe,contentWidth:ct,minimap:et,viewportColumn:St,isWordWrapMinified:nt,isViewportWrapping:Xe,wrappingColumn:Je,verticalScrollbarWidth:Ve,horizontalScrollbarHeight:xe,overviewRuler:{top:at,width:Ve,height:be-2*at,right:0}}}}e.EditorLayoutInfoComputer=B;class $ extends C{constructor(){super(136,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.localize(46,null),m.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:m.localize(48,null)}})}validate(fe){return r(fe,"simple",["simple","advanced"])}compute(fe,_e,pe){return _e.get(2)===2?"advanced":pe}}class X extends C{constructor(){const fe={enabled:!0};super(63,"lightbulb",fe,{"editor.lightbulb.enabled":{type:"boolean",default:fe.enabled,description:m.localize(49,null)}})}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:{enabled:a(fe.enabled,this.defaultValue.enabled)}}}class ne extends C{constructor(){const fe={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(113,"stickyScroll",fe,{"editor.stickyScroll.enabled":{type:"boolean",default:fe.enabled,description:m.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:fe.maxLineCount,minimum:1,maximum:10,description:m.localize(51,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:fe.defaultModel,description:m.localize(52,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:fe.scrollWithEditor,description:m.localize(53,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),maxLineCount:l.clampedInt(_e.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:r(_e.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:a(_e.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class oe extends C{constructor(){const fe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(138,"inlayHints",fe,{"editor.inlayHints.enabled":{type:"string",default:fe.enabled,description:m.localize(54,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.localize(55,null),m.localize(56,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(57,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(58,null)]},"editor.inlayHints.fontSize":{type:"number",default:fe.fontSize,markdownDescription:m.localize(59,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:fe.fontFamily,markdownDescription:m.localize(60,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:fe.padding,description:m.localize(61,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return typeof _e.enabled=="boolean"&&(_e.enabled=_e.enabled?"on":"off"),{enabled:r(_e.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:l.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(_e.fontFamily,this.defaultValue.fontFamily),padding:a(_e.padding,this.defaultValue.padding)}}}class Y extends C{constructor(){super(64,"lineDecorationsWidth",10)}validate(fe){return typeof fe=="string"&&/^\d+(\.\d+)?ch$/.test(fe)?-parseFloat(fe.substring(0,fe.length-2)):l.clampedInt(fe,this.defaultValue,0,1e3)}compute(fe,_e,pe){return pe<0?l.clampedInt(-pe*fe.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):pe}}class U extends o{constructor(){super(65,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,fe=>o.clamp(fe,0,150),{markdownDescription:m.localize(62,null)})}compute(fe,_e,pe){return fe.fontInfo.lineHeight}}class W extends C{constructor(){const fe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(71,"minimap",fe,{"editor.minimap.enabled":{type:"boolean",default:fe.enabled,description:m.localize(63,null)},"editor.minimap.autohide":{type:"boolean",default:fe.autohide,description:m.localize(64,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.localize(65,null),m.localize(66,null),m.localize(67,null)],default:fe.size,description:m.localize(68,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:fe.side,description:m.localize(69,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:fe.showSlider,description:m.localize(70,null)},"editor.minimap.scale":{type:"number",default:fe.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.localize(71,null)},"editor.minimap.renderCharacters":{type:"boolean",default:fe.renderCharacters,description:m.localize(72,null)},"editor.minimap.maxColumn":{type:"number",default:fe.maxColumn,description:m.localize(73,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),autohide:a(_e.autohide,this.defaultValue.autohide),size:r(_e.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(_e.side,this.defaultValue.side,["right","left"]),showSlider:r(_e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(_e.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(_e.scale,1,1,3),maxColumn:l.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(De){return De==="ctrlCmd"?y.isMacintosh?"metaKey":"ctrlKey":"altKey"}class Z extends C{constructor(){super(82,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(74,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(75,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{top:l.clampedInt(_e.top,0,0,1e3),bottom:l.clampedInt(_e.bottom,0,0,1e3)}}}class ie extends C{constructor(){const fe={enabled:!0,cycle:!0};super(84,"parameterHints",fe,{"editor.parameterHints.enabled":{type:"boolean",default:fe.enabled,description:m.localize(76,null)},"editor.parameterHints.cycle":{type:"boolean",default:fe.cycle,description:m.localize(77,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),cycle:a(_e.cycle,this.defaultValue.cycle)}}}class le extends i{constructor(){super(140)}compute(fe,_e,pe){return fe.pixelRatio}}class he extends C{constructor(){const fe={other:"on",comments:"off",strings:"off"},_e=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.localize(78,null),m.localize(79,null),m.localize(80,null)]}];super(87,"quickSuggestions",fe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:_e,default:fe.strings,description:m.localize(81,null)},comments:{anyOf:_e,default:fe.comments,description:m.localize(82,null)},other:{anyOf:_e,default:fe.other,description:m.localize(83,null)}},default:fe,markdownDescription:m.localize(84,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=fe}validate(fe){if(typeof fe=="boolean"){const qe=fe?"on":"off";return{comments:qe,strings:qe,other:qe}}if(!fe||typeof fe!="object")return this.defaultValue;const{other:_e,comments:pe,strings:be}=fe,ke=["on","inline","off"];let Pe,Fe,Ue;return typeof _e=="boolean"?Pe=_e?"on":"off":Pe=r(_e,this.defaultValue.other,ke),typeof pe=="boolean"?Fe=pe?"on":"off":Fe=r(pe,this.defaultValue.comments,ke),typeof be=="boolean"?Ue=be?"on":"off":Ue=r(be,this.defaultValue.strings,ke),{other:Pe,comments:Fe,strings:Ue}}}class de extends C{constructor(){super(66,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.localize(85,null),m.localize(86,null),m.localize(87,null),m.localize(88,null)],default:"on",description:m.localize(89,null)})}validate(fe){let _e=this.defaultValue.renderType,pe=this.defaultValue.renderFn;return typeof fe<"u"&&(typeof fe=="function"?(_e=4,pe=fe):fe==="interval"?_e=3:fe==="relative"?_e=2:fe==="on"?_e=1:_e=0),{renderType:_e,renderFn:pe}}}function ce(De){const fe=De.get(96);return fe==="editable"?De.get(89):fe!=="on"}e.filterValidationDecorations=ce;class ae extends C{constructor(){const fe=[],_e={type:"number",description:m.localize(90,null)};super(100,"rulers",fe,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:m.localize(91,null),format:"color-hex"}}}]},default:fe,description:m.localize(92,null)})}validate(fe){if(Array.isArray(fe)){const _e=[];for(const pe of fe)if(typeof pe=="number")_e.push({column:l.clampedInt(pe,0,0,1e4),color:null});else if(pe&&typeof pe=="object"){const be=pe;_e.push({column:l.clampedInt(be.column,0,0,1e4),color:be.color})}return _e.sort((pe,be)=>pe.column-be.column),_e}return this.defaultValue}}class J extends C{constructor(){super(90,"readOnlyMessage",void 0)}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:fe}}function K(De,fe){if(typeof De!="string")return fe;switch(De){case"hidden":return 2;case"visible":return 3;default:return 1}}class H extends C{constructor(){const fe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(101,"scrollbar",fe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(93,null),m.localize(94,null),m.localize(95,null)],default:"auto",description:m.localize(96,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(97,null),m.localize(98,null),m.localize(99,null)],default:"auto",description:m.localize(100,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:fe.verticalScrollbarSize,description:m.localize(101,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:fe.horizontalScrollbarSize,description:m.localize(102,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:fe.scrollByPage,description:m.localize(103,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe,pe=l.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),be=l.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:K(_e.vertical,this.defaultValue.vertical),horizontal:K(_e.horizontal,this.defaultValue.horizontal),useShadows:a(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:pe,horizontalSliderSize:l.clampedInt(_e.horizontalSliderSize,pe,0,1e3),verticalScrollbarSize:be,verticalSliderSize:l.clampedInt(_e.verticalSliderSize,be,0,1e3),scrollByPage:a(_e.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Q extends C{constructor(){const fe={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(123,"unicodeHighlight",fe,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.nonBasicASCII,description:m.localize(104,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:fe.invisibleCharacters,description:m.localize(105,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:fe.ambiguousCharacters,description:m.localize(106,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.includeComments,description:m.localize(107,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.includeStrings,description:m.localize(108,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:fe.allowedCharacters,description:m.localize(109,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:fe.allowedLocales,description:m.localize(110,null)}})}applyUpdate(fe,_e){let pe=!1;_e.allowedCharacters&&fe&&(k.equals(fe.allowedCharacters,_e.allowedCharacters)||(fe=Object.assign(Object.assign({},fe),{allowedCharacters:_e.allowedCharacters}),pe=!0)),_e.allowedLocales&&fe&&(k.equals(fe.allowedLocales,_e.allowedLocales)||(fe=Object.assign(Object.assign({},fe),{allowedLocales:_e.allowedLocales}),pe=!0));const be=super.applyUpdate(fe,_e);return pe?new s(be.newValue,!0):be}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{nonBasicASCII:ue(_e.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:a(_e.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(_e.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ue(_e.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:ue(_e.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(fe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(fe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(fe,_e){if(typeof fe!="object"||!fe)return _e;const pe={};for(const[be,ke]of Object.entries(fe))ke===!0&&(pe[be]=!0);return pe}}class j extends C{constructor(){const fe={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(61,"inlineSuggest",fe,{"editor.inlineSuggest.enabled":{type:"boolean",default:fe.enabled,description:m.localize(111,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:fe.showToolbar,enum:["always","onHover"],enumDescriptions:[m.localize(112,null),m.localize(113,null)],description:m.localize(114,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:fe.suppressSuggestions,description:m.localize(115,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),mode:r(_e.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:r(_e.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:a(_e.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:a(_e.keepOnBlur,this.defaultValue.keepOnBlur)}}}class re extends C{constructor(){const fe={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(14,"bracketPairColorization",fe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(116,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:fe.independentColorPoolPerBracketType,description:m.localize(117,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:a(_e.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class se extends C{constructor(){const fe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(15,"guides",fe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(118,null),m.localize(119,null),m.localize(120,null)],default:fe.bracketPairs,description:m.localize(121,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(122,null),m.localize(123,null),m.localize(124,null)],default:fe.bracketPairsHorizontal,description:m.localize(125,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:fe.highlightActiveBracketPair,description:m.localize(126,null)},"editor.guides.indentation":{type:"boolean",default:fe.indentation,description:m.localize(127,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.localize(128,null),m.localize(129,null),m.localize(130,null)],default:fe.highlightActiveIndentation,description:m.localize(131,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{bracketPairs:ue(_e.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ue(_e.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(_e.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(_e.indentation,this.defaultValue.indentation),highlightActiveIndentation:ue(_e.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ue(De,fe,_e){const pe=_e.indexOf(De);return pe===-1?fe:_e[pe]}class me extends C{constructor(){const fe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(116,"suggest",fe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.localize(132,null),m.localize(133,null)],default:fe.insertMode,description:m.localize(134,null)},"editor.suggest.filterGraceful":{type:"boolean",default:fe.filterGraceful,description:m.localize(135,null)},"editor.suggest.localityBonus":{type:"boolean",default:fe.localityBonus,description:m.localize(136,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:fe.shareSuggestSelections,markdownDescription:m.localize(137,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.localize(138,null),m.localize(139,null),m.localize(140,null),m.localize(141,null)],default:fe.selectionMode,markdownDescription:m.localize(142,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:fe.snippetsPreventQuickSuggestions,description:m.localize(143,null)},"editor.suggest.showIcons":{type:"boolean",default:fe.showIcons,description:m.localize(144,null)},"editor.suggest.showStatusBar":{type:"boolean",default:fe.showStatusBar,description:m.localize(145,null)},"editor.suggest.preview":{type:"boolean",default:fe.preview,description:m.localize(146,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:fe.showInlineDetails,description:m.localize(147,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.localize(148,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.localize(149,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.localize(150,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.localize(151,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.localize(152,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.localize(153,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.localize(154,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.localize(155,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.localize(156,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.localize(157,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.localize(158,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.localize(159,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.localize(160,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.localize(161,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.localize(162,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.localize(163,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.localize(164,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.localize(165,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.localize(166,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.localize(167,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.localize(168,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.localize(169,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.localize(170,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.localize(171,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.localize(172,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.localize(173,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.localize(174,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.localize(175,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.localize(176,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.localize(177,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.localize(178,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.localize(179,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{insertMode:r(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:r(_e.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:a(_e.showIcons,this.defaultValue.showIcons),showStatusBar:a(_e.showStatusBar,this.defaultValue.showStatusBar),preview:a(_e.preview,this.defaultValue.preview),previewMode:r(_e.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(_e.showMethods,this.defaultValue.showMethods),showFunctions:a(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:a(_e.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(_e.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:a(_e.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:a(_e.showFields,this.defaultValue.showFields),showVariables:a(_e.showVariables,this.defaultValue.showVariables),showClasses:a(_e.showClasses,this.defaultValue.showClasses),showStructs:a(_e.showStructs,this.defaultValue.showStructs),showInterfaces:a(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:a(_e.showModules,this.defaultValue.showModules),showProperties:a(_e.showProperties,this.defaultValue.showProperties),showEvents:a(_e.showEvents,this.defaultValue.showEvents),showOperators:a(_e.showOperators,this.defaultValue.showOperators),showUnits:a(_e.showUnits,this.defaultValue.showUnits),showValues:a(_e.showValues,this.defaultValue.showValues),showConstants:a(_e.showConstants,this.defaultValue.showConstants),showEnums:a(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:a(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(_e.showKeywords,this.defaultValue.showKeywords),showWords:a(_e.showWords,this.defaultValue.showWords),showColors:a(_e.showColors,this.defaultValue.showColors),showFiles:a(_e.showFiles,this.defaultValue.showFiles),showReferences:a(_e.showReferences,this.defaultValue.showReferences),showFolders:a(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:a(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(_e.showSnippets,this.defaultValue.showSnippets),showUsers:a(_e.showUsers,this.defaultValue.showUsers),showIssues:a(_e.showIssues,this.defaultValue.showIssues)}}}class ve extends C{constructor(){super(111,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.localize(180,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m.localize(181,null),default:!0,type:"boolean"}})}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:a(fe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:a(fe.selectSubwords,this.defaultValue.selectSubwords)}}}class Ce extends C{constructor(){super(135,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.localize(182,null),m.localize(183,null),m.localize(184,null),m.localize(185,null)],description:m.localize(186,null),default:"same"}})}validate(fe){switch(fe){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(fe,_e,pe){return _e.get(2)===2?0:pe}}class we extends i{constructor(){super(143)}compute(fe,_e,pe){const be=_e.get(142);return{isDominatedByLongLines:fe.isDominatedByLongLines,isWordWrapMinified:be.isWordWrapMinified,isViewportWrapping:be.isViewportWrapping,wrappingColumn:be.wrappingColumn}}}class Le extends C{constructor(){const fe={enabled:!0,showDropSelector:"afterDrop"};super(35,"dropIntoEditor",fe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(187,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m.localize(188,null),enum:["afterDrop","never"],enumDescriptions:[m.localize(189,null),m.localize(190,null)],default:"afterDrop"}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),showDropSelector:r(_e.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ee extends C{constructor(){const fe={enabled:!0,showPasteSelector:"afterPaste"};super(83,"pasteAs",fe,{"editor.pasteAs.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(191,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m.localize(192,null),enum:["afterPaste","never"],enumDescriptions:[m.localize(193,null),m.localize(194,null)],default:"afterPaste"}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:a(_e.enabled,this.defaultValue.enabled),showPasteSelector:r(_e.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Ne="Consolas, 'Courier New', monospace",Ae="Menlo, Monaco, 'Courier New', monospace",Re="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:y.isMacintosh?Ae:y.isLinux?Re:Ne,fontWeight:"normal",fontSize:y.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function ye(De){return e.editorOptionsRegistry[De.id]=De,De}e.EditorOptions={acceptSuggestionOnCommitCharacter:ye(new u(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.localize(195,null)})),acceptSuggestionOnEnter:ye(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.localize(196,null),""],markdownDescription:m.localize(197,null)})),accessibilitySupport:ye(new b),accessibilityPageSize:ye(new l(3,"accessibilityPageSize",10,1,1073741824,{description:m.localize(198,null),tags:["accessibility"]})),ariaLabel:ye(new d(4,"ariaLabel",m.localize(199,null))),ariaRequired:ye(new u(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:ye(new u(7,"screenReaderAnnounceInlineSuggestion",!0,{description:m.localize(200,null),tags:["accessibility"]})),autoClosingBrackets:ye(new g(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(201,null),m.localize(202,null),""],description:m.localize(203,null)})),autoClosingDelete:ye(new g(8,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.localize(204,null),""],description:m.localize(205,null)})),autoClosingOvertype:ye(new g(9,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.localize(206,null),""],description:m.localize(207,null)})),autoClosingQuotes:ye(new g(10,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(208,null),m.localize(209,null),""],description:m.localize(210,null)})),autoIndent:ye(new f(11,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[m.localize(211,null),m.localize(212,null),m.localize(213,null),m.localize(214,null),m.localize(215,null)],description:m.localize(216,null)})),automaticLayout:ye(new u(12,"automaticLayout",!1)),autoSurround:ye(new g(13,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.localize(217,null),m.localize(218,null),m.localize(219,null),""],description:m.localize(220,null)})),bracketPairColorization:ye(new re),bracketPairGuides:ye(new se),stickyTabStops:ye(new u(114,"stickyTabStops",!1,{description:m.localize(221,null)})),codeLens:ye(new u(16,"codeLens",!0,{description:m.localize(222,null)})),codeLensFontFamily:ye(new d(17,"codeLensFontFamily","",{description:m.localize(223,null)})),codeLensFontSize:ye(new l(18,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.localize(224,null)})),colorDecorators:ye(new u(19,"colorDecorators",!0,{description:m.localize(225,null)})),colorDecoratorActivatedOn:ye(new g(145,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m.localize(226,null),m.localize(227,null),m.localize(228,null)],description:m.localize(229,null)})),colorDecoratorsLimit:ye(new l(20,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.localize(230,null)})),columnSelection:ye(new u(21,"columnSelection",!1,{description:m.localize(231,null)})),comments:ye(new w),contextmenu:ye(new u(23,"contextmenu",!0)),copyWithSyntaxHighlighting:ye(new u(24,"copyWithSyntaxHighlighting",!0,{description:m.localize(232,null)})),cursorBlinking:ye(new f(25,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:m.localize(233,null)})),cursorSmoothCaretAnimation:ye(new g(26,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.localize(234,null),m.localize(235,null),m.localize(236,null)],description:m.localize(237,null)})),cursorStyle:ye(new f(27,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],N,{description:m.localize(238,null)})),cursorSurroundingLines:ye(new l(28,"cursorSurroundingLines",0,0,1073741824,{description:m.localize(239,null)})),cursorSurroundingLinesStyle:ye(new g(29,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.localize(240,null),m.localize(241,null)],description:m.localize(242,null)})),cursorWidth:ye(new l(30,"cursorWidth",0,0,1073741824,{markdownDescription:m.localize(243,null)})),disableLayerHinting:ye(new u(31,"disableLayerHinting",!1)),disableMonospaceOptimizations:ye(new u(32,"disableMonospaceOptimizations",!1)),domReadOnly:ye(new u(33,"domReadOnly",!1)),dragAndDrop:ye(new u(34,"dragAndDrop",!0,{description:m.localize(244,null)})),emptySelectionClipboard:ye(new F),dropIntoEditor:ye(new Le),stickyScroll:ye(new ne),experimentalWhitespaceRendering:ye(new g(37,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.localize(245,null),m.localize(246,null),m.localize(247,null)],description:m.localize(248,null)})),extraEditorClassName:ye(new d(38,"extraEditorClassName","")),fastScrollSensitivity:ye(new o(39,"fastScrollSensitivity",5,De=>De<=0?5:De,{markdownDescription:m.localize(249,null)})),find:ye(new M),fixedOverflowWidgets:ye(new u(41,"fixedOverflowWidgets",!1)),folding:ye(new u(42,"folding",!0,{description:m.localize(250,null)})),foldingStrategy:ye(new g(43,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.localize(251,null),m.localize(252,null)],description:m.localize(253,null)})),foldingHighlight:ye(new u(44,"foldingHighlight",!0,{description:m.localize(254,null)})),foldingImportsByDefault:ye(new u(45,"foldingImportsByDefault",!1,{description:m.localize(255,null)})),foldingMaximumRegions:ye(new l(46,"foldingMaximumRegions",5e3,10,65e3,{description:m.localize(256,null)})),unfoldOnClickAfterEndOfLine:ye(new u(47,"unfoldOnClickAfterEndOfLine",!1,{description:m.localize(257,null)})),fontFamily:ye(new d(48,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:m.localize(258,null)})),fontInfo:ye(new O),fontLigatures2:ye(new A),fontSize:ye(new P),fontWeight:ye(new x),fontVariations:ye(new T),formatOnPaste:ye(new u(54,"formatOnPaste",!1,{description:m.localize(259,null)})),formatOnType:ye(new u(55,"formatOnType",!1,{description:m.localize(260,null)})),glyphMargin:ye(new u(56,"glyphMargin",!0,{description:m.localize(261,null)})),gotoLocation:ye(new z),hideCursorInOverviewRuler:ye(new u(58,"hideCursorInOverviewRuler",!1,{description:m.localize(262,null)})),hover:ye(new q),inDiffEditor:ye(new u(60,"inDiffEditor",!1)),letterSpacing:ye(new o(62,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,De=>o.clamp(De,-5,20),{description:m.localize(263,null)})),lightbulb:ye(new X),lineDecorationsWidth:ye(new Y),lineHeight:ye(new U),lineNumbers:ye(new de),lineNumbersMinChars:ye(new l(67,"lineNumbersMinChars",5,1,300)),linkedEditing:ye(new u(68,"linkedEditing",!1,{description:m.localize(264,null)})),links:ye(new u(69,"links",!0,{description:m.localize(265,null)})),matchBrackets:ye(new g(70,"matchBrackets","always",["always","near","never"],{description:m.localize(266,null)})),minimap:ye(new W),mouseStyle:ye(new g(72,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ye(new o(73,"mouseWheelScrollSensitivity",1,De=>De===0?1:De,{markdownDescription:m.localize(267,null)})),mouseWheelZoom:ye(new u(74,"mouseWheelZoom",!1,{markdownDescription:m.localize(268,null)})),multiCursorMergeOverlapping:ye(new u(75,"multiCursorMergeOverlapping",!0,{description:m.localize(269,null)})),multiCursorModifier:ye(new f(76,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[m.localize(270,null),m.localize(271,null)],markdownDescription:m.localize(272,null)})),multiCursorPaste:ye(new g(77,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.localize(273,null),m.localize(274,null)],markdownDescription:m.localize(275,null)})),multiCursorLimit:ye(new l(78,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.localize(276,null)})),occurrencesHighlight:ye(new u(79,"occurrencesHighlight",!0,{description:m.localize(277,null)})),overviewRulerBorder:ye(new u(80,"overviewRulerBorder",!0,{description:m.localize(278,null)})),overviewRulerLanes:ye(new l(81,"overviewRulerLanes",3,0,3)),padding:ye(new Z),pasteAs:ye(new Ee),parameterHints:ye(new ie),peekWidgetDefaultFocus:ye(new g(85,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.localize(279,null),m.localize(280,null)],description:m.localize(281,null)})),definitionLinkOpensInPeek:ye(new u(86,"definitionLinkOpensInPeek",!1,{description:m.localize(282,null)})),quickSuggestions:ye(new he),quickSuggestionsDelay:ye(new l(88,"quickSuggestionsDelay",10,0,1073741824,{description:m.localize(283,null)})),readOnly:ye(new u(89,"readOnly",!1)),readOnlyMessage:ye(new J),renameOnType:ye(new u(91,"renameOnType",!1,{description:m.localize(284,null),markdownDeprecationMessage:m.localize(285,null)})),renderControlCharacters:ye(new u(92,"renderControlCharacters",!0,{description:m.localize(286,null),restricted:!0})),renderFinalNewline:ye(new g(93,"renderFinalNewline",y.isLinux?"dimmed":"on",["off","on","dimmed"],{description:m.localize(287,null)})),renderLineHighlight:ye(new g(94,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.localize(288,null)],description:m.localize(289,null)})),renderLineHighlightOnlyWhenFocus:ye(new u(95,"renderLineHighlightOnlyWhenFocus",!1,{description:m.localize(290,null)})),renderValidationDecorations:ye(new g(96,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ye(new g(97,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.localize(291,null),m.localize(292,null),m.localize(293,null),""],description:m.localize(294,null)})),revealHorizontalRightPadding:ye(new l(98,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ye(new u(99,"roundedSelection",!0,{description:m.localize(295,null)})),rulers:ye(new ae),scrollbar:ye(new H),scrollBeyondLastColumn:ye(new l(102,"scrollBeyondLastColumn",4,0,1073741824,{description:m.localize(296,null)})),scrollBeyondLastLine:ye(new u(103,"scrollBeyondLastLine",!0,{description:m.localize(297,null)})),scrollPredominantAxis:ye(new u(104,"scrollPredominantAxis",!0,{description:m.localize(298,null)})),selectionClipboard:ye(new u(105,"selectionClipboard",!0,{description:m.localize(299,null),included:y.isLinux})),selectionHighlight:ye(new u(106,"selectionHighlight",!0,{description:m.localize(300,null)})),selectOnLineNumbers:ye(new u(107,"selectOnLineNumbers",!0)),showFoldingControls:ye(new g(108,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.localize(301,null),m.localize(302,null),m.localize(303,null)],description:m.localize(304,null)})),showUnused:ye(new u(109,"showUnused",!0,{description:m.localize(305,null)})),showDeprecated:ye(new u(137,"showDeprecated",!0,{description:m.localize(306,null)})),inlayHints:ye(new oe),snippetSuggestions:ye(new g(110,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.localize(307,null),m.localize(308,null),m.localize(309,null),m.localize(310,null)],description:m.localize(311,null)})),smartSelect:ye(new ve),smoothScrolling:ye(new u(112,"smoothScrolling",!1,{description:m.localize(312,null)})),stopRenderingLineAfter:ye(new l(115,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ye(new me),inlineSuggest:ye(new j),inlineCompletionsAccessibilityVerbose:ye(new u(146,"inlineCompletionsAccessibilityVerbose",!1,{description:m.localize(313,null)})),suggestFontSize:ye(new l(117,"suggestFontSize",0,0,1e3,{markdownDescription:m.localize(314,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:ye(new l(118,"suggestLineHeight",0,0,1e3,{markdownDescription:m.localize(315,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ye(new u(119,"suggestOnTriggerCharacters",!0,{description:m.localize(316,null)})),suggestSelection:ye(new g(120,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.localize(317,null),m.localize(318,null),m.localize(319,null)],description:m.localize(320,null)})),tabCompletion:ye(new g(121,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.localize(321,null),m.localize(322,null),m.localize(323,null)],description:m.localize(324,null)})),tabIndex:ye(new l(122,"tabIndex",0,-1,1073741824)),unicodeHighlight:ye(new Q),unusualLineTerminators:ye(new g(124,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.localize(325,null),m.localize(326,null),m.localize(327,null)],description:m.localize(328,null)})),useShadowDOM:ye(new u(125,"useShadowDOM",!0)),useTabStops:ye(new u(126,"useTabStops",!0,{description:m.localize(329,null)})),wordBreak:ye(new g(127,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.localize(330,null),m.localize(331,null)],description:m.localize(332,null)})),wordSeparators:ye(new d(128,"wordSeparators",S.USUAL_WORD_SEPARATORS,{description:m.localize(333,null)})),wordWrap:ye(new g(129,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.localize(334,null),m.localize(335,null),m.localize(336,null),m.localize(337,null)],description:m.localize(338,null)})),wordWrapBreakAfterCharacters:ye(new d(130,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ye(new d(131,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ye(new l(132,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.localize(339,null)})),wordWrapOverride1:ye(new g(133,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ye(new g(134,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ye(new R),defaultColorDecorators:ye(new u(144,"defaultColorDecorators",!1,{markdownDescription:m.localize(340,null)})),pixelRatio:ye(new le),tabFocusMode:ye(new u(141,"tabFocusMode",!1,{markdownDescription:m.localize(341,null)})),layoutInfo:ye(new B),wrappingInfo:ye(new we),wrappingIndent:ye(new Ce),wrappingStrategy:ye(new $)}}),define(ee[617],te([1,0,7,37,10,69,38,12,5,199]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class C{constructor(i,t,a,u,h,l,c){this.top=i,this.left=t,this.paddingLeft=a,this.width=u,this.height=h,this.textContent=l,this.textContentClassName=c}}class s{constructor(i){this._context=i;const t=this._context.configuration.options,a=t.get(49);this._cursorStyle=t.get(27),this._lineHeight=t.get(65),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(30),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,a),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const t=this._context.configuration.options,a=t.get(49);return this._cursorStyle=t.get(27),this._lineHeight=t.get(65),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(30),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,a),!0}onCursorPositionChanged(i,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:t}=this._position,a=this._context.viewModel.getLineContent(i),[u,h]=y.getCharContainingOffset(a,t-1);return[new m.Position(i,u+1),a.substring(u,h)]}_prepareRender(i){let t="",a="";const[u,h]=this._getGraphemeAwarePosition();if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const f=i.visibleRangeForPosition(u);if(!f||f.outsideRenderedLine)return null;let p;this._cursorStyle===S.TextEditorCursorStyle.Line?(p=L.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),p>2&&(t=h,a=this._getTokenClassName(u))):p=L.computeScreenAwareSize(1);let b=f.left,w=0;p>=2&&b>=1&&(w=1,b-=w);const E=i.getVerticalOffsetForLineNumber(u.lineNumber)-i.bigNumbersDelta;return new C(E,b,w,p,this._lineHeight,t,a)}const l=i.linesVisibleRangesForRange(new _.Range(u.lineNumber,u.column,u.lineNumber,u.column+h.length),!1);if(!l||l.length===0)return null;const c=l[0];if(c.outsideRenderedLine||c.ranges.length===0)return null;const o=c.ranges[0],d=h==="	"?this._typicalHalfwidthCharacterWidth:o.width<1?this._typicalHalfwidthCharacterWidth:o.width;this._cursorStyle===S.TextEditorCursorStyle.Block&&(t=h,a=this._getTokenClassName(u));let r=i.getVerticalOffsetForLineNumber(u.lineNumber)-i.bigNumbersDelta,g=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(r+=this._lineHeight-2,g=2),new C(r,o.left,0,d,g,t,a)}_getTokenClassName(i){const t=this._context.viewModel.getViewLineData(i.lineNumber),a=t.tokens.findTokenIndexAtOffset(i.column-1);return t.tokens.getClassName(a)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(ee[618],te([1,0,40,271,38]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class D{get editorOptions(){return this._options}constructor(_,v){this.diffEditorWidth=v,this.couldShowInlineViewBecauseOfSize=(0,L.derived)(this,s=>this._options.read(s).renderSideBySide&&this.diffEditorWidth.read(s)<=this._options.read(s).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,L.derived)(this,s=>this._options.read(s).renderOverviewRuler),this.renderSideBySide=(0,L.derived)(this,s=>this._options.read(s).renderSideBySide&&!(this._options.read(s).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(s))),this.readOnly=(0,L.derived)(this,s=>this._options.read(s).readOnly),this.shouldRenderRevertArrows=(0,L.derived)(this,s=>!(!this._options.read(s).renderMarginRevertIcon||!this.renderSideBySide.read(s)||this.readOnly.read(s))),this.renderIndicators=(0,L.derived)(this,s=>this._options.read(s).renderIndicators),this.enableSplitViewResizing=(0,L.derived)(this,s=>this._options.read(s).enableSplitViewResizing),this.splitViewDefaultRatio=(0,L.derived)(this,s=>this._options.read(s).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,L.derived)(this,s=>this._options.read(s).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,L.derived)(this,s=>this._options.read(s).maxComputationTime),this.showMoves=(0,L.derived)(this,s=>this._options.read(s).experimental.showMoves&&this.renderSideBySide.read(s)),this.isInEmbeddedEditor=(0,L.derived)(this,s=>this._options.read(s).isInEmbeddedEditor),this.diffWordWrap=(0,L.derived)(this,s=>this._options.read(s).diffWordWrap),this.originalEditable=(0,L.derived)(this,s=>this._options.read(s).originalEditable),this.diffCodeLens=(0,L.derived)(this,s=>this._options.read(s).diffCodeLens),this.accessibilityVerbose=(0,L.derived)(this,s=>this._options.read(s).accessibilityVerbose),this.diffAlgorithm=(0,L.derived)(this,s=>this._options.read(s).diffAlgorithm),this.showEmptyDecorations=(0,L.derived)(this,s=>this._options.read(s).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,L.derived)(this,s=>this._options.read(s).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.minimumLineCount);const C=Object.assign(Object.assign({},_),S(_,k.diffEditorDefaultOptions));this._options=(0,L.observableValue)(this,C)}updateOptions(_){const v=S(_,this._options.get()),C=Object.assign(Object.assign(Object.assign({},this._options.get()),_),v);this._options.set(C,void 0,{changedOptions:_})}}e.DiffEditorOptions=D;function S(m,_){var v,C,s,n,i,t,a,u;return{enableSplitViewResizing:(0,y.boolean)(m.enableSplitViewResizing,_.enableSplitViewResizing),splitViewDefaultRatio:(0,y.clampedFloat)(m.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.boolean)(m.renderSideBySide,_.renderSideBySide),renderMarginRevertIcon:(0,y.boolean)(m.renderMarginRevertIcon,_.renderMarginRevertIcon),maxComputationTime:(0,y.clampedInt)(m.maxComputationTime,_.maxComputationTime,0,1073741824),maxFileSize:(0,y.clampedInt)(m.maxFileSize,_.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.boolean)(m.ignoreTrimWhitespace,_.ignoreTrimWhitespace),renderIndicators:(0,y.boolean)(m.renderIndicators,_.renderIndicators),originalEditable:(0,y.boolean)(m.originalEditable,_.originalEditable),diffCodeLens:(0,y.boolean)(m.diffCodeLens,_.diffCodeLens),renderOverviewRuler:(0,y.boolean)(m.renderOverviewRuler,_.renderOverviewRuler),diffWordWrap:(0,y.stringSet)(m.diffWordWrap,_.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.stringSet)(m.diffAlgorithm,_.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.boolean)(m.accessibilityVerbose,_.accessibilityVerbose),experimental:{showMoves:(0,y.boolean)((v=m.experimental)===null||v===void 0?void 0:v.showMoves,_.experimental.showMoves),showEmptyDecorations:(0,y.boolean)((C=m.experimental)===null||C===void 0?void 0:C.showEmptyDecorations,_.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.boolean)((n=(s=m.hideUnchangedRegions)===null||s===void 0?void 0:s.enabled)!==null&&n!==void 0?n:(i=m.experimental)===null||i===void 0?void 0:i.collapseUnchangedRegions,_.hideUnchangedRegions.enabled),contextLineCount:(0,y.clampedInt)((t=m.hideUnchangedRegions)===null||t===void 0?void 0:t.contextLineCount,_.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.clampedInt)((a=m.hideUnchangedRegions)===null||a===void 0?void 0:a.minimumLineCount,_.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.clampedInt)((u=m.hideUnchangedRegions)===null||u===void 0?void 0:u.revealLineCount,_.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.boolean)(m.isInEmbeddedEditor,_.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.boolean)(m.onlyShowAccessibleDiffViewer,_.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.clampedInt)(m.renderSideBySideInlineBreakpoint,_.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.boolean)(m.useInlineViewWhenSpaceIsLimited,_.useInlineViewWhenSpaceIsLimited)}}}),define(ee[232],te([1,0,17,38,143]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=L.isMacintosh?1.5:1.35,S=8;class m{static createFromValidatedSettings(C,s,n){const i=C.get(48),t=C.get(52),a=C.get(51),u=C.get(50),h=C.get(53),l=C.get(65),c=C.get(62);return m._create(i,t,a,u,h,l,c,s,n)}static _create(C,s,n,i,t,a,u,h,l){a===0?a=D*n:a<S&&(a=a*n),a=Math.round(a),a<S&&(a=S);const c=1+(l?0:y.EditorZoom.getZoomLevel()*.1);return n*=c,a*=c,t===k.EditorFontVariations.TRANSLATE&&(s==="normal"||s==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(s,10)}`,s="normal")),new m({pixelRatio:h,fontFamily:C,fontWeight:s,fontSize:n,fontFeatureSettings:i,fontVariationSettings:t,lineHeight:a,letterSpacing:u})}constructor(C){this._bareFontInfoBrand=void 0,this.pixelRatio=C.pixelRatio,this.fontFamily=String(C.fontFamily),this.fontWeight=String(C.fontWeight),this.fontSize=C.fontSize,this.fontFeatureSettings=C.fontFeatureSettings,this.fontVariationSettings=C.fontVariationSettings,this.lineHeight=C.lineHeight|0,this.letterSpacing=C.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const C=k.EDITOR_FONT_DEFAULTS.fontFamily,s=m._wrapInQuotes(this.fontFamily);return C&&this.fontFamily!==C?`${s}, ${C}`:s}static _wrapInQuotes(C){return/[,"']/.test(C)?C:/[+ ]/.test(C)?`"${C}"`:C}}e.BareFontInfo=m,e.SERIALIZED_FONT_INFO_VERSION=2;class _ extends m{constructor(C,s){super(C),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=s,this.isMonospace=C.isMonospace,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=C.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.maxDigitWidth=C.maxDigitWidth}equals(C){return this.fontFamily===C.fontFamily&&this.fontWeight===C.fontWeight&&this.fontSize===C.fontSize&&this.fontFeatureSettings===C.fontFeatureSettings&&this.fontVariationSettings===C.fontVariationSettings&&this.lineHeight===C.lineHeight&&this.letterSpacing===C.letterSpacing&&this.typicalHalfwidthCharacterWidth===C.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===C.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.maxDigitWidth===C.maxDigitWidth}}e.FontInfo=_}),define(ee[327],te([1,0,51,6,2,476,38,232]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class _ extends y.Disposable{constructor(){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new v,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new v,this._onDidChange.fire()}_writeToCache(s,n){this._cache.put(s,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let n=!1;for(const i of s)i.isTrusted||(n=!0,this._cache.remove(i));n&&this._onDidChange.fire()}readFontInfo(s){if(!this._cache.has(s)){let n=this._actualReadFontInfo(s);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new m.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(s,n)}return this._cache.get(s)}_createRequest(s,n,i,t){const a=new D.CharWidthRequest(s,n);return i.push(a),t?.push(a),a}_actualReadFontInfo(s){const n=[],i=[],t=this._createRequest("n",0,n,i),a=this._createRequest("\uFF4D",0,n,null),u=this._createRequest(" ",0,n,i),h=this._createRequest("0",0,n,i),l=this._createRequest("1",0,n,i),c=this._createRequest("2",0,n,i),o=this._createRequest("3",0,n,i),d=this._createRequest("4",0,n,i),r=this._createRequest("5",0,n,i),g=this._createRequest("6",0,n,i),f=this._createRequest("7",0,n,i),p=this._createRequest("8",0,n,i),b=this._createRequest("9",0,n,i),w=this._createRequest("\u2192",0,n,i),E=this._createRequest("\uFFEB",0,n,null),I=this._createRequest("\xB7",0,n,i),N=this._createRequest(String.fromCharCode(11825),0,n,null),R="|/-_ilm%";for(let O=0,P=R.length;O<P;O++)this._createRequest(R.charAt(O),0,n,i),this._createRequest(R.charAt(O),1,n,i),this._createRequest(R.charAt(O),2,n,i);(0,D.readCharWidths)(s,n);const F=Math.max(h.width,l.width,c.width,o.width,d.width,r.width,g.width,f.width,p.width,b.width);let M=s.fontFeatureSettings===S.EditorFontLigatures.OFF;const A=i[0].width;for(let O=1,P=i.length;M&&O<P;O++){const x=A-i[O].width;if(x<-.001||x>.001){M=!1;break}}let T=!0;return M&&E.width!==A&&(T=!1),E.width>w.width&&(T=!1),new m.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:M,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:a.width,canUseHalfwidthRightwardsArrow:T,spaceWidth:u.width,middotWidth:I.width,wsmiddotWidth:N.width,maxDigitWidth:F},!0)}}e.FontMeasurementsImpl=_;class v{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const n=s.getId();return!!this._values[n]}get(s){const n=s.getId();return this._values[n]}put(s,n){const i=s.getId();this._keys[i]=s,this._values[i]=n}remove(s){const n=s.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new _}),define(ee[328],te([1,0,12,5,82,38]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(n,i,t,a,u){this.editorId=n,this.model=i,this.configuration=t,this._linesCollection=a,this._coordinatesConverter=u,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(n){const i=n.id;let t=this._decorationsCache[i];if(!t){const a=n.range,u=n.options;let h;if(u.isWholeLine){const l=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(a.startLineNumber,1),0,!1,!0),c=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber)),1);h=new k.Range(l.lineNumber,l.column,c.lineNumber,c.column)}else h=this._coordinatesConverter.convertModelRangeToViewRange(a,1);t=new y.ViewModelDecoration(h,u),this._decorationsCache[i]=t}return t}getMinimapDecorationsInRange(n){return this._getDecorationsInRange(n,!0,!1).decorations}getDecorationsViewportData(n){let i=this._cachedModelDecorationsResolver!==null;return i=i&&n.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(n,!1,!1),this._cachedModelDecorationsResolverViewRange=n),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(n,i=!1,t=!1){const a=new k.Range(n,this._linesCollection.getViewLineMinColumn(n),n,this._linesCollection.getViewLineMaxColumn(n));return this._getDecorationsInRange(a,i,t).inlineDecorations[0]}_getDecorationsInRange(n,i,t){const a=this._linesCollection.getDecorationsInRange(n,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),i,t),u=n.startLineNumber,h=n.endLineNumber,l=[];let c=0;const o=[];for(let d=u;d<=h;d++)o[d-u]=[];for(let d=0,r=a.length;d<r;d++){const g=a[d],f=g.options;if(!m(this.model,g))continue;const p=this._getOrCreateViewModelDecoration(g),b=p.range;if(l[c++]=p,f.inlineClassName){const w=new y.InlineDecoration(b,f.inlineClassName,f.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(u,b.startLineNumber),I=Math.min(h,b.endLineNumber);for(let N=E;N<=I;N++)o[N-u].push(w)}if(f.beforeContentClassName&&u<=b.startLineNumber&&b.startLineNumber<=h){const w=new y.InlineDecoration(new k.Range(b.startLineNumber,b.startColumn,b.startLineNumber,b.startColumn),f.beforeContentClassName,1);o[b.startLineNumber-u].push(w)}if(f.afterContentClassName&&u<=b.endLineNumber&&b.endLineNumber<=h){const w=new y.InlineDecoration(new k.Range(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn),f.afterContentClassName,2);o[b.endLineNumber-u].push(w)}}return{decorations:l,inlineDecorations:o}}}e.ViewModelDecorations=S;function m(s,n){return!(n.options.hideInCommentTokens&&_(s,n)||n.options.hideInStringTokens&&v(s,n))}e.isModelDecorationVisible=m;function _(s,n){return C(s,n.range,i=>i===1)}e.isModelDecorationInComment=_;function v(s,n){return C(s,n.range,i=>i===2)}e.isModelDecorationInString=v;function C(s,n,i){for(let t=n.startLineNumber;t<=n.endLineNumber;t++){const a=s.tokenization.getLineTokens(t),u=t===n.startLineNumber,h=t===n.endLineNumber;let l=u?a.findTokenIndexAtOffset(n.startColumn-1):0;for(;l<a.getCount()&&!(h&&a.getStartOffset(l)>n.endColumn-1);){if(!i(a.getStandardTokenType(l)))return!1;l++}}return!0}}),define(ee[619],te([3,4]),function(G,e){return G.create("vs/editor/common/core/editorColorRegistry",e)}),define(ee[620],te([3,4]),function(G,e){return G.create("vs/editor/common/editorContextKeys",e)}),define(ee[621],te([3,4]),function(G,e){return G.create("vs/editor/common/languages",e)}),define(ee[28],te([1,0,26,21,5,516,621]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.getAriaLabelForSymbol=e.symbolKindNames=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class m{constructor(f,p,b){this.offset=f,this.type=p,this.language=b,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=m;class _{constructor(f,p){this.tokens=f,this.endState=p,this._tokenizationResultBrand=void 0}}e.TokenizationResult=_;class v{constructor(f,p){this.tokens=f,this.endState=p,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=v;var C;(function(g){const f=new Map;f.set(0,L.Codicon.symbolMethod),f.set(1,L.Codicon.symbolFunction),f.set(2,L.Codicon.symbolConstructor),f.set(3,L.Codicon.symbolField),f.set(4,L.Codicon.symbolVariable),f.set(5,L.Codicon.symbolClass),f.set(6,L.Codicon.symbolStruct),f.set(7,L.Codicon.symbolInterface),f.set(8,L.Codicon.symbolModule),f.set(9,L.Codicon.symbolProperty),f.set(10,L.Codicon.symbolEvent),f.set(11,L.Codicon.symbolOperator),f.set(12,L.Codicon.symbolUnit),f.set(13,L.Codicon.symbolValue),f.set(15,L.Codicon.symbolEnum),f.set(14,L.Codicon.symbolConstant),f.set(15,L.Codicon.symbolEnum),f.set(16,L.Codicon.symbolEnumMember),f.set(17,L.Codicon.symbolKeyword),f.set(27,L.Codicon.symbolSnippet),f.set(18,L.Codicon.symbolText),f.set(19,L.Codicon.symbolColor),f.set(20,L.Codicon.symbolFile),f.set(21,L.Codicon.symbolReference),f.set(22,L.Codicon.symbolCustomColor),f.set(23,L.Codicon.symbolFolder),f.set(24,L.Codicon.symbolTypeParameter),f.set(25,L.Codicon.account),f.set(26,L.Codicon.issues);function p(E){let I=f.get(E);return I||(console.info("No codicon found for CompletionItemKind "+E),I=L.Codicon.symbolProperty),I}g.toIcon=p;const b=new Map;b.set("method",0),b.set("function",1),b.set("constructor",2),b.set("field",3),b.set("variable",4),b.set("class",5),b.set("struct",6),b.set("interface",7),b.set("module",8),b.set("property",9),b.set("event",10),b.set("operator",11),b.set("unit",12),b.set("value",13),b.set("constant",14),b.set("enum",15),b.set("enum-member",16),b.set("enumMember",16),b.set("keyword",17),b.set("snippet",27),b.set("text",18),b.set("color",19),b.set("file",20),b.set("reference",21),b.set("customcolor",22),b.set("folder",23),b.set("type-parameter",24),b.set("typeParameter",24),b.set("account",25),b.set("issue",26);function w(E,I){let N=b.get(E);return typeof N>"u"&&!I&&(N=9),N}g.fromString=w})(C||(e.CompletionItemKinds=C={}));var s;(function(g){g[g.Automatic=0]="Automatic",g[g.Explicit=1]="Explicit"})(s||(e.InlineCompletionTriggerKind=s={}));class n{constructor(f,p,b,w){this.range=f,this.text=p,this.completionKind=b,this.isSnippetText=w}equals(f){return y.Range.lift(this.range).equalsRange(f.range)&&this.text===f.text&&this.completionKind===f.completionKind&&this.isSnippetText===f.isSnippetText}}e.SelectedSuggestionInfo=n;var i;(function(g){g[g.Invoke=1]="Invoke",g[g.TriggerCharacter=2]="TriggerCharacter",g[g.ContentChange=3]="ContentChange"})(i||(e.SignatureHelpTriggerKind=i={}));var t;(function(g){g[g.Text=0]="Text",g[g.Read=1]="Read",g[g.Write=2]="Write"})(t||(e.DocumentHighlightKind=t={}));function a(g){return g&&k.URI.isUri(g.uri)&&y.Range.isIRange(g.range)&&(y.Range.isIRange(g.originSelectionRange)||y.Range.isIRange(g.targetSelectionRange))}e.isLocationLink=a,e.symbolKindNames={[17]:(0,S.localize)(0,null),[16]:(0,S.localize)(1,null),[4]:(0,S.localize)(2,null),[13]:(0,S.localize)(3,null),[8]:(0,S.localize)(4,null),[9]:(0,S.localize)(5,null),[21]:(0,S.localize)(6,null),[23]:(0,S.localize)(7,null),[7]:(0,S.localize)(8,null),[0]:(0,S.localize)(9,null),[11]:(0,S.localize)(10,null),[10]:(0,S.localize)(11,null),[19]:(0,S.localize)(12,null),[5]:(0,S.localize)(13,null),[1]:(0,S.localize)(14,null),[2]:(0,S.localize)(15,null),[20]:(0,S.localize)(16,null),[15]:(0,S.localize)(17,null),[18]:(0,S.localize)(18,null),[24]:(0,S.localize)(19,null),[3]:(0,S.localize)(20,null),[6]:(0,S.localize)(21,null),[14]:(0,S.localize)(22,null),[22]:(0,S.localize)(23,null),[25]:(0,S.localize)(24,null),[12]:(0,S.localize)(25,null)};function u(g,f){return(0,S.localize)(26,null,g,e.symbolKindNames[f])}e.getAriaLabelForSymbol=u;var h;(function(g){const f=new Map;f.set(0,L.Codicon.symbolFile),f.set(1,L.Codicon.symbolModule),f.set(2,L.Codicon.symbolNamespace),f.set(3,L.Codicon.symbolPackage),f.set(4,L.Codicon.symbolClass),f.set(5,L.Codicon.symbolMethod),f.set(6,L.Codicon.symbolProperty),f.set(7,L.Codicon.symbolField),f.set(8,L.Codicon.symbolConstructor),f.set(9,L.Codicon.symbolEnum),f.set(10,L.Codicon.symbolInterface),f.set(11,L.Codicon.symbolFunction),f.set(12,L.Codicon.symbolVariable),f.set(13,L.Codicon.symbolConstant),f.set(14,L.Codicon.symbolString),f.set(15,L.Codicon.symbolNumber),f.set(16,L.Codicon.symbolBoolean),f.set(17,L.Codicon.symbolArray),f.set(18,L.Codicon.symbolObject),f.set(19,L.Codicon.symbolKey),f.set(20,L.Codicon.symbolNull),f.set(21,L.Codicon.symbolEnumMember),f.set(22,L.Codicon.symbolStruct),f.set(23,L.Codicon.symbolEvent),f.set(24,L.Codicon.symbolOperator),f.set(25,L.Codicon.symbolTypeParameter);function p(b){let w=f.get(b);return w||(console.info("No codicon found for SymbolKind "+b),w=L.Codicon.symbolProperty),w}g.toIcon=p})(h||(e.SymbolKinds=h={}));class l{}e.TextEdit=l;class c{static fromValue(f){switch(f){case"comment":return c.Comment;case"imports":return c.Imports;case"region":return c.Region}return new c(f)}constructor(f){this.value=f}}e.FoldingRangeKind=c,c.Comment=new c("comment"),c.Imports=new c("imports"),c.Region=new c("region");var o;(function(g){function f(p){return!p||typeof p!="object"?!1:typeof p.id=="string"&&typeof p.title=="string"}g.is=f})(o||(e.Command=o={}));var d;(function(g){g[g.Type=1]="Type",g[g.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));class r{constructor(f){this.createSupport=f,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(f=>{f&&f.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=r,e.TokenizationRegistry=new D.TokenizationRegistry}),define(ee[154],te([1,0,28]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,S){return new L.TokenizationResult([new L.Token(0,"",D)],S)}e.nullTokenize=k;function y(D,S){const m=new Uint32Array(2);return m[0]=0,m[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new L.EncodedTokenizationResult(m,S===null?e.NullState:S)}e.nullTokenizeEncoded=y}),define(ee[329],te([1,0,10,91,28,154]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>D.NullState,tokenizeEncoded:(C,s,n)=>(0,D.nullTokenizeEncoded)(0,n)};function m(C,s,n){return Se(this,void 0,void 0,function*(){if(!n)return v(s,C.languageIdCodec,S);const i=yield y.TokenizationRegistry.getOrCreate(n);return v(s,C.languageIdCodec,i||S)})}e.tokenizeToString=m;function _(C,s,n,i,t,a,u){let h="<div>",l=i,c=0,o=!0;for(let d=0,r=s.getCount();d<r;d++){const g=s.getEndOffset(d);if(g<=i)continue;let f="";for(;l<g&&l<t;l++){const p=C.charCodeAt(l);switch(p){case 9:{let b=a-(l+c)%a;for(c+=b-1;b>0;)u&&o?(f+="&#160;",o=!1):(f+=" ",o=!0),b--;break}case 60:f+="&lt;",o=!1;break;case 62:f+="&gt;",o=!1;break;case 38:f+="&amp;",o=!1;break;case 0:f+="&#00;",o=!1;break;case 65279:case 8232:case 8233:case 133:f+="\uFFFD",o=!1;break;case 13:f+="&#8203",o=!1;break;case 32:u&&o?(f+="&#160;",o=!1):(f+=" ",o=!0);break;default:f+=String.fromCharCode(p),o=!1}}if(h+=`<span style="${s.getInlineStyle(d,n)}">${f}</span>`,g>t||l>=t)break}return h+="</div>",h}e.tokenizeLineToHTML=_;function v(C,s,n){let i='<div class="monaco-tokenized-source">';const t=L.splitLines(C);let a=n.getInitialState();for(let u=0,h=t.length;u<h;u++){const l=t[u];u>0&&(i+="<br/>");const c=n.tokenizeEncoded(l,!0,a);k.LineTokens.convertToEndOffset(c.tokens,l.length);const d=new k.LineTokens(c.tokens,l,s).inflate();let r=0;for(let g=0,f=d.getCount();g<f;g++){const p=d.getClassName(g),b=d.getEndOffset(g);i+=`<span class="${p}">${L.escape(l.substring(r,b))}</span>`,r=b}a=c.endState}return i+="</div>",i}e._tokenizeToString=v}),define(ee[622],te([1,0,13,9,17,58,122,64,81,154,509,290,91]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(d,r){this.tokenizationSupport=r,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new a(d)}getStartState(d){return this.store.getStartState(d,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=i;class t extends i{constructor(d,r,g,f){super(d,r),this._textModel=g,this._languageIdCodec=f}updateTokensUntilLine(d,r){const g=this._textModel.getLanguageId();for(;;){const f=this.getFirstInvalidLine();if(!f||f.lineNumber>r)break;const p=this._textModel.getLineContent(f.lineNumber),b=l(this._languageIdCodec,g,this.tokenizationSupport,p,!0,f.startState);d.add(f.lineNumber,b.tokens),this.store.setEndState(f.lineNumber,b.endState)}}getTokenTypeIfInsertingCharacter(d,r){const g=this.getStartState(d.lineNumber);if(!g)return 0;const f=this._textModel.getLanguageId(),p=this._textModel.getLineContent(d.lineNumber),b=p.substring(0,d.column-1)+r+p.substring(d.column-1),w=l(this._languageIdCodec,f,this.tokenizationSupport,b,!0,g),E=new n.LineTokens(w.tokens,b,this._languageIdCodec);if(E.getCount()===0)return 0;const I=E.findTokenIndexAtOffset(d.column-1);return E.getStandardTokenType(I)}tokenizeLineWithEdit(d,r,g){const f=d.lineNumber,p=d.column,b=this.getStartState(f);if(!b)return null;const w=this._textModel.getLineContent(f),E=w.substring(0,p-1)+g+w.substring(p-1+r),I=this._textModel.getLanguageIdAtPosition(f,0),N=l(this._languageIdCodec,I,this.tokenizationSupport,E,!0,b);return new n.LineTokens(N.tokens,E,this._languageIdCodec)}isCheapToTokenize(d){const r=this.store.getFirstInvalidEndStateLineNumberOrMax();return d<r||d===r&&this._textModel.getLineLength(d)<2048}tokenizeHeuristically(d,r,g){if(g<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(r<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(d,g),{heuristicTokens:!1};let f=this.guessStartState(r);const p=this._textModel.getLanguageId();for(let b=r;b<=g;b++){const w=this._textModel.getLineContent(b),E=l(this._languageIdCodec,p,this.tokenizationSupport,w,!0,f);d.add(b,E.tokens),f=E.endState}return{heuristicTokens:!0}}guessStartState(d){let r=this._textModel.getLineFirstNonWhitespaceColumn(d);const g=[];let f=null;for(let w=d-1;r>1&&w>=1;w--){const E=this._textModel.getLineFirstNonWhitespaceColumn(w);if(E!==0&&E<r&&(g.push(this._textModel.getLineContent(w)),r=E,f=this.getStartState(w),f))break}f||(f=this.tokenizationSupport.getInitialState()),g.reverse();const p=this._textModel.getLanguageId();let b=f;for(const w of g)b=l(this._languageIdCodec,p,this.tokenizationSupport,w,!1,b).endState;return b}}e.TokenizerWithStateStoreAndTextModel=t;class a{constructor(d){this.lineCount=d,this._tokenizationStateStore=new u,this._invalidEndStatesLineNumbers=new h,this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(1,d+1))}getEndState(d){return this._tokenizationStateStore.getEndState(d)}setEndState(d,r){if(!r)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(d);const g=this._tokenizationStateStore.setEndState(d,r);return g&&d<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(d+1,d+2)),g}acceptChange(d,r){this.lineCount+=r-d.length,this._tokenizationStateStore.acceptChange(d,r),this._invalidEndStatesLineNumbers.addRangeAndResize(new _.OffsetRange(d.startLineNumber,d.endLineNumberExclusive),r)}acceptChanges(d){for(const r of d){const[g]=(0,S.countEOL)(r.text);this.acceptChange(new m.LineRange(r.range.startLineNumber,r.range.endLineNumber+1),g+1)}}invalidateEndStateRange(d){this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(d.startLineNumber,d.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(d,r){return d===1?r:this.getEndState(d-1)}getFirstInvalidLine(d){const r=this.getFirstInvalidEndStateLineNumber();if(r===null)return null;const g=this.getStartState(r,d);if(!g)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:r,startState:g}}}e.TrackingTokenizationStateStore=a;class u{constructor(){this._lineEndStates=new C.FixedArray(null)}getEndState(d){return this._lineEndStates.get(d)}setEndState(d,r){const g=this._lineEndStates.get(d);return g&&g.equals(r)?!1:(this._lineEndStates.set(d,r),!0)}acceptChange(d,r){let g=d.length;r>0&&g>0&&(g--,r--),this._lineEndStates.replace(d.startLineNumber,g,r)}}e.TokenizationStateStore=u;class h{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(d){const r=this._ranges.findIndex(g=>g.contains(d));if(r!==-1){const g=this._ranges[r];g.start===d?g.endExclusive===d+1?this._ranges.splice(r,1):this._ranges[r]=new _.OffsetRange(d+1,g.endExclusive):g.endExclusive===d+1?this._ranges[r]=new _.OffsetRange(g.start,d):this._ranges.splice(r,1,new _.OffsetRange(g.start,d),new _.OffsetRange(d+1,g.endExclusive))}}addRange(d){_.OffsetRange.addRange(d,this._ranges)}addRangeAndResize(d,r){let g=0;for(;!(g>=this._ranges.length||d.start<=this._ranges[g].endExclusive);)g++;let f=g;for(;!(f>=this._ranges.length||d.endExclusive<this._ranges[f].start);)f++;const p=r-d.length;for(let b=f;b<this._ranges.length;b++)this._ranges[b]=this._ranges[b].delta(p);if(g===f){const b=new _.OffsetRange(d.start,d.start+r);b.isEmpty||this._ranges.splice(g,0,b)}else{const b=Math.min(d.start,this._ranges[g].start),w=Math.max(d.endExclusive,this._ranges[f-1].endExclusive),E=new _.OffsetRange(b,w+p);E.isEmpty?this._ranges.splice(g,f-g):this._ranges.splice(g,f-g,E)}}toString(){return this._ranges.map(d=>d.toString()).join(" + ")}}e.RangePriorityQueueImpl=h;function l(o,d,r,g,f,p){let b=null;if(r)try{b=r.tokenizeEncoded(g,f,p.clone())}catch(w){(0,k.onUnexpectedError)(w)}return b||(b=(0,v.nullTokenizeEncoded)(o.encodeLanguageId(d),p)),n.LineTokens.convertToEndOffset(b.tokens,g.length),b}class c{constructor(d,r){this._tokenizerWithStateStore=d,this._backgroundTokenStore=r,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,L.runWhenIdle)(d=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(d)}))}_backgroundTokenizeWithDeadline(d){const r=Date.now()+d.timeRemaining(),g=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<r?(0,y.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const d=this._tokenizerWithStateStore._textModel.getLineCount(),r=new s.ContiguousMultilineTokensBuilder,g=D.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(r)>=d)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(r.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(d){var r;const g=(r=this._tokenizerWithStateStore)===null||r===void 0?void 0:r.getFirstInvalidLine();return g?(this._tokenizerWithStateStore.updateTokensUntilLine(d,g.lineNumber),g.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(d,r){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.LineRange(d,r))}}e.DefaultBackgroundTokenizer=c}),define(ee[623],te([1,0,14,13,9,6,2,122,64,12,145,28,284,622,290,519,521]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class h extends n.TextModelPart{constructor(d,r,g,f,p,b){super(),this._languageService=d,this._languageConfigurationService=r,this._textModel=g,this._bracketPairsTextModelPart=f,this._languageId=p,this._attachedViews=b,this._semanticTokens=new u.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new l(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(w=>{w.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(w=>{this._emitModelTokensChangedEvent(w)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(w=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(d){if(d.isFlush)this._semanticTokens.flush();else if(!d.isEolChange)for(const r of d.changes){const[g,f,p]=(0,m.countEOL)(r.text);this._semanticTokens.acceptEdit(r.range,g,f,p,r.text.length>0?r.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(d)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(d){this.validateLineNumber(d);const r=this.grammarTokens.getLineTokens(d);return this._semanticTokens.addSparseTokens(d,r)}_emitModelTokensChangedEvent(d){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(d),this._onDidChangeTokens.fire(d))}validateLineNumber(d){if(d<1||d>this._textModel.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(d){this.validateLineNumber(d),this.grammarTokens.forceTokenization(d)}isCheapToTokenize(d){return this.validateLineNumber(d),this.grammarTokens.isCheapToTokenize(d)}tokenizeIfCheap(d){this.validateLineNumber(d),this.grammarTokens.tokenizeIfCheap(d)}getTokenTypeIfInsertingCharacter(d,r,g){return this.grammarTokens.getTokenTypeIfInsertingCharacter(d,r,g)}tokenizeLineWithEdit(d,r,g){return this.grammarTokens.tokenizeLineWithEdit(d,r,g)}setSemanticTokens(d,r){this._semanticTokens.set(d,r),this._emitModelTokensChangedEvent({semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(d,r){if(this.hasCompleteSemanticTokens())return;const g=this._textModel.validateRange(this._semanticTokens.setPartial(d,r));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:g.startLineNumber,toLineNumber:g.endLineNumber}]})}getWordAtPosition(d){this.assertNotDisposed();const r=this._textModel.validatePosition(d),g=this._textModel.getLineContent(r.lineNumber),f=this.getLineTokens(r.lineNumber),p=f.findTokenIndexAtOffset(r.column-1),[b,w]=h._findLanguageBoundaries(f,p),E=(0,C.getWordAtText)(r.column,this.getLanguageConfiguration(f.getLanguageId(p)).getWordDefinition(),g.substring(b,w),b);if(E&&E.startColumn<=d.column&&d.column<=E.endColumn)return E;if(p>0&&b===r.column-1){const[I,N]=h._findLanguageBoundaries(f,p-1),R=(0,C.getWordAtText)(r.column,this.getLanguageConfiguration(f.getLanguageId(p-1)).getWordDefinition(),g.substring(I,N),I);if(R&&R.startColumn<=d.column&&d.column<=R.endColumn)return R}return null}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}static _findLanguageBoundaries(d,r){const g=d.getLanguageId(r);let f=0;for(let b=r;b>=0&&d.getLanguageId(b)===g;b--)f=d.getStartOffset(b);let p=d.getLineContent().length;for(let b=r,w=d.getCount();b<w&&d.getLanguageId(b)===g;b++)p=d.getEndOffset(b);return[f,p]}getWordUntilPosition(d){const r=this.getWordAtPosition(d);return r?{word:r.word.substr(0,d.column-r.startColumn),startColumn:r.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(d,r){const g=this._textModel.validatePosition(new v.Position(d,r)),f=this.getLineTokens(g.lineNumber);return f.getLanguageId(f.findTokenIndexAtOffset(g.column-1))}setLanguageId(d,r="api"){if(this._languageId===d)return;const g={oldLanguage:this._languageId,newLanguage:d,source:r};this._languageId=d,this._bracketPairsTextModelPart.handleDidChangeLanguage(g),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(g),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=h;class l extends S.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(d,r,g,f){super(),this._languageIdCodec=d,this._textModel=r,this.getLanguageId=g,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new S.MutableDisposable),this._tokens=new a.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new S.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new S.DisposableMap),this._register(s.TokenizationRegistry.onDidChange(p=>{const b=this.getLanguageId();p.changedLanguages.indexOf(b)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(f.onDidChangeVisibleRanges(({view:p,state:b})=>{if(b){let w=this._attachedViewStates.get(p);w||(w=new c(()=>this.refreshRanges(w.lineRanges)),this._attachedViewStates.set(p,w)),w.handleStateChange(b)}else this._attachedViewStates.deleteAndDispose(p)}))}resetTokenization(d=!0){var r;this._tokens.flush(),(r=this._debugBackgroundTokens)===null||r===void 0||r.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),d&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const g=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const b=s.TokenizationRegistry.get(this.getLanguageId());if(!b)return[null,null];let w;try{w=b.getInitialState()}catch(E){return(0,y.onUnexpectedError)(E),[null,null]}return[b,w]},[f,p]=g();if(f&&p?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),f,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const b={setTokens:w=>{this.setTokens(w)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const w=2;this._backgroundTokenizationState=w,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(w,E)=>{var I;if(!this._tokenizer)return;const N=this._tokenizer.store.getFirstInvalidEndStateLineNumber();N!==null&&w>=N&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(w,E))}};f&&f.createBackgroundTokenizer&&!f.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=f.createBackgroundTokenizer(this._textModel,b)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,b),this._defaultBackgroundTokenizer.handleChanges()),f?.backgroundTokenizerShouldOnlyVerifyTokens&&f.createBackgroundTokenizer?(this._debugBackgroundTokens=new a.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=f.createBackgroundTokenizer(this._textModel,{setTokens:w=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(w,this._textModel)},backgroundTokenizationFinished(){},setEndState:(w,E)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(w,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var d;(d=this._defaultBackgroundTokenizer)===null||d===void 0||d.handleChanges()}handleDidChangeContent(d){var r,g,f;if(d.isFlush)this.resetTokenization(!1);else if(!d.isEolChange){for(const p of d.changes){const[b,w]=(0,m.countEOL)(p.text);this._tokens.acceptEdit(p.range,b,w),(r=this._debugBackgroundTokens)===null||r===void 0||r.acceptEdit(p.range,b,w)}(g=this._debugBackgroundStates)===null||g===void 0||g.acceptChanges(d.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(d.changes),(f=this._defaultBackgroundTokenizer)===null||f===void 0||f.handleChanges()}}setTokens(d){const{changes:r}=this._tokens.setMultilineTokens(d,this._textModel);return r.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:r}),{changes:r}}refreshAllVisibleLineTokens(){const d=_.LineRange.joinMany([...this._attachedViewStates].map(([r,g])=>g.lineRanges));this.refreshRanges(d)}refreshRanges(d){for(const r of d)this.refreshRange(r.startLineNumber,r.endLineNumberExclusive-1)}refreshRange(d,r){var g,f;if(!this._tokenizer)return;d=Math.max(1,Math.min(this._textModel.getLineCount(),d)),r=Math.min(this._textModel.getLineCount(),r);const p=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:b}=this._tokenizer.tokenizeHeuristically(p,d,r),w=this.setTokens(p.finalize());if(b)for(const E of w.changes)(g=this._backgroundTokenizer.value)===null||g===void 0||g.requestTokens(E.fromLineNumber,E.toLineNumber+1);(f=this._defaultBackgroundTokenizer)===null||f===void 0||f.checkFinished()}forceTokenization(d){var r,g;const f=new t.ContiguousMultilineTokensBuilder;(r=this._tokenizer)===null||r===void 0||r.updateTokensUntilLine(f,d),this.setTokens(f.finalize()),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}isCheapToTokenize(d){return this._tokenizer?this._tokenizer.isCheapToTokenize(d):!0}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){var r;const g=this._textModel.getLineContent(d),f=this._tokens.getTokens(this._textModel.getLanguageId(),d-1,g);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>d&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>d){const p=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),d-1,g);!f.equals(p)&&(!((r=this._debugBackgroundTokenizer.value)===null||r===void 0)&&r.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(d)}return f}getTokenTypeIfInsertingCharacter(d,r,g){if(!this._tokenizer)return 0;const f=this._textModel.validatePosition(new v.Position(d,r));return this.forceTokenization(f.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(f,g)}tokenizeLineWithEdit(d,r,g){if(!this._tokenizer)return null;const f=this._textModel.validatePosition(d);return this.forceTokenization(f.lineNumber),this._tokenizer.tokenizeLineWithEdit(f,r,g)}get hasTokens(){return this._tokens.hasTokens}}class c extends S.Disposable{get lineRanges(){return this._lineRanges}constructor(d){super(),this._refreshTokens=d,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,L.equals)(this._computedLineRanges,this._lineRanges,(d,r)=>d.equals(r))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(d){this._lineRanges=d.visibleLineRanges,d.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(ee[330],te([1,0,19,6,61,21,12,5,24,28,210]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(t,a){return(0,y.KeyChord)(t,a)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function n(){return{editor:void 0,languages:void 0,CancellationTokenSource:L.CancellationTokenSource,Emitter:k.Emitter,KeyCode:C.KeyCode,KeyMod:s,Position:S.Position,Range:m.Range,Selection:_.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:D.URI,Token:v.Token}}e.createMonacoBaseAPI=n}),define(ee[624],te([1,0,168,21,12,5,513,145,496,502,330,58,288,493,52,495]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class u extends S.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(o){const d=[];for(let r=0;r<this._lines.length;r++){const g=this._lines[r],f=this.offsetAt(new y.Position(r+1,1)),p=g.matchAll(o);for(const b of p)(b.index||b.index===0)&&(b.index=b.index+f),d.push(b)}return d}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(o){return this._lines[o-1]}getWordAtPosition(o,d){const r=(0,m.getWordAtText)(o.column,(0,m.ensureValidWordDefinition)(d),this._lines[o.lineNumber-1],0);return r?new D.Range(o.lineNumber,r.startColumn,o.lineNumber,r.endColumn):null}words(o){const d=this._lines,r=this._wordenize.bind(this);let g=0,f="",p=0,b=[];return{*[Symbol.iterator](){for(;;)if(p<b.length){const w=f.substring(b[p].start,b[p].end);p+=1,yield w}else if(g<d.length)f=d[g],b=r(f,o),p=0,g+=1;else break}}}getLineWords(o,d){const r=this._lines[o-1],g=this._wordenize(r,d),f=[];for(const p of g)f.push({word:r.substring(p.start,p.end),startColumn:p.start+1,endColumn:p.end+1});return f}_wordenize(o,d){const r=[];let g;for(d.lastIndex=0;(g=d.exec(o))&&g[0].length!==0;)r.push({start:g.index,end:g.index+g[0].length});return r}getValueInRange(o){if(o=this._validateRange(o),o.startLineNumber===o.endLineNumber)return this._lines[o.startLineNumber-1].substring(o.startColumn-1,o.endColumn-1);const d=this._eol,r=o.startLineNumber-1,g=o.endLineNumber-1,f=[];f.push(this._lines[r].substring(o.startColumn-1));for(let p=r+1;p<g;p++)f.push(this._lines[p]);return f.push(this._lines[g].substring(0,o.endColumn-1)),f.join(d)}offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.lineNumber-2)+(o.column-1)}positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const d=this._lineStarts.getIndexOf(o),r=this._lines[d.index].length;return{lineNumber:1+d.index,column:1+Math.min(d.remainder,r)}}_validateRange(o){const d=this._validatePosition({lineNumber:o.startLineNumber,column:o.startColumn}),r=this._validatePosition({lineNumber:o.endLineNumber,column:o.endColumn});return d.lineNumber!==o.startLineNumber||d.column!==o.startColumn||r.lineNumber!==o.endLineNumber||r.column!==o.endColumn?{startLineNumber:d.lineNumber,startColumn:d.column,endLineNumber:r.lineNumber,endColumn:r.column}:o}_validatePosition(o){if(!y.Position.isIPosition(o))throw new Error("bad position");let{lineNumber:d,column:r}=o,g=!1;if(d<1)d=1,r=1,g=!0;else if(d>this._lines.length)d=this._lines.length,r=this._lines[d-1].length+1,g=!0;else{const f=this._lines[d-1].length+1;r<1?(r=1,g=!0):r>f&&(r=f,g=!0)}return g?{lineNumber:d,column:r}:o}}class h{constructor(o,d){this._host=o,this._models=Object.create(null),this._foreignModuleFactory=d,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(o){return this._models[o]}_getModels(){const o=[];return Object.keys(this._models).forEach(d=>o.push(this._models[d])),o}acceptNewModel(o){this._models[o.url]=new u(k.URI.parse(o.url),o.lines,o.EOL,o.versionId)}acceptModelChanged(o,d){if(!this._models[o])return;this._models[o].onEvents(d)}acceptRemovedModel(o){this._models[o]&&delete this._models[o]}computeUnicodeHighlights(o,d,r){return Se(this,void 0,void 0,function*(){const g=this._getModel(o);return g?n.UnicodeTextModelHighlighter.computeUnicodeHighlights(g,d,r):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(o,d,r,g){return Se(this,void 0,void 0,function*(){const f=this._getModel(o),p=this._getModel(d);return!f||!p?null:h.computeDiff(f,p,r,g)})}static computeDiff(o,d,r,g){const f=g==="advanced"?i.linesDiffComputers.getDefault():i.linesDiffComputers.getLegacy(),p=o.getLinesContent(),b=d.getLinesContent(),w=f.computeDiff(p,b,r),E=w.changes.length>0?!1:this._modelsAreIdentical(o,d);function I(N){return N.map(R=>{var F;return[R.original.startLineNumber,R.original.endLineNumberExclusive,R.modified.startLineNumber,R.modified.endLineNumberExclusive,(F=R.innerChanges)===null||F===void 0?void 0:F.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:E,quitEarly:w.hitTimeout,changes:I(w.changes),moves:w.moves.map(N=>[N.lineRangeMapping.original.startLineNumber,N.lineRangeMapping.original.endLineNumberExclusive,N.lineRangeMapping.modified.startLineNumber,N.lineRangeMapping.modified.endLineNumberExclusive,I(N.changes)])}}static _modelsAreIdentical(o,d){const r=o.getLineCount(),g=d.getLineCount();if(r!==g)return!1;for(let f=1;f<=r;f++){const p=o.getLineContent(f),b=d.getLineContent(f);if(p!==b)return!1}return!0}computeMoreMinimalEdits(o,d,r){return Se(this,void 0,void 0,function*(){const g=this._getModel(o);if(!g)return d;const f=[];let p;d=d.slice(0).sort((w,E)=>{if(w.range&&E.range)return D.Range.compareRangesUsingStarts(w.range,E.range);const I=w.range?0:1,N=E.range?0:1;return I-N});let b=0;for(let w=1;w<d.length;w++)D.Range.getEndPosition(d[b].range).equals(D.Range.getStartPosition(d[w].range))?(d[b].range=D.Range.fromPositions(D.Range.getStartPosition(d[b].range),D.Range.getEndPosition(d[w].range)),d[b].text+=d[w].text):(b++,d[b]=d[w]);d.length=b+1;for(let{range:w,text:E,eol:I}of d){if(typeof I=="number"&&(p=I),D.Range.isEmpty(w)&&!E)continue;const N=g.getValueInRange(w);if(E=E.replace(/\r\n|\n|\r/g,g.eol),N===E)continue;if(Math.max(E.length,N.length)>h._diffLimit){f.push({range:w,text:E});continue}const R=(0,L.stringDiff)(N,E,r),F=g.offsetAt(D.Range.lift(w).getStartPosition());for(const M of R){const A=g.positionAt(F+M.originalStart),T=g.positionAt(F+M.originalStart+M.originalLength),O={text:E.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:A.lineNumber,startColumn:A.column,endLineNumber:T.lineNumber,endColumn:T.column}};g.getValueInRange(O.range)!==O.text&&f.push(O)}}return typeof p=="number"&&f.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),f})}computeLinks(o){return Se(this,void 0,void 0,function*(){const d=this._getModel(o);return d?(0,_.computeLinks)(d):null})}computeDefaultDocumentColors(o){return Se(this,void 0,void 0,function*(){const d=this._getModel(o);return d?(0,a.computeDefaultDocumentColors)(d):null})}textualSuggest(o,d,r,g){return Se(this,void 0,void 0,function*(){const f=new s.StopWatch,p=new RegExp(r,g),b=new Set;e:for(const w of o){const E=this._getModel(w);if(E){for(const I of E.words(p))if(!(I===d||!isNaN(Number(I)))&&(b.add(I),b.size>h._suggestionsLimit))break e}}return{words:Array.from(b),duration:f.elapsed()}})}computeWordRanges(o,d,r,g){return Se(this,void 0,void 0,function*(){const f=this._getModel(o);if(!f)return Object.create(null);const p=new RegExp(r,g),b=Object.create(null);for(let w=d.startLineNumber;w<d.endLineNumber;w++){const E=f.getLineWords(w,p);for(const I of E){if(!isNaN(Number(I.word)))continue;let N=b[I.word];N||(N=[],b[I.word]=N),N.push({startLineNumber:w,startColumn:I.startColumn,endLineNumber:w,endColumn:I.endColumn})}}return b})}navigateValueSet(o,d,r,g,f){return Se(this,void 0,void 0,function*(){const p=this._getModel(o);if(!p)return null;const b=new RegExp(g,f);d.startColumn===d.endColumn&&(d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn+1});const w=p.getValueInRange(d),E=p.getWordAtPosition({lineNumber:d.startLineNumber,column:d.startColumn},b);if(!E)return null;const I=p.getValueInRange(E);return v.BasicInplaceReplace.INSTANCE.navigateValueSet(d,w,E,I,r)})}loadForeignModule(o,d,r){const g=(b,w)=>this._host.fhr(b,w),p={host:(0,t.createProxyObject)(r,g),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(p,d),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((b,w)=>{G([o],E=>{this._foreignModule=E.create(p,d),b((0,t.getAllMethodNames)(this._foreignModule))},w)})}fmr(o,d){if(!this._foreignModule||typeof this._foreignModule[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this._foreignModule[o].apply(this._foreignModule,d))}catch(r){return Promise.reject(r)}}}e.EditorSimpleWorker=h,h._diffLimit=1e5,h._suggestionsLimit=1e4;function l(c){return new h(c,null)}e.create=l,typeof importScripts=="function"&&(globalThis.monaco=(0,C.createMonacoBaseAPI)())}),define(ee[331],te([1,0,6,2,274,28]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new S)),this._INSTANCE}constructor(){super(),this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(_=>{_.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const _=D.TokenizationRegistry.getColorMap();if(!_){this._colors=[y.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[y.RGBA8.Empty];for(let C=1;C<_.length;C++){const s=_[C].rgba;this._colors[C]=new y.RGBA8(s.r,s.g,s.b,Math.round(s.a*255))}const v=_[2].getRelativeLuminance();this._backgroundIsLight=v>=.5,this._onDidChange.fire(void 0)}getColor(_){return(_<1||_>=this._colors.length)&&(_=2),this._colors[_]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(ee[625],te([3,4]),function(G,e){return G.create("vs/editor/common/languages/modesRegistry",e)}),define(ee[626],te([3,4]),function(G,e){return G.create("vs/editor/common/model/editStack",e)}),define(ee[332],te([1,0,626,9,24,21,322,138,44]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function v(u){return u.toString()}class C{static create(h,l){const c=h.getAlternativeVersionId(),o=i(h);return new C(c,c,o,o,l,l,[])}constructor(h,l,c,o,d,r,g){this.beforeVersionId=h,this.afterVersionId=l,this.beforeEOL=c,this.afterEOL=o,this.beforeCursorState=d,this.afterCursorState=r,this.changes=g}append(h,l,c,o,d){l.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,l)),this.afterEOL=c,this.afterVersionId=o,this.afterCursorState=d}static _writeSelectionsSize(h){return 4+4*4*(h?h.length:0)}static _writeSelections(h,l,c){if(m.writeUInt32BE(h,l?l.length:0,c),c+=4,l)for(const o of l)m.writeUInt32BE(h,o.selectionStartLineNumber,c),c+=4,m.writeUInt32BE(h,o.selectionStartColumn,c),c+=4,m.writeUInt32BE(h,o.positionLineNumber,c),c+=4,m.writeUInt32BE(h,o.positionColumn,c),c+=4;return c}static _readSelections(h,l,c){const o=m.readUInt32BE(h,l);l+=4;for(let d=0;d<o;d++){const r=m.readUInt32BE(h,l);l+=4;const g=m.readUInt32BE(h,l);l+=4;const f=m.readUInt32BE(h,l);l+=4;const p=m.readUInt32BE(h,l);l+=4,c.push(new y.Selection(r,g,f,p))}return l}serialize(){let h=10+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)h+=o.writeSize();const l=new Uint8Array(h);let c=0;m.writeUInt32BE(l,this.beforeVersionId,c),c+=4,m.writeUInt32BE(l,this.afterVersionId,c),c+=4,m.writeUInt8(l,this.beforeEOL,c),c+=1,m.writeUInt8(l,this.afterEOL,c),c+=1,c=C._writeSelections(l,this.beforeCursorState,c),c=C._writeSelections(l,this.afterCursorState,c),m.writeUInt32BE(l,this.changes.length,c),c+=4;for(const o of this.changes)c=o.write(l,c);return l.buffer}static deserialize(h){const l=new Uint8Array(h);let c=0;const o=m.readUInt32BE(l,c);c+=4;const d=m.readUInt32BE(l,c);c+=4;const r=m.readUInt8(l,c);c+=1;const g=m.readUInt8(l,c);c+=1;const f=[];c=C._readSelections(l,c,f);const p=[];c=C._readSelections(l,c,p);const b=m.readUInt32BE(l,c);c+=4;const w=[];for(let E=0;E<b;E++)c=S.TextChange.read(l,c,w);return new C(o,d,r,g,f,p,w)}}e.SingleModelEditStackData=C;class s{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(h,l,c,o){this.label=h,this.code=l,this.model=c,this._data=C.create(c,o)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(l=>l.toString()).join(", ")}matchesResource(h){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===h.toString()}setModel(h){this.model=h}canAppend(h){return this.model===h&&this._data instanceof C}append(h,l,c,o,d){this._data instanceof C&&this._data.append(h,l,c,o,d)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const h=C.deserialize(this._data);this.model._applyUndo(h.changes,h.beforeEOL,h.beforeVersionId,h.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const h=C.deserialize(this._data);this.model._applyRedo(h.changes,h.afterEOL,h.afterVersionId,h.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class n{get resources(){return this._editStackElementsArr.map(h=>h.resource)}constructor(h,l,c){this.label=h,this.code=l,this.type=1,this._isOpen=!0,this._editStackElementsArr=c.slice(0),this._editStackElementsMap=new Map;for(const o of this._editStackElementsArr){const d=v(o.resource);this._editStackElementsMap.set(d,o)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(h){const l=v(h);return this._editStackElementsMap.has(l)}setModel(h){const l=v(D.URI.isUri(h)?h:h.uri);this._editStackElementsMap.has(l)&&this._editStackElementsMap.get(l).setModel(h)}canAppend(h){if(!this._isOpen)return!1;const l=v(h.uri);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).canAppend(h):!1}append(h,l,c,o,d){const r=v(h.uri);this._editStackElementsMap.get(r).append(h,l,c,o,d)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const h of this._editStackElementsArr)h.undo()}redo(){for(const h of this._editStackElementsArr)h.redo()}heapSize(h){const l=v(h);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).heapSize():0}split(){return this._editStackElementsArr}toString(){const h=[];for(const l of this._editStackElementsArr)h.push(`${(0,_.basename)(l.resource)}: ${l}`);return`{${h.join(", ")}}`}}e.MultiModelEditStackElement=n;function i(u){return u.getEOL()===`
`?0:1}function t(u){return u?u instanceof s||u instanceof n:!1}e.isEditStackElement=t;class a{constructor(h,l){this._model=h,this._undoRedoService=l}pushStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);t(h)&&h.close()}popStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);t(h)&&h.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(h,l){const c=this._undoRedoService.getLastElement(this._model.uri);if(t(c)&&c.canAppend(this._model))return c;const o=new s(L.localize(0,null),"undoredo.textBufferEdit",this._model,h);return this._undoRedoService.pushElement(o,l),o}pushEOL(h){const l=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(h),l.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(h,l,c,o){const d=this._getOrCreateEditStackElement(h,o),r=this._model.applyEdits(l,!0),g=a._computeCursorState(c,r),f=r.map((p,b)=>({index:b,textChange:p.textChange}));return f.sort((p,b)=>p.textChange.oldPosition===b.textChange.oldPosition?p.index-b.index:p.textChange.oldPosition-b.textChange.oldPosition),d.append(this._model,f.map(p=>p.textChange),i(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(h,l){try{return h?h(l):null}catch(c){return(0,k.onUnexpectedError)(c),null}}}e.EditStack=a}),define(ee[627],te([3,4]),function(G,e){return G.create("vs/editor/common/standaloneStrings",e)}),define(ee[93],te([1,0,627]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(s){s.inspectTokensAction=L.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var y;(function(s){s.gotoLineActionLabel=L.localize(1,null)})(y||(e.GoToLineNLS=y={}));var D;(function(s){s.helpQuickAccessActionLabel=L.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var S;(function(s){s.quickCommandActionLabel=L.localize(3,null),s.quickCommandHelp=L.localize(4,null)})(S||(e.QuickCommandNLS=S={}));var m;(function(s){s.quickOutlineActionLabel=L.localize(5,null),s.quickOutlineByCategoryActionLabel=L.localize(6,null)})(m||(e.QuickOutlineNLS=m={}));var _;(function(s){s.editorViewAccessibleLabel=L.localize(7,null),s.accessibilityHelpMessage=L.localize(8,null)})(_||(e.StandaloneCodeEditorNLS=_={}));var v;(function(s){s.toggleHighContrast=L.localize(9,null)})(v||(e.ToggleHighContrastNLS=v={}));var C;(function(s){s.bulkEditServiceSummary=L.localize(10,null)})(C||(e.StandaloneServicesNLS=C={}))}),define(ee[628],te([3,4]),function(G,e){return G.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ee[114],te([1,0,628,10,102,149,530]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class m{constructor(w,E){this.startOffset=w,this.endOffset=E}equals(w){return this.startOffset===w.startOffset&&this.endOffset===w.endOffset}}e.LineRange=m;class _{constructor(w,E,I,N,R,F,M,A,T,O,P,x,z,q,B,$,X,ne,oe){this.useMonospaceOptimizations=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.continuesWithWrappedLine=N,this.isBasicASCII=R,this.containsRTL=F,this.fauxIndentLength=M,this.lineTokens=A,this.lineDecorations=T.sort(D.LineDecoration.compare),this.tabSize=O,this.startVisibleColumn=P,this.spaceWidth=x,this.stopRenderingLineAfter=B,this.renderWhitespace=$==="all"?4:$==="boundary"?1:$==="selection"?2:$==="trailing"?3:0,this.renderControlCharacters=X,this.fontLigatures=ne,this.selectionsOnLine=oe&&oe.sort((W,V)=>W.startOffset<V.startOffset?-1:1);const Y=Math.abs(q-x),U=Math.abs(z-x);Y<U?(this.renderSpaceWidth=q,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=z,this.renderSpaceCharCode=183)}sameSelection(w){if(this.selectionsOnLine===null)return w===null;if(w===null||w.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(w[E]))return!1;return!0}equals(w){return this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineContent===w.lineContent&&this.continuesWithWrappedLine===w.continuesWithWrappedLine&&this.isBasicASCII===w.isBasicASCII&&this.containsRTL===w.containsRTL&&this.fauxIndentLength===w.fauxIndentLength&&this.tabSize===w.tabSize&&this.startVisibleColumn===w.startVisibleColumn&&this.spaceWidth===w.spaceWidth&&this.renderSpaceWidth===w.renderSpaceWidth&&this.renderSpaceCharCode===w.renderSpaceCharCode&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.fontLigatures===w.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,w.lineDecorations)&&this.lineTokens.equals(w.lineTokens)&&this.sameSelection(w.selectionsOnLine)}}e.RenderLineInput=_;class v{constructor(w,E){this.partIndex=w,this.charIndex=E}}e.DomPosition=v;class C{static getPartIndex(w){return(w&4294901760)>>>16}static getCharIndex(w){return(w&65535)>>>0}constructor(w,E){this.length=w,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(w,E,I,N){const R=(E<<16|I<<0)>>>0;this._data[w-1]=R,this._horizontalOffset[w-1]=N}getHorizontalOffset(w){return this._horizontalOffset.length===0?0:this._horizontalOffset[w-1]}charOffsetToPartData(w){return this.length===0?0:w<0?this._data[0]:w>=this.length?this._data[this.length-1]:this._data[w]}getDomPosition(w){const E=this.charOffsetToPartData(w-1),I=C.getPartIndex(E),N=C.getCharIndex(E);return new v(I,N)}getColumn(w,E){return this.partDataToCharOffset(w.partIndex,E,w.charIndex)+1}partDataToCharOffset(w,E,I){if(this.length===0)return 0;const N=(w<<16|I<<0)>>>0;let R=0,F=this.length-1;for(;R+1<F;){const B=R+F>>>1,$=this._data[B];if($===N)return B;$>N?F=B:R=B}if(R===F)return R;const M=this._data[R],A=this._data[F];if(M===N)return R;if(A===N)return F;const T=C.getPartIndex(M),O=C.getCharIndex(M),P=C.getPartIndex(A);let x;T!==P?x=E:x=C.getCharIndex(A);const z=I-O,q=x-I;return z<=q?R:F}}e.CharacterMapping=C;class s{constructor(w,E,I){this._renderLineOutputBrand=void 0,this.characterMapping=w,this.containsRTL=E,this.containsForeignElements=I}}e.RenderLineOutput=s;function n(b,w){if(b.lineContent.length===0){if(b.lineDecorations.length>0){w.appendString("<span>");let E=0,I=0,N=0;for(const F of b.lineDecorations)(F.type===1||F.type===2)&&(w.appendString('<span class="'),w.appendString(F.className),w.appendString('"></span>'),F.type===1&&(N|=1,E++),F.type===2&&(N|=2,I++));w.appendString("</span>");const R=new C(1,E+I);return R.setColumnInfo(1,E,0,0),new s(R,!1,N)}return w.appendString("<span><span></span></span>"),new s(new C(0,0),!1,0)}return g(u(b),w)}e.renderViewLine=n;class i{constructor(w,E,I,N){this.characterMapping=w,this.html=E,this.containsRTL=I,this.containsForeignElements=N}}e.RenderLineOutput2=i;function t(b){const w=new y.StringBuilder(1e4),E=n(b,w);return new i(E.characterMapping,w.build(),E.containsRTL,E.containsForeignElements)}e.renderViewLine2=t;class a{constructor(w,E,I,N,R,F,M,A,T,O,P,x,z,q,B,$){this.fontIsMonospace=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.len=N,this.isOverflowing=R,this.overflowingCharCount=F,this.parts=M,this.containsForeignElements=A,this.fauxIndentLength=T,this.tabSize=O,this.startVisibleColumn=P,this.containsRTL=x,this.spaceWidth=z,this.renderSpaceCharCode=q,this.renderWhitespace=B,this.renderControlCharacters=$}}function u(b){const w=b.lineContent;let E,I,N;b.stopRenderingLineAfter!==-1&&b.stopRenderingLineAfter<w.length?(E=!0,I=w.length-b.stopRenderingLineAfter,N=b.stopRenderingLineAfter):(E=!1,I=0,N=w.length);let R=h(w,b.containsRTL,b.lineTokens,b.fauxIndentLength,N);b.renderControlCharacters&&!b.isBasicASCII&&(R=o(w,R)),(b.renderWhitespace===4||b.renderWhitespace===1||b.renderWhitespace===2&&b.selectionsOnLine||b.renderWhitespace===3&&!b.continuesWithWrappedLine)&&(R=d(b,w,N,R));let F=0;if(b.lineDecorations.length>0){for(let M=0,A=b.lineDecorations.length;M<A;M++){const T=b.lineDecorations[M];T.type===3||T.type===1?F|=1:T.type===2&&(F|=2)}R=r(w,N,R,b.lineDecorations)}return b.containsRTL||(R=l(w,R,!b.isBasicASCII||b.fontLigatures)),new a(b.useMonospaceOptimizations,b.canUseHalfwidthRightwardsArrow,w,N,E,I,R,F,b.fauxIndentLength,b.tabSize,b.startVisibleColumn,b.containsRTL,b.spaceWidth,b.renderSpaceCharCode,b.renderWhitespace,b.renderControlCharacters)}function h(b,w,E,I,N){const R=[];let F=0;I>0&&(R[F++]=new S.LinePart(I,"",0,!1));let M=I;for(let A=0,T=E.getCount();A<T;A++){const O=E.getEndOffset(A);if(O<=I)continue;const P=E.getClassName(A);if(O>=N){const z=w?k.containsRTL(b.substring(M,N)):!1;R[F++]=new S.LinePart(N,P,0,z);break}const x=w?k.containsRTL(b.substring(M,O)):!1;R[F++]=new S.LinePart(O,P,0,x),M=O}return R}function l(b,w,E){let I=0;const N=[];let R=0;if(E)for(let F=0,M=w.length;F<M;F++){const A=w[F],T=A.endIndex;if(I+50<T){const O=A.type,P=A.metadata,x=A.containsRTL;let z=-1,q=I;for(let B=I;B<T;B++)b.charCodeAt(B)===32&&(z=B),z!==-1&&B-q>=50&&(N[R++]=new S.LinePart(z+1,O,P,x),q=z+1,z=-1);q!==T&&(N[R++]=new S.LinePart(T,O,P,x))}else N[R++]=A;I=T}else for(let F=0,M=w.length;F<M;F++){const A=w[F],T=A.endIndex,O=T-I;if(O>50){const P=A.type,x=A.metadata,z=A.containsRTL,q=Math.ceil(O/50);for(let B=1;B<q;B++){const $=I+B*50;N[R++]=new S.LinePart($,P,x,z)}N[R++]=new S.LinePart(T,P,x,z)}else N[R++]=A;I=T}return N}function c(b){return b<32?b!==9:b===127||b>=8234&&b<=8238||b>=8294&&b<=8297||b>=8206&&b<=8207||b===1564}function o(b,w){const E=[];let I=new S.LinePart(0,"",0,!1),N=0;for(const R of w){const F=R.endIndex;for(;N<F;N++){const M=b.charCodeAt(N);c(M)&&(N>I.endIndex&&(I=new S.LinePart(N,R.type,R.metadata,R.containsRTL),E.push(I)),I=new S.LinePart(N+1,"mtkcontrol",R.metadata,!1),E.push(I))}N>I.endIndex&&(I=new S.LinePart(F,R.type,R.metadata,R.containsRTL),E.push(I))}return E}function d(b,w,E,I){const N=b.continuesWithWrappedLine,R=b.fauxIndentLength,F=b.tabSize,M=b.startVisibleColumn,A=b.useMonospaceOptimizations,T=b.selectionsOnLine,O=b.renderWhitespace===1,P=b.renderWhitespace===3,x=b.renderSpaceWidth!==b.spaceWidth,z=[];let q=0,B=0,$=I[B].type,X=I[B].containsRTL,ne=I[B].endIndex;const oe=I.length;let Y=!1,U=k.firstNonWhitespaceIndex(w),W;U===-1?(Y=!0,U=E,W=E):W=k.lastNonWhitespaceIndex(w);let V=!1,Z=0,ie=T&&T[Z],le=M%F;for(let de=R;de<E;de++){const ce=w.charCodeAt(de);ie&&de>=ie.endOffset&&(Z++,ie=T&&T[Z]);let ae;if(de<U||de>W)ae=!0;else if(ce===9)ae=!0;else if(ce===32)if(O)if(V)ae=!0;else{const J=de+1<E?w.charCodeAt(de+1):0;ae=J===32||J===9}else ae=!0;else ae=!1;if(ae&&T&&(ae=!!ie&&ie.startOffset<=de&&ie.endOffset>de),ae&&P&&(ae=Y||de>W),ae&&X&&de>=U&&de<=W&&(ae=!1),V){if(!ae||!A&&le>=F){if(x){const J=q>0?z[q-1].endIndex:R;for(let K=J+1;K<=de;K++)z[q++]=new S.LinePart(K,"mtkw",1,!1)}else z[q++]=new S.LinePart(de,"mtkw",1,!1);le=le%F}}else(de===ne||ae&&de>R)&&(z[q++]=new S.LinePart(de,$,0,X),le=le%F);for(ce===9?le=F:k.isFullWidthCharacter(ce)?le+=2:le++,V=ae;de===ne&&(B++,B<oe);)$=I[B].type,X=I[B].containsRTL,ne=I[B].endIndex}let he=!1;if(V)if(N&&O){const de=E>0?w.charCodeAt(E-1):0,ce=E>1?w.charCodeAt(E-2):0;de===32&&ce!==32&&ce!==9||(he=!0)}else he=!0;if(he)if(x){const de=q>0?z[q-1].endIndex:R;for(let ce=de+1;ce<=E;ce++)z[q++]=new S.LinePart(ce,"mtkw",1,!1)}else z[q++]=new S.LinePart(E,"mtkw",1,!1);else z[q++]=new S.LinePart(E,$,0,X);return z}function r(b,w,E,I){I.sort(D.LineDecoration.compare);const N=D.LineDecorationsNormalizer.normalize(b,I),R=N.length;let F=0;const M=[];let A=0,T=0;for(let P=0,x=E.length;P<x;P++){const z=E[P],q=z.endIndex,B=z.type,$=z.metadata,X=z.containsRTL;for(;F<R&&N[F].startOffset<q;){const ne=N[F];if(ne.startOffset>T&&(T=ne.startOffset,M[A++]=new S.LinePart(T,B,$,X)),ne.endOffset+1<=q)T=ne.endOffset+1,M[A++]=new S.LinePart(T,B+" "+ne.className,$|ne.metadata,X),F++;else{T=q,M[A++]=new S.LinePart(T,B+" "+ne.className,$|ne.metadata,X);break}}q>T&&(T=q,M[A++]=new S.LinePart(T,B,$,X))}const O=E[E.length-1].endIndex;if(F<R&&N[F].startOffset===O)for(;F<R&&N[F].startOffset===O;){const P=N[F];M[A++]=new S.LinePart(T,P.className,P.metadata,!1),F++}return M}function g(b,w){const E=b.fontIsMonospace,I=b.canUseHalfwidthRightwardsArrow,N=b.containsForeignElements,R=b.lineContent,F=b.len,M=b.isOverflowing,A=b.overflowingCharCount,T=b.parts,O=b.fauxIndentLength,P=b.tabSize,x=b.startVisibleColumn,z=b.containsRTL,q=b.spaceWidth,B=b.renderSpaceCharCode,$=b.renderWhitespace,X=b.renderControlCharacters,ne=new C(F+1,T.length);let oe=!1,Y=0,U=x,W=0,V=0,Z=0;z?w.appendString('<span dir="ltr">'):w.appendString("<span>");for(let ie=0,le=T.length;ie<le;ie++){const he=T[ie],de=he.endIndex,ce=he.type,ae=he.containsRTL,J=$!==0&&he.isWhitespace(),K=J&&!E&&(ce==="mtkw"||!N),H=Y===de&&he.isPseudoAfter();if(W=0,w.appendString("<span "),ae&&w.appendString('style="unicode-bidi:isolate" '),w.appendString('class="'),w.appendString(K?"mtkz":ce),w.appendASCIICharCode(34),J){let Q=0;{let j=Y,re=U;for(;j<de;j++){const ue=(R.charCodeAt(j)===9?P-re%P:1)|0;Q+=ue,j>=O&&(re+=ue)}}for(K&&(w.appendString(' style="width:'),w.appendString(String(q*Q)),w.appendString('px"')),w.appendASCIICharCode(62);Y<de;Y++){ne.setColumnInfo(Y+1,ie-Z,W,V),Z=0;const j=R.charCodeAt(Y);let re,se;if(j===9){re=P-U%P|0,se=re,!I||se>1?w.appendCharCode(8594):w.appendCharCode(65515);for(let ue=2;ue<=se;ue++)w.appendCharCode(160)}else re=2,se=1,w.appendCharCode(B),w.appendCharCode(8204);W+=re,V+=se,Y>=O&&(U+=se)}}else for(w.appendASCIICharCode(62);Y<de;Y++){ne.setColumnInfo(Y+1,ie-Z,W,V),Z=0;const Q=R.charCodeAt(Y);let j=1,re=1;switch(Q){case 9:j=P-U%P,re=j;for(let se=1;se<=j;se++)w.appendCharCode(160);break;case 32:w.appendCharCode(160);break;case 60:w.appendString("&lt;");break;case 62:w.appendString("&gt;");break;case 38:w.appendString("&amp;");break;case 0:X?w.appendCharCode(9216):w.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:w.appendCharCode(65533);break;default:k.isFullWidthCharacter(Q)&&re++,X&&Q<32?w.appendCharCode(9216+Q):X&&Q===127?w.appendCharCode(9249):X&&c(Q)?(w.appendString("[U+"),w.appendString(f(Q)),w.appendString("]"),j=8,re=j):w.appendCharCode(Q)}W+=j,V+=re,Y>=O&&(U+=re)}H?Z++:Z=0,Y>=F&&!oe&&he.isPseudoAfter()&&(oe=!0,ne.setColumnInfo(Y+1,ie,W,V)),w.appendString("</span>")}return oe||ne.setColumnInfo(F+1,T.length-1,W,V),M&&(w.appendString('<span class="mtkoverflow">'),w.appendString(L.localize(0,null,p(A))),w.appendString("</span>")),w.appendString("</span>"),new s(ne,z,N)}function f(b){return b.toString(16).toUpperCase().padStart(4,"0")}function p(b){return b<1024?L.localize(1,null,b):b<1024*1024?`${(b/1024).toFixed(1)} KB`:`${(b/1024/1024).toFixed(1)} MB`}}),define(ee[629],te([1,0,89,69,38,102,149,114,82]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=e.renderLines=void 0;const v=(0,L.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function C(t,a,u,h){(0,k.applyFontInfo)(h,a.fontInfo);const l=u.length>0,c=new D.StringBuilder(1e4);let o=0,d=0;const r=[];for(let b=0;b<t.lineTokens.length;b++){const w=b+1,E=t.lineTokens[b],I=t.lineBreakData[b],N=S.LineDecoration.filter(u,w,1,Number.MAX_SAFE_INTEGER);if(I){let R=0;for(const F of I.breakOffsets){const M=E.sliceAndInflate(R,F,0);o=Math.max(o,i(d,M,S.LineDecoration.extractWrapped(N,R,F),l,t.mightContainNonBasicASCII,t.mightContainRTL,a,c)),d++,R=F}r.push(I.breakOffsets.length)}else r.push(1),o=Math.max(o,i(d,E,N,l,t.mightContainNonBasicASCII,t.mightContainRTL,a,c)),d++}o+=a.scrollBeyondLastColumn;const g=c.build(),f=v?v.createHTML(g):g;h.innerHTML=f;const p=o*a.typicalHalfwidthCharacterWidth;return{heightInLines:d,minWidthInPx:p,viewLineCounts:r}}e.renderLines=C;class s{constructor(a,u,h,l){this.lineTokens=a,this.lineBreakData=u,this.mightContainNonBasicASCII=h,this.mightContainRTL=l}}e.LineSource=s;class n{static fromEditor(a){var u;const h=a.getOptions(),l=h.get(49),c=h.get(142);return new n(((u=a.getModel())===null||u===void 0?void 0:u.getOptions().tabSize)||0,l,h.get(32),l.typicalHalfwidthCharacterWidth,h.get(102),h.get(65),c.decorationsWidth,h.get(115),h.get(97),h.get(92),h.get(50))}constructor(a,u,h,l,c,o,d,r,g,f,p){this.tabSize=a,this.fontInfo=u,this.disableMonospaceOptimizations=h,this.typicalHalfwidthCharacterWidth=l,this.scrollBeyondLastColumn=c,this.lineHeight=o,this.lineDecorationsWidth=d,this.stopRenderingLineAfter=r,this.renderWhitespace=g,this.renderControlCharacters=f,this.fontLigatures=p}}e.RenderOptions=n;function i(t,a,u,h,l,c,o,d){d.appendString('<div class="view-line'),h||d.appendString(" char-delete"),d.appendString('" style="top:'),d.appendString(String(t*o.lineHeight)),d.appendString('px;width:1000000px;">');const r=a.getLineContent(),g=_.ViewLineRenderingData.isBasicASCII(r,l),f=_.ViewLineRenderingData.containsRTL(r,g,c),p=(0,m.renderViewLine)(new m.RenderLineInput(o.fontInfo.isMonospace&&!o.disableMonospaceOptimizations,o.fontInfo.canUseHalfwidthRightwardsArrow,r,!1,g,f,0,a,u,o.tabSize,0,o.fontInfo.spaceWidth,o.fontInfo.middotWidth,o.fontInfo.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==y.EditorFontLigatures.OFF,null),d);return d.appendString("</div>"),p.characterMapping.getHorizontalOffset(p.characterMapping.length)}}),define(ee[630],te([3,4]),function(G,e){return G.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ee[631],te([3,4]),function(G,e){return G.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ee[632],te([3,4]),function(G,e){return G.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ee[633],te([3,4]),function(G,e){return G.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ee[634],te([3,4]),function(G,e){return G.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ee[635],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ee[636],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ee[637],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ee[638],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(ee[639],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ee[640],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ee[641],te([3,4]),function(G,e){return G.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ee[642],te([3,4]),function(G,e){return G.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ee[643],te([3,4]),function(G,e){return G.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(ee[644],te([3,4]),function(G,e){return G.create("vs/editor/contrib/comment/browser/comment",e)}),define(ee[645],te([3,4]),function(G,e){return G.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ee[646],te([3,4]),function(G,e){return G.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ee[647],te([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(ee[648],te([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(ee[649],te([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(ee[650],te([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(ee[651],te([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(ee[652],te([3,4]),function(G,e){return G.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ee[653],te([3,4]),function(G,e){return G.create("vs/editor/contrib/find/browser/findController",e)}),define(ee[654],te([3,4]),function(G,e){return G.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ee[655],te([3,4]),function(G,e){return G.create("vs/editor/contrib/folding/browser/folding",e)}),define(ee[656],te([3,4]),function(G,e){return G.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ee[657],te([3,4]),function(G,e){return G.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ee[658],te([3,4]),function(G,e){return G.create("vs/editor/contrib/format/browser/format",e)}),define(ee[659],te([3,4]),function(G,e){return G.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ee[660],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ee[661],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ee[662],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ee[663],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ee[664],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ee[665],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ee[666],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ee[667],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ee[155],te([1,0,9,6,164,2,63,44,10,5,667]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(u,h,l,c){this.isProviderFirst=u,this.parent=h,this.link=l,this._rangeCallback=c,this.id=y.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var u,h;return(h=(u=this._range)!==null&&u!==void 0?u:this.link.targetSelectionRange)!==null&&h!==void 0?h:this.link.range}set range(u){this._range=u,this._rangeCallback(this)}get ariaMessage(){var u;const h=(u=this.parent.getPreview(this))===null||u===void 0?void 0:u.preview(this.range);return h?(0,C.localize)(1,null,h.value,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,C.localize)(0,null,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class n{constructor(u){this._modelReference=u}dispose(){this._modelReference.dispose()}preview(u,h=8){const l=this._modelReference.object.textEditorModel;if(!l)return;const{startLineNumber:c,startColumn:o,endLineNumber:d,endColumn:r}=u,g=l.getWordUntilPosition({lineNumber:c,column:o-h}),f=new v.Range(c,g.startColumn,c,o),p=new v.Range(d,r,d,1073741824),b=l.getValueInRange(f).replace(/^\s+/,""),w=l.getValueInRange(u),E=l.getValueInRange(p).replace(/\s+$/,"");return{value:b+w+E,highlight:{start:b.length,end:b.length+w.length}}}}e.FilePreview=n;class i{constructor(u,h){this.parent=u,this.uri=h,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(u){return this._previews.get(u.uri)}get ariaMessage(){const u=this.children.length;return u===1?(0,C.localize)(2,null,(0,m.basename)(this.uri),this.uri.fsPath):(0,C.localize)(3,null,u,(0,m.basename)(this.uri),this.uri.fsPath)}resolve(u){return Se(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const h of this.children)if(!this._previews.has(h.uri))try{const l=yield u.createModelReference(h.uri);this._previews.set(h.uri,new n(l))}catch(l){(0,L.onUnexpectedError)(l)}return this})}}e.FileReferences=i;class t{constructor(u,h){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=u,this._title=h;const[l]=u;u.sort(t._compareReferences);let c;for(const o of u)if((!c||!m.extUri.isEqual(c.uri,o.uri,!0))&&(c=new i(this,o.uri),this.groups.push(c)),c.children.length===0||t._compareReferences(o,c.children[c.children.length-1])!==0){const d=new s(l===o,c,o,r=>this._onDidChangeReferenceRange.fire(r));this.references.push(d),c.children.push(d)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,C.localize)(4,null):this.references.length===1?(0,C.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,C.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,C.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(u,h){const{parent:l}=u;let c=l.children.indexOf(u);const o=l.children.length,d=l.parent.groups.length;return d===1||h&&c+1<o||!h&&c>0?(h?c=(c+1)%o:c=(c+o-1)%o,l.children[c]):(c=l.parent.groups.indexOf(l),h?(c=(c+1)%d,l.parent.groups[c].children[0]):(c=(c+d-1)%d,l.parent.groups[c].children[l.parent.groups[c].children.length-1]))}nearestReference(u,h){const l=this.references.map((c,o)=>({idx:o,prefixLen:_.commonPrefixLength(c.uri.toString(),u.toString()),offsetDist:Math.abs(c.range.startLineNumber-h.lineNumber)*100+Math.abs(c.range.startColumn-h.column)})).sort((c,o)=>c.prefixLen>o.prefixLen?-1:c.prefixLen<o.prefixLen?1:c.offsetDist<o.offsetDist?-1:c.offsetDist>o.offsetDist?1:0)[0];if(l)return this.references[l.idx]}referenceAt(u,h){for(const l of this.references)if(l.uri.toString()===u.toString()&&v.Range.containsPosition(l.range,h))return l}firstReference(){for(const u of this.references)if(u.isProviderFirst)return u;return this.references[0]}static _compareReferences(u,h){return m.extUri.compare(u.uri,h.uri)||v.Range.compareRangesUsingStarts(u.range,h.range)}}e.ReferencesModel=t}),define(ee[668],te([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ee[669],te([3,4]),function(G,e){return G.create("vs/editor/contrib/hover/browser/hover",e)}),define(ee[670],te([3,4]),function(G,e){return G.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ee[671],te([3,4]),function(G,e){return G.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ee[672],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ee[673],te([3,4]),function(G,e){return G.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ee[674],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ee[675],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(ee[676],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(ee[677],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(ee[678],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(ee[679],te([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(ee[680],te([3,4]),function(G,e){return G.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ee[681],te([3,4]),function(G,e){return G.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ee[682],te([3,4]),function(G,e){return G.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ee[683],te([3,4]),function(G,e){return G.create("vs/editor/contrib/links/browser/links",e)}),define(ee[684],te([3,4]),function(G,e){return G.create("vs/editor/contrib/message/browser/messageController",e)}),define(ee[685],te([3,4]),function(G,e){return G.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ee[686],te([3,4]),function(G,e){return G.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ee[687],te([3,4]),function(G,e){return G.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ee[688],te([3,4]),function(G,e){return G.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ee[689],te([3,4]),function(G,e){return G.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ee[690],te([3,4]),function(G,e){return G.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ee[691],te([3,4]),function(G,e){return G.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ee[692],te([3,4]),function(G,e){return G.create("vs/editor/contrib/rename/browser/rename",e)}),define(ee[693],te([3,4]),function(G,e){return G.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(ee[694],te([3,4]),function(G,e){return G.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ee[695],te([3,4]),function(G,e){return G.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ee[696],te([3,4]),function(G,e){return G.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ee[697],te([3,4]),function(G,e){return G.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ee[698],te([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ee[699],te([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ee[700],te([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ee[701],te([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ee[702],te([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ee[703],te([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ee[704],te([3,4]),function(G,e){return G.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ee[705],te([3,4]),function(G,e){return G.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ee[706],te([3,4]),function(G,e){return G.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ee[707],te([3,4]),function(G,e){return G.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ee[708],te([3,4]),function(G,e){return G.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ee[709],te([3,4]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ee[710],te([3,4]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ee[711],te([3,4]),function(G,e){return G.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ee[712],te([3,4]),function(G,e){return G.create("vs/platform/action/common/actionCommonCategories",e)}),define(ee[713],te([3,4]),function(G,e){return G.create("vs/platform/actionWidget/browser/actionList",e)}),define(ee[714],te([3,4]),function(G,e){return G.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ee[715],te([3,4]),function(G,e){return G.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[716],te([3,4]),function(G,e){return G.create("vs/platform/actions/browser/toolbar",e)}),define(ee[717],te([3,4]),function(G,e){return G.create("vs/platform/actions/common/menuService",e)}),define(ee[718],te([3,4]),function(G,e){return G.create("vs/platform/audioCues/browser/audioCueService",e)}),define(ee[719],te([3,4]),function(G,e){return G.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[720],te([3,4]),function(G,e){return G.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ee[721],te([3,4]),function(G,e){return G.create("vs/platform/contextkey/common/contextkey",e)}),define(ee[722],te([3,4]),function(G,e){return G.create("vs/platform/contextkey/common/contextkeys",e)}),define(ee[723],te([3,4]),function(G,e){return G.create("vs/platform/contextkey/common/scanner",e)}),define(ee[724],te([3,4]),function(G,e){return G.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ee[725],te([3,4]),function(G,e){return G.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[726],te([3,4]),function(G,e){return G.create("vs/platform/list/browser/listService",e)}),define(ee[727],te([3,4]),function(G,e){return G.create("vs/platform/markers/common/markers",e)}),define(ee[728],te([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[729],te([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[730],te([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInput",e)}),define(ee[731],te([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInputController",e)}),define(ee[732],te([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInputList",e)}),define(ee[733],te([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(ee[734],te([3,4]),function(G,e){return G.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[735],te([3,4]),function(G,e){return G.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[736],te([3,4]),function(G,e){return G.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[737],te([3,4]),function(G,e){return G.create("vs/platform/workspace/common/workspace",e)}),define(ee[738],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function L(k){return k?k.condition!==void 0:!1}e.isICommandActionToggleInfo=L}),define(ee[739],te([1,0,712]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,L.localize)(0,null),original:"View"},Help:{value:(0,L.localize)(1,null),original:"Help"},Test:{value:(0,L.localize)(2,null),original:"Test"},File:{value:(0,L.localize)(3,null),original:"File"},Preferences:{value:(0,L.localize)(4,null),original:"Preferences"},Developer:{value:(0,L.localize)(5,null),original:"Developer"}})}),define(ee[740],te([1,0,9,723]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function y(..._){switch(_.length){case 1:return(0,k.localize)(0,null,_[0]);case 2:return(0,k.localize)(1,null,_[0],_[1]);case 3:return(0,k.localize)(2,null,_[0],_[1],_[2]);default:return}}const D=(0,k.localize)(3,null),S=(0,k.localize)(4,null);class m{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(v){switch(v.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return v.isTripleEq?"===":"==";case 4:return v.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return v.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return v.lexeme;case 18:return v.lexeme;case 19:return v.lexeme;case 20:return"EOF";default:throw(0,L.illegalState)(`unhandled token type: ${JSON.stringify(v)}; have you forgotten to add a case?`)}}reset(v){return this._input=v,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const C=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:C})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const C=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:C})}else this._match(126)?this._addToken(9):this._error(y("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(y("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(y("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(v){return this._isAtEnd()||this._input.charCodeAt(this._current)!==v?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(v){this._tokens.push({type:v,offset:this._start})}_error(v){const C=this._start,s=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:s};this._errors.push({offset:C,lexeme:s,additionalInfo:v}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const v=this.stringRe.exec(this._input);if(v){this._current=this._start+v[0].length;const C=this._input.substring(this._start,this._current),s=m._keywords.get(C);s?this._addToken(s):this._tokens.push({type:17,lexeme:C,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let v=this._current,C=!1,s=!1;for(;;){if(v>=this._input.length){this._current=v,this._error(S);return}const i=this._input.charCodeAt(v);if(C)C=!1;else if(i===47&&!s){v++;break}else i===91?s=!0:i===92?C=!0:i===93&&(s=!1);v++}for(;v<this._input.length&&m._regexFlags.has(this._input.charCodeAt(v));)v++;this._current=v;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=m,m._regexFlags=new Set(["i","g","s","m","y","u"].map(_=>_.charCodeAt(0))),m._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(ee[741],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var L;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(L||(e.EditorOpenSource=L={}))}),define(ee[742],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class L{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=L;class k{constructor(D){if(this._set=new Set,D)for(const S of D)this.add(S)}add(D){this._set.add(L.toKey(D))}has(D){return this._set.has(L.toKey(D))}}e.ExtensionIdentifierSet=k}),define(ee[333],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var L;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(L||(e.FileKind=L={}))}),define(ee[743],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function L(k){var y,D;return((y=k.lookupKeybinding("history.showPrevious"))===null||y===void 0?void 0:y.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=L}),define(ee[233],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class L{constructor(y,D=[],S=!1){this.ctor=y,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=L}),define(ee[45],te([1,0,233]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function y(S,m,_){m instanceof L.SyncDescriptor||(m=new L.SyncDescriptor(m,[],!!_)),k.push([S,m])}e.registerSingleton=y;function D(){return k}e.getSingletonServiceDescriptors=D}),define(ee[744],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class L{constructor(D,S){this.key=D,this.data=S,this.incoming=new Map,this.outgoing=new Map}}e.Node=L;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const m=this.lookupOrInsertNode(D),_=this.lookupOrInsertNode(S);m.outgoing.set(_.key,_),_.incoming.set(m.key,m)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(const m of this._nodes.values())m.outgoing.delete(S),m.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let m=this._nodes.get(S);return m||(m=new L(S,D),this._nodes.set(S,m)),m}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[S,m]of this._nodes)D.push(`${S}
	(-> incoming)[${[...m.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...m.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,S]of this._nodes){const m=new Set([D]),_=this._findCycle(S,m);if(_)return _}}_findCycle(D,S){for(const[m,_]of D.outgoing){if(S.has(m))return[...S,m].join(" -> ");S.add(m);const v=this._findCycle(_,S);if(v)return v;S.delete(m)}}}e.Graph=k}),define(ee[8],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var L;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(m){return m[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(L||(e._util=L={})),e.IInstantiationService=y("instantiationService");function k(D,S,m){S[L.DI_TARGET]===S?S[L.DI_DEPENDENCIES].push({id:D,index:m}):(S[L.DI_DEPENDENCIES]=[{id:D,index:m}],S[L.DI_TARGET]=S)}function y(D){if(L.serviceIds.has(D))return L.serviceIds.get(D);const S=function(m,_,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(S,m,v)};return S.toString=()=>D,L.serviceIds.set(D,S),S}e.createDecorator=y}),define(ee[130],te([1,0,8,21,20]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,L.createDecorator)("IWorkspaceEditService");class D{constructor(v){this.metadata=v}static convert(v){return v.edits.map(C=>{if(S.is(C))return S.lift(C);if(m.is(C))return m.lift(C);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class S extends D{static is(v){return v instanceof S?!0:(0,y.isObject)(v)&&k.URI.isUri(v.resource)&&(0,y.isObject)(v.textEdit)}static lift(v){return v instanceof S?v:new S(v.resource,v.textEdit,v.versionId,v.metadata)}constructor(v,C,s=void 0,n){super(n),this.resource=v,this.textEdit=C,this.versionId=s}}e.ResourceTextEdit=S;class m extends D{static is(v){return v instanceof m?!0:(0,y.isObject)(v)&&(!!v.newResource||!!v.oldResource)}static lift(v){return v instanceof m?v:new m(v.oldResource,v.newResource,v.options,v.metadata)}constructor(v,C,s={},n){super(n),this.oldResource=v,this.newResource=C,this.options=s}}e.ResourceFileEdit=m}),define(ee[33],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,L.createDecorator)("codeEditorService")}),define(ee[42],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,L.createDecorator)("languageService")}),define(ee[115],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,L.createDecorator)("editorWorkerService")}),define(ee[18],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,L.createDecorator)("ILanguageFeaturesService")});var ge=this&&this.__param||function(G,e){return function(L,k){e(L,k,G)}};define(ee[745],te([1,0,7,128,14,26,6,56,2,40,27,20,484,101,64,12,5,28,18,611]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let o=class extends _.Disposable{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(f,p,b,w){super(),this._editors=f,this._diffModel=p,this._options=b,this._languageFeaturesService=w,this._isUpdatingViewZones=!1,this._modifiedOutlineSource=(0,v.derivedWithStore)(this,(F,M)=>{const A=this._editors.modifiedModel.read(F);if(A)return M.add(new d(this._languageFeaturesService,A))}),this._register(this._editors.original.onDidChangeCursorPosition(F=>{if(F.reason===3){const M=this._diffModel.get();(0,v.transaction)(A=>{for(const T of this._editors.original.getSelections()||[])M?.ensureOriginalLineIsVisible(T.getStartPosition().lineNumber,A),M?.ensureOriginalLineIsVisible(T.getEndPosition().lineNumber,A)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(F=>{if(F.reason===3){const M=this._diffModel.get();(0,v.transaction)(A=>{for(const T of this._editors.modified.getSelections()||[])M?.ensureModifiedLineIsVisible(T.getStartPosition().lineNumber,A),M?.ensureModifiedLineIsVisible(T.getEndPosition().lineNumber,A)})}}));const E=this._diffModel.map((F,M)=>{var A,T;return((A=F?.diff.read(M))===null||A===void 0?void 0:A.mappings.length)===0?[]:(T=F?.unchangedRegions.read(M))!==null&&T!==void 0?T:[]}),I=(0,v.derivedWithStore)(this,(F,M)=>{const A=this._modifiedOutlineSource.read(F);if(!A)return{origViewZones:[],modViewZones:[]};const T=[],O=[],P=this._options.renderSideBySide.read(F),x=E.read(F);for(const z of x)if(!z.shouldHideControls(F)){{const q=(0,v.derived)($=>z.getHiddenOriginalRange($).startLineNumber-1),B=new i.PlaceholderViewZone(q,24);T.push(B),M.add(new r(this._editors.original,B,z,z.originalUnchangedRange,!P,A,$=>this._diffModel.get().ensureModifiedLineIsVisible($,void 0),this._options))}{const q=(0,v.derived)($=>z.getHiddenModifiedRange($).startLineNumber-1),B=new i.PlaceholderViewZone(q,24);O.push(B),M.add(new r(this._editors.modified,B,z,z.modifiedUnchangedRange,!1,A,$=>this._diffModel.get().ensureModifiedLineIsVisible($,void 0),this._options))}}return{origViewZones:T,modViewZones:O}}),N={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},R={description:"Fold Unchanged",glyphMarginHoverMessage:new m.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,c.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+C.ThemeIcon.asClassName(D.Codicon.fold),zIndex:10001};this._register((0,i.applyObservableDecorations)(this._editors.original,(0,v.derived)(F=>{const M=E.read(F),A=M.map(T=>({range:T.originalUnchangedRange.toInclusiveRange(),options:N}));for(const T of M)T.shouldHideControls(F)&&A.push({range:u.Range.fromPositions(new a.Position(T.originalLineNumber,1)),options:R});return A}))),this._register((0,i.applyObservableDecorations)(this._editors.modified,(0,v.derived)(F=>{const M=E.read(F),A=M.map(T=>({range:T.modifiedUnchangedRange.toInclusiveRange(),options:N}));for(const T of M)T.shouldHideControls(F)&&A.push({range:t.LineRange.ofLength(T.modifiedLineNumber,1).toInclusiveRange(),options:R});return A}))),this._register((0,i.applyViewZones)(this._editors.original,I.map(F=>F.origViewZones),F=>this._isUpdatingViewZones=F)),this._register((0,i.applyViewZones)(this._editors.modified,I.map(F=>F.modViewZones),F=>this._isUpdatingViewZones=F)),this._register((0,v.autorun)(F=>{const M=E.read(F);this._editors.original.setHiddenAreas(M.map(A=>A.getHiddenOriginalRange(F).toInclusiveRange()).filter(s.isDefined)),this._editors.modified.setHiddenAreas(M.map(A=>A.getHiddenModifiedRange(F).toInclusiveRange()).filter(s.isDefined))})),this._register(this._editors.modified.onMouseUp(F=>{var M;if(!F.event.rightButton&&F.target.position&&(!((M=F.target.element)===null||M===void 0)&&M.className.includes("fold-unchanged"))){const A=F.target.position.lineNumber,T=this._diffModel.get();if(!T)return;const O=T.unchangedRegions.get().find(P=>P.modifiedUnchangedRange.includes(A));if(!O)return;O.collapseAll(void 0),F.event.stopPropagation(),F.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(F=>{var M;if(!F.event.rightButton&&F.target.position&&(!((M=F.target.element)===null||M===void 0)&&M.className.includes("fold-unchanged"))){const A=F.target.position.lineNumber,T=this._diffModel.get();if(!T)return;const O=T.unchangedRegions.get().find(P=>P.originalUnchangedRange.includes(A));if(!O)return;O.collapseAll(void 0),F.event.stopPropagation(),F.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=o,e.HideUnchangedRegionsFeature=o=Ie([ge(3,l.ILanguageFeaturesService)],o);let d=class extends _.Disposable{constructor(f,p){super(),this._languageFeaturesService=f,this._textModel=p,this._currentModel=(0,v.observableValue)(this,void 0);const b=(0,v.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),w=(0,v.observableSignalFromEvent)("_textModel.onDidChangeContent",S.Event.debounce(E=>this._textModel.onDidChangeContent(E),()=>{},100));this._register((0,v.autorunWithStore)((E,I)=>Se(this,void 0,void 0,function*(){b.read(E),w.read(E);const N=I.add(new i.DisposableCancellationTokenSource),R=yield n.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,N.token);I.isDisposed||this._currentModel.set(R,void 0)})))}getBreadcrumbItems(f,p){const b=this._currentModel.read(p);if(!b)return[];const w=b.asListOfDocumentSymbols().filter(E=>f.contains(E.range.startLineNumber)&&!f.contains(E.range.endLineNumber));return w.sort((0,y.reverseOrder)((0,y.compareBy)(E=>E.range.endLineNumber-E.range.startLineNumber,y.numberComparator))),w.map(E=>({name:E.name,kind:E.kind,startLineNumber:E.range.startLineNumber}))}};d=Ie([ge(0,l.ILanguageFeaturesService)],d);class r extends i.ViewZoneOverlayWidget{constructor(f,p,b,w,E,I,N,R){const F=(0,L.h)("div.diff-hidden-lines-widget");super(f,p,F.root),this._editor=f,this._unchangedRegion=b,this._unchangedRegionRange=w,this.hide=E,this._modifiedOutlineSource=I,this._revealModifiedHiddenLine=N,this._options=R,this._nodes=(0,L.h)("div.diff-hidden-lines",[(0,L.h)("div.top@top",{title:(0,c.localize)(1,null)}),(0,L.h)("div.center@content",{style:{display:"flex"}},[(0,L.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,L.$)("a",{title:(0,c.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,L.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,L.h)("div.bottom@bottom",{title:(0,c.localize)(3,null),role:"button"})]),F.root.appendChild(this._nodes.root);const M=(0,v.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?(0,L.reset)(this._nodes.first):this._register((0,i.applyStyle)(this._nodes.first,{width:M.map(T=>T.contentLeft)}));const A=this._editor;this._register((0,L.addDisposableListener)(this._nodes.top,"mousedown",T=>{if(T.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),T.preventDefault();const O=T.clientY;let P=!1;const x=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const z=(0,L.addDisposableListener)(window,"mousemove",B=>{const X=B.clientY-O;P=P||Math.abs(X)>2;const ne=Math.round(X/A.getOption(65)),oe=Math.max(0,Math.min(x+ne,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(oe,void 0)}),q=(0,L.addDisposableListener)(window,"mouseup",B=>{P||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),z.dispose(),q.dispose()})})),this._register((0,L.addDisposableListener)(this._nodes.bottom,"mousedown",T=>{if(T.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),T.preventDefault();const O=T.clientY;let P=!1;const x=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const z=(0,L.addDisposableListener)(window,"mousemove",B=>{const X=B.clientY-O;P=P||Math.abs(X)>2;const ne=Math.round(X/A.getOption(65)),oe=Math.max(0,Math.min(x-ne,this._unchangedRegion.getMaxVisibleLineCountBottom())),Y=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(oe,void 0);const U=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(U-Y))}),q=(0,L.addDisposableListener)(window,"mouseup",B=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!P){const $=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const X=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(X-$))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),z.dispose(),q.dispose()})})),this._register((0,v.autorun)(T=>{const O=[];if(!this.hide){const P=b.getHiddenModifiedRange(T).length,x=(0,c.localize)(4,null,P),z=(0,L.$)("span",{title:(0,c.localize)(5,null)},x);z.addEventListener("dblclick",$=>{$.button===0&&($.preventDefault(),this._unchangedRegion.showAll(void 0))}),O.push(z);const q=this._unchangedRegion.getHiddenModifiedRange(T),B=this._modifiedOutlineSource.getBreadcrumbItems(q,T);if(B.length>0){O.push((0,L.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let $=0;$<B.length;$++){const X=B[$],ne=h.SymbolKinds.toIcon(X.kind),oe=(0,L.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(ne),"\xA0",X.name,...$===B.length-1?[]:[(0,k.renderIcon)(D.Codicon.chevronRight)]]).root;O.push(oe),oe.onclick=()=>{this._revealModifiedHiddenLine(X.startLineNumber)}}}}(0,L.reset)(this._nodes.others,...O)}))}}}),define(ee[746],te([1,0,595,18,45]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this))}_score(m){var _;return(_=this._notebookTypeResolver)===null||_===void 0?void 0:_.call(this,m)}}e.LanguageFeaturesService=D,(0,y.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(ee[234],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,L.createDecorator)("markerDecorationsService")}),define(ee[50],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,L.createDecorator)("modelService")}),define(ee[65],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,L.createDecorator)("textModelService")}),define(ee[235],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,L.createDecorator)("semanticTokensStylingService")}),define(ee[186],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,L.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,L.createDecorator)("textResourcePropertiesService")}),define(ee[747],te([1,0,45,8,287]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,L.registerSingleton)(e.ITreeViewsDnDService,y.TreeViewsDnDService,1)}),define(ee[334],te([1,0,130]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sortEditsByYieldTo=e.createCombinedWorkspaceEdit=void 0;function k(D,S,m){var _,v;return{edits:[...S.map(C=>new L.ResourceTextEdit(D,typeof m.insertText=="string"?{range:C,text:m.insertText,insertAsSnippet:!1}:{range:C,text:m.insertText.snippet,insertAsSnippet:!0})),...(v=(_=m.additionalEdit)===null||_===void 0?void 0:_.edits)!==null&&v!==void 0?v:[]]}}e.createCombinedWorkspaceEdit=k;function y(D){var S;function m(n,i){return"providerId"in n&&n.providerId===i.providerId||"mimeType"in n&&n.mimeType===i.handledMimeType}const _=new Map;for(const n of D)for(const i of(S=n.yieldTo)!==null&&S!==void 0?S:[])for(const t of D)if(t!==n&&m(i,t)){let a=_.get(n);a||(a=[],_.set(n,a)),a.push(t)}if(!_.size)return Array.from(D);const v=new Set,C=[];function s(n){if(!n.length)return[];const i=n[0];if(C.includes(i))return console.warn(`Yield to cycle detected for ${i.providerId}`),n;if(v.has(i))return s(n.slice(1));let t=[];const a=_.get(i);return a&&(C.push(i),t=s(a),C.pop()),v.add(i),[...t,i,...s(n.slice(1))]}return s(Array.from(D))}e.sortEditsByYieldTo=y}),define(ee[748],te([1,0,89,6,2,40,10,69,38,12,5,102,42,48,91,149,114,216,150,451]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;let c=class extends y.Disposable{constructor(f,p,b){super(),this.editor=f,this.model=p,this.languageService=b,this.isDisposed=(0,D.observableValue)(this,!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)(this,w=>{if(this.isDisposed.read(w))return;const E=this.currentTextModel.read(w);if(E!==this.model.targetTextModel.read(w))return;const I=this.model.ghostText.read(w);if(!I)return;const N=I instanceof h.GhostTextReplacement?I.columnRange:void 0,R=[],F=[];function M(x,z){if(F.length>0){const q=F[F.length-1];z&&q.decorations.push(new a.LineDecoration(q.content.length+1,q.content.length+1+x[0].length,z,0)),q.content+=x[0],x=x.slice(1)}for(const q of x)F.push({content:q,decorations:z?[new a.LineDecoration(1,q.length+1,z,0)]:[]})}const A=E.getLineContent(I.lineNumber);let T,O=0;for(const x of I.parts){let z=x.lines;T===void 0?(R.push({column:x.column,text:z[0],preview:x.preview}),z=z.slice(1)):M([A.substring(O,x.column-1)],void 0),z.length>0&&(M(z,"ghost-text"),T===void 0&&x.column<=A.length&&(T=x.column)),O=x.column-1}T!==void 0&&M([A.substring(O)],void 0);const P=T!==void 0?new l.ColumnRange(T,A.length+1):void 0;return{replacedRange:N,inlineTexts:R,additionalLines:F,hiddenRange:P,lineNumber:I.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(w),targetTextModel:E}}),this.decorations=(0,D.derived)(this,w=>{const E=this.uiState.read(w);if(!E)return[];const I=[];E.replacedRange&&I.push({range:E.replacedRange.toRange(E.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),E.hiddenRange&&I.push({range:E.hiddenRange.toRange(E.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const N of E.inlineTexts)I.push({range:C.Range.fromPositions(new v.Position(E.lineNumber,N.column)),options:{description:"ghost-text",after:{content:N.text,inlineClassName:N.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return I}),this.additionalLinesWidget=this._register(new o(this.editor,this.languageService.languageIdCodec,(0,D.derived)(w=>{const E=this.uiState.read(w);return E?{lineNumber:E.lineNumber,additionalLines:E.additionalLines,minReservedLineCount:E.additionalReservedLineCount,targetTextModel:E.targetTextModel}:void 0}))),this._register((0,y.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,l.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(f){return this.additionalLinesWidget.viewZoneId===f}};e.GhostTextWidget=c,e.GhostTextWidget=c=Ie([ge(2,n.ILanguageService)],c);class o extends y.Disposable{get viewZoneId(){return this._viewZoneId}constructor(f,p,b){super(),this.editor=f,this.languageIdCodec=p,this.lines=b,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,w=>w.hasChanged(32)||w.hasChanged(115)||w.hasChanged(97)||w.hasChanged(92)||w.hasChanged(50)||w.hasChanged(49)||w.hasChanged(65))),this._register((0,D.autorun)(w=>{const E=this.lines.read(w);this.editorOptionsChanged.read(w),E?this.updateLines(E.lineNumber,E.additionalLines,E.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(f=>{this._viewZoneId&&(f.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(f,p,b){const w=this.editor.getModel();if(!w)return;const{tabSize:E}=w.getOptions();this.editor.changeViewZones(I=>{this._viewZoneId&&(I.removeZone(this._viewZoneId),this._viewZoneId=void 0);const N=Math.max(p.length,b);if(N>0){const R=document.createElement("div");d(R,E,p,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=I.addZone({afterLineNumber:f,heightInLines:N,domNode:R,afterColumnAffinity:1})}})}}function d(g,f,p,b,w){const E=b.get(32),I=b.get(115),N="none",R=b.get(92),F=b.get(50),M=b.get(49),A=b.get(65),T=new s.StringBuilder(1e4);T.appendString('<div class="suggest-preview-text">');for(let x=0,z=p.length;x<z;x++){const q=p[x],B=q.content;T.appendString('<div class="view-line'),T.appendString('" style="top:'),T.appendString(String(x*A)),T.appendString('px;width:1000000px;">');const $=S.isBasicASCII(B),X=S.containsRTL(B),ne=t.LineTokens.createEmpty(B,w);(0,u.renderViewLine)(new u.RenderLineInput(M.isMonospace&&!E,M.canUseHalfwidthRightwardsArrow,B,!1,$,X,0,ne,q.decorations,f,0,M.spaceWidth,M.middotWidth,M.wsmiddotWidth,I,N,R,F!==_.EditorFontLigatures.OFF,null),T),T.appendString("</div>")}T.appendString("</div>"),(0,m.applyFontInfo)(g,M);const O=T.build(),P=r?r.createHTML(O):O;g.innerHTML=P}const r=(0,L.createTrustedTypesPolicy)("editorGhostText",{createHTML:g=>g})}),define(ee[131],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,L.createDecorator)("themeService")}),define(ee[156],te([1,0,8,718]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCue=e.SoundSource=e.Sound=e.IAudioCueService=void 0,e.IAudioCueService=(0,L.createDecorator)("audioCue");class y{static register(_){return new y(_.fileName)}constructor(_){this.fileName=_}}e.Sound=y,y.error=y.register({fileName:"error.mp3"}),y.warning=y.register({fileName:"warning.mp3"}),y.foldedArea=y.register({fileName:"foldedAreas.mp3"}),y.break=y.register({fileName:"break.mp3"}),y.quickFixes=y.register({fileName:"quickFixes.mp3"}),y.taskCompleted=y.register({fileName:"taskCompleted.mp3"}),y.taskFailed=y.register({fileName:"taskFailed.mp3"}),y.terminalBell=y.register({fileName:"terminalBell.mp3"}),y.diffLineInserted=y.register({fileName:"diffLineInserted.mp3"}),y.diffLineDeleted=y.register({fileName:"diffLineDeleted.mp3"}),y.diffLineModified=y.register({fileName:"diffLineModified.mp3"}),y.chatRequestSent=y.register({fileName:"chatRequestSent.mp3"}),y.chatResponsePending=y.register({fileName:"chatResponsePending.mp3"}),y.chatResponseReceived1=y.register({fileName:"chatResponseReceived1.mp3"}),y.chatResponseReceived2=y.register({fileName:"chatResponseReceived2.mp3"}),y.chatResponseReceived3=y.register({fileName:"chatResponseReceived3.mp3"}),y.chatResponseReceived4=y.register({fileName:"chatResponseReceived4.mp3"});class D{constructor(_){this.randomOneOf=_}}e.SoundSource=D;class S{static register(_){const v=new D("randomOneOf"in _.sound?_.sound.randomOneOf:[_.sound]),C=new S(v,_.name,_.settingsKey);return S._audioCues.add(C),C}constructor(_,v,C){this.sound=_,this.name=v,this.settingsKey=C}}e.AudioCue=S,S._audioCues=new Set,S.error=S.register({name:(0,k.localize)(0,null),sound:y.error,settingsKey:"audioCues.lineHasError"}),S.warning=S.register({name:(0,k.localize)(1,null),sound:y.warning,settingsKey:"audioCues.lineHasWarning"}),S.foldedArea=S.register({name:(0,k.localize)(2,null),sound:y.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),S.break=S.register({name:(0,k.localize)(3,null),sound:y.break,settingsKey:"audioCues.lineHasBreakpoint"}),S.inlineSuggestion=S.register({name:(0,k.localize)(4,null),sound:y.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),S.terminalQuickFix=S.register({name:(0,k.localize)(5,null),sound:y.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),S.onDebugBreak=S.register({name:(0,k.localize)(6,null),sound:y.break,settingsKey:"audioCues.onDebugBreak"}),S.noInlayHints=S.register({name:(0,k.localize)(7,null),sound:y.error,settingsKey:"audioCues.noInlayHints"}),S.taskCompleted=S.register({name:(0,k.localize)(8,null),sound:y.taskCompleted,settingsKey:"audioCues.taskCompleted"}),S.taskFailed=S.register({name:(0,k.localize)(9,null),sound:y.taskFailed,settingsKey:"audioCues.taskFailed"}),S.terminalCommandFailed=S.register({name:(0,k.localize)(10,null),sound:y.error,settingsKey:"audioCues.terminalCommandFailed"}),S.terminalBell=S.register({name:(0,k.localize)(11,null),sound:y.terminalBell,settingsKey:"audioCues.terminalBell"}),S.notebookCellCompleted=S.register({name:(0,k.localize)(12,null),sound:y.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),S.notebookCellFailed=S.register({name:(0,k.localize)(13,null),sound:y.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),S.diffLineInserted=S.register({name:(0,k.localize)(14,null),sound:y.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),S.diffLineDeleted=S.register({name:(0,k.localize)(15,null),sound:y.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),S.diffLineModified=S.register({name:(0,k.localize)(16,null),sound:y.diffLineModified,settingsKey:"audioCues.diffLineModified"}),S.chatRequestSent=S.register({name:(0,k.localize)(17,null),sound:y.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),S.chatResponseReceived=S.register({name:(0,k.localize)(18,null),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[y.chatResponseReceived1,y.chatResponseReceived2,y.chatResponseReceived3,y.chatResponseReceived4]}}),S.chatResponsePending=S.register({name:(0,k.localize)(19,null),sound:y.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})}),define(ee[103],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,L.createDecorator)("clipboardService")}),define(ee[25],te([1,0,6,47,2,62,20,8]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,m.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,v){if(!_)throw new Error("invalid command");if(typeof _=="string"){if(!v)throw new Error("invalid command");return this.registerCommand({id:_,handler:v})}if(_.description){const t=[];for(const u of _.description.args)t.push(u.constraint);const a=_.handler;_.handler=function(u,...h){return(0,S.validateConstraints)(h,t),a(u,...h)}}const{id:C}=_;let s=this._commands.get(C);s||(s=new D.LinkedList,this._commands.set(C,s));const n=s.unshift(_),i=(0,y.toDisposable)(()=>{n();const t=this._commands.get(C);t?.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),i}registerCommandAlias(_,v){return e.CommandsRegistry.registerCommand(_,(C,...s)=>C.get(e.ICommandService).executeCommand(v,...s))}getCommand(_){const v=this._commands.get(_);if(!(!v||v.isEmpty()))return k.Iterable.first(v)}getCommands(){const _=new Map;for(const v of this._commands.keys()){const C=this.getCommand(v);C&&_.set(v,C)}return _}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ee[335],te([1,0,19,9,2,20,21,50,25,18]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class C{constructor(){this.lenses=[],this._disposables=new y.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,t){this._disposables.add(i);for(const a of i.lenses)this.lenses.push({symbol:a,provider:t})}}e.CodeLensModel=C;function s(n,i,t){return Se(this,void 0,void 0,function*(){const a=n.ordered(i),u=new Map,h=new C,l=a.map((c,o)=>Se(this,void 0,void 0,function*(){u.set(c,o);try{const d=yield Promise.resolve(c.provideCodeLenses(i,t));d&&h.add(d,c)}catch(d){(0,k.onUnexpectedExternalError)(d)}}));return yield Promise.all(l),h.lenses=h.lenses.sort((c,o)=>c.symbol.range.startLineNumber<o.symbol.range.startLineNumber?-1:c.symbol.range.startLineNumber>o.symbol.range.startLineNumber?1:u.get(c.provider)<u.get(o.provider)?-1:u.get(c.provider)>u.get(o.provider)?1:c.symbol.range.startColumn<o.symbol.range.startColumn?-1:c.symbol.range.startColumn>o.symbol.range.startColumn?1:0),h})}e.getCodeLensModel=s,_.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(n,...i){let[t,a]=i;(0,D.assertType)(S.URI.isUri(t)),(0,D.assertType)(typeof a=="number"||!a);const{codeLensProvider:u}=n.get(v.ILanguageFeaturesService),h=n.get(m.IModelService).getModel(t);if(!h)throw(0,k.illegalArgument)();const l=[],c=new y.DisposableStore;return s(u,h,L.CancellationToken.None).then(o=>{c.add(o);const d=[];for(const r of o.lenses)a==null||r.symbol.command?l.push(r.symbol):a-- >0&&r.provider.resolveCodeLens&&d.push(Promise.resolve(r.provider.resolveCodeLens(h,r.symbol,L.CancellationToken.None)).then(g=>l.push(g||r.symbol)));return Promise.all(d)}).then(()=>l).finally(()=>{setTimeout(()=>c.dispose(),100)})})}),define(ee[749],te([1,0,14,19,9,2,20,21,5,50,25,18]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class n{constructor(u,h){this._link=u,this._provider=h}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(u){return Se(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,u)).then(h=>(this._link=h||this._link,this._link.url?this.resolve(u):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=n;class i{constructor(u){this._disposables=new D.DisposableStore;let h=[];for(const[l,c]of u){const o=l.links.map(d=>new n(d,c));h=i._union(h,o),(0,D.isDisposable)(l)&&this._disposables.add(l)}this.links=h}dispose(){this._disposables.dispose(),this.links.length=0}static _union(u,h){const l=[];let c,o,d,r;for(c=0,d=0,o=u.length,r=h.length;c<o&&d<r;){const g=u[c],f=h[d];if(_.Range.areIntersectingOrTouching(g.range,f.range)){c++;continue}_.Range.compareRangesUsingStarts(g.range,f.range)<0?(l.push(g),c++):(l.push(f),d++)}for(;c<o;c++)l.push(u[c]);for(;d<r;d++)l.push(h[d]);return l}}e.LinksList=i;function t(a,u,h){const l=[],c=a.ordered(u).reverse().map((o,d)=>Promise.resolve(o.provideLinks(u,h)).then(r=>{r&&(l[d]=[r,o])},y.onUnexpectedExternalError));return Promise.all(c).then(()=>{const o=new i((0,L.coalesce)(l));return h.isCancellationRequested?(o.dispose(),new i([])):o})}e.getLinks=t,C.CommandsRegistry.registerCommand("_executeLinkProvider",(a,...u)=>Se(void 0,void 0,void 0,function*(){let[h,l]=u;(0,S.assertType)(h instanceof m.URI),typeof l!="number"&&(l=0);const{linkProvider:c}=a.get(s.ILanguageFeaturesService),o=a.get(v.IModelService).getModel(h);if(!o)return[];const d=yield t(c,o,k.CancellationToken.None);if(!d)return[];for(let g=0;g<Math.min(l,d.links.length);g++)yield d.links[g].resolve(k.CancellationToken.None);const r=d.links.slice(0);return d.dispose(),r}))}),define(ee[336],te([1,0,19,9,21,50,25,20,599,5,18]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(r){return r&&!!r.data}e.isSemanticTokens=s;function n(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=n;class i{constructor(g,f,p){this.provider=g,this.tokens=f,this.error=p}}e.DocumentSemanticTokensResult=i;function t(r,g){return r.has(g)}e.hasDocumentSemanticTokensProvider=t;function a(r,g){const f=r.orderedGroups(g);return f.length>0?f[0]:[]}function u(r,g,f,p,b){return Se(this,void 0,void 0,function*(){const w=a(r,g),E=yield Promise.all(w.map(I=>Se(this,void 0,void 0,function*(){let N,R=null;try{N=yield I.provideDocumentSemanticTokens(g,I===f?p:null,b)}catch(F){R=F,N=null}return(!N||!s(N)&&!n(N))&&(N=null),new i(I,N,R)})));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=u;function h(r,g){const f=r.orderedGroups(g);return f.length>0?f[0]:null}class l{constructor(g,f){this.provider=g,this.tokens=f}}function c(r,g){return r.has(g)}e.hasDocumentRangeSemanticTokensProvider=c;function o(r,g){const f=r.orderedGroups(g);return f.length>0?f[0]:[]}function d(r,g,f,p){return Se(this,void 0,void 0,function*(){const b=o(r,g),w=yield Promise.all(b.map(E=>Se(this,void 0,void 0,function*(){let I;try{I=yield E.provideDocumentRangeSemanticTokens(g,f,p)}catch(N){(0,k.onUnexpectedExternalError)(N),I=null}return(!I||!s(I))&&(I=null),new l(E,I)})));for(const E of w)if(E.tokens)return E;return w.length>0?w[0]:null})}e.getDocumentRangeSemanticTokens=d,S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(r,...g)=>Se(void 0,void 0,void 0,function*(){const[f]=g;(0,m.assertType)(f instanceof y.URI);const p=r.get(D.IModelService).getModel(f);if(!p)return;const{documentSemanticTokensProvider:b}=r.get(C.ILanguageFeaturesService),w=h(b,p);return w?w[0].getLegend():r.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",f)})),S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(r,...g)=>Se(void 0,void 0,void 0,function*(){const[f]=g;(0,m.assertType)(f instanceof y.URI);const p=r.get(D.IModelService).getModel(f);if(!p)return;const{documentSemanticTokensProvider:b}=r.get(C.ILanguageFeaturesService);if(!t(b,p))return r.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",f,p.getFullModelRange());const w=yield u(b,p,null,null,L.CancellationToken.None);if(!w)return;const{provider:E,tokens:I}=w;if(!I||!s(I))return;const N=(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),N})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...g)=>Se(void 0,void 0,void 0,function*(){const[f,p]=g;(0,m.assertType)(f instanceof y.URI);const b=r.get(D.IModelService).getModel(f);if(!b)return;const{documentRangeSemanticTokensProvider:w}=r.get(C.ILanguageFeaturesService),E=o(w,b);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!p||!v.Range.isIRange(p))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=yield d(w,b,v.Range.lift(p),L.CancellationToken.None);if(I)return I.provider.getLegend()})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(r,...g)=>Se(void 0,void 0,void 0,function*(){const[f,p]=g;(0,m.assertType)(f instanceof y.URI),(0,m.assertType)(v.Range.isIRange(p));const b=r.get(D.IModelService).getModel(f);if(!b)return;const{documentRangeSemanticTokensProvider:w}=r.get(C.ILanguageFeaturesService),E=yield d(w,b,v.Range.lift(p),L.CancellationToken.None);if(!(!E||!E.tokens))return(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(ee[29],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,L.createDecorator)("configurationService");function k(v,C){const s=Object.create(null);for(const n in v)y(s,n,v[n],C);return s}e.toValuesTree=k;function y(v,C,s,n){const i=C.split("."),t=i.pop();let a=v;for(let u=0;u<i.length;u++){const h=i[u];let l=a[h];switch(typeof l){case"undefined":l=a[h]=Object.create(null);break;case"object":break;default:n(`Ignoring ${C} as ${i.slice(0,u+1).join(".")} is ${JSON.stringify(l)}`);return}a=l}if(typeof a=="object"&&a!==null)try{a[t]=s}catch{n(`Ignoring ${C} as ${i.join(".")} is ${JSON.stringify(a)}`)}else n(`Ignoring ${C} as ${i.join(".")} is ${JSON.stringify(a)}`)}e.addToValueTree=y;function D(v,C){const s=C.split(".");S(v,s)}e.removeFromValueTree=D;function S(v,C){const s=C.shift();if(C.length===0){delete v[s];return}if(Object.keys(v).indexOf(s)!==-1){const n=v[s];typeof n=="object"&&!Array.isArray(n)&&(S(n,C),Object.keys(n).length===0&&delete v[s])}}function m(v,C,s){function n(a,u){let h=a;for(const l of u){if(typeof h!="object"||h===null)return;h=h[l]}return h}const i=C.split("."),t=n(v,i);return typeof t>"u"?s:t}e.getConfigurationValue=m;function _(v){return v.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=_}),define(ee[337],te([1,0,28,154,305,29]),function(G,e,L,k,y,D){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const m=5;class _{static create(l,c){return this._INSTANCE.create(l,c)}constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}create(l,c){if(l!==null&&l.depth>=this._maxCacheDepth)return new v(l,c);let o=v.getStackElementId(l);o.length>0&&(o+="|"),o+=c;let d=this._entries[o];return d||(d=new v(l,c),this._entries[o]=d,d)}}_._INSTANCE=new _(m);class v{constructor(l,c){this.parent=l,this.state=c,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let c="";for(;l!==null;)c.length>0&&(c+="|"),c+=l.state,l=l.parent;return c}static _equals(l,c){for(;l!==null&&c!==null;){if(l===c)return!0;if(l.state!==c.state)return!1;l=l.parent,c=c.parent}return l===null&&c===null}equals(l){return v._equals(this,l)}push(l){return _.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return _.create(this.parent,l)}}class C{constructor(l,c){this.languageId=l,this.state=c}equals(l){return this.languageId===l.languageId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new C(this.languageId,this.state)}}class s{static create(l,c){return this._INSTANCE.create(l,c)}constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}create(l,c){if(c!==null)return new n(l,c);if(l!==null&&l.depth>=this._maxCacheDepth)return new n(l,c);const o=v.getStackElementId(l);let d=this._entries[o];return d||(d=new n(l,null),this._entries[o]=d,d)}}s._INSTANCE=new s(m);class n{constructor(l,c){this.stack=l,this.embeddedLanguageData=c}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:s.create(this.stack,this.embeddedLanguageData)}equals(l){return!(l instanceof n)||!this.stack.equals(l.stack)?!1:this.embeddedLanguageData===null&&l.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||l.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(l.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(l){this._languageId=l}emit(l,c){this._lastTokenType===c&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=c,this._lastTokenLanguage=this._languageId,this._tokens.push(new L.Token(l,c,this._languageId)))}nestedLanguageTokenize(l,c,o,d){const r=o.languageId,g=o.state,f=L.TokenizationRegistry.get(r);if(!f)return this.enterLanguage(r),this.emit(d,""),g;const p=f.tokenize(l,c,g);if(d!==0)for(const b of p.tokens)this._tokens.push(new L.Token(b.offset+d,b.type,b.language));else this._tokens=this._tokens.concat(p.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,p.endState}finalize(l){return new L.TokenizationResult(this._tokens,l)}}class t{constructor(l,c){this._languageService=l,this._theme=c,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(l){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(l)}emit(l,c){const o=this._theme.match(this._currentLanguageId,c)|1024;this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(l),this._tokens.push(o))}static _merge(l,c,o){const d=l!==null?l.length:0,r=c.length,g=o!==null?o.length:0;if(d===0&&r===0&&g===0)return new Uint32Array(0);if(d===0&&r===0)return o;if(r===0&&g===0)return l;const f=new Uint32Array(d+r+g);l!==null&&f.set(l);for(let p=0;p<r;p++)f[d+p]=c[p];return o!==null&&f.set(o,d+r),f}nestedLanguageTokenize(l,c,o,d){const r=o.languageId,g=o.state,f=L.TokenizationRegistry.get(r);if(!f)return this.enterLanguage(r),this.emit(d,""),g;const p=f.tokenizeEncoded(l,c,g);if(d!==0)for(let b=0,w=p.tokens.length;b<w;b+=2)p.tokens[b]+=d;return this._prependTokens=t._merge(this._prependTokens,this._tokens,p.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,p.endState}finalize(l){return new L.EncodedTokenizationResult(t._merge(this._prependTokens,this._tokens,null),l)}}let a=S=class{constructor(l,c,o,d,r){this._configurationService=r,this._languageService=l,this._standaloneThemeService=c,this._languageId=o,this._lexer=d,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let g=!1;this._tokenizationRegistryListener=L.TokenizationRegistry.onDidChange(f=>{if(g)return;let p=!1;for(let b=0,w=f.changedLanguages.length;b<w;b++){const E=f.changedLanguages[b];if(this._embeddedLanguages[E]){p=!0;break}}p&&(g=!0,L.TokenizationRegistry.handleChange([this._languageId]),g=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(f=>{f.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const l=[];for(const c in this._embeddedLanguages){const o=L.TokenizationRegistry.get(c);if(o){if(o instanceof S){const d=o.getLoadStatus();d.loaded===!1&&l.push(d.promise)}continue}L.TokenizationRegistry.isResolved(c)||l.push(L.TokenizationRegistry.getOrCreate(c))}return l.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(c=>{})}}getInitialState(){const l=_.create(null,this._lexer.start);return s.create(l,null)}tokenize(l,c,o){if(l.length>=this._maxTokenizationLineLength)return(0,k.nullTokenize)(this._languageId,o);const d=new i,r=this._tokenize(l,c,o,d);return d.finalize(r)}tokenizeEncoded(l,c,o){if(l.length>=this._maxTokenizationLineLength)return(0,k.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),o);const d=new t(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(l,c,o,d);return d.finalize(r)}_tokenize(l,c,o,d){return o.embeddedLanguageData?this._nestedTokenize(l,c,o,0,d):this._myTokenize(l,c,o,0,d)}_findLeavingNestedLanguageOffset(l,c){let o=this._lexer.tokenizer[c.stack.state];if(!o&&(o=y.findRules(this._lexer,c.stack.state),!o))throw y.createError(this._lexer,"tokenizer state is not defined: "+c.stack.state);let d=-1,r=!1;for(const g of o){if(!y.isIAction(g.action)||g.action.nextEmbedded!=="@pop")continue;r=!0;let f=g.regex;const p=g.regex.source;if(p.substr(0,4)==="^(?:"&&p.substr(p.length-1,1)===")"){const w=(f.ignoreCase?"i":"")+(f.unicode?"u":"");f=new RegExp(p.substr(4,p.length-5),w)}const b=l.search(f);b===-1||b!==0&&g.matchOnlyAtLineStart||(d===-1||b<d)&&(d=b)}if(!r)throw y.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+c.stack.state);return d}_nestedTokenize(l,c,o,d,r){const g=this._findLeavingNestedLanguageOffset(l,o);if(g===-1){const b=r.nestedLanguageTokenize(l,c,o.embeddedLanguageData,d);return s.create(o.stack,new C(o.embeddedLanguageData.languageId,b))}const f=l.substring(0,g);f.length>0&&r.nestedLanguageTokenize(f,!1,o.embeddedLanguageData,d);const p=l.substring(g);return this._myTokenize(p,c,o,d+g,r)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,c,o,d,r){r.enterLanguage(this._languageId);const g=l.length,f=c&&this._lexer.includeLF?l+`
`:l,p=f.length;let b=o.embeddedLanguageData,w=o.stack,E=0,I=null,N=!0;for(;N||E<p;){const R=E,F=w.depth,M=I?I.groups.length:0,A=w.state;let T=null,O=null,P=null,x=null,z=null;if(I){T=I.matches;const $=I.groups.shift();O=$.matched,P=$.action,x=I.rule,I.groups.length===0&&(I=null)}else{if(!N&&E>=p)break;N=!1;let $=this._lexer.tokenizer[A];if(!$&&($=y.findRules(this._lexer,A),!$))throw y.createError(this._lexer,"tokenizer state is not defined: "+A);const X=f.substr(E);for(const ne of $)if((E===0||!ne.matchOnlyAtLineStart)&&(T=X.match(ne.regex),T)){O=T[0],P=ne.action;break}}if(T||(T=[""],O=""),P||(E<p&&(T=[f.charAt(E)],O=T[0]),P=this._lexer.defaultToken),O===null)break;for(E+=O.length;y.isFuzzyAction(P)&&y.isIAction(P)&&P.test;)P=P.test(O,T,A,E===p);let q=null;if(typeof P=="string"||Array.isArray(P))q=P;else if(P.group)q=P.group;else if(P.token!==null&&P.token!==void 0){if(P.tokenSubst?q=y.substituteMatches(this._lexer,P.token,O,T,A):q=P.token,P.nextEmbedded)if(P.nextEmbedded==="@pop"){if(!b)throw y.createError(this._lexer,"cannot pop embedded language if not inside one");b=null}else{if(b)throw y.createError(this._lexer,"cannot enter embedded language from within an embedded language");z=y.substituteMatches(this._lexer,P.nextEmbedded,O,T,A)}if(P.goBack&&(E=Math.max(0,E-P.goBack)),P.switchTo&&typeof P.switchTo=="string"){let $=y.substituteMatches(this._lexer,P.switchTo,O,T,A);if($[0]==="@"&&($=$.substr(1)),y.findRules(this._lexer,$))w=w.switchTo($);else throw y.createError(this._lexer,"trying to switch to a state '"+$+"' that is undefined in rule: "+this._safeRuleName(x))}else{if(P.transform&&typeof P.transform=="function")throw y.createError(this._lexer,"action.transform not supported");if(P.next)if(P.next==="@push"){if(w.depth>=this._lexer.maxStack)throw y.createError(this._lexer,"maximum tokenizer stack size reached: ["+w.state+","+w.parent.state+",...]");w=w.push(A)}else if(P.next==="@pop"){if(w.depth<=1)throw y.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(x));w=w.pop()}else if(P.next==="@popall")w=w.popall();else{let $=y.substituteMatches(this._lexer,P.next,O,T,A);if($[0]==="@"&&($=$.substr(1)),y.findRules(this._lexer,$))w=w.push($);else throw y.createError(this._lexer,"trying to set a next state '"+$+"' that is undefined in rule: "+this._safeRuleName(x))}}P.log&&typeof P.log=="string"&&y.log(this._lexer,this._lexer.languageId+": "+y.substituteMatches(this._lexer,P.log,O,T,A))}if(q===null)throw y.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(x));const B=$=>{const X=this._languageService.getLanguageIdByLanguageName($)||this._languageService.getLanguageIdByMimeType($)||$,ne=this._getNestedEmbeddedLanguageData(X);if(E<p){const oe=l.substr(E);return this._nestedTokenize(oe,c,s.create(w,ne),d+E,r)}else return s.create(w,ne)};if(Array.isArray(q)){if(I&&I.groups.length>0)throw y.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(x));if(T.length!==q.length+1)throw y.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(x));let $=0;for(let X=1;X<T.length;X++)$+=T[X].length;if($!==O.length)throw y.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(x));I={rule:x,matches:T,groups:[]};for(let X=0;X<q.length;X++)I.groups[X]={action:q[X],matched:T[X+1]};E-=O.length;continue}else{if(q==="@rematch"&&(E-=O.length,O="",T=null,q="",z!==null))return B(z);if(O.length===0){if(p===0||F!==w.depth||A!==w.state||(I?I.groups.length:0)!==M)continue;throw y.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(x))}let $=null;if(y.isString(q)&&q.indexOf("@brackets")===0){const X=q.substr(9),ne=u(this._lexer,O);if(!ne)throw y.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);$=y.sanitize(ne.token+X)}else{const X=q===""?"":q+this._lexer.tokenPostfix;$=y.sanitize(X)}R<g&&r.emit(R+d,$)}if(z!==null)return B(z)}return s.create(w,b)}_getNestedEmbeddedLanguageData(l){if(!this._languageService.isRegisteredLanguageId(l))return new C(l,k.NullState);l!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(l),L.TokenizationRegistry.getOrCreate(l),this._embeddedLanguages[l]=!0);const c=L.TokenizationRegistry.get(l);return c?new C(l,c.getInitialState()):new C(l,k.NullState)}};e.MonarchTokenizer=a,e.MonarchTokenizer=a=S=Ie([ge(4,D.IConfigurationService)],a);function u(h,l){if(!l)return null;l=y.fixCase(h,l);const c=h.brackets;for(const o of c){if(o.open===l)return{token:o.token,bracketType:1};if(o.close===l)return{token:o.token,bracketType:-1}}return null}}),define(ee[750],te([1,0,89,10,28,91,114,82,337]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const v=(0,L.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class C{static colorizeElement(a,u,h,l){l=l||{};const c=l.theme||"vs",o=l.mimeType||h.getAttribute("lang")||h.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const d=u.getLanguageIdByMimeType(o)||o;a.setTheme(c);const r=h.firstChild?h.firstChild.nodeValue:"";h.className+=" "+c;const g=f=>{var p;const b=(p=v?.createHTML(f))!==null&&p!==void 0?p:f;h.innerHTML=b};return this.colorize(u,r||"",d,l).then(g,f=>console.error(f))}static colorize(a,u,h,l){return Se(this,void 0,void 0,function*(){const c=a.languageIdCodec;let o=4;l&&typeof l.tabSize=="number"&&(o=l.tabSize),k.startsWithUTF8BOM(u)&&(u=u.substr(1));const d=k.splitLines(u);if(!a.isRegisteredLanguageId(h))return n(d,o,c);const r=yield y.TokenizationRegistry.getOrCreate(h);return r?s(d,o,r,c):n(d,o,c)})}static colorizeLine(a,u,h,l,c=4){const o=m.ViewLineRenderingData.isBasicASCII(a,u),d=m.ViewLineRenderingData.containsRTL(a,o,h);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,a,!1,o,d,0,l,[],c,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(a,u,h=4){const l=a.getLineContent(u);a.tokenization.forceTokenization(u);const o=a.tokenization.getLineTokens(u).inflate();return this.colorizeLine(l,a.mightContainNonBasicASCII(),a.mightContainRTL(),o,h)}}e.Colorizer=C;function s(t,a,u,h){return new Promise((l,c)=>{const o=()=>{const d=i(t,a,u,h);if(u instanceof _.MonarchTokenizer){const r=u.getLoadStatus();if(r.loaded===!1){r.promise.then(o,c);return}}l(d)};o()})}function n(t,a,u){let h=[];const c=new Uint32Array(2);c[0]=0,c[1]=33587200;for(let o=0,d=t.length;o<d;o++){const r=t[o];c[0]=r.length;const g=new D.LineTokens(c,r,u),f=m.ViewLineRenderingData.isBasicASCII(r,!0),p=m.ViewLineRenderingData.containsRTL(r,f,!0),b=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,f,p,0,g,[],a,0,0,0,0,-1,"none",!1,!1,null));h=h.concat(b.html),h.push("<br/>")}return h.join("")}function i(t,a,u,h){let l=[],c=u.getInitialState();for(let o=0,d=t.length;o<d;o++){const r=t[o],g=u.tokenizeEncoded(r,!0,c);D.LineTokens.convertToEndOffset(g.tokens,r.length);const f=new D.LineTokens(g.tokens,r,h),p=m.ViewLineRenderingData.isBasicASCII(r,!0),b=m.ViewLineRenderingData.containsRTL(r,p,!0),w=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,p,b,0,f.inflate(),[],a,0,0,0,0,-1,"none",!1,!1,null));l=l.concat(w.html),l.push("<br/>"),c=g.endState}return l.join("")}}),define(ee[15],te([1,0,17,10,740,8,721]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.Parser=void 0;const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",L.isMacintosh),m.set("isLinux",L.isLinux),m.set("isWindows",L.isWindows),m.set("isWeb",L.isWeb),m.set("isMacNative",L.isMacintosh&&!L.isWeb),m.set("isEdge",L.isEdge),m.set("isFirefox",L.isFirefox),m.set("isChrome",L.isChrome),m.set("isSafari",L.isSafari);const _=Object.prototype.hasOwnProperty,v={regexParsingWithErrorRecovery:!0},C=(0,S.localize)(0,null),s=(0,S.localize)(1,null),n=(0,S.localize)(2,null),i=(0,S.localize)(3,null),t=(0,S.localize)(4,null),a=(0,S.localize)(5,null),u=(0,S.localize)(6,null),h=(0,S.localize)(7,null);class l{constructor(U=v){this._config=U,this._scanner=new y.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(U){if(U===""){this._parsingErrors.push({message:C,offset:0,lexeme:"",additionalInfo:s});return}this._tokens=this._scanner.reset(U).scan(),this._current=0,this._parsingErrors=[];try{const W=this._expr();if(!this._isAtEnd()){const V=this._peek(),Z=V.type===17?a:void 0;throw this._parsingErrors.push({message:t,offset:V.offset,lexeme:y.Scanner.getLexeme(V),additionalInfo:Z}),l._parseError}return W}catch(W){if(W!==l._parseError)throw W;return}}_expr(){return this._or()}_or(){const U=[this._and()];for(;this._matchOne(16);){const W=this._and();U.push(W)}return U.length===1?U[0]:c.or(...U)}_and(){const U=[this._term()];for(;this._matchOne(15);){const W=this._term();U.push(W)}return U.length===1?U[0]:c.and(...U)}_term(){if(this._matchOne(2)){const U=this._peek();switch(U.type){case 11:return this._advance(),r.INSTANCE;case 12:return this._advance(),g.INSTANCE;case 0:{this._advance();const W=this._expr();return this._consume(1,i),W?.negate()}case 17:return this._advance(),I.create(U.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",U)}}return this._primary()}_primary(){const U=this._peek();switch(U.type){case 11:return this._advance(),c.true();case 12:return this._advance(),c.false();case 0:{this._advance();const W=this._expr();return this._consume(1,i),W}case 17:{const W=U.lexeme;if(this._advance(),this._matchOne(9)){const Z=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Z.type!==10)throw this._errExpectedButGot("REGEX",Z);const ie=Z.lexeme,le=ie.lastIndexOf("/"),he=le===ie.length-1?void 0:this._removeFlagsGY(ie.substring(le+1));let de;try{de=new RegExp(ie.substring(1,le),he)}catch{throw this._errExpectedButGot("REGEX",Z)}return T.create(W,de)}switch(Z.type){case 10:case 19:{const ie=[Z.lexeme];this._advance();let le=this._peek(),he=0;for(let K=0;K<Z.lexeme.length;K++)Z.lexeme.charCodeAt(K)===40?he++:Z.lexeme.charCodeAt(K)===41&&he--;for(;!this._isAtEnd()&&le.type!==15&&le.type!==16;){switch(le.type){case 0:he++;break;case 1:he--;break;case 10:case 18:for(let K=0;K<le.lexeme.length;K++)le.lexeme.charCodeAt(K)===40?he++:Z.lexeme.charCodeAt(K)===41&&he--}if(he<0)break;ie.push(y.Scanner.getLexeme(le)),this._advance(),le=this._peek()}const de=ie.join(""),ce=de.lastIndexOf("/"),ae=ce===de.length-1?void 0:this._removeFlagsGY(de.substring(ce+1));let J;try{J=new RegExp(de.substring(1,ce),ae)}catch{throw this._errExpectedButGot("REGEX",Z)}return c.regex(W,J)}case 18:{const ie=Z.lexeme;this._advance();let le=null;if(!(0,k.isFalsyOrWhitespace)(ie)){const he=ie.indexOf("/"),de=ie.lastIndexOf("/");if(he!==de&&he>=0){const ce=ie.slice(he+1,de),ae=ie[de+1]==="i"?"i":"";try{le=new RegExp(ce,ae)}catch{throw this._errExpectedButGot("REGEX",Z)}}}if(le===null)throw this._errExpectedButGot("REGEX",Z);return T.create(W,le)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,n);const Z=this._value();return c.notIn(W,Z)}switch(this._peek().type){case 3:{this._advance();const Z=this._value();if(this._previous().type===18)return c.equals(W,Z);switch(Z){case"true":return c.has(W);case"false":return c.not(W);default:return c.equals(W,Z)}}case 4:{this._advance();const Z=this._value();if(this._previous().type===18)return c.notEquals(W,Z);switch(Z){case"true":return c.not(W);case"false":return c.has(W);default:return c.notEquals(W,Z)}}case 5:return this._advance(),M.create(W,this._value());case 6:return this._advance(),A.create(W,this._value());case 7:return this._advance(),R.create(W,this._value());case 8:return this._advance(),F.create(W,this._value());case 13:return this._advance(),c.in(W,this._value());default:return c.has(W)}}case 20:throw this._parsingErrors.push({message:u,offset:U.offset,lexeme:"",additionalInfo:h}),l._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const U=this._peek();switch(U.type){case 17:case 18:return this._advance(),U.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(U){return U.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(U){return this._check(U)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(U,W){if(this._check(U))return this._advance();throw this._errExpectedButGot(W,this._peek())}_errExpectedButGot(U,W,V){const Z=(0,S.localize)(8,null,U,y.Scanner.getLexeme(W)),ie=W.offset,le=y.Scanner.getLexeme(W);return this._parsingErrors.push({message:Z,offset:ie,lexeme:le,additionalInfo:V}),l._parseError}_check(U){return this._peek().type===U}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=l,l._parseError=new Error;class c{static false(){return r.INSTANCE}static true(){return g.INSTANCE}static has(U){return f.create(U)}static equals(U,W){return p.create(U,W)}static notEquals(U,W){return E.create(U,W)}static regex(U,W){return T.create(U,W)}static in(U,W){return b.create(U,W)}static notIn(U,W){return w.create(U,W)}static not(U){return I.create(U)}static and(...U){return x.create(U,null,!0)}static or(...U){return z.create(U,null,!0)}static deserialize(U){return U==null?void 0:this._parser.parse(U)}}e.ContextKeyExpr=c,c._parser=new l({regexParsingWithErrorRecovery:!1});function o(Y,U){const W=Y?Y.substituteConstants():void 0,V=U?U.substituteConstants():void 0;return!W&&!V?!0:!W||!V?!1:W.equals(V)}e.expressionsAreEqualWithConstantSubstitution=o;function d(Y,U){return Y.cmp(U)}class r{constructor(){this.type=0}cmp(U){return this.type-U.type}equals(U){return U.type===this.type}substituteConstants(){return this}evaluate(U){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyFalseExpr=r,r.INSTANCE=new r;class g{constructor(){this.type=1}cmp(U){return this.type-U.type}equals(U){return U.type===this.type}substituteConstants(){return this}evaluate(U){return!0}serialize(){return"true"}keys(){return[]}negate(){return r.INSTANCE}}e.ContextKeyTrueExpr=g,g.INSTANCE=new g;class f{static create(U,W=null){const V=m.get(U);return typeof V=="boolean"?V?g.INSTANCE:r.INSTANCE:new f(U,W)}constructor(U,W){this.key=U,this.negated=W,this.type=2}cmp(U){return U.type!==this.type?this.type-U.type:B(this.key,U.key)}equals(U){return U.type===this.type?this.key===U.key:!1}substituteConstants(){const U=m.get(this.key);return typeof U=="boolean"?U?g.INSTANCE:r.INSTANCE:this}evaluate(U){return!!U.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=f;class p{static create(U,W,V=null){if(typeof W=="boolean")return W?f.create(U,V):I.create(U,V);const Z=m.get(U);return typeof Z=="boolean"?W===(Z?"true":"false")?g.INSTANCE:r.INSTANCE:new p(U,W,V)}constructor(U,W,V){this.key=U,this.value=W,this.negated=V,this.type=4}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){const U=m.get(this.key);if(typeof U=="boolean"){const W=U?"true":"false";return this.value===W?g.INSTANCE:r.INSTANCE}return this}evaluate(U){return U.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=p;class b{static create(U,W){return new b(U,W)}constructor(U,W){this.key=U,this.valueKey=W,this.type=10,this.negated=null}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.valueKey,U.key,U.valueKey)}equals(U){return U.type===this.type?this.key===U.key&&this.valueKey===U.valueKey:!1}substituteConstants(){return this}evaluate(U){const W=U.getValue(this.valueKey),V=U.getValue(this.key);return Array.isArray(W)?W.includes(V):typeof V=="string"&&typeof W=="object"&&W!==null?_.call(W,V):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=w.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=b;class w{static create(U,W){return new w(U,W)}constructor(U,W){this.key=U,this.valueKey=W,this.type=11,this._negated=b.create(U,W)}cmp(U){return U.type!==this.type?this.type-U.type:this._negated.cmp(U._negated)}equals(U){return U.type===this.type?this._negated.equals(U._negated):!1}substituteConstants(){return this}evaluate(U){return!this._negated.evaluate(U)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=w;class E{static create(U,W,V=null){if(typeof W=="boolean")return W?I.create(U,V):f.create(U,V);const Z=m.get(U);return typeof Z=="boolean"?W===(Z?"true":"false")?r.INSTANCE:g.INSTANCE:new E(U,W,V)}constructor(U,W,V){this.key=U,this.value=W,this.negated=V,this.type=5}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){const U=m.get(this.key);if(typeof U=="boolean"){const W=U?"true":"false";return this.value===W?r.INSTANCE:g.INSTANCE}return this}evaluate(U){return U.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class I{static create(U,W=null){const V=m.get(U);return typeof V=="boolean"?V?r.INSTANCE:g.INSTANCE:new I(U,W)}constructor(U,W){this.key=U,this.negated=W,this.type=3}cmp(U){return U.type!==this.type?this.type-U.type:B(this.key,U.key)}equals(U){return U.type===this.type?this.key===U.key:!1}substituteConstants(){const U=m.get(this.key);return typeof U=="boolean"?U?r.INSTANCE:g.INSTANCE:this}evaluate(U){return!U.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function N(Y,U){if(typeof Y=="string"){const W=parseFloat(Y);isNaN(W)||(Y=W)}return typeof Y=="string"||typeof Y=="number"?U(Y):r.INSTANCE}class R{static create(U,W,V=null){return N(W,Z=>new R(U,Z,V))}constructor(U,W,V){this.key=U,this.value=W,this.negated=V,this.type=12}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=R;class F{static create(U,W,V=null){return N(W,Z=>new F(U,Z,V))}constructor(U,W,V){this.key=U,this.value=W,this.negated=V,this.type=13}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=F;class M{static create(U,W,V=null){return N(W,Z=>new M(U,Z,V))}constructor(U,W,V){this.key=U,this.value=W,this.negated=V,this.type=14}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=M;class A{static create(U,W,V=null){return N(W,Z=>new A(U,Z,V))}constructor(U,W,V){this.key=U,this.value=W,this.negated=V,this.type=15}cmp(U){return U.type!==this.type?this.type-U.type:$(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=A;class T{static create(U,W){return new T(U,W)}constructor(U,W){this.key=U,this.regexp=W,this.type=7,this.negated=null}cmp(U){if(U.type!==this.type)return this.type-U.type;if(this.key<U.key)return-1;if(this.key>U.key)return 1;const W=this.regexp?this.regexp.source:"",V=U.regexp?U.regexp.source:"";return W<V?-1:W>V?1:0}equals(U){if(U.type===this.type){const W=this.regexp?this.regexp.source:"",V=U.regexp?U.regexp.source:"";return this.key===U.key&&W===V}return!1}substituteConstants(){return this}evaluate(U){const W=U.getValue(this.key);return this.regexp?this.regexp.test(W):!1}serialize(){const U=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${U}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this)),this.negated}}e.ContextKeyRegexExpr=T;class O{static create(U){return new O(U)}constructor(U){this._actual=U,this.type=8}cmp(U){return U.type!==this.type?this.type-U.type:this._actual.cmp(U._actual)}equals(U){return U.type===this.type?this._actual.equals(U._actual):!1}substituteConstants(){return this}evaluate(U){return!this._actual.evaluate(U)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=O;function P(Y){let U=null;for(let W=0,V=Y.length;W<V;W++){const Z=Y[W].substituteConstants();if(Y[W]!==Z&&U===null){U=[];for(let ie=0;ie<W;ie++)U[ie]=Y[ie]}U!==null&&(U[W]=Z)}return U===null?Y:U}class x{static create(U,W,V){return x._normalizeArr(U,W,V)}constructor(U,W){this.expr=U,this.negated=W,this.type=6}cmp(U){if(U.type!==this.type)return this.type-U.type;if(this.expr.length<U.expr.length)return-1;if(this.expr.length>U.expr.length)return 1;for(let W=0,V=this.expr.length;W<V;W++){const Z=d(this.expr[W],U.expr[W]);if(Z!==0)return Z}return 0}equals(U){if(U.type===this.type){if(this.expr.length!==U.expr.length)return!1;for(let W=0,V=this.expr.length;W<V;W++)if(!this.expr[W].equals(U.expr[W]))return!1;return!0}return!1}substituteConstants(){const U=P(this.expr);return U===this.expr?this:x.create(U,this.negated,!1)}evaluate(U){for(let W=0,V=this.expr.length;W<V;W++)if(!this.expr[W].evaluate(U))return!1;return!0}static _normalizeArr(U,W,V){const Z=[];let ie=!1;for(const le of U)if(le){if(le.type===1){ie=!0;continue}if(le.type===0)return r.INSTANCE;if(le.type===6){Z.push(...le.expr);continue}Z.push(le)}if(Z.length===0&&ie)return g.INSTANCE;if(Z.length!==0){if(Z.length===1)return Z[0];Z.sort(d);for(let le=1;le<Z.length;le++)Z[le-1].equals(Z[le])&&(Z.splice(le,1),le--);if(Z.length===1)return Z[0];for(;Z.length>1;){const le=Z[Z.length-1];if(le.type!==9)break;Z.pop();const he=Z.pop(),de=Z.length===0,ce=z.create(le.expr.map(ae=>x.create([ae,he],null,V)),null,de);ce&&(Z.push(ce),Z.sort(d))}if(Z.length===1)return Z[0];if(V){for(let le=0;le<Z.length;le++)for(let he=le+1;he<Z.length;he++)if(Z[le].negate().equals(Z[he]))return r.INSTANCE;if(Z.length===1)return Z[0]}return new x(Z,W)}}serialize(){return this.expr.map(U=>U.serialize()).join(" && ")}keys(){const U=[];for(const W of this.expr)U.push(...W.keys());return U}negate(){if(!this.negated){const U=[];for(const W of this.expr)U.push(W.negate());this.negated=z.create(U,this,!0)}return this.negated}}e.ContextKeyAndExpr=x;class z{static create(U,W,V){return z._normalizeArr(U,W,V)}constructor(U,W){this.expr=U,this.negated=W,this.type=9}cmp(U){if(U.type!==this.type)return this.type-U.type;if(this.expr.length<U.expr.length)return-1;if(this.expr.length>U.expr.length)return 1;for(let W=0,V=this.expr.length;W<V;W++){const Z=d(this.expr[W],U.expr[W]);if(Z!==0)return Z}return 0}equals(U){if(U.type===this.type){if(this.expr.length!==U.expr.length)return!1;for(let W=0,V=this.expr.length;W<V;W++)if(!this.expr[W].equals(U.expr[W]))return!1;return!0}return!1}substituteConstants(){const U=P(this.expr);return U===this.expr?this:z.create(U,this.negated,!1)}evaluate(U){for(let W=0,V=this.expr.length;W<V;W++)if(this.expr[W].evaluate(U))return!0;return!1}static _normalizeArr(U,W,V){let Z=[],ie=!1;if(U){for(let le=0,he=U.length;le<he;le++){const de=U[le];if(de){if(de.type===0){ie=!0;continue}if(de.type===1)return g.INSTANCE;if(de.type===9){Z=Z.concat(de.expr);continue}Z.push(de)}}if(Z.length===0&&ie)return r.INSTANCE;Z.sort(d)}if(Z.length!==0){if(Z.length===1)return Z[0];for(let le=1;le<Z.length;le++)Z[le-1].equals(Z[le])&&(Z.splice(le,1),le--);if(Z.length===1)return Z[0];if(V){for(let le=0;le<Z.length;le++)for(let he=le+1;he<Z.length;he++)if(Z[le].negate().equals(Z[he]))return g.INSTANCE;if(Z.length===1)return Z[0]}return new z(Z,W)}}serialize(){return this.expr.map(U=>U.serialize()).join(" || ")}keys(){const U=[];for(const W of this.expr)U.push(...W.keys());return U}negate(){if(!this.negated){const U=[];for(const W of this.expr)U.push(W.negate());for(;U.length>1;){const W=U.shift(),V=U.shift(),Z=[];for(const ie of oe(W))for(const le of oe(V))Z.push(x.create([ie,le],null,!1));U.unshift(z.create(Z,null,!1))}this.negated=z.create(U,this,!0)}return this.negated}}e.ContextKeyOrExpr=z;class q extends f{static all(){return q._info.values()}constructor(U,W,V){super(U,null),this._defaultValue=W,typeof V=="object"?q._info.push(Object.assign(Object.assign({},V),{key:U})):V!==!0&&q._info.push({key:U,description:V,type:W!=null?typeof W:void 0})}bindTo(U){return U.createKey(this.key,this._defaultValue)}getValue(U){return U.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(U){return p.create(this.key,U)}}e.RawContextKey=q,q._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function B(Y,U){return Y<U?-1:Y>U?1:0}function $(Y,U,W,V){return Y<W?-1:Y>W?1:U<V?-1:U>V?1:0}function X(Y,U){if(Y.type===0||U.type===1)return!0;if(Y.type===9)return U.type===9?ne(Y.expr,U.expr):!1;if(U.type===9){for(const W of U.expr)if(X(Y,W))return!0;return!1}if(Y.type===6){if(U.type===6)return ne(U.expr,Y.expr);for(const W of Y.expr)if(X(W,U))return!0;return!1}return Y.equals(U)}e.implies=X;function ne(Y,U){let W=0,V=0;for(;W<Y.length&&V<U.length;){const Z=Y[W].cmp(U[V]);if(Z<0)return!1;Z===0&&W++,V++}return W===Y.length}function oe(Y){return Y.type===9?Y.expr:[Y]}}),define(ee[22],te([1,0,620,15]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var y;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,L.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,L.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,L.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,L.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,L.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,L.localize(5,null)),D.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,L.localize(6,null)),D.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,L.localize(7,null)),D.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,L.localize(8,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,L.localize(9,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,L.localize(10,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,L.localize(11,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,L.localize(12,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,L.localize(13,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,L.localize(14,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,L.localize(15,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,L.localize(16,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,L.localize(17,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,L.localize(18,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,L.localize(19,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",L.localize(20,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,L.localize(21,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,L.localize(22,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,L.localize(23,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,L.localize(24,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,L.localize(25,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,L.localize(26,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,L.localize(27,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,L.localize(28,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,L.localize(29,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,L.localize(30,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,L.localize(31,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,L.localize(32,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,L.localize(33,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,L.localize(34,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,L.localize(35,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,L.localize(36,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,L.localize(37,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,L.localize(38,null))})(y||(e.EditorContextKeys=y={}))}),define(ee[236],te([1,0,40,10,80,15,2,677]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class _ extends S.Disposable{constructor(C,s){super(),this.contextKeyService=C,this.model=s,this.inlineCompletionVisible=_.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=_.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=_.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=_.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,L.autorun)(n=>{const i=this.model.read(n),t=i?.state.read(n),a=!!t?.inlineCompletion&&t?.ghostText!==void 0&&!t?.ghostText.isEmpty();this.inlineCompletionVisible.set(a),t?.ghostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,L.autorun)(n=>{const i=this.model.read(n);let t=!1,a=!0;const u=i?.ghostText.read(n);if(i?.selectedSuggestItem&&u&&u.parts.length>0){const{column:h,lines:l}=u.parts[0],c=l[0],o=i.textModel.getLineIndentColumn(u.lineNumber);if(h<=o){let r=(0,k.firstNonWhitespaceIndex)(c);r===-1&&(r=c.length-1),t=r>0;const g=i.textModel.getOptions().tabSize;a=y.CursorColumns.visibleColumnFromColumn(c,r+1,g)<g}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(a)}))}}e.InlineCompletionContextKeys=_,_.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,m.localize)(0,null)),_.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,m.localize)(1,null)),_.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,m.localize)(2,null)),_.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,m.localize)(3,null))}),define(ee[237],te([1,0,19,9,20,21,12,28,18,65,25,15]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new s.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",!1)};function n(i,t,a,u,h){return Se(this,void 0,void 0,function*(){const l=i.ordered(t);for(const c of l)try{const o=yield c.provideSignatureHelp(t,a,h,u);if(o)return o}catch(o){(0,k.onUnexpectedExternalError)(o)}})}e.provideSignatureHelp=n,C.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(i,...t)=>Se(void 0,void 0,void 0,function*(){const[a,u,h]=t;(0,y.assertType)(D.URI.isUri(a)),(0,y.assertType)(S.Position.isIPosition(u)),(0,y.assertType)(typeof h=="string"||!h);const l=i.get(_.ILanguageFeaturesService),c=yield i.get(v.ITextModelService).createModelReference(a);try{const o=yield n(l.signatureHelpProvider,c.object.textEditorModel,S.Position.lift(u),{triggerKind:m.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:h},L.CancellationToken.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{c.dispose()}}))}),define(ee[751],te([1,0,13,9,6,2,121,28,237]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var v;(function(n){n.Default={type:0};class i{constructor(u,h){this.request=u,this.previouslyActiveHints=h,this.type=2}}n.Pending=i;class t{constructor(u){this.hints=u,this.type=1}}n.Active=t})(v||(v={}));class C extends D.Disposable{constructor(i,t,a=C.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new y.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=v.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=i,this.providers=t,this.throttledDelayer=new L.Delayer(a),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=v.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,t){const a=this.editor.getModel();if(!a||!this.providers.has(a))return;const u=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(u),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,a=t%i===i-1,u=this.editor.getOption(84).cycle;if((i<2||a)&&!u){this.cancel();return}this.updateActiveSignature(a&&u?0:t+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,a=t===0,u=this.editor.getOption(84).cycle;if((i<2||a)&&!u){this.cancel();return}this.updateActiveSignature(a&&u?i-1:t-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new v.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:i})),this._onChangedHints.fire(this.state.hints))}doTrigger(i){return Se(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,a=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const u=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const h={triggerKind:u.triggerKind,triggerCharacter:u.triggerCharacter,isRetrigger:t,activeSignatureHelp:a};if(!this.editor.hasModel())return!1;const l=this.editor.getModel(),c=this.editor.getPosition();this.state=new v.Pending((0,L.createCancelablePromise)(o=>(0,_.provideSignatureHelp)(this.providers,l,c,h,o)),a);try{const o=yield this.state.request;return i!==this.triggerId?(o?.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new v.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return i===this.triggerId&&(this.state=v.Default),(0,k.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const t of this.providers.ordered(i)){for(const a of t.signatureHelpTriggerCharacters||[])if(a.length){const u=a.charCodeAt(0);this.triggerChars.add(u),this.retriggerChars.add(u)}for(const a of t.signatureHelpRetriggerCharacters||[])a.length&&this.retriggerChars.add(a.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const t=i.length-1,a=i.charCodeAt(t);(this.triggerChars.has(a)||this.isTriggered&&this.retriggerChars.has(a))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(t)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(84).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function s(n,i){switch(i.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return i;case m.SignatureHelpTriggerKind.ContentChange:return n;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(ee[752],te([1,0,15]),function(G,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let y=k=class{constructor(S,m){this._editor=S,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(m)}dispose(){this.reset()}reset(){var S;this._ckOtherSuggestions.reset(),(S=this._listener)===null||S===void 0||S.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:S,index:m},_){if(S.items.length===0){this.reset();return}if(k._moveIndex(!0,S,m)===m){this.reset();return}this._acceptNext=_,this._model=S,this._index=m,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(S,m,_){let v=_;for(let C=m.items.length;C>0&&(v=(v+m.items.length+(S?1:-1))%m.items.length,!(v===_||!m.items[v].completion.additionalTextEdits));C--);return v}next(){this._move(!0)}prev(){this._move(!1)}_move(S){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(S,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=y,y.OtherSuggestions=new L.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=y=k=Ie([ge(1,L.IContextKeyService)],y)}),define(ee[753],te([1,0,15]),function(G,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let y=k=class{constructor(S,m){this._editor=S,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(m),this._configListener=this._editor.onDidChangeConfiguration(_=>_.hasChanged(121)&&this._update()),this._update()}dispose(){var S;this._configListener.dispose(),(S=this._selectionListener)===null||S===void 0||S.dispose(),this._ckAtEnd.reset()}_update(){const S=this._editor.getOption(121)==="on";if(this._enabled!==S)if(this._enabled=S,this._enabled){const m=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const _=this._editor.getModel(),v=this._editor.getSelection(),C=_.getWordAtPosition(v.getStartPosition());if(!C){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(C.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(m),m()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=y,y.AtEnd=new L.RawContextKey("atEndOfWord",!1),e.WordContextKey=y=k=Ie([ge(1,L.IContextKeyService)],y)}),define(ee[86],te([1,0,15,8]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new L.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[754],te([1,0,51,14,6,2,52,17,269,327,477,201,38,143,232,86]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let u=class extends D.Disposable{constructor(f,p,b,w){super(),this._accessibilityService=w,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new n.ComputeOptionsMemory,this.isSimpleWidget=f,this._containerObserver=this._register(new _.ElementSizeObserver(b,p.dimension)),this._rawOptions=r(p),this._validatedOptions=d.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(12)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(s.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(L.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const f=this._computeOptions(),p=d.checkEquals(this.options,f);p!==null&&(this.options=f,this._onDidChangeFast.fire(p),this._onDidChange.fire(p))}_computeOptions(){const f=this._readEnvConfiguration(),p=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,f.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(p),w={memory:this._computeOptionsMemory,outerWidth:f.outerWidth,outerHeight:f.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:f.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:f.emptySelectionClipboard,pixelRatio:f.pixelRatio,tabFocusMode:s.TabFocus.getTabFocusMode("editorFocus"),accessibilitySupport:f.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return d.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:l(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:L.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(f){return v.FontMeasurements.readFontInfo(f)}getRawOptions(){return this._rawOptions}updateOptions(f){const p=r(f);d.applyUpdate(this._rawOptions,p)&&(this._validatedOptions=d.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(f){this._containerObserver.observe(f)}setIsDominatedByLongLines(f){this._isDominatedByLongLines!==f&&(this._isDominatedByLongLines=f,this._recomputeOptions())}setModelLineCount(f){const p=h(f);this._lineNumbersDigitCount!==p&&(this._lineNumbersDigitCount=p,this._recomputeOptions())}setViewLineCount(f){this._viewLineCount!==f&&(this._viewLineCount=f,this._recomputeOptions())}setReservedHeight(f){this._reservedHeight!==f&&(this._reservedHeight=f,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(f){this._glyphMarginDecorationLaneCount!==f&&(this._glyphMarginDecorationLaneCount=f,this._recomputeOptions())}};e.EditorConfiguration=u,e.EditorConfiguration=u=Ie([ge(3,a.IAccessibilityService)],u);function h(g){let f=0;for(;g;)g=Math.floor(g/10),f++;return f||1}function l(){let g="";return!L.isSafari&&!L.isWebkitWebView&&(g+="no-user-select "),L.isSafari&&(g+="no-minimap-shadow ",g+="enable-user-select "),m.isMacintosh&&(g+="mac "),g}class c{constructor(){this._values=[]}_read(f){return this._values[f]}get(f){return this._values[f]}_write(f,p){this._values[f]=p}}class o{constructor(){this._values=[]}_read(f){if(f>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[f]}get(f){return this._read(f)}_write(f,p){this._values[f]=p}}e.ComputedEditorOptions=o;class d{static validateOptions(f){const p=new c;for(const b of n.editorOptionsRegistry){const w=b.name==="_never_"?void 0:f[b.name];p._write(b.id,b.validate(w))}return p}static computeOptions(f,p){const b=new o;for(const w of n.editorOptionsRegistry)b._write(w.id,w.compute(p,b,f._read(w.id)));return b}static _deepEquals(f,p){if(typeof f!="object"||typeof p!="object"||!f||!p)return f===p;if(Array.isArray(f)||Array.isArray(p))return Array.isArray(f)&&Array.isArray(p)?k.equals(f,p):!1;if(Object.keys(f).length!==Object.keys(p).length)return!1;for(const b in f)if(!d._deepEquals(f[b],p[b]))return!1;return!0}static checkEquals(f,p){const b=[];let w=!1;for(const E of n.editorOptionsRegistry){const I=!d._deepEquals(f._read(E.id),p._read(E.id));b[E.id]=I,I&&(w=!0)}return w?new n.ConfigurationChangedEvent(b):null}static applyUpdate(f,p){let b=!1;for(const w of n.editorOptionsRegistry)if(p.hasOwnProperty(w.name)){const E=w.applyUpdate(f[w.name],p[w.name]);f[w.name]=E.newValue,b=b||E.didChange}return b}}function r(g){const f=S.deepClone(g);return(0,C.migrateOptions)(f),f}}),define(ee[755],te([1,0,6,47,2,52,198,21,720,25,29,15]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const n="data-keybinding-context";class i{constructor(E,I){this._id=E,this._parent=I,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,I){return this._value[E]!==I?(this._value[E]=I,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const I=this._value[E];return typeof I>"u"&&this._parent?this._parent.getValue(E):I}}e.Context=i;class t extends i{constructor(){super(-1,null)}setValue(E,I){return!1}removeValue(E){return!1}getValue(E){}}t.INSTANCE=new t;class a extends i{constructor(E,I,N){super(E,null),this._configurationService=I,this._values=S.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(R=>{if(R.source===7){const F=Array.from(this._values,([M])=>M);this._values.clear(),N.fire(new l(F))}else{const F=[];for(const M of R.affectedKeys){const A=`config.${M}`,T=this._values.findSuperstr(A);T!==void 0&&(F.push(...k.Iterable.map(T,([O])=>O)),this._values.deleteSuperstr(A)),this._values.has(A)&&(F.push(A),this._values.delete(A))}N.fire(new l(F))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(a._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const I=E.substr(a._keyPrefix.length),N=this._configurationService.getValue(I);let R;switch(typeof N){case"number":case"boolean":case"string":R=N;break;default:Array.isArray(N)?R=JSON.stringify(N):R=N}return this._values.set(E,R),R}setValue(E,I){return super.setValue(E,I)}removeValue(E){return super.removeValue(E)}}a._keyPrefix="config.";class u{constructor(E,I,N){this._service=E,this._key=I,this._defaultValue=N,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class h{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class l{constructor(E){this.keys=E}affectsSome(E){for(const I of this.keys)if(E.has(I))return!0;return!1}allKeysContainedIn(E){return this.keys.every(I=>E.has(I))}}class c{constructor(E){this.events=E}affectsSome(E){for(const I of this.events)if(I.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(I=>I.allKeysContainedIn(E))}}function o(w,E){return w.allKeysContainedIn(new Set(Object.keys(E)))}class d extends y.Disposable{constructor(E){super(),this._onDidChangeContext=this._register(new L.PauseableEmitter({merge:I=>new c(I)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,E,I)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new g(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(I):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,I){if(this._isDisposed)return;const N=this.getContextValuesContainer(this._myContextId);N&&N.setValue(E,I)&&this._onDidChangeContext.fire(new h(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new h(E))}getContext(E){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(f(E))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=d;let r=class extends d{constructor(E){super(0),this._contexts=new Map,this._lastContextId=0;const I=this._register(new a(this._myContextId,E,this._onDidChangeContext));this._contexts.set(this._myContextId,I)}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._contexts.get(E)||t.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new i(I,this.getContextValuesContainer(E))),I}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=r,e.ContextKeyService=r=Ie([ge(0,C.IConfigurationService)],r);class g extends d{constructor(E,I){if(super(E.createChildContext()),this._parentChangeListener=this._register(new y.MutableDisposable),this._parent=E,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(n)){let N="";this._domNode.classList&&(N=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${N?": "+N:""}`)}this._domNode.setAttribute(n,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const N=this._parent.getContextValuesContainer(this._myContextId).value;o(E,N)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(n),super.dispose())}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function f(w){for(;w;){if(w.hasAttribute(n)){const E=w.getAttribute(n);return E?parseInt(E,10):NaN}w=w.parentElement}return 0}function p(w,E,I){w.get(s.IContextKeyService).createKey(String(E),b(I))}e.setContext=p;function b(w){return(0,D.cloneAndChange)(w,E=>{if(typeof E=="object"&&E.$mid===1)return m.URI.revive(E).toString();if(E instanceof m.URI)return E.toString()})}v.CommandsRegistry.registerCommand("_setContext",p),v.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...s.RawContextKey.all()].sort((w,E)=>w.key.localeCompare(E.key))},description:{description:(0,_.localize)(0,null),args:[]}}),v.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],E=new Set;for(const I of s.RawContextKey.all())E.has(I.key)||(E.add(I.key),w.push(I));w.sort((I,N)=>I.key.localeCompare(N.key)),console.log(JSON.stringify(w,void 0,2))})}),define(ee[238],te([1,0,17,722,15]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new y.RawContextKey("isMac",L.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new y.RawContextKey("isLinux",L.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new y.RawContextKey("isWindows",L.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new y.RawContextKey("isWeb",L.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new y.RawContextKey("isMacNative",L.isMacintosh&&!L.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new y.RawContextKey("isIOS",L.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new y.RawContextKey("isMobile",L.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new y.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new y.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new y.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(ee[57],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,L.createDecorator)("contextViewService"),e.IContextMenuService=(0,L.createDecorator)("contextMenuService")}),define(ee[157],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,L.createDecorator)("dialogService")}),define(ee[239],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,L.createDecorator)("environmentService")}),define(ee[187],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class L{constructor(...y){this._entries=new Map;for(const[D,S]of y)this.set(D,S)}set(y,D){const S=this._entries.get(y);return this._entries.set(y,D),S}get(y){return this._entries.get(y)}}e.ServiceCollection=L}),define(ee[756],te([1,0,13,9,2,233,744,8,187,62]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class s extends Error{constructor(a){var u;super("cyclic dependency between services"),this.message=(u=a.findCycleSlow())!==null&&u!==void 0?u:`UNABLE to detect cycle, dumping graph: 
${a.toString()}`}}class n{constructor(a=new _.ServiceCollection,u=!1,h,l=C){var c;this._services=a,this._strict=u,this._parent=h,this._enableTracing=l,this._activeInstantiations=new Set,this._services.set(m.IInstantiationService,this),this._globalGraph=l?(c=h?._globalGraph)!==null&&c!==void 0?c:new S.Graph(o=>o):void 0}createChild(a){return new n(a,this._strict,this,this._enableTracing)}invokeFunction(a,...u){const h=i.traceInvocation(this._enableTracing,a);let l=!1;try{return a({get:o=>{if(l)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const d=this._getOrCreateServiceInstance(o,h);if(!d)throw new Error(`[invokeFunction] unknown service '${o}'`);return d}},...u)}finally{l=!0,h.stop()}}createInstance(a,...u){let h,l;return a instanceof D.SyncDescriptor?(h=i.traceCreation(this._enableTracing,a.ctor),l=this._createInstance(a.ctor,a.staticArguments.concat(u),h)):(h=i.traceCreation(this._enableTracing,a),l=this._createInstance(a,u,h)),h.stop(),l}_createInstance(a,u=[],h){const l=m._util.getServiceDependencies(a).sort((d,r)=>d.index-r.index),c=[];for(const d of l){const r=this._getOrCreateServiceInstance(d.id,h);r||this._throwIfStrict(`[createInstance] ${a.name} depends on UNKNOWN service ${d.id}.`,!1),c.push(r)}const o=l.length>0?l[0].index:u.length;if(u.length!==o){console.trace(`[createInstance] First service dependency of ${a.name} at position ${o+1} conflicts with ${u.length} static arguments`);const d=o-u.length;d>0?u=u.concat(new Array(d)):u=u.slice(0,o)}return Reflect.construct(a,u.concat(c))}_setServiceInstance(a,u){if(this._services.get(a)instanceof D.SyncDescriptor)this._services.set(a,u);else if(this._parent)this._parent._setServiceInstance(a,u);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(a){const u=this._services.get(a);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):u}_getOrCreateServiceInstance(a,u){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(a));const h=this._getServiceInstanceOrDescriptor(a);return h instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(a,h,u.branch(a,!0)):(u.branch(a,!1),h)}_safeCreateAndCacheServiceInstance(a,u,h){if(this._activeInstantiations.has(a))throw new Error(`illegal state - RECURSIVELY instantiating service '${a}'`);this._activeInstantiations.add(a);try{return this._createAndCacheServiceInstance(a,u,h)}finally{this._activeInstantiations.delete(a)}}_createAndCacheServiceInstance(a,u,h){var l;const c=new S.Graph(r=>r.id.toString());let o=0;const d=[{id:a,desc:u,_trace:h}];for(;d.length;){const r=d.pop();if(c.lookupOrInsertNode(r),o++>1e3)throw new s(c);for(const g of m._util.getServiceDependencies(r.desc.ctor)){const f=this._getServiceInstanceOrDescriptor(g.id);if(f||this._throwIfStrict(`[createInstance] ${a} depends on ${g.id} which is NOT registered.`,!0),(l=this._globalGraph)===null||l===void 0||l.insertEdge(String(r.id),String(g.id)),f instanceof D.SyncDescriptor){const p={id:g.id,desc:f,_trace:r._trace.branch(g.id,!0)};c.insertEdge(r,p),d.push(p)}}}for(;;){const r=c.roots();if(r.length===0){if(!c.isEmpty())throw new s(c);break}for(const{data:g}of r){if(this._getServiceInstanceOrDescriptor(g.id)instanceof D.SyncDescriptor){const p=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setServiceInstance(g.id,p)}c.removeNode(g)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,u,h=[],l,c){if(this._services.get(a)instanceof D.SyncDescriptor)return this._createServiceInstance(a,u,h,l,c);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,u,h,l,c);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(a,u,h=[],l,c){if(l){const o=new n(void 0,this._strict,this,this._enableTracing);o._globalGraphImplicitDependency=String(a);const d=new Map,r=new L.IdleValue(()=>{const g=o._createInstance(u,h,c);for(const[f,p]of d){const b=g[f];if(typeof b=="function")for(const w of p)b.apply(g,w)}return d.clear(),g});return new Proxy(Object.create(null),{get(g,f){if(!r.isInitialized&&typeof f=="string"&&(f.startsWith("onDid")||f.startsWith("onWill"))){let w=d.get(f);return w||(w=new v.LinkedList,d.set(f,w)),(I,N,R)=>{const F=w.push([I,N,R]);return(0,y.toDisposable)(F)}}if(f in g)return g[f];const p=r.value;let b=p[f];return typeof b!="function"||(b=b.bind(p),g[f]=b),b},set(g,f,p){return r.value[f]=p,!0},getPrototypeOf(g){return u.prototype}})}else return this._createInstance(u,h,c)}_throwIfStrict(a,u){if(u&&console.warn(a),this._strict)throw new Error(a)}}e.InstantiationService=n;class i{static traceInvocation(a,u){return a?new i(2,u.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(a,u){return a?new i(1,u.name):i._None}constructor(a,u){this.type=a,this.name=u,this._start=Date.now(),this._dep=[]}branch(a,u){const h=new i(3,a.toString());return this._dep.push([a,u,h]),h}stop(){const a=Date.now()-this._start;i._totals+=a;let u=!1;function h(c,o){const d=[],r=new Array(c+1).join("	");for(const[g,f,p]of o._dep)if(f&&p){u=!0,d.push(`${r}CREATES -> ${g}`);const b=h(c+1,p);b&&d.push(b)}else d.push(`${r}uses -> ${g}`);return d.join(`
`)}const l=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${h(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(a>2||u)&&i.all.add(l.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(ee[757],te([1,0,9,217,118]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends y.ResolvedKeybinding{constructor(m,_){if(super(),_.length===0)throw(0,L.illegalArgument)("chords");this._os=m,this._chords=_}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,m=>this._getLabel(m))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,m=>this._getAriaLabel(m))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,m=>this._getElectronAccelerator(m))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,m=>this._getUserSettingsLabel(m))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(m=>this._getChord(m))}_getChord(m){return new y.ResolvedChord(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchChords(){return this._chords.map(m=>this._getChordDispatch(m))}getSingleModifierDispatchChords(){return this._chords.map(m=>this._getSingleModifierChordDispatch(m))}}e.BaseResolvedKeybinding=D}),define(ee[34],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,L.createDecorator)("keybindingService")}),define(ee[338],te([1,0,7,317,41,6,2,130,15,57,8,34,442]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let i=n=class extends S.Disposable{constructor(u,h,l,c,o,d,r,g,f,p){super(),this.typeId=u,this.editor=h,this.showCommand=c,this.range=o,this.edits=d,this.onSelectNewEdit=r,this._contextMenuService=g,this._keybindingService=p,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=l.bindTo(f),this.visibleContext.set(!0),this._register((0,S.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,S.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(b=>{o.containsPosition(b.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(p.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var u;const h=(u=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||u===void 0?void 0:u.getLabel();this.button.element.title=this.showCommand.label+(h?` (${h})`:"")}create(){this.domNode=L.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,()=>this.showSelector()))}getId(){return n.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const u=L.getDomNodePagePosition(this.button.element);return{x:u.left+u.width,y:u.top+u.height}},getActions:()=>this.edits.allEdits.map((u,h)=>(0,y.toAction)({id:"",label:u.label,checked:h===this.edits.activeEditIndex,run:()=>{if(h!==this.edits.activeEditIndex)return this.onSelectNewEdit(h)}}))})}};i.baseId="editor.widget.postEditWidget",i=n=Ie([ge(7,v.IContextMenuService),ge(8,_.IContextKeyService),ge(9,s.IKeybindingService)],i);let t=class extends S.Disposable{constructor(u,h,l,c,o,d){super(),this._id=u,this._editor=h,this._visibleContext=l,this._showCommand=c,this._instantiationService=o,this._bulkEditService=d,this._currentWidget=this._register(new S.MutableDisposable),this._register(D.Event.any(h.onDidChangeModel,h.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(u,h,l,c){var o,d;return Se(this,void 0,void 0,function*(){const r=this._editor.getModel();if(!r||!u.length)return;const g=h.allEdits[h.activeEditIndex];if(!g)return;let f=[];(typeof g.insertText=="string"?g.insertText==="":g.insertText.snippet==="")?f=[]:f=u.map(R=>new m.ResourceTextEdit(r.uri,typeof g.insertText=="string"?{range:R,text:g.insertText,insertAsSnippet:!1}:{range:R,text:g.insertText.snippet,insertAsSnippet:!0}));const b={edits:[...f,...(d=(o=g.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&d!==void 0?d:[]]},w=u[0],E=r.deltaDecorations([],[{range:w,options:{description:"paste-line-suffix",stickiness:0}}]);let I,N;try{I=yield this._bulkEditService.apply(b,{editor:this._editor,token:c}),N=r.getDecorationRange(E[0])}finally{r.deltaDecorations(E,[])}l&&I.isApplied&&h.allEdits.length>1&&this.show(N??w,h,R=>Se(this,void 0,void 0,function*(){const F=this._editor.getModel();F&&(yield F.undo(),this.applyEditAndShowIfNeeded(u,{activeEditIndex:R,allEdits:h.allEdits},l,c))}))})}show(u,h,l){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(i,this._id,this._editor,this._visibleContext,this._showCommand,u,h,l))}clear(){this._currentWidget.clear()}tryShowSelector(){var u;(u=this._currentWidget.value)===null||u===void 0||u.showSelector()}};e.PostEditWidgetManager=t,e.PostEditWidgetManager=t=Ie([ge(4,C.IInstantiationService),ge(5,m.IBulkEditService)],t)}),define(ee[339],te([1,0,15]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function y(_,v,C){return{kind:2,commandId:_,commandArgs:v,isBubble:C}}class D{constructor(v,C,s){var n;this._log=s,this._defaultKeybindings=v,this._defaultBoundCommands=new Map;for(const i of v){const t=i.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(v).concat(C));for(let i=0,t=this._keybindings.length;i<t;i++){const a=this._keybindings[i];if(a.chords.length===0)continue;const u=(n=a.when)===null||n===void 0?void 0:n.substituteConstants();u&&u.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(v,C,s){if(C){for(let n=0;n<C.length;n++)if(C[n]!==v.chords[n])return!1}return!(s&&s.type!==1&&(!v.when||!(0,L.expressionsAreEqualWithConstantSubstitution)(s,v.when)))}static handleRemovals(v){const C=new Map;for(let n=0,i=v.length;n<i;n++){const t=v[n];if(t.command&&t.command.charAt(0)==="-"){const a=t.command.substring(1);C.has(a)?C.get(a).push(t):C.set(a,[t])}}if(C.size===0)return v;const s=[];for(let n=0,i=v.length;n<i;n++){const t=v[n];if(!t.command||t.command.length===0){s.push(t);continue}if(t.command.charAt(0)==="-")continue;const a=C.get(t.command);if(!a||!t.isDefault){s.push(t);continue}let u=!1;for(const h of a){const l=h.when;if(this._isTargetedForRemoval(t,h.chords,l)){u=!0;break}}if(!u){s.push(t);continue}}return s}_addKeyPress(v,C){const s=this._map.get(v);if(typeof s>"u"){this._map.set(v,[C]),this._addToLookupMap(C);return}for(let n=s.length-1;n>=0;n--){const i=s[n];if(i.command===C.command)continue;let t=!0;for(let a=1;a<i.chords.length&&a<C.chords.length;a++)if(i.chords[a]!==C.chords[a]){t=!1;break}t&&D.whenIsEntirelyIncluded(i.when,C.when)&&this._removeFromLookupMap(i)}s.push(C),this._addToLookupMap(C)}_addToLookupMap(v){if(!v.command)return;let C=this._lookupMap.get(v.command);typeof C>"u"?(C=[v],this._lookupMap.set(v.command,C)):C.push(v)}_removeFromLookupMap(v){if(!v.command)return;const C=this._lookupMap.get(v.command);if(!(typeof C>"u")){for(let s=0,n=C.length;s<n;s++)if(C[s]===v){C.splice(s,1);return}}}static whenIsEntirelyIncluded(v,C){return!C||C.type===1?!0:!v||v.type===1?!1:(0,L.implies)(v,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(v,C){const s=this._lookupMap.get(v);if(typeof s>"u"||s.length===0)return null;if(s.length===1)return s[0];for(let n=s.length-1;n>=0;n--){const i=s[n];if(C.contextMatchesRules(i.when))return i}return s[s.length-1]}resolve(v,C,s){const n=[...C,s];this._log(`| Resolving ${n}`);const i=this._map.get(n[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(n.length<2)t=i;else{t=[];for(let u=0,h=i.length;u<h;u++){const l=i[u];if(n.length>l.chords.length)continue;let c=!0;for(let o=1;o<n.length;o++)if(l.chords[o]!==n[o]){c=!1;break}c&&t.push(l)}}const a=this._findCommand(v,t);return a?n.length<a.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${a.chords.length-n.length} more chord(s), when: ${S(a.when)}, source: ${m(a)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${a.command}, when: ${S(a.when)}, source: ${m(a)}.`),y(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(v,C){for(let s=C.length-1;s>=0;s--){const n=C[s];if(D._contextMatchesRules(v,n.when))return n}return null}static _contextMatchesRules(v,C){return C?C.evaluate(v):!0}}e.KeybindingResolver=D;function S(_){return _?`${_.serialize()}`:"no when condition"}function m(_){return _.extensionId?_.isBuiltinExtension?`built-in extension ${_.extensionId}`:`user extension ${_.extensionId}`:_.isDefault?"built-in":"user"}}),define(ee[758],te([1,0,13,9,6,262,2,725,339]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const v=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class C extends S.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:y.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,t,a,u,h){super(),this._contextKeyService=i,this._commandService=t,this._telemetryService=a,this._notificationService=u,this._logService=h,this._onDidUpdateKeybindings=this._register(new y.Emitter),this._currentChords=[],this._currentChordChecker=new L.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new L.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,t){const a=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(a)return a.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){this._log("/ Soft dispatching keyboard event");const a=this.resolveKeyboardEvent(i);if(a.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),_.NoMatchingKb;const[u]=a.getDispatchChords();if(u===null)return this._log("\\ Keyboard event cannot be dispatched"),_.NoMatchingKb;const h=this._contextKeyService.getContext(t),l=this._currentChords.map(({keypress:c})=>c);return this._getResolver().resolve(h,l,u)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,t){switch(this._currentChords.push({keypress:i,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m.localize(0,null,t));break;default:{const a=this._currentChords.map(({label:u})=>u).join(", ");this._currentChordStatusMessage=this._notificationService.status(m.localize(1,null,a))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const a=this.resolveKeyboardEvent(i),[u]=a.getSingleModifierDispatchChords();if(u)return this._ignoreSingleModifiers.has(u)?(this._log(`+ Ignoring single modifier ${u} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${u}.`),this._currentSingleModifier=u,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):u===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${u} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(a,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[h]=a.getChords();return this._ignoreSingleModifiers=new s(h),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,a=!1){var u;let h=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let l=null,c=null;if(a){const[g]=i.getSingleModifierDispatchChords();l=g,c=g?[g]:[]}else[l]=i.getDispatchChords(),c=this._currentChords.map(({keypress:g})=>g);if(l===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),h;const o=this._contextKeyService.getContext(t),d=i.getLabel(),r=this._getResolver().resolve(o,c,l);switch(r.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",d,"[ No matching keybinding ]"),this.inChordMode){const g=this._currentChords.map(({label:f})=>f).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${g}, ${d}".`),this._notificationService.status(m.localize(2,null,g,d),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}return h}case 1:return this._logService.trace("KeybindingService#dispatch",d,"[ Several keybindings match - more chords needed ]"),h=!0,this._expectAnotherChord(l,d),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),h;case 2:{if(this._logService.trace("KeybindingService#dispatch",d,`[ Will dispatch command ${r.commandId} ]`),r.commandId===null||r.commandId===""){if(this.inChordMode){const g=this._currentChords.map(({label:f})=>f).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${g}, ${d}".`),this._notificationService.status(m.localize(3,null,g,d),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}}else this.inChordMode&&this._leaveChordMode(),r.isBubble||(h=!0),this._log(`+ Invoking command ${r.commandId}.`),typeof r.commandArgs>"u"?this._commandService.executeCommand(r.commandId).then(void 0,g=>this._notificationService.warn(g)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,g=>this._notificationService.warn(g)),v.test(r.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding",detail:(u=i.getUserSettingsLabel())!==null&&u!==void 0?u:void 0});return h}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=C;class s{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}s.EMPTY=new s(null)}),define(ee[340],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class L{constructor(D,S,m,_,v,C,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=m,this.when=_,this.isDefault=v,this.extensionId=C,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=L;function k(y){const D=[];for(let S=0,m=y.length;S<m;S++){const _=y[S];if(!_)return[];D.push(_)}return D}e.toEmptyArrayIfContainsNull=k}),define(ee[759],te([1,0,61,118,757,340]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends y.BaseResolvedKeybinding{constructor(_,v){super(v,_)}_keyCodeToUILabel(_){if(this._os===2)switch(_){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return L.KeyCodeUtils.toString(_)}_getLabel(_){return _.isDuplicateModifierCase()?"":this._keyCodeToUILabel(_.keyCode)}_getAriaLabel(_){return _.isDuplicateModifierCase()?"":L.KeyCodeUtils.toString(_.keyCode)}_getElectronAccelerator(_){return L.KeyCodeUtils.toElectronAccelerator(_.keyCode)}_getUserSettingsLabel(_){if(_.isDuplicateModifierCase())return"";const v=L.KeyCodeUtils.toUserSettingsUS(_.keyCode);return v&&v.toLowerCase()}_getChordDispatch(_){return S.getDispatchStr(_)}static getDispatchStr(_){if(_.isModifierKey())return null;let v="";return _.ctrlKey&&(v+="ctrl+"),_.shiftKey&&(v+="shift+"),_.altKey&&(v+="alt+"),_.metaKey&&(v+="meta+"),v+=L.KeyCodeUtils.toString(_.keyCode),v}_getSingleModifierChordDispatch(_){return _.keyCode===5&&!_.shiftKey&&!_.altKey&&!_.metaKey?"ctrl":_.keyCode===4&&!_.ctrlKey&&!_.altKey&&!_.metaKey?"shift":_.keyCode===6&&!_.ctrlKey&&!_.shiftKey&&!_.metaKey?"alt":_.keyCode===57&&!_.ctrlKey&&!_.shiftKey&&!_.altKey?"meta":null}static _scanCodeToKeyCode(_){const v=L.IMMUTABLE_CODE_TO_KEY_CODE[_];if(v!==-1)return v;switch(_){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(_){if(!_)return null;if(_ instanceof k.KeyCodeChord)return _;const v=this._scanCodeToKeyCode(_.scanCode);return v===0?null:new k.KeyCodeChord(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,v)}static resolveKeybinding(_,v){const C=(0,D.toEmptyArrayIfContainsNull)(_.chords.map(s=>this._toKeyCodeChord(s)));return C.length>0?[new S(C,v)]:[]}}e.USLayoutResolvedKeybinding=S}),define(ee[158],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,L.createDecorator)("labelService")}),define(ee[132],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,L.createDecorator)("layoutService")}),define(ee[341],te([1,0,7,6,132,33,45]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let m=class{get dimension(){return this._dimension||(this._dimension=L.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var C;(C=this._codeEditorService.getFocusedCodeEditor())===null||C===void 0||C.focus()}constructor(C){this._codeEditorService=C,this.onDidLayout=k.Event.None,this.offset={top:0,quickPickTop:0}}};m=Ie([ge(0,D.ICodeEditorService)],m);let _=class extends m{get hasContainer(){return!1}get container(){return this._container}constructor(C,s){super(s),this._container=C}};e.EditorScopedLayoutService=_,e.EditorScopedLayoutService=_=Ie([ge(1,D.ICodeEditorService)],_),(0,S.registerSingleton)(y.ILayoutService,m,1)}),define(ee[760],te([1,0,7,6,2,86,29,15,132]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let v=class extends y.Disposable{constructor(s,n,i){super(),this._contextKeyService=s,this._layoutService=n,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._onDidChangeReducedMotion=new k.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(u=>{u.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire()),u.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),t(),this._register(this.onDidChangeScreenReaderOptimized(()=>t()));const a=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=a.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(a)}initReducedMotionListeners(s){if(!this._layoutService.hasContainer)return;this._register((0,L.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const n=()=>{const i=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",i),this._layoutService.container.classList.toggle("enable-motion",!i)};n(),this._register(this.onDidChangeReducedMotion(()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=v,e.AccessibilityService=v=Ie([ge(0,m.IContextKeyService),ge(1,_.ILayoutService),ge(2,S.IConfigurationService)],v)}),define(ee[761],te([1,0,310,2,132]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends k.Disposable{constructor(m){super(),this.layoutService=m,this.currentViewDisposable=k.Disposable.None,this.container=m.hasContainer?m.container:null,this.contextView=this._register(new L.ContextView(this.container,1)),this.layout(),this._register(m.onDidLayout(()=>this.layout()))}setContainer(m,_){this.contextView.setContainer(m,_||1)}showContextView(m,_,v){_?(_!==this.container||this.shadowRoot!==v)&&(this.container=_,this.setContainer(_,v?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=v,this.contextView.show(m);const C=(0,k.toDisposable)(()=>{this.currentViewDisposable===C&&this.hideContextView()});return this.currentViewDisposable=C,C}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(m){this.contextView.hide(m)}};e.ContextViewService=D,e.ContextViewService=D=Ie([ge(0,y.ILayoutService)],D)}),define(ee[66],te([1,0,6,2,15,8]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.LogLevelToString=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,D.createDecorator)("logService");var S;(function(s){s[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error"})(S||(e.LogLevel=S={})),e.DEFAULT_LOG_LEVEL=S.Info;class m extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new L.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(n){this.level!==n&&(this.level=n,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(n){return this.level!==S.Off&&this.level<=n}}e.AbstractLogger=m;class _ extends m{constructor(n=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(n)}trace(n,...i){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",n,...i):console.log(n,...i))}debug(n,...i){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",n,...i):console.log(n,...i))}info(n,...i){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",n,...i):console.log(n,...i))}warn(n,...i){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",n,...i):console.log(n,...i))}error(n,...i){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",n,...i):console.error(n,...i))}dispose(){}}e.ConsoleLogger=_;class v extends m{constructor(n){super(),this.loggers=n,n.length&&this.setLevel(n[0].getLevel())}setLevel(n){for(const i of this.loggers)i.setLevel(n);super.setLevel(n)}trace(n,...i){for(const t of this.loggers)t.trace(n,...i)}debug(n,...i){for(const t of this.loggers)t.debug(n,...i)}info(n,...i){for(const t of this.loggers)t.info(n,...i)}warn(n,...i){for(const t of this.loggers)t.warn(n,...i)}error(n,...i){for(const t of this.loggers)t.error(n,...i)}dispose(){for(const n of this.loggers)n.dispose()}}e.MultiplexLogger=v;function C(s){switch(s){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}e.LogLevelToString=C,e.CONTEXT_LOG_LEVEL=new y.RawContextKey("logLevel",C(S.Info))}),define(ee[762],te([1,0,51,7,13,2,132,66]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let _=class extends D.Disposable{constructor(C,s){super(),this.layoutService=C,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(L.isSafari||L.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const C=()=>{const s=new y.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(n=>Se(this,void 0,void 0,function*(){(!(n instanceof Error)||n.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(n)}))};this.layoutService.hasContainer&&(this._register((0,k.addDisposableListener)(this.layoutService.container,"click",C)),this._register((0,k.addDisposableListener)(this.layoutService.container,"keydown",C)))}writeText(C,s){return Se(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,C);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(C);try{return yield navigator.clipboard.writeText(C)}catch(t){console.error(t)}const n=document.activeElement,i=document.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));i.style.height="1px",i.style.width="1px",i.style.position="absolute",i.value=C,i.focus(),i.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(i)})}readText(C){return Se(this,void 0,void 0,function*(){if(C)return this.mapTextToType.get(C)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return Se(this,void 0,void 0,function*(){return this.findText})}writeFindText(C){return Se(this,void 0,void 0,function*(){this.findText=C})}writeResources(C){return Se(this,void 0,void 0,function*(){this.resources=C})}readResources(){return Se(this,void 0,void 0,function*(){return this.resources})}};e.BrowserClipboardService=_,e.BrowserClipboardService=_=Ie([ge(0,S.ILayoutService),ge(1,m.ILogService)],_)}),define(ee[763],te([1,0,2,66]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class y extends L.Disposable{constructor(S,m=[]){super(),this.logger=new k.MultiplexLogger([S,...m]),this._register(S.onDidChangeLogLevel(_=>this.setLevel(_)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(S){this.logger.setLevel(S)}getLevel(){return this.logger.getLevel()}trace(S,...m){this.logger.trace(S,...m)}debug(S,...m){this.logger.debug(S,...m)}info(S,...m){this.logger.info(S,...m)}warn(S,...m){this.logger.warn(S,...m)}error(S,...m){this.logger.error(S,...m)}}e.LogService=y}),define(ee[94],te([1,0,99,727,8]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(m){function _(i,t){return t-i}m.compare=_;const v=Object.create(null);v[m.Error]=(0,k.localize)(0,null),v[m.Warning]=(0,k.localize)(1,null),v[m.Info]=(0,k.localize)(2,null);function C(i){return v[i]||""}m.toString=C;function s(i){switch(i){case L.default.Error:return m.Error;case L.default.Warning:return m.Warning;case L.default.Info:return m.Info;case L.default.Ignore:return m.Hint}}m.fromSeverity=s;function n(i){switch(i){case m.Error:return L.default.Error;case m.Warning:return L.default.Warning;case m.Info:return L.default.Info;case m.Hint:return L.default.Ignore}}m.toSeverity=n}(D||(e.MarkerSeverity=D={}));var S;(function(m){const _="";function v(s){return C(s,!0)}m.makeKey=v;function C(s,n){const i=[_];return s.source?i.push(s.source.replace("\xA6","\\\xA6")):i.push(_),s.code?typeof s.code=="string"?i.push(s.code.replace("\xA6","\\\xA6")):i.push(s.code.value.replace("\xA6","\\\xA6")):i.push(_),s.severity!==void 0&&s.severity!==null?i.push(D.toString(s.severity)):i.push(_),s.message&&n?i.push(s.message.replace("\xA6","\\\xA6")):i.push(_),s.startLineNumber!==void 0&&s.startLineNumber!==null?i.push(s.startLineNumber.toString()):i.push(_),s.startColumn!==void 0&&s.startColumn!==null?i.push(s.startColumn.toString()):i.push(_),s.endLineNumber!==void 0&&s.endLineNumber!==null?i.push(s.endLineNumber.toString()):i.push(_),s.endColumn!==void 0&&s.endColumn!==null?i.push(s.endColumn.toString()):i.push(_),i.push(_),i.join("\xA6")}m.makeKeyOptionalMessage=C})(S||(e.IMarkerData=S={})),e.IMarkerService=(0,y.createDecorator)("markerService")}),define(ee[764],te([1,0,14,6,2,62,10,21,5,45,8,94,29]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(h,l,c){this.marker=h,this.index=l,this.total=c}}e.MarkerCoordinate=i;let t=class{constructor(h,l,c){this._markerService=l,this._configService=c,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,m.URI.isUri(h)?this._resourceFilter=g=>g.toString()===h.toString():h&&(this._resourceFilter=h);const o=this._configService.getValue("problems.sortOrder"),d=(g,f)=>{let p=(0,S.compare)(g.resource.toString(),f.resource.toString());return p===0&&(o==="position"?p=_.Range.compareRangesUsingStarts(g,f)||s.MarkerSeverity.compare(g.severity,f.severity):p=s.MarkerSeverity.compare(g.severity,f.severity)||_.Range.compareRangesUsingStarts(g,f)),p},r=()=>{this._markers=this._markerService.read({resource:m.URI.isUri(h)?h:void 0,severities:s.MarkerSeverity.Error|s.MarkerSeverity.Warning|s.MarkerSeverity.Info}),typeof h=="function"&&(this._markers=this._markers.filter(g=>this._resourceFilter(g.resource))),this._markers.sort(d)};r(),this._dispoables.add(l.onMarkerChanged(g=>{(!this._resourceFilter||g.some(f=>this._resourceFilter(f)))&&(r(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(h){return!this._resourceFilter&&!h?!0:!this._resourceFilter||!h?!1:this._resourceFilter(h)}get selected(){const h=this._markers[this._nextIdx];return h&&new i(h,this._nextIdx+1,this._markers.length)}_initIdx(h,l,c){let o=!1,d=this._markers.findIndex(r=>r.resource.toString()===h.uri.toString());d<0&&(d=(0,L.binarySearch)(this._markers,{resource:h.uri},(r,g)=>(0,S.compare)(r.resource.toString(),g.resource.toString())),d<0&&(d=~d));for(let r=d;r<this._markers.length;r++){let g=_.Range.lift(this._markers[r]);if(g.isEmpty()){const f=h.getWordAtPosition(g.getStartPosition());f&&(g=new _.Range(g.startLineNumber,f.startColumn,g.startLineNumber,f.endColumn))}if(l&&(g.containsPosition(l)||l.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=r,o=!0;break}if(this._markers[r].resource.toString()!==h.uri.toString())break}o||(this._nextIdx=c?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(h,l,c){if(this._markers.length===0)return!1;const o=this._nextIdx;return this._nextIdx===-1?this._initIdx(l,c,h):h?this._nextIdx=(this._nextIdx+1)%this._markers.length:h||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(h,l){let c=this._markers.findIndex(o=>o.resource.toString()===h.toString());if(!(c<0)){for(;c<this._markers.length;c++)if(_.Range.containsPosition(this._markers[c],l))return new i(this._markers[c],c+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=Ie([ge(1,s.IMarkerService),ge(2,n.IConfigurationService)],t),e.IMarkerNavigationService=(0,C.createDecorator)("IMarkerNavigationService");let a=class{constructor(h,l){this._markerService=h,this._configService=l,this._provider=new D.LinkedList}getMarkerList(h){for(const l of this._provider){const c=l.getMarkerList(h);if(c)return c}return new t(h,this._markerService,this._configService)}};a=Ie([ge(0,s.IMarkerService),ge(1,n.IConfigurationService)],a),(0,v.registerSingleton)(e.IMarkerNavigationService,a,1)}),define(ee[765],te([1,0,14,6,47,63,54,21,94]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([S.Schemas.inMemory,S.Schemas.vscodeSourceControl,S.Schemas.walkThrough,S.Schemas.walkThroughSnippet]);class v{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(i,t,a){let u=this._byResource.get(i);u||(u=new Map,this._byResource.set(i,u)),u.set(t,a);let h=this._byOwner.get(t);h||(h=new D.ResourceMap,this._byOwner.set(t,h)),h.set(i,a)}get(i,t){const a=this._byResource.get(i);return a?.get(t)}delete(i,t){let a=!1,u=!1;const h=this._byResource.get(i);h&&(a=h.delete(t));const l=this._byOwner.get(t);if(l&&(u=l.delete(i)),a!==u)throw new Error("illegal state");return a&&u}values(i){var t,a,u,h;return typeof i=="string"?(a=(t=this._byOwner.get(i))===null||t===void 0?void 0:t.values())!==null&&a!==void 0?a:y.Iterable.empty():m.URI.isUri(i)?(h=(u=this._byResource.get(i))===null||u===void 0?void 0:u.values())!==null&&h!==void 0?h:y.Iterable.empty():y.Iterable.map(y.Iterable.concat(...this._byOwner.values()),l=>l[1])}}class C{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const t of i){const a=this._data.get(t);a&&this._substract(a);const u=this._resourceStats(t);this._add(u),this._data.set(t,u)}}_resourceStats(i){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return t;for(const{severity:a}of this._service.read({resource:i}))a===_.MarkerSeverity.Error?t.errors+=1:a===_.MarkerSeverity.Warning?t.warnings+=1:a===_.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class s{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new v,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,t){for(const a of t||[])this.changeOne(i,a,[])}changeOne(i,t,a){if((0,L.isFalsyOrEmpty)(a))this._data.delete(t,i)&&this._onMarkerChanged.fire([t]);else{const u=[];for(const h of a){const l=s._toMarker(i,t,h);l&&u.push(l)}this._data.set(t,i,u),this._onMarkerChanged.fire([t])}}static _toMarker(i,t,a){let{code:u,severity:h,message:l,source:c,startLineNumber:o,startColumn:d,endLineNumber:r,endColumn:g,relatedInformation:f,tags:p}=a;if(l)return o=o>0?o:1,d=d>0?d:1,r=r>=o?r:o,g=g>0?g:d,{resource:t,owner:i,code:u,severity:h,message:l,source:c,startLineNumber:o,startColumn:d,endLineNumber:r,endColumn:g,relatedInformation:f,tags:p}}changeAll(i,t){const a=[],u=this._data.values(i);if(u)for(const h of u){const l=y.Iterable.first(h);l&&(a.push(l.resource),this._data.delete(l.resource,i))}if((0,L.isNonEmptyArray)(t)){const h=new D.ResourceMap;for(const{resource:l,marker:c}of t){const o=s._toMarker(i,l,c);if(!o)continue;const d=h.get(l);d?d.push(o):(h.set(l,[o]),a.push(l))}for(const[l,c]of h)this._data.set(l,i,c)}a.length>0&&this._onMarkerChanged.fire(a)}read(i=Object.create(null)){let{owner:t,resource:a,severities:u,take:h}=i;if((!h||h<0)&&(h=-1),t&&a){const l=this._data.get(a,t);if(l){const c=[];for(const o of l)if(s._accept(o,u)){const d=c.push(o);if(h>0&&d===h)break}return c}else return[]}else if(!t&&!a){const l=[];for(const c of this._data.values())for(const o of c)if(s._accept(o,u)){const d=l.push(o);if(h>0&&d===h)return l}return l}else{const l=this._data.values(a??t),c=[];for(const o of l)for(const d of o)if(s._accept(d,u)){const r=c.push(d);if(h>0&&r===h)return c}return c}}static _accept(i,t){return t===void 0||(t&i.severity)===i.severity}static _merge(i){const t=new D.ResourceMap;for(const a of i)for(const u of a)t.set(u,!0);return Array.from(t.keys())}}e.MarkerService=s}),define(ee[46],te([1,0,99,8]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=L.default,e.INotificationService=(0,k.createDecorator)("notificationService");class y{}e.NoOpNotification=y}),define(ee[55],te([1,0,10,21,8]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,y.createDecorator)("openerService");function D(_,v){return k.URI.isUri(_)?(0,L.equalsIgnoreCase)(_.scheme,v):(0,L.startsWithIgnoreCase)(_,v+":")}e.matchesScheme=D;function S(_,...v){return v.some(C=>D(_,C))}e.matchesSomeScheme=S;function m(_){let v;const C=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return C&&(v={startLineNumber:parseInt(C[1]),startColumn:C[2]?parseInt(C[2]):1,endLineNumber:C[4]?parseInt(C[4]):void 0,endColumn:C[4]?C[5]?parseInt(C[5]):1:void 0},_=_.with({fragment:""})),{selection:v,uri:_}}e.extractSelection=m}),define(ee[766],te([1,0,7,19,62,63,222,54,44,21,33,25,741,55]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let t=class{constructor(l){this._commandService=l}open(l,c){return Se(this,void 0,void 0,function*(){if(!(0,i.matchesScheme)(l,m.Schemas.command))return!1;if(!c?.allowCommands||(typeof l=="string"&&(l=v.URI.parse(l)),Array.isArray(c.allowCommands)&&!c.allowCommands.includes(l.path)))return!0;let o=[];try{o=(0,S.parse)(decodeURIComponent(l.query))}catch{try{o=(0,S.parse)(l.query)}catch{}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(l.path,...o),!0})}};t=Ie([ge(0,s.ICommandService)],t);let a=class{constructor(l){this._editorService=l}open(l,c){return Se(this,void 0,void 0,function*(){typeof l=="string"&&(l=v.URI.parse(l));const{selection:o,uri:d}=(0,i.extractSelection)(l);return l=d,l.scheme===m.Schemas.file&&(l=(0,_.normalizePath)(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:o,source:c?.fromUserGesture?n.EditorOpenSource.USER:n.EditorOpenSource.API},c?.editorOptions)},this._editorService.getFocusedCodeEditor(),c?.openToSide),!0})}};a=Ie([ge(0,C.ICodeEditorService)],a);let u=class{constructor(l,c){this._openers=new y.LinkedList,this._validators=new y.LinkedList,this._resolvers=new y.LinkedList,this._resolvedUriTargets=new D.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new y.LinkedList,this._defaultExternalOpener={openExternal:o=>Se(this,void 0,void 0,function*(){return(0,i.matchesSomeScheme)(o,m.Schemas.http,m.Schemas.https)?L.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,d)=>Se(this,void 0,void 0,function*(){return d?.openExternal||(0,i.matchesSomeScheme)(o,m.Schemas.mailto,m.Schemas.http,m.Schemas.https,m.Schemas.vsls)?(yield this._doOpenExternal(o,d),!0):!1})}),this._openers.push(new t(c)),this._openers.push(new a(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}open(l,c){var o;return Se(this,void 0,void 0,function*(){const d=typeof l=="string"?v.URI.parse(l):l,r=(o=this._resolvedUriTargets.get(d))!==null&&o!==void 0?o:l;for(const g of this._validators)if(!(yield g.shouldOpen(r,c)))return!1;for(const g of this._openers)if(yield g.open(l,c))return!0;return!1})}resolveExternalUri(l,c){return Se(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const d=yield o.resolveExternalUri(l,c);if(d)return this._resolvedUriTargets.has(d.resolved)||this._resolvedUriTargets.set(d.resolved,l),d}catch{}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,c){return Se(this,void 0,void 0,function*(){const o=typeof l=="string"?v.URI.parse(l):l;let d;try{d=(yield this.resolveExternalUri(o,c)).resolved}catch{d=o}let r;if(typeof l=="string"&&o.toString()===d.toString()?r=l:r=encodeURI(d.toString(!0)),c?.allowContributedOpeners){const g=typeof c?.allowContributedOpeners=="string"?c?.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(yield f.openExternal(r,{sourceUri:o,preferredOpenerId:g},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(r,{sourceUri:o},k.CancellationToken.None)})}dispose(){this._validators.clear()}};e.OpenerService=u,e.OpenerService=u=Ie([ge(0,C.ICodeEditorService),ge(1,s.ICommandService)],u)}),define(ee[73],te([1,0,141,63,139,239,45,8,66,55]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,m.createDecorator)("ILanguageFeatureDebounceService");var C;(function(t){const a=new WeakMap;let u=0;function h(l){let c=a.get(l);return c===void 0&&(c=++u,a.set(l,c)),c}t.of=h})(C||(C={}));class s{constructor(a){this._default=a}get(a){return this._default}update(a,u){return this._default}default(){return this._default}}class n{constructor(a,u,h,l,c,o){this._logService=a,this._name=u,this._registry=h,this._default=l,this._min=c,this._max=o,this._cache=new k.LRUCache(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((u,h)=>(0,L.doHash)(C.of(h),u),0)}get(a){const u=this._key(a),h=this._cache.get(u);return h?(0,y.clamp)(h.value,this._min,this._max):this.default()}update(a,u){const h=this._key(a);let l=this._cache.get(h);l||(l=new y.SlidingWindowAverage(6),this._cache.set(h,l));const c=(0,y.clamp)(l.update(u),this._min,this._max);return(0,v.matchesScheme)(a.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${c}ms`),c}_overall(){const a=new y.MovingAverage;for(const[,u]of this._cache)a.update(u.value);return a.value}default(){const a=this._overall()|0||this._default;return(0,y.clamp)(a,this._min,this._max)}}let i=class{constructor(a,u){this._logService=a,this._data=new Map,this._isDev=u.isExtensionDevelopment||!u.isBuilt}for(a,u,h){var l,c,o;const d=(l=h?.min)!==null&&l!==void 0?l:50,r=(c=h?.max)!==null&&c!==void 0?c:Math.pow(d,2),g=(o=h?.key)!==null&&o!==void 0?o:void 0,f=`${C.of(a)},${d}${g?","+g:""}`;let p=this._data.get(f);return p||(this._isDev?p=new n(this._logService,u,a,this._overallAverage()|0||d*1.5,d,r):(this._logService.debug(`[DEBOUNCE: ${u}] is disabled in developed mode`),p=new s(d*1.5)),this._data.set(f,p)),p}_overallAverage(){const a=new y.MovingAverage;for(const u of this._data.values())a.update(u.default());return a.value}};e.LanguageFeatureDebounceService=i,e.LanguageFeatureDebounceService=i=Ie([ge(0,_.ILogService),ge(1,D.IEnvironmentService)],i),(0,S.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(ee[188],te([1,0,14,19,9,47,63,12,5,73,8,45,50,2,18]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class a{remove(){var d;(d=this.parent)===null||d===void 0||d.children.delete(this.id)}static findId(d,r){let g;typeof d=="string"?g=`${r.id}/${d}`:(g=`${r.id}/${d.name}`,r.children.get(g)!==void 0&&(g=`${r.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let f=g;for(let p=0;r.children.get(f)!==void 0;p++)f=`${g}_${p}`;return f}static empty(d){return d.children.size===0}}e.TreeElement=a;class u extends a{constructor(d,r,g){super(),this.id=d,this.parent=r,this.symbol=g,this.children=new Map}}e.OutlineElement=u;class h extends a{constructor(d,r,g,f){super(),this.id=d,this.parent=r,this.label=g,this.order=f,this.children=new Map}}e.OutlineGroup=h;class l extends a{static create(d,r,g){const f=new k.CancellationTokenSource(g),p=new l(r.uri),b=d.ordered(r),w=b.map((I,N)=>{var R;const F=a.findId(`provider_${N}`,p),M=new h(F,p,(R=I.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",N);return Promise.resolve(I.provideDocumentSymbols(r,f.token)).then(A=>{for(const T of A||[])l._makeOutlineElement(T,M);return M},A=>((0,y.onUnexpectedExternalError)(A),M)).then(A=>{a.empty(A)?A.remove():p._groups.set(F,A)})}),E=d.onDidChange(()=>{const I=d.ordered(r);(0,L.equals)(I,b)||f.cancel()});return Promise.all(w).then(()=>f.token.isCancellationRequested&&!g.isCancellationRequested?l.create(d,r,g):p._compact()).finally(()=>{E.dispose(),f.dispose()})}static _makeOutlineElement(d,r){const g=a.findId(d,r),f=new u(g,r,d);if(d.children)for(const p of d.children)l._makeOutlineElement(p,f);r.children.set(f.id,f)}constructor(d){super(),this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let d=0;for(const[r,g]of this._groups)g.children.size===0?this._groups.delete(r):d+=1;if(d!==1)this.children=this._groups;else{const r=D.Iterable.first(this._groups.values());for(const[,g]of r.children)g.parent=this,this.children.set(g.id,g)}return this}getTopLevelSymbols(){const d=[];for(const r of this.children.values())r instanceof u?d.push(r.symbol):d.push(...D.Iterable.map(r.children.values(),g=>g.symbol));return d.sort((r,g)=>_.Range.compareRangesUsingStarts(r.range,g.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),r=[];return l._flattenDocumentSymbols(r,d,""),r.sort((g,f)=>m.Position.compare(_.Range.getStartPosition(g.range),_.Range.getStartPosition(f.range))||m.Position.compare(_.Range.getEndPosition(f.range),_.Range.getEndPosition(g.range)))}static _flattenDocumentSymbols(d,r,g){for(const f of r)d.push({kind:f.kind,tags:f.tags,name:f.name,detail:f.detail,containerName:f.containerName||g,range:f.range,selectionRange:f.selectionRange,children:void 0}),f.children&&l._flattenDocumentSymbols(d,f.children,f.name)}}e.OutlineModel=l,e.IOutlineModelService=(0,C.createDecorator)("IOutlineModelService");let c=class{constructor(d,r,g){this._languageFeaturesService=d,this._disposables=new i.DisposableStore,this._cache=new S.LRUCache(10,.7),this._debounceInformation=r.for(d.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(g.onModelRemoved(f=>{this._cache.delete(f.id)}))}dispose(){this._disposables.dispose()}getOrCreate(d,r){return Se(this,void 0,void 0,function*(){const g=this._languageFeaturesService.documentSymbolProvider,f=g.ordered(d);let p=this._cache.get(d.id);if(!p||p.versionId!==d.getVersionId()||!(0,L.equals)(p.provider,f)){const w=new k.CancellationTokenSource;p={versionId:d.getVersionId(),provider:f,promiseCnt:0,source:w,promise:l.create(g,d,w.token),model:void 0},this._cache.set(d.id,p);const E=Date.now();p.promise.then(I=>{p.model=I,this._debounceInformation.update(d,Date.now()-E)}).catch(I=>{this._cache.delete(d.id)})}if(p.model)return p.model;p.promiseCnt+=1;const b=r.onCancellationRequested(()=>{--p.promiseCnt===0&&(p.source.cancel(),this._cache.delete(d.id))});try{return yield p.promise}finally{b.dispose()}})}};e.OutlineModelService=c,e.OutlineModelService=c=Ie([ge(0,t.ILanguageFeaturesService),ge(1,v.ILanguageFeatureDebounceService),ge(2,n.IModelService)],c),(0,s.registerSingleton)(e.IOutlineModelService,c,1)}),define(ee[767],te([1,0,19,20,21,65,188,25]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(_,...v){return Se(this,void 0,void 0,function*(){const[C]=v;(0,k.assertType)(y.URI.isUri(C));const s=_.get(S.IOutlineModelService),i=yield _.get(D.ITextModelService).createModelReference(C);try{return(yield s.getOrCreate(i.object.textEditorModel,L.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})})}),define(ee[768],te([1,0,7,79,43,60,6,2,55,474]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let v=class extends m.Disposable{get enabled(){return this._enabled}set enabled(s){s?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=s}constructor(s,n,i={},t){var a;super(),this._link=n,this._enabled=!0,this.el=(0,L.append)(s,(0,L.$)("a.monaco-link",{tabIndex:(a=n.tabIndex)!==null&&a!==void 0?a:0,href:n.href,title:n.title},n.label)),this.el.setAttribute("role","button");const u=this._register(new k.DomEmitter(this.el,"click")),h=this._register(new k.DomEmitter(this.el,"keypress")),l=S.Event.chain(h.event,d=>d.map(r=>new y.StandardKeyboardEvent(r)).filter(r=>r.keyCode===3)),c=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const o=S.Event.any(u.event,l,c);this._register(o(d=>{this.enabled&&(L.EventHelper.stop(d,!0),i?.opener?i.opener(this._link.href):t.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};e.Link=v,e.Link=v=Ie([ge(3,_.IOpenerService)],v)}),define(ee[85],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,L.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D,S){this.callback=D,this.report=S?.async?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(D){this._value=D,this.callback(this._value)}_reportAsync(D){Promise.resolve(this._lastTask).finally(()=>{this._value=D;const S=this.callback(this._value);this._lastTask=Promise.resolve(S).finally(()=>this._lastTask=void 0)})}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,L.createDecorator)("editorProgressService")}),define(ee[769],te([1,0,13,19,2,20]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var S;(function(C){C[C.NO_ACTION=0]="NO_ACTION",C[C.CLOSE_PICKER=1]="CLOSE_PICKER",C[C.REFRESH_PICKER=2]="REFRESH_PICKER",C[C.REMOVE_ITEM=3]="REMOVE_ITEM"})(S||(e.TriggerAction=S={}));function m(C){const s=C;return Array.isArray(s.items)}function _(C){const s=C;return!!s.picks&&s.additionalPicks instanceof Promise}class v extends y.Disposable{constructor(s,n){super(),this.prefix=s,this.options=n}provide(s,n,i){var t;const a=new y.DisposableStore;s.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;let u;const h=a.add(new y.MutableDisposable),l=()=>Se(this,void 0,void 0,function*(){const c=h.value=new y.DisposableStore;u?.dispose(!0),s.busy=!1,u=new k.CancellationTokenSource(n);const o=u.token,d=s.value.substr(this.prefix.length).trim(),r=this._getPicks(d,c,o,i),g=(p,b)=>{var w;let E,I;if(m(p)?(E=p.items,I=p.active):E=p,E.length===0){if(b)return!1;(d.length>0||s.hideInput)&&(!((w=this.options)===null||w===void 0)&&w.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?E=[this.options.noResultsPick(d)]:E=[this.options.noResultsPick])}return s.items=E,I&&(s.activeItems=[I]),!0},f=p=>Se(this,void 0,void 0,function*(){let b=!1,w=!1;yield Promise.all([(()=>Se(this,void 0,void 0,function*(){typeof p.mergeDelay=="number"&&(yield(0,L.timeout)(p.mergeDelay),o.isCancellationRequested)||w||(b=g(p.picks,!0))}))(),(()=>Se(this,void 0,void 0,function*(){s.busy=!0;try{const E=yield p.additionalPicks;if(o.isCancellationRequested)return;let I,N;m(p.picks)?(I=p.picks.items,N=p.picks.active):I=p.picks;let R,F;if(m(E)?(R=E.items,F=E.active):R=E,R.length>0||!b){let M;if(!N&&!F){const A=s.activeItems[0];A&&I.indexOf(A)!==-1&&(M=A)}g({items:[...I,...R],active:N||F||M})}}finally{o.isCancellationRequested||(s.busy=!1),w=!0}}))()])});if(r!==null)if(_(r))yield f(r);else if(!(r instanceof Promise))g(r);else{s.busy=!0;try{const p=yield r;if(o.isCancellationRequested)return;_(p)?yield f(p):g(p)}finally{o.isCancellationRequested||(s.busy=!1)}}});return a.add(s.onDidChangeValue(()=>l())),l(),a.add(s.onDidAccept(c=>{const[o]=s.selectedItems;typeof o?.accept=="function"&&(c.inBackground||s.hide(),o.accept(s.keyMods,c))})),a.add(s.onDidTriggerItemButton(({button:c,item:o})=>Se(this,void 0,void 0,function*(){var d,r;if(typeof o.trigger=="function"){const g=(r=(d=o.buttons)===null||d===void 0?void 0:d.indexOf(c))!==null&&r!==void 0?r:-1;if(g>=0){const f=o.trigger(g,s.keyMods),p=typeof f=="number"?f:yield f;if(n.isCancellationRequested)return;switch(p){case S.NO_ACTION:break;case S.CLOSE_PICKER:s.hide();break;case S.REFRESH_PICKER:l();break;case S.REMOVE_ITEM:{const b=s.items.indexOf(o);if(b!==-1){const w=s.items.slice(),E=w.splice(b,1),I=s.activeItems.filter(R=>R!==E[0]),N=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=w,I&&(s.activeItems=I),s.keepScrollPosition=N}break}}}}}))),a}}e.PickerQuickAccessProvider=v}),define(ee[770],te([1,0,7,43,59,229,2,99,173]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const _=L.$;class v extends S.Disposable{constructor(s,n,i){super(),this.parent=s,this.onKeyDown=a=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.KEY_DOWN,u=>{a(new k.StandardKeyboardEvent(u))}),this.onMouseDown=a=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.MOUSE_DOWN,u=>{a(new y.StandardMouseEvent(u))}),this.onDidChange=a=>this.findInput.onDidChange(a),this.container=L.append(this.parent,_(".quick-input-box")),this.findInput=this._register(new D.FindInput(this.container,void 0,{label:"",inputBoxStyles:n,toggleStyles:i}));const t=this.findInput.inputBox.inputElement;t.role="combobox",t.ariaHasPopup="menu",t.ariaAutoComplete="list",t.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,n){this.findInput.inputBox.inputElement.setAttribute(s,n)}showDecoration(s){s===m.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===m.default.Info?1:s===m.default.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===m.default.Info?1:s===m.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=v}),define(ee[342],te([1,0,7,79,6,43,60,128,164,388,733,173]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderQuickInputDescription=e.getIconClass=void 0;const s={},n=new _.IdGenerator("quick-input-button-icon-");function i(a){if(!a)return;let u;const h=a.dark.toString();return s[h]?u=s[h]:(u=n.nextId(),L.createCSSRule(`.${u}, .hc-light .${u}`,`background-image: ${L.asCSSUrl(a.light||a.dark)}`),L.createCSSRule(`.vs-dark .${u}, .hc-black .${u}`,`background-image: ${L.asCSSUrl(a.dark)}`),s[h]=u),u}e.getIconClass=i;function t(a,u,h){L.reset(u);const l=(0,v.parseLinkedText)(a);let c=0;for(const o of l.nodes)if(typeof o=="string")u.append(...(0,m.renderLabelWithIcons)(o));else{let d=o.title;!d&&o.href.startsWith("command:")?d=(0,C.localize)(0,null,o.href.substring(8)):d||(d=o.href);const r=L.$("a",{href:o.href,title:d,tabIndex:c++},o.label);r.style.textDecoration="underline";const g=E=>{L.isEventLike(E)&&L.EventHelper.stop(E,!0),h.callback(o.href)},f=h.disposables.add(new k.DomEmitter(r,L.EventType.CLICK)).event,p=h.disposables.add(new k.DomEmitter(r,L.EventType.KEY_DOWN)).event,b=y.Event.chain(p,E=>E.filter(I=>{const N=new D.StandardKeyboardEvent(I);return N.equals(10)||N.equals(3)}));h.disposables.add(S.Gesture.addTarget(r));const w=h.disposables.add(new k.DomEmitter(r,S.EventType.Tap)).event;y.Event.any(f,w,b)(g,null,h.disposables),u.appendChild(r)}}e.renderQuickInputDescription=t}),define(ee[67],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(S){S[S.Blur=1]="Blur",S[S.Gesture=2]="Gesture",S[S.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var y;(function(S){S[S.NONE=0]="NONE",S[S.FIRST=1]="FIRST",S[S.SECOND=2]="SECOND",S[S.LAST=3]="LAST"})(y||(e.ItemActivation=y={}));class D{constructor(m){this.options=m}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,L.createDecorator)("quickInputService")}),define(ee[35],te([1,0,96,20]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class y{constructor(){this.data=new Map}add(S,m){L.ok(k.isString(S)),L.ok(k.isObject(m)),L.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,m)}as(S){return this.data.get(S)||null}}e.Registry=new y}),define(ee[343],te([1,0,35]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new k);class y{constructor(){}static getInstance(){return y.INSTANCE}hasData(S){return S&&S===this.proto}getData(S){if(this.hasData(S))return this.data}}e.LocalSelectionTransfer=y,y.INSTANCE=new y}),define(ee[344],te([1,0,197,171,107,21,343]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toExternalVSDataTransfer=e.toVSDataTransfer=void 0;function m(s){const n=new k.VSDataTransfer;for(const i of s.items){const t=i.type;if(i.kind==="string"){const a=new Promise(u=>i.getAsString(u));n.append(t,(0,k.createStringDataTransferItem)(a))}else if(i.kind==="file"){const a=i.getAsFile();a&&n.append(t,_(a))}}return n}e.toVSDataTransfer=m;function _(s){const n=s.path?D.URI.parse(s.path):void 0;return(0,k.createFileDataTransferItem)(s.name,n,()=>Se(this,void 0,void 0,function*(){return new Uint8Array(yield s.arrayBuffer())}))}const v=Object.freeze([S.CodeDataTransfers.EDITORS,S.CodeDataTransfers.FILES,L.DataTransfers.RESOURCES,L.DataTransfers.INTERNAL_URI_LIST]);function C(s,n=!1){const i=m(s),t=i.get(L.DataTransfers.INTERNAL_URI_LIST);if(t)i.replace(y.Mimes.uriList,t);else if(n||!i.has(y.Mimes.uriList)){const a=[];for(const u of s.items){const h=u.getAsFile();if(h){const l=h.path;try{l?a.push(D.URI.file(l).toString()):a.push(D.URI.parse(h.name,!0).toString())}catch{}}}a.length&&i.replace(y.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(a)))}for(const a of v)i.delete(a);return i}e.toExternalVSDataTransfer=C}),define(ee[240],te([1,0,6,35]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function y(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class D{constructor(){this._onDidChangeSchema=new L.Emitter,this.schemasById={}}registerSchema(_,v){this.schemasById[y(_)]=v,this._onDidChangeSchema.fire(_)}notifySchemaChanged(_){this._onDidChangeSchema.fire(_)}}const S=new D;k.Registry.add(e.Extensions.JSONContribution,S)}),define(ee[95],te([1,0,14,6,20,719,29,240,35]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const v=_.Registry.as(m.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(l,c=!0){this.registerConfigurations([l],c)}registerConfigurations(l,c=!0){const o=new Set;this.doRegisterConfigurations(l,c,o),v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:o})}registerDefaultConfigurations(l){const c=new Set;this.doRegisterDefaultConfigurations(l,c),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c,defaultsOverrides:!0})}doRegisterDefaultConfigurations(l,c){var o;const d=[];for(const{overrides:r,source:g}of l)for(const f in r)if(c.add(f),e.OVERRIDE_PROPERTY_REGEX.test(f)){const p=this.configurationDefaultsOverrides.get(f),b=(o=p?.valuesSources)!==null&&o!==void 0?o:new Map;if(g)for(const N of Object.keys(r[f]))b.set(N,g);const w=Object.assign(Object.assign({},p?.value||{}),r[f]);this.configurationDefaultsOverrides.set(f,{source:g,value:w,valuesSources:b});const E=(0,S.getLanguageTagSettingPlainKey)(f),I={type:"object",default:w,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:w,source:y.isString(g)?void 0:g,defaultValueSource:g};d.push(...i(f)),this.configurationProperties[f]=I,this.defaultLanguageConfigurationOverridesNode.properties[f]=I}else{this.configurationDefaultsOverrides.set(f,{value:r[f],source:g});const p=this.configurationProperties[f];p&&(this.updatePropertyDefaultValue(f,p),this.updateSchema(f,p))}this.doRegisterOverrideIdentifiers(d)}registerOverrideIdentifiers(l){this.doRegisterOverrideIdentifiers(l),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(l){for(const c of l)this.overrideIdentifiers.add(c);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(l,c,o){l.forEach(d=>{this.validateAndRegisterProperties(d,c,d.extensionInfo,d.restrictedProperties,void 0,o),this.configurationContributors.push(d),this.registerJSONConfiguration(d)})}validateAndRegisterProperties(l,c=!0,o,d,r=3,g){var f;r=y.isUndefinedOrNull(l.scope)?r:l.scope;const p=l.properties;if(p)for(const w in p){const E=p[w];if(c&&u(w,E)){delete p[w];continue}if(E.source=o,E.defaultDefaultValue=p[w].default,this.updatePropertyDefaultValue(w,E),e.OVERRIDE_PROPERTY_REGEX.test(w)?E.scope=void 0:(E.scope=y.isUndefinedOrNull(E.scope)?r:E.scope,E.restricted=y.isUndefinedOrNull(E.restricted)?!!d?.includes(w):E.restricted),p[w].hasOwnProperty("included")&&!p[w].included){this.excludedConfigurationProperties[w]=p[w],delete p[w];continue}else this.configurationProperties[w]=p[w],!((f=p[w].policy)===null||f===void 0)&&f.name&&this.policyConfigurations.set(p[w].policy.name,w);!p[w].deprecationMessage&&p[w].markdownDeprecationMessage&&(p[w].deprecationMessage=p[w].markdownDeprecationMessage),g.add(w)}const b=l.allOf;if(b)for(const w of b)this.validateAndRegisterProperties(w,c,o,d,r,g)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(l){const c=o=>{const d=o.properties;if(d)for(const g in d)this.updateSchema(g,d[g]);const r=o.allOf;r?.forEach(c)};c(l)}updateSchema(l,c){switch(e.allSettings.properties[l]=c,c.scope){case 1:e.applicationSettings.properties[l]=c;break;case 2:e.machineSettings.properties[l]=c;break;case 6:e.machineOverridableSettings.properties[l]=c;break;case 3:e.windowSettings.properties[l]=c;break;case 4:e.resourceSettings.properties[l]=c;break;case 5:e.resourceSettings.properties[l]=c,this.resourceLanguageSettingsSchema.properties[l]=c;break}}updateOverridePropertyPatternKey(){for(const l of this.overrideIdentifiers.values()){const c=`[${l}]`,o={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(c,o),e.allSettings.properties[c]=o,e.applicationSettings.properties[c]=o,e.machineSettings.properties[c]=o,e.machineOverridableSettings.properties[c]=o,e.windowSettings.properties[c]=o,e.resourceSettings.properties[c]=o}}registerOverridePropertyPatternKey(){const l={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(l,c){const o=this.configurationDefaultsOverrides.get(l);let d=o?.value,r=o?.source;y.isUndefined(d)&&(d=c.defaultDefaultValue,r=void 0),y.isUndefined(d)&&(d=t(c.type)),c.default=d,c.defaultValueSource=r}}const s="\\[([^\\]]+)\\]",n=new RegExp(s,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${s})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(h){const l=[];if(e.OVERRIDE_PROPERTY_REGEX.test(h)){let c=n.exec(h);for(;c?.length;){const o=c[1].trim();o&&l.push(o),c=n.exec(h)}}return(0,L.distinct)(l)}e.overrideIdentifiersFromKey=i;function t(h){switch(Array.isArray(h)?h[0]:h){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=t;const a=new C;_.Registry.add(e.Extensions.Configuration,a);function u(h,l){var c,o,d,r;return h.trim()?e.OVERRIDE_PROPERTY_REGEX.test(h)?D.localize(7,null,h):a.getConfigurationProperties()[h]!==void 0?D.localize(8,null,h):!((c=l.policy)===null||c===void 0)&&c.name&&a.getPolicyConfigurations().get((o=l.policy)===null||o===void 0?void 0:o.name)!==void 0?D.localize(9,null,h,(d=l.policy)===null||d===void 0?void 0:d.name,a.getPolicyConfigurations().get((r=l.policy)===null||r===void 0?void 0:r.name)):null:D.localize(6,null)}e.validateProperty=u}),define(ee[241],te([1,0,271,38,174,615,95,35]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:D.localize(0,null),scope:5});const _=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:y.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:D.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:D.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:D.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:D.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:D.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:D.localize(6,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:D.localize(7,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.localize(8,null),D.localize(9,null),D.localize(10,null)],description:D.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.localize(12,null),D.localize(13,null),D.localize(14,null)],default:"configuredByTheme",description:D.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:D.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:D.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:D.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:D.localize(21,null),items:{type:"array",items:[{type:"string",description:D.localize(22,null)},{type:"string",description:D.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:D.localize(24,null),items:{type:"array",items:[{type:"string",description:D.localize(25,null)},{type:"string",description:D.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:L.diffEditorDefaultOptions.maxComputationTime,description:D.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:L.diffEditorDefaultOptions.maxFileSize,description:D.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:L.diffEditorDefaultOptions.renderSideBySide,description:D.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:L.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:D.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:L.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:D.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:L.diffEditorDefaultOptions.renderMarginRevertIcon,description:D.localize(32,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:L.diffEditorDefaultOptions.ignoreTrimWhitespace,description:D.localize(33,null)},"diffEditor.renderIndicators":{type:"boolean",default:L.diffEditorDefaultOptions.renderIndicators,description:D.localize(34,null)},"diffEditor.codeLens":{type:"boolean",default:L.diffEditorDefaultOptions.diffCodeLens,description:D.localize(35,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:L.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[D.localize(36,null),D.localize(37,null),D.localize(38,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:L.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[D.localize(39,null),D.localize(40,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:L.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:D.localize(41,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:D.localize(42,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:D.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:D.localize(44,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:D.localize(45,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:D.localize(46,null)}}});function v(a){return typeof a.type<"u"||typeof a.anyOf<"u"}for(const a of k.editorOptionsRegistry){const u=a.schema;if(typeof u<"u")if(v(u))_.properties[`editor.${a.name}`]=u;else for(const h in u)Object.hasOwnProperty.call(u,h)&&(_.properties[h]=u[h])}let C=null;function s(){return C===null&&(C=Object.create(null),Object.keys(_.properties).forEach(a=>{C[a]=!0})),C}function n(a){return s()[`editor.${a}`]||!1}e.isEditorConfigurationKey=n;function i(a){return s()[`diffEditor.${a}`]||!1}e.isDiffEditorConfigurationKey=i,m.Registry.as(S.Extensions.Configuration).registerConfiguration(_)}),define(ee[74],te([1,0,625,6,35,107,95]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class m{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(v){return this._languages.push(v),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let C=0,s=this._languages.length;C<s;C++)if(this._languages[C]===v){this._languages.splice(C,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=m,e.ModesRegistry=new m,y.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[L.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),y.Registry.as(S.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ee[31],te([1,0,6,2,10,145,109,125,500,596,501,504,231,8,29,42,45,74,503]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class c{constructor(A){this.languageId=A}affects(A){return this.languageId?this.languageId===A:!0}}e.LanguageConfigurationServiceChangeEvent=c,e.ILanguageConfigurationService=(0,i.createDecorator)("languageConfigurationService");let o=class extends k.Disposable{constructor(A,T){super(),this.configurationService=A,this.languageService=T,this._registry=this._register(new R),this.onDidChangeEmitter=this._register(new L.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const O=new Set(Object.values(r));this._register(this.configurationService.onDidChangeConfiguration(P=>{const x=P.change.keys.some(q=>O.has(q)),z=P.change.overrides.filter(([q,B])=>B.some($=>O.has($))).map(([q])=>q);if(x)this.configurations.clear(),this.onDidChangeEmitter.fire(new c(void 0));else for(const q of z)this.languageService.isRegisteredLanguageId(q)&&(this.configurations.delete(q),this.onDidChangeEmitter.fire(new c(q)))})),this._register(this._registry.onDidChange(P=>{this.configurations.delete(P.languageId),this.onDidChangeEmitter.fire(new c(P.languageId))}))}register(A,T,O){return this._registry.register(A,T,O)}getLanguageConfiguration(A){let T=this.configurations.get(A);return T||(T=d(A,this._registry,this.configurationService,this.languageService),this.configurations.set(A,T)),T}};e.LanguageConfigurationService=o,e.LanguageConfigurationService=o=Ie([ge(0,t.IConfigurationService),ge(1,a.ILanguageService)],o);function d(M,A,T,O){let P=A.getLanguageConfiguration(M);if(!P){if(!O.isRegisteredLanguageId(M))return new F(M,{});P=new F(M,{})}const x=g(P.languageId,T),z=E([P.underlyingConfig,x]);return new F(P.languageId,z)}const r={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function g(M,A){const T=A.getValue(r.brackets,{overrideIdentifier:M}),O=A.getValue(r.colorizedBracketPairs,{overrideIdentifier:M});return{brackets:f(T),colorizedBracketPairs:f(O)}}function f(M){if(Array.isArray(M))return M.map(A=>{if(!(!Array.isArray(A)||A.length!==2))return[A[0],A[1]]}).filter(A=>!!A)}function p(M,A,T){const O=M.getLineContent(A);let P=y.getLeadingWhitespace(O);return P.length>T-1&&(P=P.substring(0,T-1)),P}e.getIndentationAtPosition=p;function b(M,A,T){M.tokenization.forceTokenization(A);const O=M.tokenization.getLineTokens(A),P=typeof T>"u"?M.getLineMaxColumn(A)-1:T-1;return(0,m.createScopedLineTokens)(O,P)}e.getScopedLineTokens=b;class w{constructor(A){this.languageId=A,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(A,T){const O=new I(A,T,++this._order);return this._entries.push(O),this._resolved=null,(0,k.toDisposable)(()=>{for(let P=0;P<this._entries.length;P++)if(this._entries[P]===O){this._entries.splice(P,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const A=this._resolve();A&&(this._resolved=new F(this.languageId,A))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(A=>A.configuration)))}}function E(M){let A={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const T of M)A={comments:T.comments||A.comments,brackets:T.brackets||A.brackets,wordPattern:T.wordPattern||A.wordPattern,indentationRules:T.indentationRules||A.indentationRules,onEnterRules:T.onEnterRules||A.onEnterRules,autoClosingPairs:T.autoClosingPairs||A.autoClosingPairs,surroundingPairs:T.surroundingPairs||A.surroundingPairs,autoCloseBefore:T.autoCloseBefore||A.autoCloseBefore,folding:T.folding||A.folding,colorizedBracketPairs:T.colorizedBracketPairs||A.colorizedBracketPairs,__electricCharacterSupport:T.__electricCharacterSupport||A.__electricCharacterSupport};return A}class I{constructor(A,T,O){this.configuration=A,this.priority=T,this.order=O}static cmp(A,T){return A.priority===T.priority?A.order-T.order:A.priority-T.priority}}class N{constructor(A){this.languageId=A}}e.LanguageConfigurationChangeEvent=N;class R extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(h.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(A,T,O=0){let P=this._entries.get(A);P||(P=new w(A),this._entries.set(A,P));const x=P.register(T,O);return this._onDidChange.fire(new N(A)),(0,k.toDisposable)(()=>{x.dispose(),this._onDidChange.fire(new N(A))})}getLanguageConfiguration(A){const T=this._entries.get(A);return T?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=R;class F{constructor(A,T){this.languageId=A,this.underlyingConfig=T,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new s.OnEnterSupport(this.underlyingConfig):null,this.comments=F._handleComments(this.underlyingConfig),this.characterPair=new _.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new C.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new l.LanguageBracketsConfiguration(A,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new n.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new v.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(A,T,O,P){return this._onEnterSupport?this._onEnterSupport.onEnter(A,T,O,P):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(A){return this.characterPair.getAutoCloseBeforeSet(A)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(A){const T=A.comments;if(!T)return null;const O={};if(T.lineComment&&(O.lineCommentToken=T.lineComment),T.blockComment){const[P,x]=T.blockComment;O.blockCommentStartToken=P,O.blockCommentEndToken=x}return O}}e.ResolvedLanguageConfiguration=F,(0,u.registerSingleton)(e.ILanguageConfigurationService,o,1)}),define(ee[242],te([1,0,13,2,321,588,5,31,624,50,186,14,66,58,9,18,204,108,64]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const c=60*1e3,o=5*60*1e3;function d(I,N){const R=I.getModel(N);return!(!R||R.isTooLargeForSyncing())}let r=class extends k.Disposable{constructor(N,R,F,M,A){super(),this._modelService=N,this._workerManager=this._register(new f(this._modelService,M)),this._logService=F,this._register(A.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(T,O)=>d(this._modelService,T.uri)?this._workerManager.withWorker().then(P=>P.computeLinks(T.uri)).then(P=>P&&{links:P}):Promise.resolve({links:[]})})),this._register(A.completionProvider.register("*",new g(this._workerManager,R,this._modelService,M)))}dispose(){super.dispose()}canComputeUnicodeHighlights(N){return d(this._modelService,N)}computedUnicodeHighlights(N,R,F){return this._workerManager.withWorker().then(M=>M.computedUnicodeHighlights(N,R,F))}computeDiff(N,R,F,M){return Se(this,void 0,void 0,function*(){const A=yield this._workerManager.withWorker().then(P=>P.computeDiff(N,R,F,M));if(!A)return null;return{identical:A.identical,quitEarly:A.quitEarly,changes:O(A.changes),moves:A.moves.map(P=>new u.MovedText(new h.LineRangeMapping(new l.LineRange(P[0],P[1]),new l.LineRange(P[2],P[3])),O(P[4])))};function O(P){return P.map(x=>{var z;return new h.DetailedLineRangeMapping(new l.LineRange(x[0],x[1]),new l.LineRange(x[2],x[3]),(z=x[4])===null||z===void 0?void 0:z.map(q=>new h.RangeMapping(new S.Range(q[0],q[1],q[2],q[3]),new S.Range(q[4],q[5],q[6],q[7]))))})}})}computeMoreMinimalEdits(N,R,F=!1){if((0,s.isNonEmptyArray)(R)){if(!d(this._modelService,N))return Promise.resolve(R);const M=i.StopWatch.create(),A=this._workerManager.withWorker().then(T=>T.computeMoreMinimalEdits(N,R,F));return A.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",N.toString(!0),M.elapsed())),Promise.race([A,(0,L.timeout)(1e3).then(()=>R)])}else return Promise.resolve(void 0)}canNavigateValueSet(N){return d(this._modelService,N)}navigateValueSet(N,R,F){return this._workerManager.withWorker().then(M=>M.navigateValueSet(N,R,F))}canComputeWordRanges(N){return d(this._modelService,N)}computeWordRanges(N,R){return this._workerManager.withWorker().then(F=>F.computeWordRanges(N,R))}};e.EditorWorkerService=r,e.EditorWorkerService=r=Ie([ge(0,v.IModelService),ge(1,C.ITextResourceConfigurationService),ge(2,n.ILogService),ge(3,m.ILanguageConfigurationService),ge(4,a.ILanguageFeaturesService)],r);class g{constructor(N,R,F,M){this.languageConfigurationService=M,this._debugDisplayName="wordbasedCompletions",this._workerManager=N,this._configurationService=R,this._modelService=F}provideCompletionItems(N,R){return Se(this,void 0,void 0,function*(){const F=this._configurationService.getValue(N.uri,R,"editor");if(!F.wordBasedSuggestions)return;const M=[];if(F.wordBasedSuggestionsMode==="currentDocument")d(this._modelService,N.uri)&&M.push(N.uri);else for(const q of this._modelService.getModels())d(this._modelService,q.uri)&&(q===N?M.unshift(q.uri):(F.wordBasedSuggestionsMode==="allDocuments"||q.getLanguageId()===N.getLanguageId())&&M.push(q.uri));if(M.length===0)return;const A=this.languageConfigurationService.getLanguageConfiguration(N.getLanguageId()).getWordDefinition(),T=N.getWordAtPosition(R),O=T?new S.Range(R.lineNumber,T.startColumn,R.lineNumber,T.endColumn):S.Range.fromPositions(R),P=O.setEndPosition(R.lineNumber,R.column),z=yield(yield this._workerManager.withWorker()).textualSuggest(M,T?.word,A);if(z)return{duration:z.duration,suggestions:z.words.map(q=>({kind:18,label:q,insertText:q,range:{insert:P,replace:O}}))}})}}class f extends k.Disposable{constructor(N,R){super(),this.languageConfigurationService=R,this._modelService=N,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new L.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2)),this._register(this._modelService.onModelRemoved(M=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new E(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class p extends k.Disposable{constructor(N,R,F){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=N,this._modelService=R,!F){const M=new L.IntervalTimer;M.cancelAndSet(()=>this._checkStopModelSync(),Math.round(c/2)),this._register(M)}}dispose(){for(const N in this._syncedModels)(0,k.dispose)(this._syncedModels[N]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(N,R){for(const F of N){const M=F.toString();this._syncedModels[M]||this._beginModelSync(F,R),this._syncedModels[M]&&(this._syncedModelsLastUsedTime[M]=new Date().getTime())}}_checkStopModelSync(){const N=new Date().getTime(),R=[];for(const F in this._syncedModelsLastUsedTime)N-this._syncedModelsLastUsedTime[F]>c&&R.push(F);for(const F of R)this._stopModelSync(F)}_beginModelSync(N,R){const F=this._modelService.getModel(N);if(!F||!R&&F.isTooLargeForSyncing())return;const M=N.toString();this._proxy.acceptNewModel({url:F.uri.toString(),lines:F.getLinesContent(),EOL:F.getEOL(),versionId:F.getVersionId()});const A=new k.DisposableStore;A.add(F.onDidChangeContent(T=>{this._proxy.acceptModelChanged(M.toString(),T)})),A.add(F.onWillDispose(()=>{this._stopModelSync(M)})),A.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(M)})),this._syncedModels[M]=A}_stopModelSync(N){const R=this._syncedModels[N];delete this._syncedModels[N],delete this._syncedModelsLastUsedTime[N],(0,k.dispose)(R)}}class b{constructor(N){this._instance=N,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class w{constructor(N){this._workerClient=N}fhr(N,R){return this._workerClient.fhr(N,R)}}e.EditorWorkerHost=w;class E extends k.Disposable{constructor(N,R,F,M){super(),this.languageConfigurationService=M,this._disposed=!1,this._modelService=N,this._keepIdleModels=R,this._workerFactory=new D.DefaultWorkerFactory(F),this._worker=null,this._modelManager=null}fhr(N,R){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new y.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new w(this)))}catch(N){(0,y.logOnceWebWorkerWarning)(N),this._worker=new b(new _.EditorSimpleWorker(new w(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,N=>((0,y.logOnceWebWorkerWarning)(N),this._worker=new b(new _.EditorSimpleWorker(new w(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(N){return this._modelManager||(this._modelManager=this._register(new p(N,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(N,R=!1){return Se(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(F=>(this._getOrCreateModelManager(F).ensureSyncedResources(N,R),F))})}computedUnicodeHighlights(N,R,F){return this._withSyncedResources([N]).then(M=>M.computeUnicodeHighlights(N.toString(),R,F))}computeDiff(N,R,F,M){return this._withSyncedResources([N,R],!0).then(A=>A.computeDiff(N.toString(),R.toString(),F,M))}computeMoreMinimalEdits(N,R,F){return this._withSyncedResources([N]).then(M=>M.computeMoreMinimalEdits(N.toString(),R,F))}computeLinks(N){return this._withSyncedResources([N]).then(R=>R.computeLinks(N.toString()))}computeDefaultDocumentColors(N){return this._withSyncedResources([N]).then(R=>R.computeDefaultDocumentColors(N.toString()))}textualSuggest(N,R,F){return Se(this,void 0,void 0,function*(){const M=yield this._withSyncedResources(N),A=F.source,T=F.flags;return M.textualSuggest(N.map(O=>O.toString()),R,A,T)})}computeWordRanges(N,R){return this._withSyncedResources([N]).then(F=>{const M=this._modelService.getModel(N);if(!M)return Promise.resolve(null);const A=this.languageConfigurationService.getLanguageConfiguration(M.getLanguageId()).getWordDefinition(),T=A.source,O=A.flags;return F.computeWordRanges(N.toString(),R,T,O)})}navigateValueSet(N,R,F){return this._withSyncedResources([N]).then(M=>{const A=this._modelService.getModel(N);if(!A)return null;const T=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),O=T.source,P=T.flags;return M.navigateValueSet(N.toString(),R,F,O,P)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=E}),define(ee[771],te([1,0,52,242]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function y(S,m,_){return new D(S,m,_)}e.createWebWorker=y;class D extends k.EditorWorkerClient{constructor(m,_,v){super(m,v.keepIdleModels||!1,v.label,_),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(m,_){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,_))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const _=this._foreignModuleHost?(0,L.getAllMethodNames)(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,_).then(v=>{this._foreignModuleCreateData=null;const C=(i,t)=>m.fmr(i,t),s=(i,t)=>function(){const a=Array.prototype.slice.call(arguments,0);return t(i,a)},n={};for(const i of v)n[i]=s(i,C);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(_=>this.getProxy())}}}),define(ee[243],te([1,0,10,109,125,31]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function S(n,i,t){const a=n.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let u,h=-1;for(u=i-1;u>=1;u--){if(n.tokenization.getLanguageIdAtPosition(u,0)!==a)return h;const l=n.getLineContent(u);if(t.shouldIgnore(l)||/^\s+$/.test(l)||l===""){h=u;continue}return u}}return-1}function m(n,i,t,a=!0,u){if(n<4)return null;const h=u.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!h)return null;if(t<=1)return{indentation:"",action:null};for(let o=t-1;o>0&&i.getLineContent(o)==="";o--)if(o===1)return{indentation:"",action:null};const l=S(i,t,h);if(l<0)return null;if(l<1)return{indentation:"",action:null};const c=i.getLineContent(l);if(h.shouldIncrease(c)||h.shouldIndentNextLine(c))return{indentation:L.getLeadingWhitespace(c),action:k.IndentAction.Indent,line:l};if(h.shouldDecrease(c))return{indentation:L.getLeadingWhitespace(c),action:null,line:l};{if(l===1)return{indentation:L.getLeadingWhitespace(i.getLineContent(l)),action:null,line:l};const o=l-1,d=h.getIndentMetadata(i.getLineContent(o));if(!(d&3)&&d&4){let r=0;for(let g=o-1;g>0;g--)if(!h.shouldIndentNextLine(i.getLineContent(g))){r=g;break}return{indentation:L.getLeadingWhitespace(i.getLineContent(r+1)),action:null,line:r+1}}if(a)return{indentation:L.getLeadingWhitespace(i.getLineContent(l)),action:null,line:l};for(let r=l;r>0;r--){const g=i.getLineContent(r);if(h.shouldIncrease(g))return{indentation:L.getLeadingWhitespace(g),action:k.IndentAction.Indent,line:r};if(h.shouldIndentNextLine(g)){let f=0;for(let p=r-1;p>0;p--)if(!h.shouldIndentNextLine(i.getLineContent(r))){f=p;break}return{indentation:L.getLeadingWhitespace(i.getLineContent(f+1)),action:null,line:f+1}}else if(h.shouldDecrease(g))return{indentation:L.getLeadingWhitespace(g),action:null,line:r}}return{indentation:L.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=m;function _(n,i,t,a,u,h){if(n<4)return null;const l=h.getLanguageConfiguration(t);if(!l)return null;const c=h.getLanguageConfiguration(t).indentRulesSupport;if(!c)return null;const o=m(n,i,a,void 0,h),d=i.getLineContent(a);if(o){const r=o.line;if(r!==void 0){let g=!0;for(let f=r;f<a-1;f++)if(!/^\s*$/.test(i.getLineContent(f))){g=!1;break}if(g){const f=l.onEnter(n,"",i.getLineContent(r),"");if(f){let p=L.getLeadingWhitespace(i.getLineContent(r));return f.removeText&&(p=p.substring(0,p.length-f.removeText)),f.indentAction===k.IndentAction.Indent||f.indentAction===k.IndentAction.IndentOutdent?p=u.shiftIndent(p):f.indentAction===k.IndentAction.Outdent&&(p=u.unshiftIndent(p)),c.shouldDecrease(d)&&(p=u.unshiftIndent(p)),f.appendText&&(p+=f.appendText),L.getLeadingWhitespace(p)}}}return c.shouldDecrease(d)?o.action===k.IndentAction.Indent?o.indentation:u.unshiftIndent(o.indentation):o.action===k.IndentAction.Indent?u.shiftIndent(o.indentation):o.indentation}return null}e.getGoodIndentForLine=_;function v(n,i,t,a,u){if(n<4)return null;i.tokenization.forceTokenization(t.startLineNumber);const h=i.tokenization.getLineTokens(t.startLineNumber),l=(0,y.createScopedLineTokens)(h,t.startColumn-1),c=l.getLineContent();let o=!1,d;l.firstCharOffset>0&&h.getLanguageId(0)!==l.languageId?(o=!0,d=c.substr(0,t.startColumn-1-l.firstCharOffset)):d=h.getLineContent().substring(0,t.startColumn-1);let r;t.isEmpty()?r=c.substr(t.startColumn-1-l.firstCharOffset):r=(0,D.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-l.firstCharOffset);const g=u.getLanguageConfiguration(l.languageId).indentRulesSupport;if(!g)return null;const f=d,p=L.getLeadingWhitespace(d),b={tokenization:{getLineTokens:N=>i.tokenization.getLineTokens(N),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(N,R)=>i.getLanguageIdAtPosition(N,R)},getLineContent:N=>N===t.startLineNumber?f:i.getLineContent(N)},w=L.getLeadingWhitespace(h.getLineContent()),E=m(n,b,t.startLineNumber+1,void 0,u);if(!E){const N=o?w:p;return{beforeEnter:N,afterEnter:N}}let I=o?w:E.indentation;return E.action===k.IndentAction.Indent&&(I=a.shiftIndent(I)),g.shouldDecrease(r)&&(I=a.unshiftIndent(I)),{beforeEnter:o?w:p,afterEnter:I}}e.getIndentForEnter=v;function C(n,i,t,a,u,h){if(n<4)return null;const l=(0,D.getScopedLineTokens)(i,t.startLineNumber,t.startColumn);if(l.firstCharOffset)return null;const c=h.getLanguageConfiguration(l.languageId).indentRulesSupport;if(!c)return null;const o=l.getLineContent(),d=o.substr(0,t.startColumn-1-l.firstCharOffset);let r;if(t.isEmpty()?r=o.substr(t.startColumn-1-l.firstCharOffset):r=(0,D.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-l.firstCharOffset),!c.shouldDecrease(d+r)&&c.shouldDecrease(d+a+r)){const g=m(n,i,t.startLineNumber,!1,h);if(!g)return null;let f=g.indentation;return g.action!==k.IndentAction.Indent&&(f=u.unshiftIndent(f)),f}return null}e.getIndentActionForType=C;function s(n,i,t){const a=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!a||i<1||i>n.getLineCount()?null:a.getIndentMetadata(n.getLineContent(i))}e.getIndentMetadata=s}),define(ee[244],te([1,0,109,31]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function y(D,S,m,_){const v=(0,k.getScopedLineTokens)(S,m.startLineNumber,m.startColumn),C=_.getLanguageConfiguration(v.languageId);if(!C)return null;const s=v.getLineContent(),n=s.substr(0,m.startColumn-1-v.firstCharOffset);let i;m.isEmpty()?i=s.substr(m.startColumn-1-v.firstCharOffset):i=(0,k.getScopedLineTokens)(S,m.endLineNumber,m.endColumn).getLineContent().substr(m.endColumn-1-v.firstCharOffset);let t="";if(m.startLineNumber>1&&v.firstCharOffset===0){const o=(0,k.getScopedLineTokens)(S,m.startLineNumber-1);o.languageId===v.languageId&&(t=o.getLineContent())}const a=C.onEnter(D,t,n,i);if(!a)return null;const u=a.indentAction;let h=a.appendText;const l=a.removeText||0;h?u===L.IndentAction.Indent&&(h="	"+h):u===L.IndentAction.Indent||u===L.IndentAction.IndentOutdent?h="	":h="";let c=(0,k.getIndentationAtPosition)(S,m.startLineNumber,m.startColumn);return l&&(c=c.substring(0,c.length-l)),{indentAction:u,appendText:h,removeText:l,indentation:c}}e.getEnterAction=y}),define(ee[245],te([1,0,10,80,5,24,244,31]),function(G,e,L,k,y,D,S,m){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const v=Object.create(null);function C(n,i){if(i<=0)return"";v[n]||(v[n]=["",n]);const t=v[n];for(let a=t.length;a<=i;a++)t[a]=t[a-1]+n;return t[i]}let s=_=class{static unshiftIndent(i,t,a,u,h){const l=k.CursorColumns.visibleColumnFromColumn(i,t,a);if(h){const c=C(" ",u),d=k.CursorColumns.prevIndentTabStop(l,u)/u;return C(c,d)}else{const c="	",d=k.CursorColumns.prevRenderTabStop(l,a)/a;return C(c,d)}}static shiftIndent(i,t,a,u,h){const l=k.CursorColumns.visibleColumnFromColumn(i,t,a);if(h){const c=C(" ",u),d=k.CursorColumns.nextIndentTabStop(l,u)/u;return C(c,d)}else{const c="	",d=k.CursorColumns.nextRenderTabStop(l,a)/a;return C(c,d)}}constructor(i,t,a){this._languageConfigurationService=a,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,a){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,a):i.addEditOperation(t,a)}getEditOperations(i,t){const a=this._selection.startLineNumber;let u=this._selection.endLineNumber;this._selection.endColumn===1&&a!==u&&(u=u-1);const{tabSize:h,indentSize:l,insertSpaces:c}=this._opts,o=a===u;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let d=0,r=0;for(let g=a;g<=u;g++,d=r){r=0;const f=i.getLineContent(g);let p=L.firstNonWhitespaceIndex(f);if(this._opts.isUnshift&&(f.length===0||p===0)||!o&&!this._opts.isUnshift&&f.length===0)continue;if(p===-1&&(p=f.length),g>1&&k.CursorColumns.visibleColumnFromColumn(f,p+1,h)%l!==0&&i.tokenization.isCheapToTokenize(g-1)){const E=(0,S.getEnterAction)(this._opts.autoIndent,i,new y.Range(g-1,i.getLineMaxColumn(g-1),g-1,i.getLineMaxColumn(g-1)),this._languageConfigurationService);if(E){if(r=d,E.appendText)for(let I=0,N=E.appendText.length;I<N&&r<l&&E.appendText.charCodeAt(I)===32;I++)r++;E.removeText&&(r=Math.max(0,r-E.removeText));for(let I=0;I<r&&!(p===0||f.charCodeAt(p-1)!==32);I++)p--}}if(this._opts.isUnshift&&p===0)continue;let b;this._opts.isUnshift?b=_.unshiftIndent(f,p+1,h,l,c):b=_.shiftIndent(f,p+1,h,l,c),this._addEditOperation(t,new y.Range(g,1,g,p+1),b),g===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=p+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const d=c?C(" ",l):"	";for(let r=a;r<=u;r++){const g=i.getLineContent(r);let f=L.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||f===0))&&!(!o&&!this._opts.isUnshift&&g.length===0)&&(f===-1&&(f=g.length),!(this._opts.isUnshift&&f===0)))if(this._opts.isUnshift){f=Math.min(f,l);for(let p=0;p<f;p++)if(g.charCodeAt(p)===9){f=p+1;break}this._addEditOperation(t,new y.Range(r,1,r,f+1),"")}else this._addEditOperation(t,new y.Range(r,1,r,1),d),r===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const u=t.getInverseEditOperations()[0];return new D.Selection(u.range.endLineNumber,u.range.endColumn,u.range.endLineNumber,u.range.endColumn)}const a=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const u=this._selection.startColumn;return a.startColumn<=u?a:a.getDirection()===0?new D.Selection(a.startLineNumber,u,a.endLineNumber,a.endColumn):new D.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,u)}return a}};e.ShiftCommand=s,e.ShiftCommand=s=_=Ie([ge(2,m.ILanguageConfigurationService)],s)}),define(ee[246],te([1,0,9,10,123,245,486,71,144,5,12,109,31,125,243,244]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class u{static indent(f,p,b){if(p===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService);return w}static outdent(f,p,b){const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!0,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService);return w}static shiftIndent(f,p,b){return b=b||1,D.ShiftCommand.shiftIndent(p,p.length+b,f.tabSize,f.indentSize,f.insertSpaces)}static unshiftIndent(f,p,b){return b=b||1,D.ShiftCommand.unshiftIndent(p,p.length+b,f.tabSize,f.indentSize,f.insertSpaces)}static _distributedPaste(f,p,b,w){const E=[];for(let I=0,N=b.length;I<N;I++)E[I]=new y.ReplaceCommand(b[I],w[I]);return new m.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(f,p,b,w,E){const I=[];for(let N=0,R=b.length;N<R;N++){const F=b[N],M=F.getPosition();if(E&&!F.isEmpty()&&(E=!1),E&&w.indexOf(`
`)!==w.length-1&&(E=!1),E){const A=new v.Range(M.lineNumber,1,M.lineNumber,1);I[N]=new y.ReplaceCommandThatPreservesSelection(A,w,F,!0)}else I[N]=new y.ReplaceCommand(F,w)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(f,p,b,w,E){if(w||p.length===1)return null;if(E&&E.length===p.length)return E;if(f.multiCursorPaste==="spread"){b.charCodeAt(b.length-1)===10&&(b=b.substr(0,b.length-1)),b.charCodeAt(b.length-1)===13&&(b=b.substr(0,b.length-1));const I=k.splitLines(b);if(I.length===p.length)return I}return null}static paste(f,p,b,w,E,I){const N=this._distributePasteToCursors(f,b,w,E,I);return N?(b=b.sort(v.Range.compareRangesUsingStarts),this._distributedPaste(f,p,b,N)):this._simplePaste(f,p,b,w,E)}static _goodIndentForLine(f,p,b){let w=null,E="";const I=(0,t.getInheritIndentForLine)(f.autoIndent,p,b,!1,f.languageConfigurationService);if(I)w=I.action,E=I.indentation;else if(b>1){let N;for(N=b-1;N>=1;N--){const M=p.getLineContent(N);if(k.lastNonWhitespaceIndex(M)>=0)break}if(N<1)return null;const R=p.getLineMaxColumn(N),F=(0,a.getEnterAction)(f.autoIndent,p,new v.Range(N,R,N,R),f.languageConfigurationService);F&&(E=F.indentation+F.appendText)}return w&&(w===s.IndentAction.Indent&&(E=u.shiftIndent(f,E)),w===s.IndentAction.Outdent&&(E=u.unshiftIndent(f,E)),E=f.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(f,p,b,w){let E="";const I=b.getStartPosition();if(f.insertSpaces){const N=f.visibleColumnFromColumn(p,I),R=f.indentSize,F=R-N%R;for(let M=0;M<F;M++)E+=" "}else E="	";return new y.ReplaceCommand(b,E,w)}static tab(f,p,b){const w=[];for(let E=0,I=b.length;E<I;E++){const N=b[E];if(N.isEmpty()){const R=p.getLineContent(N.startLineNumber);if(/^\s*$/.test(R)&&p.tokenization.isCheapToTokenize(N.startLineNumber)){let F=this._goodIndentForLine(f,p,N.startLineNumber);F=F||"	";const M=f.normalizeIndentation(F);if(!R.startsWith(M)){w[E]=new y.ReplaceCommand(new v.Range(N.startLineNumber,1,N.startLineNumber,R.length+1),M,!0);continue}}w[E]=this._replaceJumpToNextIndent(f,p,N,!0)}else{if(N.startLineNumber===N.endLineNumber){const R=p.getLineMaxColumn(N.startLineNumber);if(N.startColumn!==1||N.endColumn!==R){w[E]=this._replaceJumpToNextIndent(f,p,N,!1);continue}}w[E]=new D.ShiftCommand(N,{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService)}}return w}static compositionType(f,p,b,w,E,I,N,R){const F=w.map(M=>this._compositionType(b,M,E,I,N,R));return new m.EditOperationResult(4,F,{shouldPushStackElementBefore:o(f,4),shouldPushStackElementAfter:!1})}static _compositionType(f,p,b,w,E,I){if(!p.isEmpty())return null;const N=p.getPosition(),R=Math.max(1,N.column-w),F=Math.min(f.getLineMaxColumn(N.lineNumber),N.column+E),M=new v.Range(N.lineNumber,R,N.lineNumber,F);return f.getValueInRange(M)===b&&I===0?null:new y.ReplaceCommandWithOffsetCursorState(M,b,0,I)}static _typeCommand(f,p,b){return b?new y.ReplaceCommandWithoutChangingPosition(f,p,!0):new y.ReplaceCommand(f,p,!0)}static _enter(f,p,b,w){if(f.autoIndent===0)return u._typeCommand(w,`
`,b);if(!p.tokenization.isCheapToTokenize(w.getStartPosition().lineNumber)||f.autoIndent===1){const R=p.getLineContent(w.startLineNumber),F=k.getLeadingWhitespace(R).substring(0,w.startColumn-1);return u._typeCommand(w,`
`+f.normalizeIndentation(F),b)}const E=(0,a.getEnterAction)(f.autoIndent,p,w,f.languageConfigurationService);if(E){if(E.indentAction===s.IndentAction.None)return u._typeCommand(w,`
`+f.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.Indent)return u._typeCommand(w,`
`+f.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.IndentOutdent){const R=f.normalizeIndentation(E.indentation),F=f.normalizeIndentation(E.indentation+E.appendText),M=`
`+F+`
`+R;return b?new y.ReplaceCommandWithoutChangingPosition(w,M,!0):new y.ReplaceCommandWithOffsetCursorState(w,M,-1,F.length-R.length,!0)}else if(E.indentAction===s.IndentAction.Outdent){const R=u.unshiftIndent(f,E.indentation);return u._typeCommand(w,`
`+f.normalizeIndentation(R+E.appendText),b)}}const I=p.getLineContent(w.startLineNumber),N=k.getLeadingWhitespace(I).substring(0,w.startColumn-1);if(f.autoIndent>=4){const R=(0,t.getIndentForEnter)(f.autoIndent,p,w,{unshiftIndent:F=>u.unshiftIndent(f,F),shiftIndent:F=>u.shiftIndent(f,F),normalizeIndentation:F=>f.normalizeIndentation(F)},f.languageConfigurationService);if(R){let F=f.visibleColumnFromColumn(p,w.getEndPosition());const M=w.endColumn,A=p.getLineContent(w.endLineNumber),T=k.firstNonWhitespaceIndex(A);if(T>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,T+1)):w=w.setEndPosition(w.endLineNumber,p.getLineMaxColumn(w.endLineNumber)),b)return new y.ReplaceCommandWithoutChangingPosition(w,`
`+f.normalizeIndentation(R.afterEnter),!0);{let O=0;return M<=T+1&&(f.insertSpaces||(F=Math.ceil(F/f.indentSize)),O=Math.min(F+1-f.normalizeIndentation(R.afterEnter).length-1,0)),new y.ReplaceCommandWithOffsetCursorState(w,`
`+f.normalizeIndentation(R.afterEnter),0,O,!0)}}}return u._typeCommand(w,`
`+f.normalizeIndentation(N),b)}static _isAutoIndentType(f,p,b){if(f.autoIndent<4)return!1;for(let w=0,E=b.length;w<E;w++)if(!p.tokenization.isCheapToTokenize(b[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(f,p,b,w){const E=(0,n.getIndentationAtPosition)(p,b.startLineNumber,b.startColumn),I=(0,t.getIndentActionForType)(f.autoIndent,p,b,w,{shiftIndent:N=>u.shiftIndent(f,N),unshiftIndent:N=>u.unshiftIndent(f,N)},f.languageConfigurationService);if(I===null)return null;if(I!==f.normalizeIndentation(E)){const N=p.getLineFirstNonWhitespaceColumn(b.startLineNumber);return N===0?u._typeCommand(new v.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),f.normalizeIndentation(I)+w,!1):u._typeCommand(new v.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),f.normalizeIndentation(I)+p.getLineContent(b.startLineNumber).substring(N-1,b.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(f,p,b,w,E){if(f.autoClosingOvertype==="never"||!f.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,N=b.length;I<N;I++){const R=b[I];if(!R.isEmpty())return!1;const F=R.getPosition(),M=p.getLineContent(F.lineNumber);if(M.charAt(F.column-1)!==E)return!1;const T=(0,m.isQuote)(E);if((F.column>2?M.charCodeAt(F.column-2):0)===92&&T)return!1;if(f.autoClosingOvertype==="auto"){let P=!1;for(let x=0,z=w.length;x<z;x++){const q=w[x];if(F.lineNumber===q.startLineNumber&&F.column===q.startColumn){P=!0;break}}if(!P)return!1}}return!0}static _runAutoClosingOvertype(f,p,b,w,E){const I=[];for(let N=0,R=w.length;N<R;N++){const M=w[N].getPosition(),A=new v.Range(M.lineNumber,M.column,M.lineNumber,M.column+1);I[N]=new y.ReplaceCommand(A,E)}return new m.EditOperationResult(4,I,{shouldPushStackElementBefore:o(f,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(f,p){const b=p.charAt(0),w=f.autoClosingPairs.autoClosingPairsOpenByStart.get(b)||[],E=f.autoClosingPairs.autoClosingPairsCloseByStart.get(b)||[],I=w.some(R=>p.startsWith(R.open)),N=E.some(R=>p.startsWith(R.close));return!I&&N}static _findAutoClosingPairOpen(f,p,b,w){const E=f.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!E)return null;let I=null;for(const N of E)if(I===null||N.open.length>I.open.length){let R=!0;for(const F of b)if(p.getValueInRange(new v.Range(F.lineNumber,F.column-N.open.length+1,F.lineNumber,F.column))+w!==N.open){R=!1;break}R&&(I=N)}return I}static _findContainedAutoClosingPair(f,p){if(p.open.length<=1)return null;const b=p.close.charAt(p.close.length-1),w=f.autoClosingPairs.autoClosingPairsCloseByEnd.get(b)||[];let E=null;for(const I of w)I.open!==p.open&&p.open.includes(I.open)&&p.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(f,p,b,w,E){const I=(0,m.isQuote)(w),N=I?f.autoClosingQuotes:f.autoClosingBrackets,R=I?f.shouldAutoCloseBefore.quote:f.shouldAutoCloseBefore.bracket;if(N==="never")return null;for(const P of b)if(!P.isEmpty())return null;const F=b.map(P=>{const x=P.getPosition();return E?{lineNumber:x.lineNumber,beforeColumn:x.column-w.length,afterColumn:x.column}:{lineNumber:x.lineNumber,beforeColumn:x.column,afterColumn:x.column}}),M=this._findAutoClosingPairOpen(f,p,F.map(P=>new C.Position(P.lineNumber,P.beforeColumn)),w);if(!M)return null;const A=this._findContainedAutoClosingPair(f,M),T=A?A.close:"";let O=!0;for(const P of F){const{lineNumber:x,beforeColumn:z,afterColumn:q}=P,B=p.getLineContent(x),$=B.substring(0,z-1),X=B.substring(q-1);if(X.startsWith(T)||(O=!1),X.length>0){const U=X.charAt(0);if(!u._isBeforeClosingBrace(f,X)&&!R(U))return null}if(M.open.length===1&&(w==="'"||w==='"')&&N!=="always"){const U=(0,_.getMapForWordSeparators)(f.wordSeparators);if($.length>0){const W=$.charCodeAt($.length-1);if(U.get(W)===0)return null}}if(!p.tokenization.isCheapToTokenize(x))return null;p.tokenization.forceTokenization(x);const ne=p.tokenization.getLineTokens(x),oe=(0,i.createScopedLineTokens)(ne,z-1);if(!M.shouldAutoClose(oe,z-oe.firstCharOffset))return null;const Y=M.findNeutralCharacter();if(Y){const U=p.tokenization.getTokenTypeIfInsertingCharacter(x,z,Y);if(!M.isOK(U))return null}}return O?M.close.substring(0,M.close.length-T.length):M.close}static _runAutoClosingOpenCharType(f,p,b,w,E,I,N){const R=[];for(let F=0,M=w.length;F<M;F++){const A=w[F];R[F]=new h(A,E,!I,N)}return new m.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(f,p){return(0,m.isQuote)(p)?f.autoSurround==="quotes"||f.autoSurround==="languageDefined":f.autoSurround==="brackets"||f.autoSurround==="languageDefined"}static _isSurroundSelectionType(f,p,b,w){if(!u._shouldSurroundChar(f,w)||!f.surroundingPairs.hasOwnProperty(w))return!1;const E=(0,m.isQuote)(w);for(const I of b){if(I.isEmpty())return!1;let N=!0;for(let R=I.startLineNumber;R<=I.endLineNumber;R++){const F=p.getLineContent(R),M=R===I.startLineNumber?I.startColumn-1:0,A=R===I.endLineNumber?I.endColumn-1:F.length,T=F.substring(M,A);if(/[^ \t]/.test(T)){N=!1;break}}if(N)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const R=p.getValueInRange(I);if((0,m.isQuote)(R))return!1}}return!0}static _runSurroundSelectionType(f,p,b,w,E){const I=[];for(let N=0,R=w.length;N<R;N++){const F=w[N],M=p.surroundingPairs[E];I[N]=new S.SurroundSelectionCommand(F,E,M)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(f,p,b){return!!(b.length===1&&p.tokenization.isCheapToTokenize(b[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(f,p,b,w,E){if(!p.electricChars.hasOwnProperty(E)||!w.isEmpty())return null;const I=w.getPosition();b.tokenization.forceTokenization(I.lineNumber);const N=b.tokenization.getLineTokens(I.lineNumber);let R;try{R=p.onElectricCharacter(E,N,I.column)}catch(F){return(0,L.onUnexpectedError)(F),null}if(!R)return null;if(R.matchOpenBracket){const F=(N.getLineContent()+E).lastIndexOf(R.matchOpenBracket)+1,M=b.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:I.lineNumber,column:F},500);if(M){if(M.startLineNumber===I.lineNumber)return null;const A=b.getLineContent(M.startLineNumber),T=k.getLeadingWhitespace(A),O=p.normalizeIndentation(T),P=b.getLineContent(I.lineNumber),x=b.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,z=P.substring(x-1,I.column-1),q=O+z+E,B=new v.Range(I.lineNumber,1,I.lineNumber,I.column),$=new y.ReplaceCommand(B,q);return new m.EditOperationResult(c(q,f),[$],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(f,p,b,w,E,I){if(!w)return null;let N=null;for(const A of w)if(N===null)N=A.insertedText;else if(N!==A.insertedText)return null;if(!N||N.length!==1)return null;const R=N;let F=!1;for(const A of w)if(A.deletedText.length!==0){F=!0;break}if(F){if(!u._shouldSurroundChar(p,R)||!p.surroundingPairs.hasOwnProperty(R))return null;const A=(0,m.isQuote)(R);for(const P of w)if(P.deletedSelectionStart!==0||P.deletedSelectionEnd!==P.deletedText.length||/^[ \t]+$/.test(P.deletedText)||A&&(0,m.isQuote)(P.deletedText))return null;const T=[];for(const P of E){if(!P.isEmpty())return null;T.push(P.getPosition())}if(T.length!==w.length)return null;const O=[];for(let P=0,x=T.length;P<x;P++)O.push(new S.CompositionSurroundSelectionCommand(T[P],w[P].deletedText,p.surroundingPairs[R]));return new m.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(p,b,E,I,R)){const A=E.map(T=>new y.ReplaceCommand(new v.Range(T.positionLineNumber,T.positionColumn,T.positionLineNumber,T.positionColumn+1),"",!1));return new m.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const M=this._getAutoClosingPairClose(p,b,E,R,!0);return M!==null?this._runAutoClosingOpenCharType(f,p,b,E,R,!0,M):null}static typeWithInterceptors(f,p,b,w,E,I,N){if(!f&&N===`
`){const M=[];for(let A=0,T=E.length;A<T;A++)M[A]=u._enter(b,w,!1,E[A]);return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoIndentType(b,w,E)){const M=[];let A=!1;for(let T=0,O=E.length;T<O;T++)if(M[T]=this._runAutoIndentType(b,w,E[T],N),!M[T]){A=!0;break}if(!A)return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(b,w,E,I,N))return this._runAutoClosingOvertype(p,b,w,E,N);if(!f){const M=this._getAutoClosingPairClose(b,w,E,N,!1);if(M)return this._runAutoClosingOpenCharType(p,b,w,E,N,!1,M)}if(!f&&this._isSurroundSelectionType(b,w,E,N))return this._runSurroundSelectionType(p,b,w,E,N);if(!f&&this._isTypeInterceptorElectricChar(b,w,E)){const M=this._typeInterceptorElectricChar(p,b,w,E[0],N);if(M)return M}const R=[];for(let M=0,A=E.length;M<A;M++)R[M]=new y.ReplaceCommand(E[M],N);const F=c(N,p);return new m.EditOperationResult(F,R,{shouldPushStackElementBefore:o(p,F),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(f,p,b,w,E){const I=[];for(let R=0,F=w.length;R<F;R++)I[R]=new y.ReplaceCommand(w[R],E);const N=c(E,f);return new m.EditOperationResult(N,I,{shouldPushStackElementBefore:o(f,N),shouldPushStackElementAfter:!1})}static lineInsertBefore(f,p,b){if(p===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++){let N=b[E].positionLineNumber;if(N===1)w[E]=new y.ReplaceCommandWithoutChangingPosition(new v.Range(1,1,1,1),`
`);else{N--;const R=p.getLineMaxColumn(N);w[E]=this._enter(f,p,!1,new v.Range(N,R,N,R))}}return w}static lineInsertAfter(f,p,b){if(p===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++){const N=b[E].positionLineNumber,R=p.getLineMaxColumn(N);w[E]=this._enter(f,p,!1,new v.Range(N,R,N,R))}return w}static lineBreakInsert(f,p,b){const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=this._enter(f,p,!0,b[E]);return w}}e.TypeOperations=u;class h extends y.ReplaceCommandWithOffsetCursorState{constructor(f,p,b,w){super(f,(b?p:"")+w,0,-w.length),this._openCharacter=p,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(f,p){const w=p.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new v.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(f,p)}}e.TypeWithAutoClosingCommand=h;class l{constructor(f,p,b,w,E,I){this.deletedText=f,this.deletedSelectionStart=p,this.deletedSelectionEnd=b,this.insertedText=w,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=l;function c(g,f){return g===" "?f===5||f===6?6:5:4}function o(g,f){return r(g)&&!r(f)?!0:g===5?!1:d(g)!==d(f)}function d(g){return g===6||g===5?"space":g}function r(g){return g===4||g===5||g===6}}),define(ee[772],te([1,0,9,10,499,71,487,206,246,5,24,110,213,2,214]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class a extends i.Disposable{constructor(r,g,f,p){super(),this._model=r,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=f,this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors=new y.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(r){this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors.updateContext(this.context)}onLineMappingChanged(r){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(r,"viewModel",0,this.getCursorStates())}setHasFocus(r){this._hasFocus=r}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const r=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const f=this._autoClosedActions[g];f.isValid(r)||(f.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(r,g,f,p){let b=!1;const w=this.context.cursorConfig.multiCursorLimit;p!==null&&p.length>w&&(p=p.slice(0,w),b=!0);const E=u.from(this._model,this);return this._cursors.setStates(p),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,g,f,E,b)}setCursorColumnSelectData(r){this._columnSelectData=r}revealPrimary(r,g,f,p,b,w){const E=this._cursors.getViewPositions();let I=null,N=null;E.length>1?N=this._cursors.getViewSelections():I=v.Range.fromPositions(E[0],E[0]),r.emitViewEvent(new n.ViewRevealRangeRequestEvent(g,f,I,N,p,b,w))}saveState(){const r=[],g=this._cursors.getSelections();for(let f=0,p=g.length;f<p;f++){const b=g[f];r.push({inSelectionMode:!b.isEmpty(),selectionStart:{lineNumber:b.selectionStartLineNumber,column:b.selectionStartColumn},position:{lineNumber:b.positionLineNumber,column:b.positionColumn}})}return r}restoreState(r,g){const f=[];for(let p=0,b=g.length;p<b;p++){const w=g[p];let E=1,I=1;w.position&&w.position.lineNumber&&(E=w.position.lineNumber),w.position&&w.position.column&&(I=w.position.column);let N=E,R=I;w.selectionStart&&w.selectionStart.lineNumber&&(N=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(R=w.selectionStart.column),f.push({selectionStartLineNumber:N,selectionStartColumn:R,positionLineNumber:E,positionColumn:I})}this.setStates(r,"restoreState",0,D.CursorState.fromModelSelections(f)),this.revealPrimary(r,"restoreState",!1,0,!0,1)}onModelContentChanged(r,g){if(g instanceof s.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(r,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const f=g.rawContentChangedEvent;if(this._knownModelVersionId=f.versionId,this._isHandling)return;const p=f.containsEvent(1);if(this._prevEditOperationType=0,p)this._cursors.dispose(),this._cursors=new y.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,"model",1,null,!1);else if(this._hasFocus&&f.resultingSelection&&f.resultingSelection.length>0){const b=D.CursorState.fromModelSelections(f.resultingSelection);this.setStates(r,"modelChange",f.isUndoing?5:f.isRedoing?6:2,b)&&this.revealPrimary(r,"modelChange",!1,0,!0,0)}else{const b=this._cursors.readSelectionFromMarkers();this.setStates(r,"modelChange",2,D.CursorState.fromModelSelections(b))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const r=this._cursors.getPrimaryCursor(),g=r.viewState.selectionStart.getStartPosition(),f=r.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:f.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,f)}}getSelections(){return this._cursors.getSelections()}setSelections(r,g,f,p){this.setStates(r,g,p,D.CursorState.fromModelSelections(f))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(r){this._prevEditOperationType=r}_pushAutoClosedAction(r,g){const f=[],p=[];for(let E=0,I=r.length;E<I;E++)f.push({range:r[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),p.push({range:g[E],options:{description:"auto-closed-enclosing",stickiness:1}});const b=this._model.deltaDecorations([],f),w=this._model.deltaDecorations([],p);this._autoClosedActions.push(new h(this._model,b,w))}_executeEditOperation(r){if(!r)return;r.shouldPushStackElementBefore&&this._model.pushStackElement();const g=l.executeCommands(this._model,this._cursors.getSelections(),r.commands);if(g){this._interpretCommandResult(g);const f=[],p=[];for(let b=0;b<r.commands.length;b++){const w=r.commands[b];w instanceof _.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(f.push(w.closeCharacterRange),p.push(w.enclosingRange))}f.length>0&&this._pushAutoClosedAction(f,p),this._prevEditOperationType=r.type}r.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(r){(!r||r.length===0)&&(r=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(r),this._cursors.normalize()}_emitStateChangedIfNecessary(r,g,f,p,b){const w=u.from(this._model,this);if(w.equals(p))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(r.emitViewEvent(new n.ViewCursorStateChangedEvent(I,E,f)),!p||p.cursorState.length!==w.cursorState.length||w.cursorState.some((N,R)=>!N.modelState.equals(p.cursorState[R].modelState))){const N=p?p.cursorState.map(F=>F.modelState.selection):null,R=p?p.modelVersionId:0;r.emitOutgoingEvent(new t.CursorStateChangedEvent(N,E,R,w.modelVersionId,g||"keyboard",f,b))}return!0}_findAutoClosingPairs(r){if(!r.length)return null;const g=[];for(let f=0,p=r.length;f<p;f++){const b=r[f];if(!b.text||b.text.indexOf(`
`)>=0)return null;const w=b.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const E=w[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const N=I[0].open,R=b.text.length-w[2].length-1,F=b.text.lastIndexOf(N,R-1);if(F===-1)return null;g.push([F,R])}return g}executeEdits(r,g,f,p){let b=null;g==="snippet"&&(b=this._findAutoClosingPairs(f)),b&&(f[0]._isTracked=!0);const w=[],E=[],I=this._model.pushEditOperations(this.getSelections(),f,N=>{if(b)for(let F=0,M=b.length;F<M;F++){const[A,T]=b[F],O=N[F],P=O.range.startLineNumber,x=O.range.startColumn-1+A,z=O.range.startColumn-1+T;w.push(new v.Range(P,z+1,P,z+2)),E.push(new v.Range(P,x+1,P,z+2))}const R=p(N);return R&&(this._isHandling=!0),R});I&&(this._isHandling=!1,this.setSelections(r,g,I,0)),w.length>0&&this._pushAutoClosedAction(w,E)}_executeEdit(r,g,f,p=0){if(this.context.cursorConfig.readOnly)return;const b=u.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),r()}catch(w){(0,L.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,f,p,b,!1)&&this.revealPrimary(g,f,!1,0,!0,0)}getAutoClosedCharacters(){return h.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(r){this._compositionState=new o(this._model,this.getSelections())}endComposition(r,g){const f=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{g==="keyboard"&&this._executeEditOperation(_.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,f,this.getSelections(),this.getAutoClosedCharacters()))},r,g)}type(r,g,f){this._executeEdit(()=>{if(f==="keyboard"){const p=g.length;let b=0;for(;b<p;){const w=k.nextCharLength(g,b),E=g.substr(b,w);this._executeEditOperation(_.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),b+=w}}else this._executeEditOperation(_.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},r,f)}compositionType(r,g,f,p,b,w){if(g.length===0&&f===0&&p===0){if(b!==0){const E=this.getSelections().map(I=>{const N=I.getPosition();return new C.Selection(N.lineNumber,N.column+b,N.lineNumber,N.column+b)});this.setSelections(r,w,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,f,p,b))},r,w)}paste(r,g,f,p,b){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),g,f,p||[]))},r,b,4)}cut(r,g){this._executeEdit(()=>{this._executeEditOperation(m.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},r,g)}executeCommand(r,g,f){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,f)}executeCommands(r,g,f){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,f)}}e.CursorsController=a;class u{static from(r,g){return new u(r.getVersionId(),g.getCursorStates())}constructor(r,g){this.modelVersionId=r,this.cursorState=g}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let g=0,f=this.cursorState.length;g<f;g++)if(!this.cursorState[g].equals(r.cursorState[g]))return!1;return!0}}class h{static getAllAutoClosedCharacters(r){let g=[];for(const f of r)g=g.concat(f.getAutoClosedCharactersRanges());return g}constructor(r,g,f){this._model=r,this._autoClosedCharactersDecorations=g,this._autoClosedEnclosingDecorations=f}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let g=0;g<this._autoClosedCharactersDecorations.length;g++){const f=this._model.getDecorationRange(this._autoClosedCharactersDecorations[g]);f&&r.push(f)}return r}isValid(r){const g=[];for(let f=0;f<this._autoClosedEnclosingDecorations.length;f++){const p=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[f]);if(p&&(g.push(p),p.startLineNumber!==p.endLineNumber))return!1}g.sort(v.Range.compareRangesUsingStarts),r.sort(v.Range.compareRangesUsingStarts);for(let f=0;f<r.length;f++)if(f>=g.length||!g[f].strictContainsRange(r[f]))return!1;return!0}}class l{static executeCommands(r,g,f){const p={model:r,selectionsBefore:g,trackedRanges:[],trackedRangesDirection:[]},b=this._innerExecuteCommands(p,f);for(let w=0,E=p.trackedRanges.length;w<E;w++)p.model._setTrackedRange(p.trackedRanges[w],null,0);return b}static _innerExecuteCommands(r,g){if(this._arrayIsEmpty(g))return null;const f=this._getEditOperations(r,g);if(f.operations.length===0)return null;const p=f.operations,b=this._getLoserCursorMap(p);if(b.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const w=[];for(let N=0,R=p.length;N<R;N++)b.hasOwnProperty(p[N].identifier.major.toString())||w.push(p[N]);f.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let E=r.model.pushEditOperations(r.selectionsBefore,w,N=>{const R=[];for(let A=0;A<r.selectionsBefore.length;A++)R[A]=[];for(const A of N)A.identifier&&R[A.identifier.major].push(A);const F=(A,T)=>A.identifier.minor-T.identifier.minor,M=[];for(let A=0;A<r.selectionsBefore.length;A++)R[A].length>0?(R[A].sort(F),M[A]=g[A].computeCursorState(r.model,{getInverseEditOperations:()=>R[A],getTrackedSelection:T=>{const O=parseInt(T,10),P=r.model._getTrackedRange(r.trackedRanges[O]);return r.trackedRangesDirection[O]===0?new C.Selection(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn):new C.Selection(P.endLineNumber,P.endColumn,P.startLineNumber,P.startColumn)}})):M[A]=r.selectionsBefore[A];return M});E||(E=r.selectionsBefore);const I=[];for(const N in b)b.hasOwnProperty(N)&&I.push(parseInt(N,10));I.sort((N,R)=>R-N);for(const N of I)E.splice(N,1);return E}static _arrayIsEmpty(r){for(let g=0,f=r.length;g<f;g++)if(r[g])return!1;return!0}static _getEditOperations(r,g){let f=[],p=!1;for(let b=0,w=g.length;b<w;b++){const E=g[b];if(E){const I=this._getEditOperationsFromCommand(r,b,E);f=f.concat(I.operations),p=p||I.hadTrackedEditOperation}}return{operations:f,hadTrackedEditOperation:p}}static _getEditOperationsFromCommand(r,g,f){const p=[];let b=0;const w=(F,M,A=!1)=>{v.Range.isEmpty(F)&&M===""||p.push({identifier:{major:g,minor:b++},range:F,text:M,forceMoveMarkers:A,isAutoWhitespaceEdit:f.insertsAutoWhitespace})};let E=!1;const R={addEditOperation:w,addTrackedEditOperation:(F,M,A)=>{E=!0,w(F,M,A)},trackSelection:(F,M)=>{const A=C.Selection.liftSelection(F);let T;if(A.isEmpty())if(typeof M=="boolean")M?T=2:T=3;else{const x=r.model.getLineMaxColumn(A.startLineNumber);A.startColumn===x?T=2:T=3}else T=1;const O=r.trackedRanges.length,P=r.model._setTrackedRange(null,A,T);return r.trackedRanges[O]=P,r.trackedRangesDirection[O]=A.getDirection(),O.toString()}};try{f.getEditOperations(r.model,R)}catch(F){return(0,L.onUnexpectedError)(F),{operations:[],hadTrackedEditOperation:!1}}return{operations:p,hadTrackedEditOperation:E}}static _getLoserCursorMap(r){r=r.slice(0),r.sort((f,p)=>-v.Range.compareRangesUsingEnds(f.range,p.range));const g={};for(let f=1;f<r.length;f++){const p=r[f-1],b=r[f];if(v.Range.getStartPosition(p.range).isBefore(v.Range.getEndPosition(b.range))){let w;p.identifier.major>b.identifier.major?w=p.identifier.major:w=b.identifier.major,g[w.toString()]=!0;for(let E=0;E<r.length;E++)r[E].identifier.major===w&&(r.splice(E,1),E<f&&f--,E--);f>0&&f--}}return g}}class c{constructor(r,g,f){this.text=r,this.startSelection=g,this.endSelection=f}}class o{static _capture(r,g){const f=[];for(const p of g){if(p.startLineNumber!==p.endLineNumber)return null;f.push(new c(r.getLineContent(p.startLineNumber),p.startColumn-1,p.endColumn-1))}return f}constructor(r,g){this._original=o._capture(r,g)}deduceOutcome(r,g){if(!this._original)return null;const f=o._capture(r,g);if(!f||this._original.length!==f.length)return null;const p=[];for(let b=0,w=this._original.length;b<w;b++)p.push(o._deduceOutcome(this._original[b],f[b]));return p}static _deduceOutcome(r,g){const f=Math.min(r.startSelection,g.startSelection,k.commonPrefixLength(r.text,g.text)),p=Math.min(r.text.length-r.endSelection,g.text.length-g.endSelection,k.commonSuffixLength(r.text,g.text)),b=r.text.substring(f,r.text.length-p),w=g.text.substring(f,g.text.length-p);return new _.CompositionOutcome(b,r.startSelection-f,r.endSelection-f,w,g.startSelection-f,g.endSelection-f)}}}),define(ee[773],te([1,0,54,44,74,333]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const S=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function m(C,s,n,i){const t=i===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let a;if(n.scheme===L.Schemas.data)a=k.DataUri.parseMetaData(n).get(k.DataUri.META_DATA_LABEL);else{const u=n.path.match(S);u?(a=v(u[2].toLowerCase()),u[1]&&t.push(`${v(u[1].toLowerCase())}-name-dir-icon`)):a=v(n.authority.toLowerCase())}if(i===D.FileKind.FOLDER)t.push(`${a}-name-folder-icon`);else{if(a){if(t.push(`${a}-name-file-icon`),t.push("name-file-icon"),a.length<=255){const h=a.split(".");for(let l=1;l<h.length;l++)t.push(`${h.slice(l).join(".")}-ext-file-icon`)}t.push("ext-file-icon")}const u=_(C,s,n);u&&t.push(`${v(u)}-lang-file-icon`)}}return t}e.getIconClasses=m;function _(C,s,n){if(!n)return null;let i=null;if(n.scheme===L.Schemas.data){const a=k.DataUri.parseMetaData(n).get(k.DataUri.META_DATA_MIME);a&&(i=s.getLanguageIdByMimeType(a))}else{const t=C.getModel(n);t&&(i=t.getLanguageId())}return i&&i!==y.PLAINTEXT_LANGUAGE_ID?i:s.guessLanguageIdByFilepathOrFirstLine(n)}function v(C){return C.replace(/[\11\12\14\15\40]/g,"/")}}),define(ee[774],te([1,0,307,107,54,92,44,10,74]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let v=[],C=[],s=[];function n(o,d=!1){i(o,!1,d)}e.registerPlatformLanguageAssociation=n;function i(o,d,r){const g=t(o,d);v.push(g),g.userConfigured?s.push(g):C.push(g),r&&!g.userConfigured&&v.forEach(f=>{f.mime===g.mime||f.userConfigured||(g.extension&&f.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&f.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&f.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&f.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}function t(o,d){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:d,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?(0,L.parse)(o.filepattern.toLowerCase()):void 0,filepatternOnPath:o.filepattern?o.filepattern.indexOf(D.posix.sep)>=0:!1}}function a(){v=v.filter(o=>o.userConfigured),C=[]}e.clearPlatformLanguageAssociations=a;function u(o,d){return h(o,d).map(r=>r.id)}e.getLanguageIds=u;function h(o,d){let r;if(o)switch(o.scheme){case y.Schemas.file:r=o.fsPath;break;case y.Schemas.data:{r=S.DataUri.parseMetaData(o).get(S.DataUri.META_DATA_LABEL);break}case y.Schemas.vscodeNotebookCell:r=void 0;break;default:r=o.path}if(!r)return[{id:"unknown",mime:k.Mimes.unknown}];r=r.toLowerCase();const g=(0,D.basename)(r),f=l(r,g,s);if(f)return[f,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const p=l(r,g,C);if(p)return[p,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(d){const b=c(d);if(b)return[b,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function l(o,d,r){var g;let f,p,b;for(let w=r.length-1;w>=0;w--){const E=r[w];if(d===E.filenameLowercase){f=E;break}if(E.filepattern&&(!p||E.filepattern.length>p.filepattern.length)){const I=E.filepatternOnPath?o:d;!((g=E.filepatternLowercase)===null||g===void 0)&&g.call(E,I)&&(p=E)}E.extension&&(!b||E.extension.length>b.extension.length)&&d.endsWith(E.extensionLowercase)&&(b=E)}if(f)return f;if(p)return p;if(b)return b}function c(o){if((0,m.startsWithUTF8BOM)(o)&&(o=o.substr(1)),o.length>0)for(let d=v.length-1;d>=0;d--){const r=v[d];if(!r.firstline)continue;const g=o.match(r.firstline);if(g&&g.length>0)return r}}}),define(ee[775],te([1,0,6,2,10,774,74,95,35]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const v=Object.prototype.hasOwnProperty,C="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(C,0),this._register(S.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,a){this._languageIdToLanguage[a]=t,this._languageToLanguageId.set(t,a)}register(t){if(this._languageToLanguageId.has(t))return;const a=this._nextLanguageId++;this._register(t,a)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||C}}e.LanguageIdCodec=s;class n extends k.Disposable{constructor(t=!0,a=!1){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,n.instanceCount++,this._warnOnOverwrite=a,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(S.ModesRegistry.onDidChangeLanguages(u=>{this._initializeFromRegistry()})))}dispose(){n.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const t=[].concat(S.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const a of t)this._registerLanguage(a);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(a=>{const u=this._languages[a];u.name&&(this._nameMap[u.name]=u.identifier),u.aliases.forEach(h=>{this._lowercaseNameMap[h.toLowerCase()]=u.identifier}),u.mimetypes.forEach(h=>{this._mimeTypesMap[h]=u.identifier})}),_.Registry.as(m.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const a=t.id;let u;v.call(this._languages,a)?u=this._languages[a]:(this.languageIdCodec.register(a),u={identifier:a,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[a]=u),this._mergeLanguage(u,t)}_mergeLanguage(t,a){const u=a.id;let h=null;if(Array.isArray(a.mimetypes)&&a.mimetypes.length>0&&(t.mimetypes.push(...a.mimetypes),h=a.mimetypes[0]),h||(h=`text/x-${u}`,t.mimetypes.push(h)),Array.isArray(a.extensions)){a.configuration?t.extensions=a.extensions.concat(t.extensions):t.extensions=t.extensions.concat(a.extensions);for(const o of a.extensions)(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,extension:o},this._warnOnOverwrite)}if(Array.isArray(a.filenames))for(const o of a.filenames)(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,filename:o},this._warnOnOverwrite),t.filenames.push(o);if(Array.isArray(a.filenamePatterns))for(const o of a.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,filepattern:o},this._warnOnOverwrite);if(typeof a.firstLine=="string"&&a.firstLine.length>0){let o=a.firstLine;o.charAt(0)!=="^"&&(o="^"+o);try{const d=new RegExp(o);(0,y.regExpLeadsToEndlessLoop)(d)||(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,firstline:d},this._warnOnOverwrite)}catch(d){console.warn(`[${a.id}]: Invalid regular expression \`${o}\`: `,d)}}t.aliases.push(u);let l=null;if(typeof a.aliases<"u"&&Array.isArray(a.aliases)&&(a.aliases.length===0?l=[null]:l=a.aliases),l!==null)for(const o of l)!o||o.length===0||t.aliases.push(o);const c=l!==null&&l.length>0;if(!(c&&l[0]===null)){const o=(c?l[0]:null)||u;(c||!t.name)&&(t.name=o)}a.configuration&&t.configurationFiles.push(a.configuration),a.icon&&t.icons.push(a.icon)}isRegisteredLanguageId(t){return t?v.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const a=t.toLowerCase();return v.call(this._lowercaseNameMap,a)?this._lowercaseNameMap[a]:null}getLanguageIdByMimeType(t){return t&&v.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,a){return!t&&!a?[]:(0,D.getLanguageIds)(t,a)}}e.LanguagesRegistry=n,n.instanceCount=0}),define(ee[776],te([1,0,6,2,775,14,28,74]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class _ extends k.Disposable{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new L.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new L.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new L.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,_.instanceCount++,this._registry=this._register(new y.LanguagesRegistry(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){_.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,n){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(s,n);return(0,D.firstOrDefault)(i,null)}createById(s){return new v(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,n){return new v(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(s,n);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=m.PLAINTEXT_LANGUAGE_ID),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),S.TokenizationRegistry.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}e.LanguageService=_,_.instanceCount=0;class v{constructor(s,n){this._onDidChangeLanguages=s,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new L.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const n=this._selector();n!==this.languageId&&(this.languageId=n,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}}),define(ee[345],te([1,0,36,242,50,31,2,18,147]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class v{constructor(n,i){this._editorWorkerClient=new k.EditorWorkerClient(n,!1,"editorWorkerService",i)}provideDocumentColors(n,i){return Se(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(n.uri)})}provideColorPresentations(n,i,t){const a=i.range,u=i.color,h=u.alpha,l=new L.Color(new L.RGBA(Math.round(255*u.red),Math.round(255*u.green),Math.round(255*u.blue),h)),c=h?L.Color.Format.CSS.formatRGB(l):L.Color.Format.CSS.formatRGBA(l),o=h?L.Color.Format.CSS.formatHSL(l):L.Color.Format.CSS.formatHSLA(l),d=h?L.Color.Format.CSS.formatHex(l):L.Color.Format.CSS.formatHexA(l),r=[];return r.push({label:c,textEdit:{range:a,text:c}}),r.push({label:o,textEdit:{range:a,text:o}}),r.push({label:d,textEdit:{range:a,text:d}}),r}}e.DefaultDocumentColorProvider=v;let C=class extends S.Disposable{constructor(n,i,t){super(),this._register(t.colorProvider.register("*",new v(n,i)))}};C=Ie([ge(0,y.IModelService),ge(1,D.ILanguageConfigurationService),ge(2,m.ILanguageFeaturesService)],C),(0,_.registerEditorFeature)(C)}),define(ee[346],te([1,0,19,9,21,5,50,25,18,345,29]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function s(l,c,o,d=!0){return Se(this,void 0,void 0,function*(){return u(new i,l,c,o,d)})}e.getColors=s;function n(l,c,o,d){return Promise.resolve(o.provideColorPresentations(l,c,d))}e.getColorPresentations=n;class i{constructor(){}compute(c,o,d,r){return Se(this,void 0,void 0,function*(){const g=yield c.provideDocumentColors(o,d);if(Array.isArray(g))for(const f of g)r.push({colorInfo:f,provider:c});return Array.isArray(g)})}}class t{constructor(){}compute(c,o,d,r){return Se(this,void 0,void 0,function*(){const g=yield c.provideDocumentColors(o,d);if(Array.isArray(g))for(const f of g)r.push({range:f.range,color:[f.color.red,f.color.green,f.color.blue,f.color.alpha]});return Array.isArray(g)})}}class a{constructor(c){this.colorInfo=c}compute(c,o,d,r){return Se(this,void 0,void 0,function*(){const g=yield c.provideColorPresentations(o,this.colorInfo,L.CancellationToken.None);return Array.isArray(g)&&r.push(...g),Array.isArray(g)})}}function u(l,c,o,d,r){return Se(this,void 0,void 0,function*(){let g=!1,f;const p=[],b=c.ordered(o);for(let w=b.length-1;w>=0;w--){const E=b[w];if(E instanceof v.DefaultDocumentColorProvider)f=E;else try{(yield l.compute(E,o,d,p))&&(g=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return g?p:f&&r?(yield l.compute(f,o,d,p),p):[]})}function h(l,c){const{colorProvider:o}=l.get(_.ILanguageFeaturesService),d=l.get(S.IModelService).getModel(c);if(!d)throw(0,k.illegalArgument)();const r=l.get(C.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:c});return{model:d,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:r}}m.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(l,...c){const[o]=c;if(!(o instanceof y.URI))throw(0,k.illegalArgument)();const{model:d,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:g}=h(l,o);return u(new t,r,d,L.CancellationToken.None,g)}),m.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(l,...c){const[o,d]=c,{uri:r,range:g}=d;if(!(r instanceof y.URI)||!Array.isArray(o)||o.length!==4||!D.Range.isIRange(g))throw(0,k.illegalArgument)();const{model:f,colorProviderRegistry:p,isDefaultColorDecoratorsEnabled:b}=h(l,r),[w,E,I,N]=o;return u(new a({range:g,color:{red:w,green:E,blue:I,alpha:N}}),p,f,L.CancellationToken.None,b)})}),define(ee[777],te([1,0,19,68,2,40,12,28,31,18,601,299]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let n=class extends y.Disposable{constructor(d,r,g,f,p){super(),this.textModel=d,this.versionId=r,this._debounceValue=g,this.languageFeaturesService=f,this.languageConfigurationService=p,this._updateOperation=this._register(new y.MutableDisposable),this.inlineCompletions=(0,D.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,D.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(d,r,g){var f,p;const b=new t(d,r,this.textModel.getVersionId()),w=r.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((f=this._updateOperation.value)===null||f===void 0)&&f.request.satisfies(b))return this._updateOperation.value.promise;if(!((p=w.get())===null||p===void 0)&&p.request.satisfies(b))return Promise.resolve(!0);const E=!!this._updateOperation.value;this._updateOperation.clear();const I=new L.CancellationTokenSource,N=(()=>Se(this,void 0,void 0,function*(){if((E||r.triggerKind===m.InlineCompletionTriggerKind.Automatic)&&(yield i(this._debounceValue.get(this.textModel))),I.token.isCancellationRequested||this.textModel.getVersionId()!==b.versionId)return!1;const M=new Date,A=yield(0,C.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,d,this.textModel,r,I.token,this.languageConfigurationService);if(I.token.isCancellationRequested||this.textModel.getVersionId()!==b.versionId)return!1;const T=new Date;this._debounceValue.update(this.textModel,T.getTime()-M.getTime());const O=new h(A,b,this.textModel,this.versionId);if(g){const P=g.toInlineCompletion(void 0);g.canBeReused(this.textModel,d)&&!A.has(P)&&O.prepend(g.inlineCompletion,P.range,!0)}return this._updateOperation.clear(),(0,D.transaction)(P=>{w.set(O,P)}),!0}))(),R=new u(b,I,N);return this._updateOperation.value=R,N}clear(d){this._updateOperation.clear(),this.inlineCompletions.set(void 0,d),this.suggestWidgetInlineCompletions.set(void 0,d)}clearSuggestWidgetInlineCompletions(d){var r;!((r=this._updateOperation.value)===null||r===void 0)&&r.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,d)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=n,e.InlineCompletionsSource=n=Ie([ge(3,v.ILanguageFeaturesService),ge(4,_.ILanguageConfigurationService)],n);function i(o,d){return new Promise(r=>{let g;const f=setTimeout(()=>{g&&g.dispose(),r()},o);d&&(g=d.onCancellationRequested(()=>{clearTimeout(f),g&&g.dispose(),r()}))})}class t{constructor(d,r,g){this.position=d,this.context=r,this.versionId=g}satisfies(d){return this.position.equals(d.position)&&a(this.context.selectedSuggestionInfo,d.context.selectedSuggestionInfo,(r,g)=>r.equals(g))&&(d.context.triggerKind===m.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===m.InlineCompletionTriggerKind.Explicit)&&this.versionId===d.versionId}}function a(o,d,r){return!o||!d?o===d:r(o,d)}class u{constructor(d,r,g){this.request=d,this.cancellationTokenSource=r,this.promise=g}dispose(){this.cancellationTokenSource.cancel()}}class h{get inlineCompletions(){return this._inlineCompletions}constructor(d,r,g,f){this.inlineCompletionProviderResult=d,this.request=r,this.textModel=g,this.versionId=f,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,D.derived)(this,b=>{this.versionId.read(b);let w=!1;for(const E of this._inlineCompletions)w=w||E._updateRange(this.textModel);return w&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const p=g.deltaDecorations([],d.completions.map(b=>({range:b.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=d.completions.map((b,w)=>new l(b,p[w],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(d=>d.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const d of this._prependedInlineCompletionItems)d.source.removeRef()}}prepend(d,r,g){g&&d.source.addRef();const f=this.textModel.deltaDecorations([],[{range:r,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new l(d,f,this._rangeVersionId,r)),this._prependedInlineCompletionItems.push(d)}}e.UpToDateInlineCompletions=h;class l{get forwardStable(){var d;return(d=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&d!==void 0?d:!1}constructor(d,r,g,f){this.inlineCompletion=d,this.decorationId=r,this.rangeVersion=g,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=f??d.range}toInlineCompletion(d){return this.inlineCompletion.withRange(this._getUpdatedRange(d))}toSingleTextEdit(d){return new s.SingleTextEdit(this._getUpdatedRange(d),this.inlineCompletion.insertText)}isVisible(d,r,g){const f=this._toFilterTextReplacement(g).removeCommonPrefix(d);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(g).getStartPosition())||r.lineNumber!==f.range.startLineNumber)return!1;const p=d.getValueInRange(f.range,1).toLowerCase(),b=f.text.toLowerCase(),w=Math.max(0,r.column-f.range.startColumn);let E=b.substring(0,w),I=b.substring(w),N=p.substring(0,w),R=p.substring(w);const F=d.getLineIndentColumn(f.range.startLineNumber);return f.range.startColumn<=F&&(N=N.trimStart(),N.length===0&&(R=R.trimStart()),E=E.trimStart(),E.length===0&&(I=I.trimStart())),E.startsWith(N)&&!!(0,k.matchesSubString)(R,I)}canBeReused(d,r){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(r)&&this.isVisible(d,r,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(d){return new s.SingleTextEdit(this._getUpdatedRange(d),this.inlineCompletion.filterText)}_isSmallerThanOriginal(d){return c(this._getUpdatedRange(d)).isBefore(c(this.inlineCompletion.range))}_getUpdatedRange(d){return this.rangeVersion.read(d),this._updatedRange}_updateRange(d){const r=d.getDecorationRange(this.decorationId);return r?this._updatedRange.equalsRange(r)?!1:(this._updatedRange=r,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=l;function c(o){return o.startLineNumber===o.endLineNumber?new S.Position(1,1+o.endColumn-o.startColumn):new S.Position(1+o.endLineNumber-o.startLineNumber,o.endColumn)}}),define(ee[778],te([1,0,10,245,5,24,109,31,298,243,244]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let s=class{constructor(i,t,a,u){this._languageConfigurationService=u,this._selection=i,this._isMovingDown=t,this._autoIndent=a,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){const a=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===a){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let u=this._selection;u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,i.getLineMaxColumn(u.endLineNumber-1)));const{tabSize:h,indentSize:l,insertSpaces:c}=i.getOptions(),o=this.buildIndentConverter(h,l,c),d={tokenization:{getLineTokens:r=>i.tokenization.getLineTokens(r),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(r,g)=>i.getLanguageIdAtPosition(r,g)},getLineContent:null};if(u.startLineNumber===u.endLineNumber&&i.getLineMaxColumn(u.startLineNumber)===1){const r=u.startLineNumber,g=this._isMovingDown?r+1:r-1;i.getLineMaxColumn(g)===1?t.addEditOperation(new y.Range(1,1,1,1),null):(t.addEditOperation(new y.Range(r,1,r,1),i.getLineContent(g)),t.addEditOperation(new y.Range(g,1,g,i.getLineMaxColumn(g)),null)),u=new D.Selection(g,1,g,1)}else{let r,g;if(this._isMovingDown){r=u.endLineNumber+1,g=i.getLineContent(r),t.addEditOperation(new y.Range(r-1,i.getLineMaxColumn(r-1),r,i.getLineMaxColumn(r)),null);let f=g;if(this.shouldAutoIndent(i,u)){const p=this.matchEnterRule(i,o,h,r,u.startLineNumber-1);if(p!==null){const w=L.getLeadingWhitespace(i.getLineContent(r)),E=p+_.getSpaceCnt(w,h);f=_.generateIndent(E,h,c)+this.trimStart(g)}else{d.getLineContent=E=>E===u.startLineNumber?i.getLineContent(r):i.getLineContent(E);const w=(0,v.getGoodIndentForLine)(this._autoIndent,d,i.getLanguageIdAtPosition(r,1),u.startLineNumber,o,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(i.getLineContent(r)),I=_.getSpaceCnt(w,h),N=_.getSpaceCnt(E,h);I!==N&&(f=_.generateIndent(I,h,c)+this.trimStart(g))}}t.addEditOperation(new y.Range(u.startLineNumber,1,u.startLineNumber,1),f+`
`);const b=this.matchEnterRuleMovingDown(i,o,h,u.startLineNumber,r,f);if(b!==null)b!==0&&this.getIndentEditsOfMovingBlock(i,t,u,h,c,b);else{d.getLineContent=E=>E===u.startLineNumber?f:E>=u.startLineNumber+1&&E<=u.endLineNumber+1?i.getLineContent(E-1):i.getLineContent(E);const w=(0,v.getGoodIndentForLine)(this._autoIndent,d,i.getLanguageIdAtPosition(r,1),u.startLineNumber+1,o,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(i.getLineContent(u.startLineNumber)),I=_.getSpaceCnt(w,h),N=_.getSpaceCnt(E,h);if(I!==N){const R=I-N;this.getIndentEditsOfMovingBlock(i,t,u,h,c,R)}}}}else t.addEditOperation(new y.Range(u.startLineNumber,1,u.startLineNumber,1),f+`
`)}else if(r=u.startLineNumber-1,g=i.getLineContent(r),t.addEditOperation(new y.Range(r,1,r+1,1),null),t.addEditOperation(new y.Range(u.endLineNumber,i.getLineMaxColumn(u.endLineNumber),u.endLineNumber,i.getLineMaxColumn(u.endLineNumber)),`
`+g),this.shouldAutoIndent(i,u)){d.getLineContent=p=>p===r?i.getLineContent(u.startLineNumber):i.getLineContent(p);const f=this.matchEnterRule(i,o,h,u.startLineNumber,u.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(i,t,u,h,c,f);else{const p=(0,v.getGoodIndentForLine)(this._autoIndent,d,i.getLanguageIdAtPosition(u.startLineNumber,1),r,o,this._languageConfigurationService);if(p!==null){const b=L.getLeadingWhitespace(i.getLineContent(u.startLineNumber)),w=_.getSpaceCnt(p,h),E=_.getSpaceCnt(b,h);if(w!==E){const I=w-E;this.getIndentEditsOfMovingBlock(i,t,u,h,c,I)}}}}}this._selectionId=t.trackSelection(u)}buildIndentConverter(i,t,a){return{shiftIndent:u=>k.ShiftCommand.shiftIndent(u,u.length+1,i,t,a),unshiftIndent:u=>k.ShiftCommand.unshiftIndent(u,u.length+1,i,t,a)}}parseEnterResult(i,t,a,u,h){if(h){let l=h.indentation;h.indentAction===S.IndentAction.None||h.indentAction===S.IndentAction.Indent?l=h.indentation+h.appendText:h.indentAction===S.IndentAction.IndentOutdent?l=h.indentation:h.indentAction===S.IndentAction.Outdent&&(l=t.unshiftIndent(h.indentation)+h.appendText);const c=i.getLineContent(u);if(this.trimStart(c).indexOf(this.trimStart(l))>=0){const o=L.getLeadingWhitespace(i.getLineContent(u));let d=L.getLeadingWhitespace(l);const r=(0,v.getIndentMetadata)(i,u,this._languageConfigurationService);r!==null&&r&2&&(d=t.unshiftIndent(d));const g=_.getSpaceCnt(d,a),f=_.getSpaceCnt(o,a);return g-f}}return null}matchEnterRuleMovingDown(i,t,a,u,h,l){if(L.lastNonWhitespaceIndex(l)>=0){const c=i.getLineMaxColumn(h),o=(0,C.getEnterAction)(this._autoIndent,i,new y.Range(h,c,h,c),this._languageConfigurationService);return this.parseEnterResult(i,t,a,u,o)}else{let c=u-1;for(;c>=1;){const r=i.getLineContent(c);if(L.lastNonWhitespaceIndex(r)>=0)break;c--}if(c<1||u>i.getLineCount())return null;const o=i.getLineMaxColumn(c),d=(0,C.getEnterAction)(this._autoIndent,i,new y.Range(c,o,c,o),this._languageConfigurationService);return this.parseEnterResult(i,t,a,u,d)}}matchEnterRule(i,t,a,u,h,l){let c=h;for(;c>=1;){let r;if(c===h&&l!==void 0?r=l:r=i.getLineContent(c),L.lastNonWhitespaceIndex(r)>=0)break;c--}if(c<1||u>i.getLineCount())return null;const o=i.getLineMaxColumn(c),d=(0,C.getEnterAction)(this._autoIndent,i,new y.Range(c,o,c,o),this._languageConfigurationService);return this.parseEnterResult(i,t,a,u,d)}trimStart(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const a=i.getLanguageIdAtPosition(t.startLineNumber,1),u=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(a!==u||this._languageConfigurationService.getLanguageConfiguration(a).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,t,a,u,h,l){for(let c=a.startLineNumber;c<=a.endLineNumber;c++){const o=i.getLineContent(c),d=L.getLeadingWhitespace(o),g=_.getSpaceCnt(d,u)+l,f=_.generateIndent(g,u,h);f!==d&&(t.addEditOperation(new y.Range(c,1,c,d.length+1),f),c===a.endLineNumber&&a.endColumn<=d.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let a=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&a.startLineNumber<a.endLineNumber&&(a=a.setEndPosition(a.endLineNumber,2)),a}};e.MoveLinesCommand=s,e.MoveLinesCommand=s=Ie([ge(3,m.ILanguageConfigurationService)],s)}),define(ee[116],te([1,0,182,89,9,6,2,69,42,74,329,55,456]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let i=n=class{constructor(h,l,c){this._options=h,this._languageService=l,this._openerService=c,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(h,l,c){if(!h)return{element:document.createElement("span"),dispose:()=>{}};const o=new S.DisposableStore,d=o.add((0,L.renderMarkdown)(h,Object.assign(Object.assign({},this._getRenderOptions(h,o)),l),c));return d.element.classList.add("rendered-markdown"),{element:d.element,dispose:()=>o.dispose()}}_getRenderOptions(h,l){return{codeBlockRenderer:(c,o)=>Se(this,void 0,void 0,function*(){var d,r,g;let f;c?f=this._languageService.getLanguageIdByLanguageName(c):this._options.editor&&(f=(d=this._options.editor.getModel())===null||d===void 0?void 0:d.getLanguageId()),f||(f=v.PLAINTEXT_LANGUAGE_ID);const p=yield(0,C.tokenizeToString)(this._languageService,o,f),b=document.createElement("span");if(b.innerHTML=(g=(r=n._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(p))!==null&&g!==void 0?g:p,this._options.editor){const w=this._options.editor.getOption(49);(0,m.applyFontInfo)(b,w)}else this._options.codeBlockFontFamily&&(b.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(b.style.fontSize=this._options.codeBlockFontSize),b}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:c=>t(this._openerService,c,h.isTrusted),disposables:l}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(u){return u}}),e.MarkdownRenderer=i=n=Ie([ge(1,_.ILanguageService),ge(2,s.IOpenerService)],i);function t(u,h,l){return Se(this,void 0,void 0,function*(){try{return yield u.open(h,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:a(l)})}catch(c){return(0,y.onUnexpectedError)(c),!1}})}e.openLinkFromMarkdown=t;function a(u){return u===!0?!0:u&&Array.isArray(u.enabledCommands)?u.enabledCommands:!1}}),define(ee[779],te([1,0,7,14,56,2,116,324,314]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const v=L.$;class C extends D.Disposable{constructor(i,t,a){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=i,this._isVisible=!1,this._messages=[],this._hover=this._register(new _.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},t,a)),this._computer=new s(this._editor),this._hoverOperation=this._register(new m.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(u=>{this._withResult(u.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(49)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return C.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(i){this._computer.lineNumber!==i&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=i,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(i){this._messages=i,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(i,t){this._renderDisposeables.clear();const a=document.createDocumentFragment();for(const u of t){const h=v("div.hover-row.markdown-hover"),l=L.append(h,v("div.hover-contents")),c=this._renderDisposeables.add(this._markdownRenderer.render(u.value));l.appendChild(c.element),a.appendChild(h)}this._updateContents(a),this._showAt(i)}_updateContents(i){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(i),this._updateFont()}_showAt(i){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),a=this._editor.getTopForLineNumber(i),u=this._editor.getScrollTop(),h=this._editor.getOption(65),l=this._hover.containerDomNode.clientHeight,c=a-u-(l-h)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(c),0)}px`}}e.MarginHoverWidget=C,C.ID="editor.contrib.modesGlyphHoverWidget";class s{get lineNumber(){return this._lineNumber}set lineNumber(i){this._lineNumber=i}constructor(i){this._editor=i,this._lineNumber=-1}computeSync(){const i=u=>({value:u}),t=this._editor.getLineDecorations(this._lineNumber),a=[];if(!t)return a;for(const u of t){if(!u.options.glyphMarginClassName)continue;const h=u.options.glyphMarginHoverMessage;!h||(0,y.isEmptyMarkdownString)(h)||a.push(...(0,k.asArray)(h).map(i))}return a}}}),define(ee[347],te([1,0,7,84,26,27,6,56,2,116,224,701,8]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function i(u){return!!u&&!!(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=i;let t=class{constructor(h,l){this._editor=h,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new _.DisposableStore,this._renderDisposeable=new _.DisposableStore,this._borderWidth=1,this._size=new L.Dimension(330,0),this.domNode=L.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=l.createInstance(v.MarkdownRenderer,{editor:h}),this._body=L.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),L.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=L.append(this._body,L.$(".header")),this._close=L.append(this._header,L.$("span"+D.ThemeIcon.asCSSSelector(y.Codicon.close))),this._close.title=s.localize(0,null),this._type=L.append(this._header,L.$("p.type")),this._docs=L.append(this._body,L.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(49)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const h=this._editor.getOptions(),l=h.get(49),c=l.getMassagedFontFamily(),o=h.get(117)||l.fontSize,d=h.get(118)||l.lineHeight,r=l.fontWeight,g=`${o}px`,f=`${d}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=`${d/o}`,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=l.fontFeatureSettings,this._type.style.fontFamily=c,this._close.style.height=f,this._close.style.width=f}getLayoutInfo(){const h=this._editor.getOption(118)||this._editor.getOption(49).lineHeight,l=this._borderWidth,c=l*2;return{lineHeight:h,borderWidth:l,borderHeight:c,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=s.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(h,l){var c,o;this._renderDisposeable.clear();let{detail:d,documentation:r}=h.completion;if(l){let g="";g+=`score: ${h.score[0]}
`,g+=`prefix: ${(c=h.word)!==null&&c!==void 0?c:"(no prefix)"}
`,g+=`word: ${h.completion.filterText?h.completion.filterText+" (filterText)":h.textLabel}
`,g+=`distance: ${h.distance} (localityBonus-setting)
`,g+=`index: ${h.idx}, based on ${h.completion.sortText&&`sortText: "${h.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(o=h.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,r=new m.MarkdownString().appendCodeblock("empty",g),d=`Provider: ${h.provider._debugDisplayName}`}if(!l&&!i(h)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),d){const g=d.length>1e5?`${d.substr(0,1e5)}\u2026`:d;this._type.textContent=g,this._type.title=g,L.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else L.clearNode(this._type),this._type.title="",L.hide(this._type),this.domNode.classList.add("no-type");if(L.clearNode(this._docs),typeof r=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),L.clearNode(this._docs);const g=this._markdownRenderer.render(r);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(h,l){const c=new L.Dimension(h,l);L.Dimension.equals(c,this._size)||(this._size=c,L.size(this.domNode,h,l)),this._scrollbar.scanDomNode()}scrollDown(h=8){this._body.scrollTop+=h}scrollUp(h=8){this._body.scrollTop-=h}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(h){this._borderWidth=h}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=Ie([ge(1,n.IInstantiationService)],t);class a{constructor(h,l){this.widget=h,this._editor=l,this._disposables=new _.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(h.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let c,o,d=0,r=0;this._disposables.add(this._resizable.onDidWillResize(()=>{c=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(c&&o){this.widget.layout(g.dimension.width,g.dimension.height);let f=!1;g.west&&(r=o.width-g.dimension.width,f=!0),g.north&&(d=o.height-g.dimension.height,f=!0),f&&this._applyTopLeft({top:c.top+d,left:c.left+r})}g.done&&(c=void 0,o=void 0,d=0,r=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(h=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),h&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(h,l){var c;const o=h.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=l,this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size,l)}_placeAtAnchor(h,l,c){var o;const d=L.getClientArea(document.body),r=this.widget.getLayoutInfo(),g=new L.Dimension(220,2*r.lineHeight),f=h.top,p=function(){const T=d.width-(h.left+h.width+r.borderWidth+r.horizontalPadding),O=-r.borderWidth+h.left+h.width,P=new L.Dimension(T,d.height-h.top-r.borderHeight-r.verticalPadding),x=P.with(void 0,h.top+h.height-r.borderHeight-r.verticalPadding);return{top:f,left:O,fit:T-l.width,maxSizeTop:P,maxSizeBottom:x,minSize:g.with(Math.min(T,g.width))}}(),b=function(){const T=h.left-r.borderWidth-r.horizontalPadding,O=Math.max(r.horizontalPadding,h.left-l.width-r.borderWidth),P=new L.Dimension(T,d.height-h.top-r.borderHeight-r.verticalPadding),x=P.with(void 0,h.top+h.height-r.borderHeight-r.verticalPadding);return{top:f,left:O,fit:T-l.width,maxSizeTop:P,maxSizeBottom:x,minSize:g.with(Math.min(T,g.width))}}(),w=function(){const T=h.left,O=-r.borderWidth+h.top+h.height,P=new L.Dimension(h.width-r.borderHeight,d.height-h.top-h.height-r.verticalPadding);return{top:O,left:T,fit:P.height-l.height,maxSizeBottom:P,maxSizeTop:P,minSize:g.with(P.width)}}(),E=[p,b,w],I=(o=E.find(T=>T.fit>=0))!==null&&o!==void 0?o:E.sort((T,O)=>O.fit-T.fit)[0],N=h.top+h.height-r.borderHeight;let R,F=l.height;const M=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);F>M&&(F=M);let A;c?F<=I.maxSizeTop.height?(R=!0,A=I.maxSizeTop):(R=!1,A=I.maxSizeBottom):F<=I.maxSizeBottom.height?(R=!1,A=I.maxSizeBottom):(R=!0,A=I.maxSizeTop),this._applyTopLeft({left:I.left,top:R?I.top:N-F}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!R,I===p,R,I!==p),this._resizable.minSize=I.minSize,this._resizable.maxSize=A,this._resizable.layout(F,Math.min(A.width,l.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(h){this._topLeft=h,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=a}),define(ee[348],te([1,0,14,63,52,20,21,29,95,35]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function C(u){return Object.isFrozen(u)?u:y.deepFreeze(u)}class s{constructor(h={},l=[],c=[],o){this._contents=h,this._keys=l,this._overrides=c,this.raw=o,this.overrideConfigurations=new Map}get rawConfiguration(){var h;if(!this._rawConfiguration)if(!((h=this.raw)===null||h===void 0)&&h.length){const l=this.raw.map(c=>{if(c instanceof s)return c;const o=new n("");return o.parseRaw(c),o.configurationModel});this._rawConfiguration=l.reduce((c,o)=>o===c?o:c.merge(o),l[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(h){return h?(0,m.getConfigurationValue)(this.contents,h):this.contents}inspect(h,l){const c=this.rawConfiguration.getValue(h),o=l?this.rawConfiguration.getOverrideValue(h,l):void 0,d=l?this.rawConfiguration.override(l).getValue(h):c;return{value:c,override:o,merged:d}}getOverrideValue(h,l){const c=this.getContentsForOverrideIdentifer(l);return c?h?(0,m.getConfigurationValue)(c,h):c:void 0}override(h){let l=this.overrideConfigurations.get(h);return l||(l=this.createOverrideConfigurationModel(h),this.overrideConfigurations.set(h,l)),l}merge(...h){var l,c;const o=y.deepClone(this.contents),d=y.deepClone(this.overrides),r=[...this.keys],g=!((l=this.raw)===null||l===void 0)&&l.length?[...this.raw]:[this];for(const f of h)if(g.push(...!((c=f.raw)===null||c===void 0)&&c.length?f.raw:[f]),!f.isEmpty()){this.mergeContents(o,f.contents);for(const p of f.overrides){const[b]=d.filter(w=>L.equals(w.identifiers,p.identifiers));b?(this.mergeContents(b.contents,p.contents),b.keys.push(...p.keys),b.keys=L.distinct(b.keys)):d.push(y.deepClone(p))}for(const p of f.keys)r.indexOf(p)===-1&&r.push(p)}return new s(o,r,d,g.every(f=>f instanceof s)?void 0:g)}createOverrideConfigurationModel(h){const l=this.getContentsForOverrideIdentifer(h);if(!l||typeof l!="object"||!Object.keys(l).length)return this;const c={};for(const o of L.distinct([...Object.keys(this.contents),...Object.keys(l)])){let d=this.contents[o];const r=l[o];r&&(typeof d=="object"&&typeof r=="object"?(d=y.deepClone(d),this.mergeContents(d,r)):d=r),c[o]=d}return new s(c,this.keys,this.overrides)}mergeContents(h,l){for(const c of Object.keys(l)){if(c in h&&D.isObject(h[c])&&D.isObject(l[c])){this.mergeContents(h[c],l[c]);continue}h[c]=y.deepClone(l[c])}}getContentsForOverrideIdentifer(h){let l=null,c=null;const o=d=>{d&&(c?this.mergeContents(c,d):c=y.deepClone(d))};for(const d of this.overrides)d.identifiers.length===1&&d.identifiers[0]===h?l=d.contents:d.identifiers.includes(h)&&o(d.contents);return o(l),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(h,l){this.updateValue(h,l,!0)}setValue(h,l){this.updateValue(h,l,!1)}removeValue(h){const l=this.keys.indexOf(h);l!==-1&&(this.keys.splice(l,1),(0,m.removeFromValueTree)(this.contents,h),_.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.splice(this.overrides.findIndex(c=>L.equals(c.identifiers,(0,_.overrideIdentifiersFromKey)(h))),1))}updateValue(h,l,c){(0,m.addToValueTree)(this.contents,h,l,o=>console.error(o)),c=c||this.keys.indexOf(h)===-1,c&&this.keys.push(h),_.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.push({identifiers:(0,_.overrideIdentifiersFromKey)(h),keys:Object.keys(this.contents[h]),contents:(0,m.toValuesTree)(this.contents[h],o=>console.error(o))})}}e.ConfigurationModel=s;class n{constructor(h){this._name=h,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new s}parseRaw(h,l){this._raw=h;const{contents:c,keys:o,overrides:d,restricted:r,hasExcludedProperties:g}=this.doParseRaw(h,l);this._configurationModel=new s(c,o,d,g?[h]:void 0),this._restrictedConfigurations=r||[]}doParseRaw(h,l){const c=v.Registry.as(_.Extensions.Configuration).getConfigurationProperties(),o=this.filter(h,c,!0,l);h=o.raw;const d=(0,m.toValuesTree)(h,f=>console.error(`Conflict in settings file ${this._name}: ${f}`)),r=Object.keys(h),g=this.toOverrides(h,f=>console.error(`Conflict in settings file ${this._name}: ${f}`));return{contents:d,keys:r,overrides:g,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}filter(h,l,c,o){var d,r,g;let f=!1;if(!o?.scopes&&!o?.skipRestricted&&!(!((d=o?.exclude)===null||d===void 0)&&d.length))return{raw:h,restricted:[],hasExcludedProperties:f};const p={},b=[];for(const w in h)if(_.OVERRIDE_PROPERTY_REGEX.test(w)&&c){const E=this.filter(h[w],l,!1,o);p[w]=E.raw,f=f||E.hasExcludedProperties,b.push(...E.restricted)}else{const E=l[w],I=E?typeof E.scope<"u"?E.scope:3:void 0;E?.restricted&&b.push(w),!(!((r=o.exclude)===null||r===void 0)&&r.includes(w))&&(!((g=o.include)===null||g===void 0)&&g.includes(w)||(I===void 0||o.scopes===void 0||o.scopes.includes(I))&&!(o.skipRestricted&&E?.restricted))?p[w]=h[w]:f=!0}return{raw:p,restricted:b,hasExcludedProperties:f}}toOverrides(h,l){const c=[];for(const o of Object.keys(h))if(_.OVERRIDE_PROPERTY_REGEX.test(o)){const d={};for(const r in h[o])d[r]=h[o][r];c.push({identifiers:(0,_.overrideIdentifiersFromKey)(o),keys:Object.keys(d),contents:(0,m.toValuesTree)(d,l)})}return c}}e.ConfigurationModelParser=n;class i{constructor(h,l,c,o,d,r,g,f,p,b,w,E,I){this.key=h,this.overrides=l,this._value=c,this.overrideIdentifiers=o,this.defaultConfiguration=d,this.policyConfiguration=r,this.applicationConfiguration=g,this.userConfiguration=f,this.localUserConfiguration=p,this.remoteUserConfiguration=b,this.workspaceConfiguration=w,this.folderConfigurationModel=E,this.memoryConfigurationModel=I}inspect(h,l,c){const o=h.inspect(l,c);return{get value(){return C(o.value)},get override(){return C(o.override)},get merged(){return C(o.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class t{constructor(h,l,c,o,d=new s,r=new s,g=new k.ResourceMap,f=new s,p=new k.ResourceMap){this._defaultConfiguration=h,this._policyConfiguration=l,this._applicationConfiguration=c,this._localUserConfiguration=o,this._remoteUserConfiguration=d,this._workspaceConfiguration=r,this._folderConfigurations=g,this._memoryConfiguration=f,this._memoryConfigurationByResource=p,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(h,l,c){return this.getConsolidatedConfigurationModel(h,l,c).getValue(h)}updateValue(h,l,c={}){let o;c.resource?(o=this._memoryConfigurationByResource.get(c.resource),o||(o=new s,this._memoryConfigurationByResource.set(c.resource,o))):o=this._memoryConfiguration,l===void 0?o.removeValue(h):o.setValue(h,l),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(h,l,c){const o=this.getConsolidatedConfigurationModel(h,l,c),d=this.getFolderConfigurationModelForResource(l.resource,c),r=l.resource?this._memoryConfigurationByResource.get(l.resource)||this._memoryConfiguration:this._memoryConfiguration,g=new Set;for(const f of o.overrides)for(const p of f.identifiers)o.getOverrideValue(h,p)!==void 0&&g.add(p);return new i(h,l,o.getValue(h),g.size?[...g]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,c?this._workspaceConfiguration:void 0,d||void 0,r)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(h,l,c){let o=this.getConsolidatedConfigurationModelForResource(l,c);return l.overrideIdentifier&&(o=o.override(l.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(h)!==void 0&&(o=o.merge(this._policyConfiguration)),o}getConsolidatedConfigurationModelForResource({resource:h},l){let c=this.getWorkspaceConsolidatedConfiguration();if(l&&h){const o=l.getFolder(h);o&&(c=this.getFolderConsolidatedConfiguration(o.uri)||c);const d=this._memoryConfigurationByResource.get(h);d&&(c=c.merge(d))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(h){let l=this._foldersConsolidatedConfigurations.get(h);if(!l){const c=this.getWorkspaceConsolidatedConfiguration(),o=this._folderConfigurations.get(h);o?(l=c.merge(o),this._foldersConsolidatedConfigurations.set(h,l)):l=c}return l}getFolderConfigurationModelForResource(h,l){if(l&&h){const c=l.getFolder(h);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((h,l)=>{const{contents:c,overrides:o,keys:d}=this._folderConfigurations.get(l);return h.push([l,{contents:c,overrides:o,keys:d}]),h},[])}}static parse(h){const l=this.parseConfigurationModel(h.defaults),c=this.parseConfigurationModel(h.policy),o=this.parseConfigurationModel(h.application),d=this.parseConfigurationModel(h.user),r=this.parseConfigurationModel(h.workspace),g=h.folders.reduce((f,p)=>(f.set(S.URI.revive(p[0]),this.parseConfigurationModel(p[1])),f),new k.ResourceMap);return new t(l,c,o,d,new s,r,g,new s,new k.ResourceMap)}static parseConfigurationModel(h){return new s(h.contents,h.keys,h.overrides)}}e.Configuration=t;class a{constructor(h,l,c,o){this.change=h,this.previous=l,this.currentConfiguraiton=c,this.currentWorkspace=o,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const d of h.keys)this.affectedKeys.add(d);for(const[,d]of h.overrides)for(const r of d)this.affectedKeys.add(r);this._affectsConfigStr=this._marker;for(const d of this.affectedKeys)this._affectsConfigStr+=d+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(h,l){var c;const o=this._marker+h,d=this._affectsConfigStr.indexOf(o);if(d<0)return!1;const r=d+o.length;if(r>=this._affectsConfigStr.length)return!1;const g=this._affectsConfigStr.charCodeAt(r);if(g!==this._markerCode1&&g!==this._markerCode2)return!1;if(l){const f=this.previousConfiguration?this.previousConfiguration.getValue(h,l,(c=this.previous)===null||c===void 0?void 0:c.workspace):void 0,p=this.currentConfiguraiton.getValue(h,l,this.currentWorkspace);return!y.equals(f,p)}return!0}}e.ConfigurationChangeEvent=a}),define(ee[780],te([1,0,2,348,95,35]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class S extends L.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const _=D.Registry.as(y.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(_),_)}updateConfigurationModel(_,v){const C=this.getConfigurationDefaultOverrides();for(const s of _){const n=C[s],i=v[s];n!==void 0?this._configurationModel.addValue(s,n):i?this._configurationModel.addValue(s,i.default):this._configurationModel.removeValue(s)}}}e.DefaultConfiguration=S}),define(ee[117],te([1,0,118,17,25,35,2,62]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class _{constructor(){this._coreKeybindings=new m.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(s){if(k.OS===1){if(s&&s.win)return s.win}else if(k.OS===2){if(s&&s.mac)return s.mac}else if(s&&s.linux)return s.linux;return s}registerKeybindingRule(s){const n=_.bindToCurrentPlatform(s),i=new S.DisposableStore;if(n&&n.primary){const t=(0,L.decodeKeybinding)(n.primary,k.OS);t&&i.add(this._registerDefaultKeybinding(t,s.id,s.args,s.weight,0,s.when))}if(n&&Array.isArray(n.secondary))for(let t=0,a=n.secondary.length;t<a;t++){const u=n.secondary[t],h=(0,L.decodeKeybinding)(u,k.OS);h&&i.add(this._registerDefaultKeybinding(h,s.id,s.args,s.weight,-t-1,s.when))}return i}registerCommandAndKeybindingRule(s){return(0,S.combinedDisposable)(this.registerKeybindingRule(s),y.CommandsRegistry.registerCommand(s))}_registerDefaultKeybinding(s,n,i,t,a,u){const h=this._coreKeybindings.push({keybinding:s,command:n,commandArgs:i,when:u,weight1:t,weight2:a,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.toDisposable)(()=>{h(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new _,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function v(C,s){if(C.weight1!==s.weight1)return C.weight1-s.weight1;if(C.command&&s.command){if(C.command<s.command)return-1;if(C.command>s.command)return 1}return C.weight2-s.weight2}});var vi=this&&this.__rest||function(G,e){var L={};for(var k in G)Object.prototype.hasOwnProperty.call(G,k)&&e.indexOf(k)<0&&(L[k]=G[k]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,k=Object.getOwnPropertySymbols(G);y<k.length;y++)e.indexOf(k[y])<0&&Object.prototype.propertyIsEnumerable.call(G,k[y])&&(L[k[y]]=G[k[y]]);return L};define(ee[30],te([1,0,41,27,6,2,62,25,15,8,117]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function n(o){return o.command!==void 0}e.isIMenuItem=n;function i(o){return o.submenu!==void 0}e.isISubmenuItem=i;class t{constructor(d){if(t._instances.has(d))throw new TypeError(`MenuId with identifier '${d}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(d,this),this.id=d}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),e.IMenuService=(0,v.createDecorator)("menuService");class a{static for(d){let r=this._all.get(d);return r||(r=new a(d),this._all.set(d,r)),r}static merge(d){const r=new Set;for(const g of d)g instanceof a&&r.add(g.id);return r}constructor(d){this.id=d,this.has=r=>r===d}}a._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new y.MicrotaskEmitter({merge:a.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(o){return this._commands.set(o.id,o),this._onDidChangeMenu.fire(a.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(o.id)&&this._onDidChangeMenu.fire(a.for(t.CommandPalette))})}getCommand(o){return this._commands.get(o)}getCommands(){const o=new Map;return this._commands.forEach((d,r)=>o.set(r,d)),o}appendMenuItem(o,d){let r=this._menuItems.get(o);r||(r=new S.LinkedList,this._menuItems.set(o,r));const g=r.push(d);return this._onDidChangeMenu.fire(a.for(o)),(0,D.toDisposable)(()=>{g(),this._onDidChangeMenu.fire(a.for(o))})}appendMenuItems(o){const d=new D.DisposableStore;for(const{id:r,item:g}of o)d.add(this.appendMenuItem(r,g));return d}getMenuItems(o){let d;return this._menuItems.has(o)?d=[...this._menuItems.get(o)]:d=[],o===t.CommandPalette&&this._appendImplicitItems(d),d}_appendImplicitItems(o){const d=new Set;for(const r of o)n(r)&&(d.add(r.command.id),r.alt&&d.add(r.alt.id));this._commands.forEach((r,g)=>{d.has(g)||o.push({command:r})})}};class u extends L.SubmenuAction{constructor(d,r,g){super(`submenuitem.${d.submenu.id}`,typeof d.title=="string"?d.title:d.title.value,g,"submenu"),this.item=d,this.hideActions=r}}e.SubmenuItemAction=u;let h=s=class{static label(d,r){return r?.renderShortTitle&&d.shortTitle?typeof d.shortTitle=="string"?d.shortTitle:d.shortTitle.value:typeof d.title=="string"?d.title:d.title.value}constructor(d,r,g,f,p,b){var w,E;this.hideActions=f,this._commandService=b,this.id=d.id,this.label=s.label(d,g),this.tooltip=(E=typeof d.tooltip=="string"?d.tooltip:(w=d.tooltip)===null||w===void 0?void 0:w.value)!==null&&E!==void 0?E:"",this.enabled=!d.precondition||p.contextMatchesRules(d.precondition),this.checked=void 0;let I;if(d.toggled){const N=d.toggled.condition?d.toggled:{condition:d.toggled};this.checked=p.contextMatchesRules(N.condition),this.checked&&N.tooltip&&(this.tooltip=typeof N.tooltip=="string"?N.tooltip:N.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(N.icon)&&(I=N.icon),this.checked&&N.title&&(this.label=typeof N.title=="string"?N.title:N.title.value)}I||(I=k.ThemeIcon.isThemeIcon(d.icon)?d.icon:void 0),this.item=d,this.alt=r?new s(r,void 0,g,f,p,b):void 0,this._options=g,this.class=I&&k.ThemeIcon.asClassName(I)}run(...d){var r,g;let f=[];return!((r=this._options)===null||r===void 0)&&r.arg&&(f=[...f,this._options.arg]),!((g=this._options)===null||g===void 0)&&g.shouldForwardArgs&&(f=[...f,...d]),this._commandService.executeCommand(this.id,...f)}};e.MenuItemAction=h,e.MenuItemAction=h=s=Ie([ge(4,_.IContextKeyService),ge(5,m.ICommandService)],h);class l{constructor(d){this.desc=d}}e.Action2=l;function c(o){const d=new D.DisposableStore,r=new o,g=r.desc,{f1:f,menu:p,keybinding:b,description:w}=g,E=vi(g,["f1","menu","keybinding","description"]);if(d.add(m.CommandsRegistry.registerCommand({id:E.id,handler:(I,...N)=>r.run(I,...N),description:w})),Array.isArray(p))for(const I of p)d.add(e.MenuRegistry.appendMenuItem(I.id,Object.assign({command:Object.assign(Object.assign({},E),{precondition:I.precondition===null?void 0:E.precondition})},I)));else p&&d.add(e.MenuRegistry.appendMenuItem(p.id,Object.assign({command:Object.assign(Object.assign({},E),{precondition:p.precondition===null?void 0:E.precondition})},p)));if(f&&(d.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:E,when:E.precondition})),d.add(e.MenuRegistry.addCommand(E))),Array.isArray(b))for(const I of b)d.add(C.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},I),{id:E.id,when:E.precondition?_.ContextKeyExpr.and(E.precondition,I.when):I.when})));else b&&d.add(C.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},b),{id:E.id,when:E.precondition?_.ContextKeyExpr.and(E.precondition,b.when):b.when})));return d}e.registerAction2=c}),define(ee[781],te([1,0,33,22,606,30,25,15]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedDiffEditor=e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=void 0;const _={value:(0,y.localize)(0,null),original:"Accessible Diff Viewer"};class v extends D.Action2{constructor(){super({id:v.id,title:{value:(0,y.localize)(1,null),original:"Go to Next Difference"},category:_,precondition:m.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(t){const a=s(t);a?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=v,v.id="editor.action.accessibleDiffViewer.next",D.MenuRegistry.appendMenuItem(D.MenuId.EditorTitle,{command:{id:v.id,title:(0,y.localize)(2,null)},order:10,group:"2_diff",when:m.ContextKeyExpr.and(k.EditorContextKeys.accessibleDiffViewerVisible.negate(),m.ContextKeyExpr.has("isInDiffEditor"))});class C extends D.Action2{constructor(){super({id:C.id,title:{value:(0,y.localize)(3,null),original:"Go to Previous Difference"},category:_,precondition:m.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(t){const a=s(t);a?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=C,C.id="editor.action.accessibleDiffViewer.prev";function s(i){var t;const a=i.get(L.ICodeEditorService),u=a.listDiffEditors(),h=(t=a.getFocusedCodeEditor())!==null&&t!==void 0?t:a.getActiveCodeEditor();if(!h)return null;for(let l=0,c=u.length;l<c;l++){const o=u[l];if(o.getModifiedEditor().getId()===h.getId()||o.getOriginalEditor().getId()===h.getId())return o}if(document.activeElement)for(const l of u){const c=l.getContainerDomNode();if(n(c,document.activeElement))return l}return null}e.findFocusedDiffEditor=s;function n(i,t){let a=t;for(;a;){if(a===i)return!0;a=a.parentElement}return!1}S.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",v.id),(0,D.registerAction2)(v),S.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",C.id),(0,D.registerAction2)(C)}),define(ee[782],te([1,0,13,9,2,781]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends y.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new y.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(m,_,v){this._editor=m,this._instantiationService=v;for(const C of _){if(this._pending.has(C.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${C.id}`));continue}this._pending.set(C.id,C)}this._instantiateSome(0),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(2)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const m={};for(const[_,v]of this._instances)typeof v.saveViewState=="function"&&(m[_]=v.saveViewState());return m}restoreViewState(m){for(const[_,v]of this._instances)typeof v.restoreViewState=="function"&&v.restoreViewState(m[_])}get(m){return this._instantiateById(m),this._instances.get(m)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)},50))}_instantiateSome(m){if(this._finishedInstantiation[m])return;this._finishedInstantiation[m]=!0;const _=this._findPendingContributionsByInstantiation(m);for(const v of _)this._instantiateById(v.id)}_findPendingContributionsByInstantiation(m){const _=[];for(const[,v]of this._pending)v.instantiation===m&&_.push(v);return _}_instantiateById(m){const _=this._pending.get(m);if(_){if(this._pending.delete(m),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const v=this._instantiationService.createInstance(_.ctor,this._editor);this._instances.set(_.id,v),typeof v.restoreViewState=="function"&&_.instantiation!==0&&console.warn(`Editor contribution '${_.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(v){(0,k.onUnexpectedError)(v)}}}}e.CodeEditorContributions=D}),define(ee[783],te([1,0,49,201,705,30,15]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class m extends D.Action2{constructor(){super({id:m.ID,title:{value:y.localize(0,null),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(v){const C=v.get(S.IContextKeyService).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",n=!k.TabFocus.getTabFocusMode(C);k.TabFocus.setTabFocusMode(n,C),n?(0,L.alert)(y.localize(1,null)):(0,L.alert)(y.localize(2,null))}}e.ToggleTabFocusModeAction=m,m.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(m)}),define(ee[349],te([1,0,229,583,15,117,724,2]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new y.RawContextKey("suggestWidgetVisible",!1,(0,S.localize)(0,null));const _="historyNavigationWidgetFocus",v="historyNavigationForwardsEnabled",C="historyNavigationBackwardsEnabled";let s;const n=[];function i(u,h){if(n.includes(h))throw new Error("Cannot register the same widget multiple times");n.push(h);const l=new m.DisposableStore,c=new y.RawContextKey(_,!1).bindTo(u),o=new y.RawContextKey(v,!0).bindTo(u),d=new y.RawContextKey(C,!0).bindTo(u),r=()=>{c.set(!0),s=h},g=()=>{c.set(!1),s===h&&(s=void 0)};return h.element===document.activeElement&&r(),l.add(h.onDidFocus(()=>r())),l.add(h.onDidBlur(()=>g())),l.add((0,m.toDisposable)(()=>{n.splice(n.indexOf(h),1),g()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:d,dispose(){l.dispose()}}}e.registerAndCreateHistoryNavigationContext=i;let t=class extends L.FindInput{constructor(h,l,c,o){super(h,l,c);const d=this._register(o.createScoped(this.inputBox.element));this._register(i(d,this.inputBox))}};e.ContextScopedFindInput=t,e.ContextScopedFindInput=t=Ie([ge(3,y.IContextKeyService)],t);let a=class extends k.ReplaceInput{constructor(h,l,c,o,d=!1){super(h,l,d,c);const r=this._register(o.createScoped(this.inputBox.element));this._register(i(r,this.inputBox))}};e.ContextScopedReplaceInput=a,e.ContextScopedReplaceInput=a=Ie([ge(3,y.IContextKeyService)],a),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(C,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:u=>{s?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(v,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:u=>{s?.showNextValue()}})}),define(ee[133],te([1,0,19,9,68,2,58,20,21,12,5,65,127,698,30,25,15,18,349]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:l.historyNavigationVisible,HasFocusedSuggestion:new u.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new u.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new u.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new u.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new u.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new u.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new u.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new u.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class c{constructor(M,A,T,O){var P;this.position=M,this.completion=A,this.container=T,this.provider=O,this.isInvalid=!1,this.score=y.FuzzyScore.Default,this.distance=0,this.textLabel=typeof A.label=="string"?A.label:(P=A.label)===null||P===void 0?void 0:P.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=A.sortText&&A.sortText.toLowerCase(),this.filterTextLow=A.filterText&&A.filterText.toLowerCase(),this.extensionId=A.extensionId,C.Range.isIRange(A.range)?(this.editStart=new v.Position(A.range.startLineNumber,A.range.startColumn),this.editInsertEnd=new v.Position(A.range.endLineNumber,A.range.endColumn),this.editReplaceEnd=new v.Position(A.range.endLineNumber,A.range.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(A.range)||A.range.startLineNumber!==M.lineNumber):(this.editStart=new v.Position(A.range.insert.startLineNumber,A.range.insert.startColumn),this.editInsertEnd=new v.Position(A.range.insert.endLineNumber,A.range.insert.endColumn),this.editReplaceEnd=new v.Position(A.range.replace.endLineNumber,A.range.replace.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(A.range.insert)||C.Range.spansMultipleLines(A.range.replace)||A.range.insert.startLineNumber!==M.lineNumber||A.range.replace.startLineNumber!==M.lineNumber||A.range.insert.startColumn!==A.range.replace.startColumn),typeof O.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(M){return Se(this,void 0,void 0,function*(){if(!this._resolveCache){const A=M.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),T=new S.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,M)).then(O=>{Object.assign(this.completion,O),this._resolveDuration=T.elapsed()},O=>{(0,k.isCancellationError)(O)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{A.dispose()})}return this._resolveCache})}}e.CompletionItem=c;class o{constructor(M=2,A=new Set,T=new Set,O=new Map,P=!0){this.snippetSortOrder=M,this.kindFilter=A,this.providerFilter=T,this.providerItemsToReuse=O,this.showDeprecated=P}}e.CompletionOptions=o,o.default=new o;let d;function r(){return d}e.getSnippetSuggestSupport=r;class g{constructor(M,A,T,O){this.items=M,this.needsClipboard=A,this.durations=T,this.disposable=O}}e.CompletionItemModel=g;function f(F,M,A,T=o.default,O={triggerKind:0},P=L.CancellationToken.None){return Se(this,void 0,void 0,function*(){const x=new S.StopWatch;A=A.clone();const z=M.getWordAtPosition(A),q=z?new C.Range(A.lineNumber,z.startColumn,A.lineNumber,z.endColumn):C.Range.fromPositions(A),B={replace:q,insert:q.setEndPosition(A.lineNumber,A.column)},$=[],X=new D.DisposableStore,ne=[];let oe=!1;const Y=(W,V,Z)=>{var ie,le,he;let de=!1;if(!V)return de;for(const ce of V.suggestions)if(!T.kindFilter.has(ce.kind)){if(!T.showDeprecated&&(!((ie=ce?.tags)===null||ie===void 0)&&ie.includes(1)))continue;ce.range||(ce.range=B),ce.sortText||(ce.sortText=typeof ce.label=="string"?ce.label:ce.label.label),!oe&&ce.insertTextRules&&ce.insertTextRules&4&&(oe=n.SnippetParser.guessNeedsClipboard(ce.insertText)),$.push(new c(A,ce,V,W)),de=!0}return(0,D.isDisposable)(V)&&X.add(V),ne.push({providerName:(le=W._debugDisplayName)!==null&&le!==void 0?le:"unknown_provider",elapsedProvider:(he=V.duration)!==null&&he!==void 0?he:-1,elapsedOverall:Z.elapsed()}),de},U=(()=>Se(this,void 0,void 0,function*(){if(!d||T.kindFilter.has(27))return;const W=T.providerItemsToReuse.get(d);if(W){W.forEach(ie=>$.push(ie));return}if(T.providerFilter.size>0&&!T.providerFilter.has(d))return;const V=new S.StopWatch,Z=yield d.provideCompletionItems(M,A,O,P);Y(d,Z,V)}))();for(const W of F.orderedGroups(M)){let V=!1;if(yield Promise.all(W.map(Z=>Se(this,void 0,void 0,function*(){if(T.providerItemsToReuse.has(Z)){const ie=T.providerItemsToReuse.get(Z);ie.forEach(le=>$.push(le)),V=V||ie.length>0;return}if(!(T.providerFilter.size>0&&!T.providerFilter.has(Z)))try{const ie=new S.StopWatch,le=yield Z.provideCompletionItems(M,A,O,P);V=Y(Z,le,ie)||V}catch(ie){(0,k.onUnexpectedExternalError)(ie)}}))),V||P.isCancellationRequested)break}return yield U,P.isCancellationRequested?(X.dispose(),Promise.reject(new k.CancellationError)):new g($.sort(I(T.snippetSortOrder)),oe,{entries:ne,elapsed:x.elapsed()},X)})}e.provideSuggestionItems=f;function p(F,M){if(F.sortTextLow&&M.sortTextLow){if(F.sortTextLow<M.sortTextLow)return-1;if(F.sortTextLow>M.sortTextLow)return 1}return F.textLabel<M.textLabel?-1:F.textLabel>M.textLabel?1:F.completion.kind-M.completion.kind}function b(F,M){if(F.completion.kind!==M.completion.kind){if(F.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return p(F,M)}function w(F,M){if(F.completion.kind!==M.completion.kind){if(F.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return p(F,M)}const E=new Map;E.set(0,b),E.set(2,w),E.set(1,p);function I(F){return E.get(F)}e.getSuggestionComparator=I,a.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(F,...M)=>Se(void 0,void 0,void 0,function*(){const[A,T,O,P]=M;(0,m.assertType)(_.URI.isUri(A)),(0,m.assertType)(v.Position.isIPosition(T)),(0,m.assertType)(typeof O=="string"||!O),(0,m.assertType)(typeof P=="number"||!P);const{completionProvider:x}=F.get(h.ILanguageFeaturesService),z=yield F.get(s.ITextModelService).createModelReference(A);try{const q={incomplete:!1,suggestions:[]},B=[],$=z.object.textEditorModel.validatePosition(T),X=yield f(x,z.object.textEditorModel,$,void 0,{triggerCharacter:O??void 0,triggerKind:O?1:0});for(const ne of X.items)B.length<(P??0)&&B.push(ne.resolve(L.CancellationToken.None)),q.incomplete=q.incomplete||ne.container.incomplete,q.suggestions.push(ne.completion);try{return yield Promise.all(B),q}finally{setTimeout(()=>X.disposable.dispose(),100)}}finally{z.dispose()}}));function N(F,M){var A;(A=F.getContribution("editor.contrib.suggestController"))===null||A===void 0||A.triggerSuggest(new Set().add(M),void 0,!0)}e.showSimpleSuggestions=N;class R{static isAllOff(M){return M.other==="off"&&M.comments==="off"&&M.strings==="off"}static isAllOn(M){return M.other==="on"&&M.comments==="on"&&M.strings==="on"}static valueFor(M,A){switch(A){case 1:return M.comments;case 2:return M.strings;default:return M.other}}}e.QuickSuggestionsOptions=R}),define(ee[134],te([1,0,14,2,35]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(_){return _.prefix.length===0?this.defaultProvider=_:this.providers.push(_),this.providers.sort((v,C)=>C.prefix.length-v.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(_),1),this.defaultProvider===_&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,L.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(_){return _&&this.providers.find(C=>_.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,y.Registry.add(e.Extensions.Quickaccess,new S)}),define(ee[784],te([1,0,729,35,2,34,134,67]),function(G,e,L,k,y,D,S,m){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=_=class{constructor(s,n){this.quickInputService=s,this.keybindingService=n,this.registry=k.Registry.as(S.Extensions.Quickaccess)}provide(s){const n=new y.DisposableStore;return n.add(s.onDidAccept(()=>{const[i]=s.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),n.add(s.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(_.PREFIX.length));t&&t.prefix&&t.prefix!==_.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),s.items=this.getQuickAccessProviders().filter(i=>i.prefix!==_.PREFIX),n}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((n,i)=>n.prefix.localeCompare(i.prefix)).flatMap(n=>this.createPicks(n))}createPicks(s){return s.helpEntries.map(n=>{const i=n.prefix||s.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,L.localize)(0,null,t,n.description),description:n.description}})}};e.HelpQuickAccessProvider=v,v.PREFIX="?",e.HelpQuickAccessProvider=v=_=Ie([ge(0,m.IQuickInputService),ge(1,D.IKeybindingService)],v)}),define(ee[785],te([1,0,35,134,93,784]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:y.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ee[786],te([1,0,13,19,97,2,8,134,67,35]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let C=class extends D.Disposable{constructor(n,i){super(),this.quickInputService=n,this.instantiationService=i,this.registry=v.Registry.as(m.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",i){this.doShowOrPick(n,!1,i)}doShowOrPick(n,i,t){var a;const[u,h]=this.getOrInstantiateProvider(n),l=this.visibleQuickAccess,c=l?.descriptor;if(l&&h&&c===h){n!==h.prefix&&!t?.preserveValue&&(l.picker.value=n),this.adjustValueSelection(l.picker,h,t);return}if(h&&!t?.preserveValue){let f;if(l&&c&&c!==h){const p=l.value.substr(c.prefix.length);p&&(f=`${h.prefix}${p}`)}if(!f){const p=u?.defaultFilterValue;p===m.DefaultQuickAccessFilterValue.LAST?f=this.lastAcceptedPickerValues.get(h):typeof p=="string"&&(f=`${h.prefix}${p}`)}typeof f=="string"&&(n=f)}const o=new D.DisposableStore,d=o.add(this.quickInputService.createQuickPick());d.value=n,this.adjustValueSelection(d,h,t),d.placeholder=h?.placeholder,d.quickNavigate=t?.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!l,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(d.itemActivation=(a=t?.itemActivation)!==null&&a!==void 0?a:_.ItemActivation.SECOND),d.contextKey=h?.contextKey,d.filterValue=f=>f.substring(h?h.prefix.length:0);let r;i&&(r=new L.DeferredPromise,o.add((0,y.once)(d.onWillAccept)(f=>{f.veto(),d.hide()}))),o.add(this.registerPickerListeners(d,u,h,n,t?.providerOptions));const g=o.add(new k.CancellationTokenSource);if(u&&o.add(u.provide(d,g.token,t?.providerOptions)),(0,y.once)(d.onDidHide)(()=>{d.selectedItems.length===0&&g.cancel(),o.dispose(),r?.complete(d.selectedItems.slice(0))}),d.show(),i)return r?.p}adjustValueSelection(n,i,t){var a;let u;t?.preserveValue?u=[n.value.length,n.value.length]:u=[(a=i?.prefix.length)!==null&&a!==void 0?a:0,n.value.length],n.valueSelection=u}registerPickerListeners(n,i,t,a,u){const h=new D.DisposableStore,l=this.visibleQuickAccess={picker:n,descriptor:t,value:a};return h.add((0,D.toDisposable)(()=>{l===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),h.add(n.onDidChangeValue(c=>{const[o]=this.getOrInstantiateProvider(c);o!==i?this.show(c,{preserveValue:!0,providerOptions:u}):l.value=c})),t&&h.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,n.value)})),h}getOrInstantiateProvider(n){const i=this.registry.getQuickAccessProvider(n);if(!i)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(i);return t||(t=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,t)),[t,i]}};e.QuickAccessController=C,e.QuickAccessController=C=Ie([ge(0,_.IQuickInputService),ge(1,S.IInstantiationService)],C)}),define(ee[787],te([1,0,26,27,99,475]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(S){function m(_){switch(_){case y.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Info:return k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Warning:return k.ThemeIcon.asClassName(L.Codicon.warning);case y.default.Error:return k.ThemeIcon.asClassName(L.Codicon.error);default:return""}}S.className=m})(D||(e.SeverityIcon=D={}))}),define(ee[87],te([1,0,6,2,20,589,8]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,S.createDecorator)("storageService");var m;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(m||(e.WillSaveStateReason=m={}));function _(s){const n=s.get(e.TARGET_KEY);if(n)try{return JSON.parse(n)}catch{}return Object.create(null)}e.loadKeyTargets=_;class v extends k.Disposable{constructor(n={flushInterval:v.DEFAULT_FLUSH_INTERVAL}){super(),this.options=n,this._onDidChangeValue=this._register(new L.PauseableEmitter),this._onDidChangeTarget=this._register(new L.PauseableEmitter),this._onWillSaveState=this._register(new L.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(n,i,t){return L.Event.filter(this._onDidChangeValue.event,a=>a.scope===n&&(i===void 0||a.key===i),t)}emitDidChangeValue(n,i){const{key:t,external:a}=i;if(t===e.TARGET_KEY){switch(n){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:n})}else this._onDidChangeValue.fire({scope:n,key:t,target:this.getKeyTargets(n)[t],external:a})}get(n,i,t){var a;return(a=this.getStorage(i))===null||a===void 0?void 0:a.get(n,t)}getBoolean(n,i,t){var a;return(a=this.getStorage(i))===null||a===void 0?void 0:a.getBoolean(n,t)}getNumber(n,i,t){var a;return(a=this.getStorage(i))===null||a===void 0?void 0:a.getNumber(n,t)}store(n,i,t,a,u=!1){if((0,y.isUndefinedOrNull)(i)){this.remove(n,t,u);return}this.withPausedEmitters(()=>{var h;this.updateKeyTarget(n,t,a),(h=this.getStorage(t))===null||h===void 0||h.set(n,i,u)})}remove(n,i,t=!1){this.withPausedEmitters(()=>{var a;this.updateKeyTarget(n,i,void 0),(a=this.getStorage(i))===null||a===void 0||a.delete(n,t)})}withPausedEmitters(n){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{n()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(n,i,t,a=!1){var u,h;const l=this.getKeyTargets(i);typeof t=="number"?l[n]!==t&&(l[n]=t,(u=this.getStorage(i))===null||u===void 0||u.set(e.TARGET_KEY,JSON.stringify(l),a)):typeof l[n]=="number"&&(delete l[n],(h=this.getStorage(i))===null||h===void 0||h.set(e.TARGET_KEY,JSON.stringify(l),a))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(n){switch(n){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(n){const i=this.getStorage(n);return i?_(i):Object.create(null)}}e.AbstractStorageService=v,v.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends v{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(n=>this.emitDidChangeValue(1,n))),this._register(this.profileStorage.onDidChangeStorage(n=>this.emitDidChangeValue(0,n))),this._register(this.applicationStorage.onDidChangeStorage(n=>this.emitDidChangeValue(-1,n)))}getStorage(n){switch(n){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=C}),define(ee[788],te([1,0,13,97,63,5,335,45,8,87]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,_.createDecorator)("ICodeLensCache");class C{constructor(i,t){this.lineCount=i,this.data=t}}let s=class{constructor(i){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.LRUCache(20,.75);const t="codelens/cache";(0,L.runWhenIdle)(()=>i.remove(t,1));const a="codelens/cache2",u=i.get(a,1,"{}");this._deserialize(u),(0,k.once)(i.onWillSaveState)(h=>{h.reason===v.WillSaveStateReason.SHUTDOWN&&i.store(a,this._serialize(),1,1)})}put(i,t){const a=t.lenses.map(l=>{var c;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(c=l.symbol.command)===null||c===void 0?void 0:c.title}}}),u=new S.CodeLensModel;u.add({lenses:a,dispose:()=>{}},this._fakeProvider);const h=new C(i.getLineCount(),u);this._cache.set(i.uri.toString(),h)}get(i){const t=this._cache.get(i.uri.toString());return t&&t.lineCount===i.getLineCount()?t.data:void 0}delete(i){this._cache.delete(i.uri.toString())}_serialize(){const i=Object.create(null);for(const[t,a]of this._cache){const u=new Set;for(const h of a.data.lenses)u.add(h.symbol.range.startLineNumber);i[t]={lineCount:a.lineCount,lines:[...u.values()]}}return JSON.stringify(i)}_deserialize(i){try{const t=JSON.parse(i);for(const a in t){const u=t[a],h=[];for(const c of u.lines)h.push({range:new D.Range(c,1,c,11)});const l=new S.CodeLensModel;l.add({lenses:h,dispose(){}},this._fakeProvider),this._cache.set(a,new C(u.lineCount,l))}}catch{}}};e.CodeLensCache=s,e.CodeLensCache=s=Ie([ge(0,v.IStorageService)],s),(0,m.registerSingleton)(e.ICodeLensCache,s,1)}),define(ee[350],te([1,0,13,2,63,198,28,29,45,8,87]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class n{constructor(l){this.name=l}select(l,c,o){if(o.length===0)return 0;const d=o[0].score[0];for(let r=0;r<o.length;r++){const{score:g,completion:f}=o[r];if(g[0]!==d)break;if(f.preselect)return r}return 0}}e.Memory=n;class i extends n{constructor(){super("first")}memorize(l,c,o){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends n{constructor(){super("recentlyUsed"),this._cache=new y.LRUCache(300,.66),this._seq=0}memorize(l,c,o){const d=`${l.getLanguageId()}/${o.textLabel}`;this._cache.set(d,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(l,c,o){if(o.length===0)return 0;const d=l.getLineContent(c.lineNumber).substr(c.column-10,c.column-1);if(/\s$/.test(d))return super.select(l,c,o);const r=o[0].score[0];let g=-1,f=-1,p=-1;for(let b=0;b<o.length&&o[b].score[0]===r;b++){const w=`${l.getLanguageId()}/${o[b].textLabel}`,E=this._cache.peek(w);if(E&&E.touch>p&&E.type===o[b].completion.kind&&E.insertText===o[b].completion.insertText&&(p=E.touch,f=b),o[b].completion.preselect&&g===-1)return g=b}return f!==-1?f:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(l){this._cache.clear();const c=0;for(const[o,d]of l)d.touch=c,d.type=typeof d.type=="number"?d.type:S.CompletionItemKinds.fromString(d.type),this._cache.set(o,d);this._seq=this._cache.size}}e.LRUMemory=t;class a extends n{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(l,c,o){const{word:d}=l.getWordUntilPosition(c),r=`${l.getLanguageId()}/${d}`;this._trie.set(r,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(l,c,o){const{word:d}=l.getWordUntilPosition(c);if(!d)return super.select(l,c,o);const r=`${l.getLanguageId()}/${d}`;let g=this._trie.get(r);if(g||(g=this._trie.findSubstr(r)),g)for(let f=0;f<o.length;f++){const{kind:p,insertText:b}=o[f].completion;if(p===g.type&&b===g.insertText)return f}return super.select(l,c,o)}toJSON(){const l=[];return this._trie.forEach((c,o)=>l.push([o,c])),l.sort((c,o)=>-(c[1].touch-o[1].touch)).forEach((c,o)=>c[1].touch=o),l.slice(0,200)}fromJSON(l){if(this._trie.clear(),l.length>0){this._seq=l[0][1].touch+1;for(const[c,o]of l)o.type=typeof o.type=="number"?o.type:S.CompletionItemKinds.fromString(o.type),this._trie.set(c,o)}}}e.PrefixMemory=a;let u=s=class{constructor(l,c){this._storageService=l,this._configService=c,this._disposables=new k.DisposableStore,this._persistSoon=new L.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(l.onWillSaveState(o=>{o.reason===C.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(l,c,o){this._withStrategy(l,c).memorize(l,c,o),this._persistSoon.schedule()}select(l,c,o){return this._withStrategy(l,c).select(l,c,o)}_withStrategy(l,c){var o;const d=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:l.getLanguageIdAtPosition(c.lineNumber,c.column),resource:l.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==d){this._saveState();const r=s._strategyCtors.get(d)||i;this._strategy=new r;try{const f=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,p=this._storageService.get(`${s._storagePrefix}/${d}`,f);p&&this._strategy.fromJSON(JSON.parse(p))}catch{}}return this._strategy}_saveState(){if(this._strategy){const c=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${s._storagePrefix}/${this._strategy.name}`,o,c,1)}}};e.SuggestMemoryService=u,u._strategyCtors=new Map([["recentlyUsedByPrefix",a],["recentlyUsed",t],["first",i]]),u._storagePrefix="suggest/memories",e.SuggestMemoryService=u=s=Ie([ge(0,C.IStorageService),ge(1,m.IConfigurationService)],u),e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,_.registerSingleton)(e.ISuggestMemoryService,u,1)}),define(ee[789],te([1,0,13,6,2,30,25,15,41,87,14,717]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(o,d){this._commandService=o,this._hiddenStates=new a(d)}createMenu(o,d,r){return new h(o,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},r),this._commandService,d)}resetHiddenStates(o){this._hiddenStates.reset(o)}};e.MenuService=t,e.MenuService=t=Ie([ge(0,S.ICommandService),ge(1,v.IStorageService)],t);let a=n=class{constructor(o){this._storageService=o,this._disposables=new y.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const d=o.get(n._key,0,"{}");this._data=JSON.parse(d)}catch{this._data=Object.create(null)}this._disposables.add(o.onDidChangeValue(0,n._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const d=o.get(n._key,0,"{}");this._data=JSON.parse(d)}catch(d){console.log("FAILED to read storage after UPDATE",d)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(o,d){var r;return(r=this._hiddenByDefaultCache.get(`${o.id}/${d}`))!==null&&r!==void 0?r:!1}setDefaultState(o,d,r){this._hiddenByDefaultCache.set(`${o.id}/${d}`,r)}isHidden(o,d){var r,g;const f=this._isHiddenByDefault(o,d),p=(g=(r=this._data[o.id])===null||r===void 0?void 0:r.includes(d))!==null&&g!==void 0?g:!1;return f?!p:p}updateHidden(o,d,r){this._isHiddenByDefault(o,d)&&(r=!r);const f=this._data[o.id];if(r)f?f.indexOf(d)<0&&f.push(d):this._data[o.id]=[d];else if(f){const p=f.indexOf(d);p>=0&&(0,C.removeFastWithoutKeepingOrder)(f,p),f.length===0&&delete this._data[o.id]}this._persist()}reset(o){if(o===void 0)this._data=Object.create(null),this._persist();else{for(const{id:d}of o)this._data[d]&&delete this._data[d];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const o=JSON.stringify(this._data);this._storageService.store(n._key,o,0,0)}finally{this._ignoreChangeEvent=!1}}};a._key="menu.hiddenCommands",a=n=Ie([ge(0,v.IStorageService)],a);let u=i=class{constructor(o,d,r,g,f){this._id=o,this._hiddenStates=d,this._collectContextKeysForSubmenus=r,this._commandService=g,this._contextKeyService=f,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const o=D.MenuRegistry.getMenuItems(this._id);let d;o.sort(i._compareMenuItems);for(const r of o){const g=r.group||"";(!d||d[0]!==g)&&(d=[g,[]],this._menuGroups.push(d)),d[1].push(r),this._collectContextKeys(r)}}_collectContextKeys(o){if(i._fillInKbExprKeys(o.when,this._structureContextKeys),(0,D.isIMenuItem)(o)){if(o.command.precondition&&i._fillInKbExprKeys(o.command.precondition,this._preconditionContextKeys),o.command.toggled){const d=o.command.toggled.condition||o.command.toggled;i._fillInKbExprKeys(d,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(o.submenu).forEach(this._collectContextKeys,this)}createActionGroups(o){const d=[];for(const r of this._menuGroups){const[g,f]=r,p=[];for(const b of f)if(this._contextKeyService.contextMatchesRules(b.when)){const w=(0,D.isIMenuItem)(b);w&&this._hiddenStates.setDefaultState(this._id,b.command.id,!!b.isHiddenByDefault);const E=l(this._id,w?b.command:b,this._hiddenStates);if(w)p.push(new D.MenuItemAction(b.command,b.alt,o,E,this._contextKeyService,this._commandService));else{const I=new i(b.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(o),N=_.Separator.join(...I.map(R=>R[1]));N.length>0&&p.push(new D.SubmenuItemAction(b,E,N))}}p.length>0&&d.push([g,p])}return d}static _fillInKbExprKeys(o,d){if(o)for(const r of o.keys())d.add(r)}static _compareMenuItems(o,d){const r=o.group,g=d.group;if(r!==g){if(r){if(!g)return-1}else return 1;if(r==="navigation")return-1;if(g==="navigation")return 1;const b=r.localeCompare(g);if(b!==0)return b}const f=o.order||0,p=d.order||0;return f<p?-1:f>p?1:i._compareTitles((0,D.isIMenuItem)(o)?o.command.title:o.title,(0,D.isIMenuItem)(d)?d.command.title:d.title)}static _compareTitles(o,d){const r=typeof o=="string"?o:o.original,g=typeof d=="string"?d:d.original;return r.localeCompare(g)}};u=i=Ie([ge(3,S.ICommandService),ge(4,m.IContextKeyService)],u);let h=class{constructor(o,d,r,g,f){this._disposables=new y.DisposableStore,this._menuInfo=new u(o,d,r.emitEventsForSubmenuChanges,g,f);const p=new L.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},r.eventDebounceDelay);this._disposables.add(p),this._disposables.add(D.MenuRegistry.onDidChangeMenu(I=>{I.has(o)&&p.schedule()}));const b=this._disposables.add(new y.DisposableStore),w=I=>{let N=!1,R=!1,F=!1;for(const M of I)if(N=N||M.isStructuralChange,R=R||M.isEnablementChange,F=F||M.isToggleChange,N&&R&&F)break;return{menu:this,isStructuralChange:N,isEnablementChange:R,isToggleChange:F}},E=()=>{b.add(f.onDidChangeContext(I=>{const N=I.affectsSome(this._menuInfo.structureContextKeys),R=I.affectsSome(this._menuInfo.preconditionContextKeys),F=I.affectsSome(this._menuInfo.toggledContextKeys);(N||R||F)&&this._onDidChange.fire({menu:this,isStructuralChange:N,isEnablementChange:R,isToggleChange:F})})),b.add(d.onDidChange(I=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:E,onDidRemoveLastListener:b.clear.bind(b),delay:r.eventDebounceDelay,merge:w}),this.onDidChange=this._onDidChange.event}getActions(o){return this._menuInfo.createActionGroups(o)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};h=Ie([ge(3,S.ICommandService),ge(4,m.IContextKeyService)],h);function l(c,o,d){const r=(0,D.isISubmenuItem)(o)?o.submenu.id:o.id,g=typeof o.title=="string"?o.title:o.title.value,f=(0,_.toAction)({id:`hide/${c.id}/${r}`,label:(0,s.localize)(0,null,g),run(){d.updateHidden(c,r,!0)}}),p=(0,_.toAction)({id:`toggle/${c.id}/${r}`,label:g,get checked(){return!d.isHidden(c,r)},run(){d.updateHidden(c,r,!!this.checked)}});return{hide:f,toggle:p,get isHidden(){return!p.checked}}}}),define(ee[75],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,L.createDecorator)("telemetryService")}),define(ee[16],te([1,0,604,21,33,12,50,65,30,25,15,8,117,35,75,20,66]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class h{constructor(T){this.id=T.id,this.precondition=T.precondition,this._kbOpts=T.kbOpts,this._menuOpts=T.menuOpts,this._description=T.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const T=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const O of T){let P=O.kbExpr;this.precondition&&(P?P=C.ContextKeyExpr.and(P,this.precondition):P=this.precondition);const x={id:this.id,weight:O.weight,args:O.args,when:P,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};n.KeybindingsRegistry.registerKeybindingRule(x)}}v.CommandsRegistry.registerCommand({id:this.id,handler:(T,O)=>this.runCommand(T,O),description:this._description})}_registerMenuItem(T){_.MenuRegistry.appendMenuItem(T.menuId,{group:T.group,command:{id:this.id,title:T.title,icon:T.icon,precondition:this.precondition},when:T.when,order:T.order})}}e.Command=h;class l extends h{constructor(){super(...arguments),this._implementations=[]}addImplementation(T,O,P,x){return this._implementations.push({priority:T,name:O,implementation:P,when:x}),this._implementations.sort((z,q)=>q.priority-z.priority),{dispose:()=>{for(let z=0;z<this._implementations.length;z++)if(this._implementations[z].implementation===P){this._implementations.splice(z,1);return}}}}runCommand(T,O){const P=T.get(u.ILogService),x=T.get(C.IContextKeyService);P.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const z of this._implementations){if(z.when){const B=x.getContext(document.activeElement);if(!z.when.evaluate(B))continue}const q=z.implementation(T,O);if(q)return P.trace(`Command '${this.id}' was handled by '${z.name}'.`),typeof q=="boolean"?void 0:q}P.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=l;class c extends h{constructor(T,O){super(O),this.command=T}runCommand(T,O){return this.command.runCommand(T,O)}}e.ProxyCommand=c;class o extends h{static bindToContribution(T){return class extends o{constructor(P){super(P),this._callback=P.handler}runEditorCommand(P,x,z){const q=T(x);q&&this._callback(q,z)}}}static runEditorCommand(T,O,P,x){const z=T.get(y.ICodeEditorService),q=z.getFocusedCodeEditor()||z.getActiveCodeEditor();if(q)return q.invokeWithinContext(B=>{if(B.get(C.IContextKeyService).contextMatchesRules(P??void 0))return x(B,q,O)})}runCommand(T,O){return o.runEditorCommand(T,O,this.precondition,(P,x,z)=>this.runEditorCommand(P,x,z))}}e.EditorCommand=o;class d extends o{static convertOptions(T){let O;Array.isArray(T.menuOpts)?O=T.menuOpts:T.menuOpts?O=[T.menuOpts]:O=[];function P(x){return x.menuId||(x.menuId=_.MenuId.EditorContext),x.title||(x.title=T.label),x.when=C.ContextKeyExpr.and(T.precondition,x.when),x}return Array.isArray(T.contextMenuOpts)?O.push(...T.contextMenuOpts.map(P)):T.contextMenuOpts&&O.push(P(T.contextMenuOpts)),T.menuOpts=O,T}constructor(T){super(d.convertOptions(T)),this.label=T.label,this.alias=T.alias}runEditorCommand(T,O,P){return this.reportTelemetry(T,O),this.run(T,O,P||{})}reportTelemetry(T,O){T.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=d;class r extends d{constructor(){super(...arguments),this._implementations=[]}addImplementation(T,O){return this._implementations.push([T,O]),this._implementations.sort((P,x)=>x[0]-P[0]),{dispose:()=>{for(let P=0;P<this._implementations.length;P++)if(this._implementations[P][1]===O){this._implementations.splice(P,1);return}}}}run(T,O,P){for(const x of this._implementations){const z=x[1](T,O,P);if(z)return typeof z=="boolean"?void 0:z}}}e.MultiEditorAction=r;class g extends _.Action2{run(T,...O){const P=T.get(y.ICodeEditorService),x=P.getFocusedCodeEditor()||P.getActiveCodeEditor();if(x)return x.invokeWithinContext(z=>{var q,B;const $=z.get(C.IContextKeyService),X=z.get(u.ILogService);if(!$.contextMatchesRules((q=this.desc.precondition)!==null&&q!==void 0?q:void 0)){X.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(B=this.desc.precondition)===null||B===void 0?void 0:B.serialize());return}return this.runEditorCommand(z,x,...O)})}}e.EditorAction2=g;function f(A,T){v.CommandsRegistry.registerCommand(A,function(O,...P){const x=O.get(s.IInstantiationService),[z,q]=P;(0,a.assertType)(k.URI.isUri(z)),(0,a.assertType)(D.Position.isIPosition(q));const B=O.get(S.IModelService).getModel(z);if(B){const $=D.Position.lift(q);return x.invokeFunction(T,B,$,...P.slice(2))}return O.get(m.ITextModelService).createModelReference(z).then($=>new Promise((X,ne)=>{try{const oe=x.invokeFunction(T,$.object.textEditorModel,D.Position.lift(q),P.slice(2));X(oe)}catch(oe){ne(oe)}}).finally(()=>{$.dispose()}))})}e.registerModelAndPositionCommand=f;function p(A){return F.INSTANCE.registerEditorCommand(A),A}e.registerEditorCommand=p;function b(A){const T=new A;return F.INSTANCE.registerEditorAction(T),T}e.registerEditorAction=b;function w(A){return F.INSTANCE.registerEditorAction(A),A}e.registerMultiEditorAction=w;function E(A){F.INSTANCE.registerEditorAction(A)}e.registerInstantiatedEditorAction=E;function I(A,T,O){F.INSTANCE.registerEditorContribution(A,T,O)}e.registerEditorContribution=I;var N;(function(A){function T(q){return F.INSTANCE.getEditorCommand(q)}A.getEditorCommand=T;function O(){return F.INSTANCE.getEditorActions()}A.getEditorActions=O;function P(){return F.INSTANCE.getEditorContributions()}A.getEditorContributions=P;function x(q){return F.INSTANCE.getEditorContributions().filter(B=>q.indexOf(B.id)>=0)}A.getSomeEditorContributions=x;function z(){return F.INSTANCE.getDiffEditorContributions()}A.getDiffEditorContributions=z})(N||(e.EditorExtensionsRegistry=N={}));const R={EditorCommonContributions:"editor.contributions"};class F{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(T,O,P){this.editorContributions.push({id:T,ctor:O,instantiation:P})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(T){T.register(),this.editorActions.push(T)}getEditorActions(){return this.editorActions}registerEditorCommand(T){T.register(),this.editorCommands[T.id]=T}getEditorCommand(T){return this.editorCommands[T]||null}}F.INSTANCE=new F,i.Registry.add(R.EditorCommonContributions,F.INSTANCE);function M(A){return A.register(),A}e.UndoCommand=M(new l({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(0,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(1,null),order:1}]})),M(new c(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new l({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(2,null),order:2},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(3,null),order:1}]})),M(new c(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new l({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_.MenuId.MenubarSelectionMenu,group:"1_basic",title:L.localize(4,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(5,null),order:1}]}))}),define(ee[189],te([1,0,603,51,20,49,16,33,497,71,206,207,246,12,5,22,15,117]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const l=0;class c extends S.EditorCommand{runEditorCommand(R,F,M){const A=F._getViewModel();A&&this.runCoreEditorCommand(A,M||{})}}e.CoreEditorCommand=c;var o;(function(N){const R=function(M){if(!y.isObject(M))return!1;const A=M;return!(!y.isString(A.to)||!y.isUndefined(A.by)&&!y.isString(A.by)||!y.isUndefined(A.value)&&!y.isNumber(A.value)||!y.isUndefined(A.revealCursor)&&!y.isBoolean(A.revealCursor))};N.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function F(M){let A;switch(M.to){case N.RawDirection.Up:A=1;break;case N.RawDirection.Right:A=2;break;case N.RawDirection.Down:A=3;break;case N.RawDirection.Left:A=4;break;default:return null}let T;switch(M.by){case N.RawUnit.Line:T=1;break;case N.RawUnit.WrappedLine:T=2;break;case N.RawUnit.Page:T=3;break;case N.RawUnit.HalfPage:T=4;break;case N.RawUnit.Editor:T=5;break;case N.RawUnit.Column:T=6;break;default:T=2}const O=Math.floor(M.value||1),P=!!M.revealCursor;return{direction:A,unit:T,value:O,revealCursor:P,select:!!M.select}}N.parse=F})(o||(e.EditorScroll_=o={}));var d;(function(N){const R=function(F){if(!y.isObject(F))return!1;const M=F;return!(!y.isNumber(M.lineNumber)&&!y.isString(M.lineNumber)||!y.isUndefined(M.at)&&!y.isString(M.at))};N.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(d||(e.RevealLine_=d={}));class r{constructor(R){R.addImplementation(1e4,"code-editor",(F,M)=>{const A=F.get(m.ICodeEditorService).getFocusedCodeEditor();return A&&A.hasTextFocus()?this._runEditorCommand(F,A,M):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(F,M)=>{const A=document.activeElement;return A&&["input","textarea"].indexOf(A.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(F,M)=>{const A=F.get(m.ICodeEditorService).getActiveCodeEditor();return A?(A.focus(),this._runEditorCommand(F,A,M)):!1})}_runEditorCommand(R,F,M){const A=this.runEditorCommand(R,F,M);return A||!0}}var g;(function(N){class R extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){if(!V.position)return;W.model.pushStackElement(),W.setCursorStates(V.source,3,[s.CursorMoveCommands.moveTo(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)])&&V.revealType!==2&&W.revealPrimaryCursor(V.source,!0,!0)}}N.MoveTo=(0,S.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,S.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class F extends c{runCoreEditorCommand(W,V){W.model.pushStackElement();const Z=this._getColumnSelectResult(W,W.getPrimaryCursorState(),W.getCursorColumnSelectData(),V);Z!==null&&(W.setCursorStates(V.source,3,Z.viewStates.map(ie=>v.CursorState.fromViewState(ie))),W.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Z.fromLineNumber,fromViewVisualColumn:Z.fromVisualColumn,toViewLineNumber:Z.toLineNumber,toViewVisualColumn:Z.toVisualColumn}),Z.reversed?W.revealTopMostCursor(V.source):W.revealBottomMostCursor(V.source))}}N.ColumnSelect=(0,S.registerEditorCommand)(new class extends F{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(U,W,V,Z){if(typeof Z.position>"u"||typeof Z.viewPosition>"u"||typeof Z.mouseColumn>"u")return null;const ie=U.model.validatePosition(Z.position),le=U.coordinatesConverter.validateViewPosition(new i.Position(Z.viewPosition.lineNumber,Z.viewPosition.column),ie),he=Z.doColumnSelect?V.fromViewLineNumber:le.lineNumber,de=Z.doColumnSelect?V.fromViewVisualColumn:Z.mouseColumn-1;return _.ColumnSelection.columnSelect(U.cursorConfig,U,he,de,le.lineNumber,Z.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(U,W,V,Z){return _.ColumnSelection.columnSelectLeft(U.cursorConfig,U,V)}}),N.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(U,W,V,Z){return _.ColumnSelection.columnSelectRight(U.cursorConfig,U,V)}});class M extends F{constructor(W){super(W),this._isPaged=W.isPaged}_getColumnSelectResult(W,V,Z,ie){return _.ColumnSelection.columnSelectUp(W.cursorConfig,W,Z,this._isPaged)}}N.CursorColumnSelectUp=(0,S.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class A extends F{constructor(W){super(W),this._isPaged=W.isPaged}_getColumnSelectResult(W,V,Z,ie){return _.ColumnSelection.columnSelectDown(W.cursorConfig,W,Z,this._isPaged)}}N.CursorColumnSelectDown=(0,S.registerEditorCommand)(new A({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new A({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class T extends c{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(W,V){const Z=s.CursorMove.parse(V);Z&&this._runCursorMove(W,V.source,Z)}_runCursorMove(W,V,Z){W.model.pushStackElement(),W.setCursorStates(V,3,T._move(W,W.getCursorStates(),Z)),W.revealPrimaryCursor(V,!0)}static _move(W,V,Z){const ie=Z.select,le=Z.value;switch(Z.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(W,V,Z.direction,ie,le,Z.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(W,V,Z.direction,ie,le);default:return null}}}N.CursorMoveImpl=T,N.CursorMove=(0,S.registerEditorCommand)(new T);class O extends c{constructor(W){super(W),this._staticArgs=W.args}runCoreEditorCommand(W,V){let Z=this._staticArgs;this._staticArgs.value===-1&&(Z={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:V.pageSize||W.cursorConfig.pageSize}),W.model.pushStackElement(),W.setCursorStates(V.source,3,s.CursorMoveCommands.simpleMove(W,W.getCursorStates(),Z.direction,Z.select,Z.value,Z.unit)),W.revealPrimaryCursor(V.source,!0)}}N.CursorLeft=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),N.CursorLeftSelect=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1039}})),N.CursorRight=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),N.CursorRightSelect=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1041}})),N.CursorUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),N.CursorUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),N.CursorPageUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1035}})),N.CursorDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),N.CursorDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),N.CursorPageDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1036}})),N.CreateCursor=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(U,W){if(!W.position)return;let V;W.wholeLine?V=s.CursorMoveCommands.line(U,U.getPrimaryCursorState(),!1,W.position,W.viewPosition):V=s.CursorMoveCommands.moveTo(U,U.getPrimaryCursorState(),!1,W.position,W.viewPosition);const Z=U.getCursorStates();if(Z.length>1){const ie=V.modelState?V.modelState.position:null,le=V.viewState?V.viewState.position:null;for(let he=0,de=Z.length;he<de;he++){const ce=Z[he];if(!(ie&&!ce.modelState.selection.containsPosition(ie))&&!(le&&!ce.viewState.selection.containsPosition(le))){Z.splice(he,1),U.model.pushStackElement(),U.setCursorStates(W.source,3,Z);return}}}Z.push(V),U.model.pushStackElement(),U.setCursorStates(W.source,3,Z)}}),N.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(U,W){if(!W.position)return;const V=U.getLastAddedCursorIndex(),Z=U.getCursorStates(),ie=Z.slice(0);ie[V]=s.CursorMoveCommands.moveTo(U,Z[V],!0,W.position,W.viewPosition),U.model.pushStackElement(),U.setCursorStates(W.source,3,ie)}});class P extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,s.CursorMoveCommands.moveToBeginningOfLine(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}N.CursorHome=(0,S.registerEditorCommand)(new P({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),N.CursorHomeSelect=(0,S.registerEditorCommand)(new P({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class x extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,this._exec(W.getCursorStates())),W.revealPrimaryCursor(V.source,!0)}_exec(W){const V=[];for(let Z=0,ie=W.length;Z<ie;Z++){const le=W[Z],he=le.modelState.position.lineNumber;V[Z]=v.CursorState.fromModelState(le.modelState.move(this._inSelectionMode,he,1,0))}return V}}N.CursorLineStart=(0,S.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),N.CursorLineStartSelect=(0,S.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class z extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,s.CursorMoveCommands.moveToEndOfLine(W,W.getCursorStates(),this._inSelectionMode,V.sticky||!1)),W.revealPrimaryCursor(V.source,!0)}}N.CursorEnd=(0,S.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,S.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(1,null),type:"boolean",default:!1}}}}]}}));class q extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,this._exec(W,W.getCursorStates())),W.revealPrimaryCursor(V.source,!0)}_exec(W,V){const Z=[];for(let ie=0,le=V.length;ie<le;ie++){const he=V[ie],de=he.modelState.position.lineNumber,ce=W.model.getLineMaxColumn(de);Z[ie]=v.CursorState.fromModelState(he.modelState.move(this._inSelectionMode,de,ce,0))}return Z}}N.CursorLineEnd=(0,S.registerEditorCommand)(new q({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),N.CursorLineEndSelect=(0,S.registerEditorCommand)(new q({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class B extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}N.CursorTop=(0,S.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),N.CursorTopSelect=(0,S.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class $ extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,s.CursorMoveCommands.moveToEndOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}N.CursorBottom=(0,S.registerEditorCommand)(new $({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),N.CursorBottomSelect=(0,S.registerEditorCommand)(new $({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class X extends c{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}determineScrollMethod(W){const V=[6],Z=[1,2,3,4,5,6],ie=[4,2],le=[1,3];return V.includes(W.unit)&&ie.includes(W.direction)?this._runHorizontalEditorScroll.bind(this):Z.includes(W.unit)&&le.includes(W.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(W,V){const Z=o.parse(V);if(!Z)return;const ie=this.determineScrollMethod(Z);ie&&ie(W,V.source,Z)}_runVerticalEditorScroll(W,V,Z){const ie=this._computeDesiredScrollTop(W,Z);if(Z.revealCursor){const le=W.getCompletelyVisibleViewRangeAtScrollTop(ie);W.setCursorStates(V,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(W,W.getPrimaryCursorState(),le,Z.select)])}W.viewLayout.setScrollPosition({scrollTop:ie},0)}_computeDesiredScrollTop(W,V){if(V.unit===1){const le=W.viewLayout.getFutureViewport(),he=W.getCompletelyVisibleViewRangeAtScrollTop(le.top),de=W.coordinatesConverter.convertViewRangeToModelRange(he);let ce;V.direction===1?ce=Math.max(1,de.startLineNumber-V.value):ce=Math.min(W.model.getLineCount(),de.startLineNumber+V.value);const ae=W.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(ce,1));return W.viewLayout.getVerticalOffsetForLineNumber(ae.lineNumber)}if(V.unit===5){let le=0;return V.direction===3&&(le=W.model.getLineCount()-W.cursorConfig.pageSize),W.viewLayout.getVerticalOffsetForLineNumber(le)}let Z;V.unit===3?Z=W.cursorConfig.pageSize*V.value:V.unit===4?Z=Math.round(W.cursorConfig.pageSize/2)*V.value:Z=V.value;const ie=(V.direction===1?-1:1)*Z;return W.viewLayout.getCurrentScrollTop()+ie*W.cursorConfig.lineHeight}_runHorizontalEditorScroll(W,V,Z){const ie=this._computeDesiredScrollLeft(W,Z);W.viewLayout.setScrollPosition({scrollLeft:ie},0)}_computeDesiredScrollLeft(W,V){const Z=(V.direction===4?-1:1)*V.value;return W.viewLayout.getCurrentScrollLeft()+Z*W.cursorConfig.typicalHalfwidthCharacterWidth}}N.EditorScrollImpl=X,N.EditorScroll=(0,S.registerEditorCommand)(new X),N.ScrollLineUp=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Up,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollPageUp=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Up,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollEditorTop=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Up,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollLineDown=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Down,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollPageDown=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Down,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollEditorBottom=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Down,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollLeft=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Left,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:W.source})}}),N.ScrollRight=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,W){N.EditorScroll.runCoreEditorCommand(U,{to:o.RawDirection.Right,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:W.source})}});class ne extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){V.position&&(W.model.pushStackElement(),W.setCursorStates(V.source,3,[s.CursorMoveCommands.word(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position)]),V.revealType!==2&&W.revealPrimaryCursor(V.source,!0,!0))}}N.WordSelect=(0,S.registerEditorCommand)(new ne({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,S.registerEditorCommand)(new ne({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(U,W){if(!W.position)return;const V=U.getLastAddedCursorIndex(),Z=U.getCursorStates(),ie=Z.slice(0),le=Z[V];ie[V]=s.CursorMoveCommands.word(U,le,le.modelState.hasSelection(),W.position),U.model.pushStackElement(),U.setCursorStates(W.source,3,ie)}});class oe extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){V.position&&(W.model.pushStackElement(),W.setCursorStates(V.source,3,[s.CursorMoveCommands.line(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),V.revealType!==2&&W.revealPrimaryCursor(V.source,!1,!0))}}N.LineSelect=(0,S.registerEditorCommand)(new oe({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,S.registerEditorCommand)(new oe({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Y extends c{constructor(W){super(W),this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){if(!V.position)return;const Z=W.getLastAddedCursorIndex(),ie=W.getCursorStates(),le=ie.slice(0);le[Z]=s.CursorMoveCommands.line(W,ie[Z],this._inSelectionMode,V.position,V.viewPosition),W.model.pushStackElement(),W.setCursorStates(V.source,3,le)}}N.LastCursorLineSelect=(0,S.registerEditorCommand)(new Y({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new Y({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"cancelSelection",precondition:a.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates(W.source,3,[s.CursorMoveCommands.cancelSelection(U,U.getPrimaryCursorState())]),U.revealPrimaryCursor(W.source,!0)}}),N.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"removeSecondaryCursors",precondition:a.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:l+1,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates(W.source,3,[U.getPrimaryCursorState()]),U.revealPrimaryCursor(W.source,!0),(0,D.status)(L.localize(2,null))}}),N.RevealLine=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"revealLine",precondition:void 0,description:d.description})}runCoreEditorCommand(U,W){const V=W,Z=V.lineNumber||0;let ie=typeof Z=="number"?Z+1:parseInt(Z)+1;ie<1&&(ie=1);const le=U.model.getLineCount();ie>le&&(ie=le);const he=new t.Range(ie,1,ie,U.model.getLineMaxColumn(ie));let de=0;if(V.at)switch(V.at){case d.RawAtArgument.Top:de=3;break;case d.RawAtArgument.Center:de=1;break;case d.RawAtArgument.Bottom:de=4;break;default:break}const ce=U.coordinatesConverter.convertModelRangeToViewRange(he);U.revealRange(W.source,!1,ce,de,0)}}),N.SelectAll=new class extends r{constructor(){super(S.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(U,W,V){const Z=W._getViewModel();Z&&this.runCoreEditorCommand(Z,V)}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(U,U.getPrimaryCursorState())])}},N.SetSelection=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(U,W){W.selection&&(U.model.pushStackElement(),U.setCursorStates(W.source,3,[v.CursorState.fromModelSelection(W.selection)]))}})})(g||(e.CoreNavigationCommands=g={}));const f=u.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,a.EditorContextKeys.columnSelection);function p(N,R){h.KeybindingsRegistry.registerKeybindingRule({id:N,primary:R,when:f,weight:l+1})}p(g.CursorColumnSelectLeft.id,1039),p(g.CursorColumnSelectRight.id,1041),p(g.CursorColumnSelectUp.id,1040),p(g.CursorColumnSelectPageUp.id,1035),p(g.CursorColumnSelectDown.id,1042),p(g.CursorColumnSelectPageDown.id,1036);function b(N){return N.register(),N}var w;(function(N){class R extends S.EditorCommand{runEditorCommand(M,A,T){const O=A._getViewModel();O&&this.runCoreEditingCommand(A,O,T||{})}}N.CoreEditingCommand=R,N.LineBreakInsert=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:a.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(F,M,A){F.pushUndoStop(),F.executeCommands(this.id,n.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(T=>T.modelState.selection)))}}),N.Outdent=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:a.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:u.ContextKeyExpr.and(a.EditorContextKeys.editorTextFocus,a.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(F,M,A){F.pushUndoStop(),F.executeCommands(this.id,n.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(T=>T.modelState.selection))),F.pushUndoStop()}}),N.Tab=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:a.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:u.ContextKeyExpr.and(a.EditorContextKeys.editorTextFocus,a.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(F,M,A){F.pushUndoStop(),F.executeCommands(this.id,n.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(T=>T.modelState.selection))),F.pushUndoStop()}}),N.DeleteLeft=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(F,M,A){const[T,O]=C.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(P=>P.modelState.selection),M.getCursorAutoClosedCharacters());T&&F.pushUndoStop(),F.executeCommands(this.id,O),M.setPrevEditOperationType(2)}}),N.DeleteRight=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:l,kbExpr:a.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(F,M,A){const[T,O]=C.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(P=>P.modelState.selection));T&&F.pushUndoStop(),F.executeCommands(this.id,O),M.setPrevEditOperationType(3)}}),N.Undo=new class extends r{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(F,M,A){if(!(!M.hasModel()||M.getOption(89)===!0))return M.getModel().undo()}},N.Redo=new class extends r{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(F,M,A){if(!(!M.hasModel()||M.getOption(89)===!0))return M.getModel().redo()}}})(w||(e.CoreEditingCommands=w={}));class E extends S.Command{constructor(R,F,M){super({id:R,precondition:void 0,description:M}),this._handlerId=F}runCommand(R,F){const M=R.get(m.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,F)}}function I(N,R){b(new E("default:"+N,N)),b(new E(N,N,R))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(ee[790],te([1,0,234,16]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let y=class{constructor(S,m){}dispose(){}};e.MarkerDecorationsContribution=y,y.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=y=Ie([ge(1,L.IMarkerDecorationsService)],y),(0,k.registerEditorContribution)(y.ID,y,0)}),define(ee[791],te([1,0,189,12,17]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(m,_,v,C){this.configuration=m,this.viewModel=_,this.userInputEvents=v,this.commandDelegate=C}paste(m,_,v,C){this.commandDelegate.paste(m,_,v,C)}type(m){this.commandDelegate.type(m)}compositionType(m,_,v,C){this.commandDelegate.compositionType(m,_,v,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){L.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const _=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<_?new k.Position(m.lineNumber,_):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(76)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(76)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const _=this.configuration.options,v=y.isLinux&&_.get(105),C=_.get(21);m.middleButton&&!v?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position,m.revealType):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position,m.revealType):this._lastCursorLineSelect(m.position,m.revealType):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount===2?m.onInjectedText||(this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position,m.revealType):m.inSelectionMode?this._wordSelectDrag(m.position,m.revealType):this._wordSelect(m.position,m.revealType)):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position,m.revealType):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):C?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position,m.revealType):this.moveTo(m.position,m.revealType)}_usualArgs(m,_){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,revealType:_}}moveTo(m,_){L.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_moveToSelect(m,_){L.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_columnSelect(m,_,v){m=this._validateViewColumn(m),L.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:_,doColumnSelect:v})}_createCursor(m,_){m=this._validateViewColumn(m),L.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:_})}_lastCursorMoveToSelect(m,_){L.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_wordSelect(m,_){L.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_wordSelectDrag(m,_){L.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorWordSelect(m,_){L.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lineSelect(m,_){L.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lineSelectDrag(m,_){L.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorLineSelect(m,_){L.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorLineSelectDrag(m,_){L.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_selectAll(){L.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=D}),define(ee[792],te([1,0,6,58,64,108,115,75]),function(G,e,L,k,y,D,S,m){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let v=_=class{constructor(s,n,i){this.editorWorkerService=n,this.telemetryService=i,this.onDidChangeEventEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(s)}dispose(){var s;(s=this.diffAlgorithmOnDidChangeSubscription)===null||s===void 0||s.dispose()}computeDiff(s,n,i,t){var a,u;return Se(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(s,n,i,t);if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return n.getLineCount()===1&&n.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new D.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,n.getLineCount()+1),[new D.RangeMapping(s.getFullModelRange(),n.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const h=JSON.stringify([s.uri.toString(),n.uri.toString()]),l=JSON.stringify([s.id,n.id,s.getAlternativeVersionId(),n.getAlternativeVersionId(),JSON.stringify(i)]),c=_.diffCache.get(h);if(c&&c.context===l)return c.result;const o=k.StopWatch.create(),d=yield this.editorWorkerService.computeDiff(s.uri,n.uri,i,this.diffAlgorithm),r=o.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:r,timedOut:(a=d?.quitEarly)!==null&&a!==void 0?a:!0,detectedMoves:i.computeMoves?(u=d?.moves.length)!==null&&u!==void 0?u:0:-1}),t.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!d)throw new Error("no diff result available");return _.diffCache.size>10&&_.diffCache.delete(_.diffCache.keys().next().value),_.diffCache.set(h,{result:d,context:l}),d})}setOptions(s){var n;let i=!1;s.diffAlgorithm&&this.diffAlgorithm!==s.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=s.diffAlgorithm,typeof s.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=s.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),i=!0),i&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=v,v.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=v=_=Ie([ge(1,S.IEditorWorkerService),ge(2,m.ITelemetryService)],v)}),define(ee[793],te([1,0,792,45,8]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,y.createDecorator)("diffProviderFactoryService");let D=class{constructor(m){this.instantiationService=m}createDiffProvider(m,_){return this.instantiationService.createInstance(L.WorkerBasedDocumentDiffProvider,_)}};e.DiffProviderFactoryService=D,e.DiffProviderFactoryService=D=Ie([ge(0,y.IInstantiationService)],D),(0,k.registerSingleton)(e.IDiffProviderFactoryService,D,1)}),define(ee[351],te([1,0,13,19,2,40,793,101,64,278,108,178,280]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let i=class extends y.Disposable{setActiveMovedText(o){this._activeMovedText.set(o,void 0)}constructor(o,d,r,g){super(),this.model=o,this._options=d,this._editor=r,this._diffProviderFactoryService=g,this._isDiffUpToDate=(0,D.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,D.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,D.observableValue)(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,D.derived)(this,w=>this._options.hideUnchangedRegions.read(w)?this._unchangedRegions.read(w).regions:((0,D.transaction)(E=>{for(const I of this._unchangedRegions.get().regions)I.collapseAll(E)}),[])),this.movedTextToCompare=(0,D.observableValue)(this,void 0),this._activeMovedText=(0,D.observableValue)(this,void 0),this._hoveredMovedText=(0,D.observableValue)(this,void 0),this.activeMovedText=(0,D.derived)(this,w=>{var E,I;return(I=(E=this.movedTextToCompare.read(w))!==null&&E!==void 0?E:this._hoveredMovedText.read(w))!==null&&I!==void 0?I:this._activeMovedText.read(w)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,D.derived)(this,w=>{const E=this._diffProviderFactoryService.createDiffProvider(this._editor,{diffAlgorithm:this._options.diffAlgorithm.read(w)}),I=(0,D.observableSignalFromEvent)("onDidChange",E.onDidChange);return{diffProvider:E,onChangeSignal:I}}),this._register((0,y.toDisposable)(()=>this._cancellationTokenSource.cancel()));const f=(0,D.observableSignal)("contentChangedSignal"),p=this._register(new L.RunOnceScheduler(()=>f.trigger(void 0),200)),b=(w,E,I)=>{const N=u.fromDiffs(w.changes,o.original.getLineCount(),o.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(I),this._options.hideUnchangedRegionsContextLineCount.read(I)),R=this._unchangedRegions.get(),F=R.originalDecorationIds.map(O=>o.original.getDecorationRange(O)).filter(O=>!!O).map(O=>_.LineRange.fromRange(O)),M=R.modifiedDecorationIds.map(O=>o.modified.getDecorationRange(O)).filter(O=>!!O).map(O=>_.LineRange.fromRange(O)),A=o.original.deltaDecorations(R.originalDecorationIds,N.map(O=>({range:O.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),T=o.modified.deltaDecorations(R.modifiedDecorationIds,N.map(O=>({range:O.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const O of N)for(let P=0;P<R.regions.length;P++)if(O.originalUnchangedRange.intersectsStrict(F[P])&&O.modifiedUnchangedRange.intersectsStrict(M[P])){O.setHiddenModifiedRange(R.regions[P].getHiddenModifiedRange(void 0),E);break}this._unchangedRegions.set({regions:N,originalDecorationIds:A,modifiedDecorationIds:T},E)};this._register(o.modified.onDidChangeContent(w=>{if(this._diff.get()){const I=s.TextEditInfo.fromModelContentChanges(w.changes),N=(this._lastDiff,o.original,o.modified,void 0);N&&(this._lastDiff=N,(0,D.transaction)(R=>{this._diff.set(t.fromDiffResult(this._lastDiff),R),b(N,R);const F=this.movedTextToCompare.get();this.movedTextToCompare.set(F?this._lastDiff.moves.find(M=>M.lineRangeMapping.modified.intersect(F.lineRangeMapping.modified)):void 0,R)}))}p.schedule()})),this._register(o.original.onDidChangeContent(w=>{if(this._diff.get()){const I=s.TextEditInfo.fromModelContentChanges(w.changes),N=(this._lastDiff,o.original,o.modified,void 0);N&&(this._lastDiff=N,(0,D.transaction)(R=>{this._diff.set(t.fromDiffResult(this._lastDiff),R),b(N,R);const F=this.movedTextToCompare.get();this.movedTextToCompare.set(F?this._lastDiff.moves.find(M=>M.lineRangeMapping.modified.intersect(F.lineRangeMapping.modified)):void 0,R)}))}p.schedule()})),this._register((0,D.autorunWithStore)((w,E)=>Se(this,void 0,void 0,function*(){var I,N;this._options.hideUnchangedRegionsMinimumLineCount.read(w),this._options.hideUnchangedRegionsContextLineCount.read(w),p.cancel(),f.read(w);const R=this._diffProvider.read(w);R.onChangeSignal.read(w),(0,m.readHotReloadableExport)(v.DefaultLinesDiffComputer,w),this._isDiffUpToDate.set(!1,void 0);let F=[];E.add(o.original.onDidChangeContent(T=>{const O=s.TextEditInfo.fromModelContentChanges(T.changes);F=(0,n.combineTextEditInfos)(F,O)}));let M=[];E.add(o.modified.onDidChangeContent(T=>{const O=s.TextEditInfo.fromModelContentChanges(T.changes);M=(0,n.combineTextEditInfos)(M,O)}));let A=yield R.diffProvider.computeDiff(o.original,o.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(w),maxComputationTimeMs:this._options.maxComputationTimeMs.read(w),computeMoves:this._options.showMoves.read(w)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(A=(I=(o.original,o.modified,void 0))!==null&&I!==void 0?I:A,A=(N=(o.original,o.modified,void 0))!==null&&N!==void 0?N:A,(0,D.transaction)(T=>{b(A,T),this._lastDiff=A;const O=t.fromDiffResult(A);this._diff.set(O,T),this._isDiffUpToDate.set(!0,T);const P=this.movedTextToCompare.get();this.movedTextToCompare.set(P?this._lastDiff.moves.find(x=>x.lineRangeMapping.modified.intersect(P.lineRangeMapping.modified)):void 0,T)}))})))}ensureModifiedLineIsVisible(o,d){var r;if(((r=this.diff.get())===null||r===void 0?void 0:r.mappings.length)===0)return;const g=this._unchangedRegions.get().regions;for(const f of g)if(f.getHiddenModifiedRange(void 0).contains(o)){f.showModifiedLine(o,d);return}}ensureOriginalLineIsVisible(o,d){var r;if(((r=this.diff.get())===null||r===void 0?void 0:r.mappings.length)===0)return;const g=this._unchangedRegions.get().regions;for(const f of g)if(f.getHiddenOriginalRange(void 0).contains(o)){f.showOriginalLine(o,d);return}}waitForDiff(){return Se(this,void 0,void 0,function*(){yield(0,D.waitForState)(this.isDiffUpToDate,o=>o)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(d=>({range:d.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(o){const d=o.collapsedRegions.map(g=>_.LineRange.deserialize(g.range)),r=this._unchangedRegions.get();(0,D.transaction)(g=>{for(const f of r.regions)for(const p of d)if(f.modifiedUnchangedRange.intersect(p)){f.setHiddenModifiedRange(p,g);break}})}};e.DiffEditorViewModel=i,e.DiffEditorViewModel=i=Ie([ge(3,S.IDiffProviderFactoryService)],i);class t{static fromDiffResult(o){return new t(o.changes.map(d=>new a(d)),o.moves||[],o.identical,o.quitEarly)}constructor(o,d,r,g){this.mappings=o,this.movedTexts=d,this.identical=r,this.quitEarly=g}}e.DiffState=t;class a{constructor(o){this.lineRangeMapping=o}}e.DiffMapping=a;class u{static fromDiffs(o,d,r,g,f){const p=C.DetailedLineRangeMapping.inverse(o,d,r),b=[];for(const w of p){let E=w.original.startLineNumber,I=w.modified.startLineNumber,N=w.original.length;const R=E===1&&I===1,F=E+N===d+1&&I+N===r+1;(R||F)&&N>=f+g?(R&&!F&&(N-=f),F&&!R&&(E+=f,I+=f,N-=f),b.push(new u(E,I,N,0,0))):N>=f*2+g&&(E+=f,I+=f,N-=f*2,b.push(new u(E,I,N,0,0)))}return b}get originalUnchangedRange(){return _.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return _.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(o,d,r,g,f){this.originalLineNumber=o,this.modifiedLineNumber=d,this.lineCount=r,this._visibleLineCountTop=(0,D.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,D.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,D.derived)(this,p=>this.visibleLineCountTop.read(p)+this.visibleLineCountBottom.read(p)===this.lineCount&&!this.isDragged.read(p)),this.isDragged=(0,D.observableValue)(this,!1),this._visibleLineCountTop.set(g,void 0),this._visibleLineCountBottom.set(f,void 0)}shouldHideControls(o){return this._shouldHideControls.read(o)}getHiddenOriginalRange(o){return _.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(o),this.lineCount-this._visibleLineCountTop.read(o)-this._visibleLineCountBottom.read(o))}getHiddenModifiedRange(o){return _.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(o),this.lineCount-this._visibleLineCountTop.read(o)-this._visibleLineCountBottom.read(o))}setHiddenModifiedRange(o,d){const r=o.startLineNumber-this.modifiedLineNumber,g=this.modifiedLineNumber+this.lineCount-o.endLineNumberExclusive;this.setState(r,g,d)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(o=10,d){const r=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+o,r),d)}showMoreBelow(o=10,d){const r=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+o,r),d)}showAll(o){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),o)}showModifiedLine(o,d){const r=o+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),g=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-o;r<g?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+r,d):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+g,d)}showOriginalLine(o,d){const r=o-this.originalLineNumber,g=this.originalLineNumber+this.lineCount-o;r<g?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+g-r,this.getMaxVisibleLineCountTop()),d):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+r-g,this.getMaxVisibleLineCountBottom()),d)}collapseAll(o){this._visibleLineCountTop.set(0,o),this._visibleLineCountBottom.set(0,o)}setState(o,d,r){o=Math.max(Math.min(o,this.lineCount),0),d=Math.max(Math.min(d,this.lineCount-o),0),this._visibleLineCountTop.set(o,r),this._visibleLineCountBottom.set(d,r)}}e.UnchangedRegion=u;function h(c,o,d,r){}function l(c,o,d,r){}}),define(ee[794],te([1,0,49,56,61,16,24,22,630,15,437]),function(G,e,L,k,y,D,S,m,_,v){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new v.RawContextKey("selectionAnchorSet",!1);let s=C=class{static get(h){return h.getContribution(C.ID)}constructor(h,l){this.editor=h,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(l),this.modelChangeListener=h.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const h=this.editor.getPosition();this.editor.changeDecorations(l=>{this.decorationId&&l.removeDecoration(this.decorationId),this.decorationId=l.addDecoration(S.Selection.fromPositions(h,h),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,_.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,L.alert)((0,_.localize)(1,null,h.lineNumber,h.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const h=this.editor.getModel().getDecorationRange(this.decorationId);h&&this.editor.setPosition(h.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const h=this.editor.getModel().getDecorationRange(this.decorationId);if(h){const l=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(h.getStartPosition(),l)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const h=this.decorationId;this.editor.changeDecorations(l=>{l.removeDecoration(h),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};s.ID="editor.contrib.selectionAnchorController",s=C=Ie([ge(1,v.IContextKeyService)],s);class n extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,_.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2080),weight:100}})}run(h,l){var c;return Se(this,void 0,void 0,function*(){(c=s.get(l))===null||c===void 0||c.setSelectionAnchor()})}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,_.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(h,l){var c;return Se(this,void 0,void 0,function*(){(c=s.get(l))===null||c===void 0||c.goToSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,_.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2089),weight:100}})}run(h,l){var c;return Se(this,void 0,void 0,function*(){(c=s.get(l))===null||c===void 0||c.selectFromAnchorToCursor()})}}class a extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,_.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(h,l){var c;return Se(this,void 0,void 0,function*(){(c=s.get(l))===null||c===void 0||c.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(s.ID,s,4),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(a)}),define(ee[795],te([1,0,16,22,538,632]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends L.EditorAction{constructor(C,s){super(s),this.left=C}run(C,s){if(!s.hasModel())return;const n=[],i=s.getSelections();for(const t of i)n.push(new y.MoveCaretCommand(t,this.left));s.pushUndoStop(),s.executeCommands(this.id,n),s.pushUndoStop()}}class m extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class _ extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(_)}),define(ee[796],te([1,0,16,123,205,5,22,633]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends L.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:m.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(C,s){if(!s.hasModel())return;const n=s.getModel(),i=[],t=s.getSelections();for(const a of t){if(!a.isEmpty())continue;const u=a.startLineNumber,h=a.startColumn,l=n.getLineMaxColumn(u);if(u===1&&(h===1||h===2&&l===2))continue;const c=h===l?a.getPosition():y.MoveOperations.rightPosition(n,a.getPosition().lineNumber,a.getPosition().column),o=y.MoveOperations.leftPosition(n,c),d=y.MoveOperations.leftPosition(n,o),r=n.getValueInRange(D.Range.fromPositions(d,o)),g=n.getValueInRange(D.Range.fromPositions(o,c)),f=D.Range.fromPositions(d,c);i.push(new k.ReplaceCommand(f,g+r))}i.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,i),s.pushUndoStop())}}(0,L.registerEditorAction)(_)}),define(ee[797],te([1,0,51,17,184,16,33,22,634,30,103,15]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const n="9_cutcopypaste",i=k.isNative||document.queryCommandSupported("cut"),t=k.isNative||document.queryCommandSupported("copy"),a=typeof navigator.clipboard>"u"||L.isFirefox?document.queryCommandSupported("paste"):!0;function u(c){return c.register(),c}e.CutAction=i?u(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(0,null),order:1},{menuId:v.MenuId.EditorContext,group:n,title:_.localize(1,null),when:m.EditorContextKeys.writable,order:1},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(2,null),order:1},{menuId:v.MenuId.SimpleEditorContext,group:n,title:_.localize(3,null),when:m.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?u(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(4,null),order:2},{menuId:v.MenuId.EditorContext,group:n,title:_.localize(5,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(6,null),order:1},{menuId:v.MenuId.SimpleEditorContext,group:n,title:_.localize(7,null),order:2}]})):void 0,v.MenuRegistry.appendMenuItem(v.MenuId.MenubarEditMenu,{submenu:v.MenuId.MenubarCopy,title:{value:_.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,{submenu:v.MenuId.EditorContextCopy,title:{value:_.localize(9,null),original:"Copy As"},group:n,order:3}),v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,{submenu:v.MenuId.EditorContextShare,title:{value:_.localize(10,null),original:"Share"},group:"11_share",order:-1,when:s.ContextKeyExpr.and(s.ContextKeyExpr.notEquals("resourceScheme","output"),m.EditorContextKeys.editorTextFocus)}),v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitleContext,{submenu:v.MenuId.EditorTitleContextShare,title:{value:_.localize(11,null),original:"Share"},group:"11_share",order:-1}),v.MenuRegistry.appendMenuItem(v.MenuId.ExplorerContext,{submenu:v.MenuId.ExplorerContextShare,title:{value:_.localize(12,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=a?u(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(13,null),order:4},{menuId:v.MenuId.EditorContext,group:n,title:_.localize(14,null),when:m.EditorContextKeys.writable,order:4},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(15,null),order:1},{menuId:v.MenuId.SimpleEditorContext,group:n,title:_.localize(16,null),when:m.EditorContextKeys.writable,order:4}]})):void 0;class h extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_.localize(17,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,d){!d.hasModel()||!d.getOption(36)&&d.getSelection().isEmpty()||(y.CopyOptions.forceCopyWithSyntaxHighlighting=!0,d.focus(),document.execCommand("copy"),y.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function l(c,o){c&&(c.addImplementation(1e4,"code-editor",(d,r)=>{const g=d.get(S.ICodeEditorService).getFocusedCodeEditor();if(g&&g.hasTextFocus()){const f=g.getOption(36),p=g.getSelection();return p&&p.isEmpty()&&!f||document.execCommand(o),!0}return!1}),c.addImplementation(0,"generic-dom",(d,r)=>(document.execCommand(o),!0)))}l(e.CutAction,"cut"),l(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(c,o)=>{const d=c.get(S.ICodeEditorService),r=c.get(C.IClipboardService),g=d.getFocusedCodeEditor();return g&&g.hasTextFocus()?!document.execCommand("paste")&&k.isWeb?(()=>Se(void 0,void 0,void 0,function*(){const p=yield r.readText();if(p!==""){const b=y.InMemoryClipboardMetadataManager.INSTANCE.get(p);let w=!1,E=null,I=null;b&&(w=g.getOption(36)&&!!b.isFromEmptySelection,E=typeof b.multicursorText<"u"?b.multicursorText:null,I=b.mode),g.trigger("keyboard","paste",{text:p,pasteOnNewLine:w,multicursorText:E,mode:I})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(c,o)=>(document.execCommand("paste"),!0))),t&&(0,D.registerEditorAction)(h)}),define(ee[798],te([1,0,61,16,5,22,31,293,540,644,30]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends k.EditorAction{constructor(h,l){super(l),this._type=h}run(h,l){const c=h.get(S.ILanguageConfigurationService);if(!l.hasModel())return;const o=l.getModel(),d=[],r=o.getOptions(),g=l.getOption(22),f=l.getSelections().map((b,w)=>({selection:b,index:w,ignoreFirstLine:!1}));f.sort((b,w)=>y.Range.compareRangesUsingStarts(b.selection,w.selection));let p=f[0];for(let b=1;b<f.length;b++){const w=f[b];p.selection.endLineNumber===w.selection.startLineNumber&&(p.index<w.index?w.ignoreFirstLine=!0:(p.ignoreFirstLine=!0,p=w))}for(const b of f)d.push(new _.LineCommentCommand(c,b.selection,r.tabSize,this._type,g.insertSpace,g.ignoreEmptyLines,b.ignoreFirstLine));l.pushUndoStop(),l.executeCommands(this.id,d),l.pushUndoStop()}}class n extends s{constructor(){super(0,{id:"editor.action.commentLine",label:v.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(1,null),order:1}})}}class i extends s{constructor(){super(1,{id:"editor.action.addCommentLine",label:v.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2081),weight:100}})}}class t extends s{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2099),weight:100}})}}class a extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:v.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(5,null),order:2}})}run(h,l){const c=h.get(S.ILanguageConfigurationService);if(!l.hasModel())return;const o=l.getOption(22),d=[],r=l.getSelections();for(const g of r)d.push(new m.BlockCommentCommand(g,o.insertSpace,c));l.pushUndoStop(),l.executeCommands(this.id,d),l.pushUndoStop()}}(0,k.registerEditorAction)(n),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(a)}),define(ee[799],te([1,0,2,16,22,646]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(n){this.selections=n}equals(n){const i=this.selections.length,t=n.selections.length;if(i!==t)return!1;for(let a=0;a<i;a++)if(!this.selections[a].equalsSelection(n.selections[a]))return!1;return!0}}class m{constructor(n,i,t){this.cursorState=n,this.scrollTop=i,this.scrollLeft=t}}class _ extends L.Disposable{static get(n){return n.getContribution(_.ID)}constructor(n){super(),this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const t=new S(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new m(t,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=_,_.ID="editor.contrib.cursorUndoRedoController";class v extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(n,i,t){var a;(a=_.get(i))===null||a===void 0||a.cursorUndo()}}e.CursorUndo=v;class C extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(n,i,t){var a;(a=_.get(i))===null||a===void 0||a.cursorRedo()}}e.CursorRedo=C,(0,k.registerEditorContribution)(_.ID,_,0),(0,k.registerEditorAction)(v),(0,k.registerEditorAction)(C)}),define(ee[800],te([1,0,16,15,19,62,8,45,652]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const v=(0,S.createDecorator)("IEditorCancelService"),C=new k.RawContextKey("cancellableOperation",!1,(0,_.localize)(0,null));(0,m.registerSingleton)(v,class{constructor(){this._tokens=new WeakMap}add(n,i){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(u=>{const h=C.bindTo(u.get(k.IContextKeyService)),l=new D.LinkedList;return{key:h,tokens:l}}),this._tokens.set(n,t));let a;return t.key.set(!0),a=t.tokens.push(i),()=>{a&&(a(),t.key.set(!t.tokens.isEmpty()),a=void 0)}}cancel(n){const i=this._tokens.get(n);if(!i)return;const t=i.tokens.pop();t&&(t.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class s extends y.CancellationTokenSource{constructor(i,t){super(t),this.editor=i,this._unregister=i.invokeWithinContext(a=>a.get(v).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(n,i){n.get(v).cancel(i)}})}),define(ee[104],te([1,0,10,5,19,2,800]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(s,n){if(this.flags=n,this.flags&1){const i=s.getModel();this.modelVersionId=i?L.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=s.getPosition():this.position=null,this.flags&2?this.selection=s.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=s.getScrollLeft(),this.scrollTop=s.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(s){if(!(s instanceof m))return!1;const n=s;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(s){return this._equals(new m(s,this.flags))}}e.EditorState=m;class _ extends S.EditorKeybindingCancellationTokenSource{constructor(s,n,i,t){super(s,t),this._listener=new D.DisposableStore,n&4&&this._listener.add(s.onDidChangeCursorPosition(a=>{(!i||!k.Range.containsPosition(i,a.position))&&this.cancel()})),n&2&&this._listener.add(s.onDidChangeCursorSelection(a=>{(!i||!k.Range.containsRange(i,a.selection))&&this.cancel()})),n&8&&this._listener.add(s.onDidScrollChange(a=>this.cancel())),n&1&&(this._listener.add(s.onDidChangeModel(a=>this.cancel())),this._listener.add(s.onDidChangeModelContent(a=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=_;class v extends y.CancellationTokenSource{constructor(s,n){super(n),this._listener=s.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=v}),define(ee[135],te([1,0,14,19,9,2,21,130,5,24,18,50,104,635,25,46,85,75,112]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class c extends D.Disposable{static codeActionsPreferredComparator(I,N){return I.isPreferred&&!N.isPreferred?-1:!I.isPreferred&&N.isPreferred?1:0}static codeActionsComparator({action:I},{action:N}){return(0,L.isNonEmptyArray)(I.diagnostics)?(0,L.isNonEmptyArray)(N.diagnostics)?c.codeActionsPreferredComparator(I,N):-1:(0,L.isNonEmptyArray)(N.diagnostics)?1:c.codeActionsPreferredComparator(I,N)}constructor(I,N,R){super(),this.documentation=N,this._register(R),this.allActions=[...I].sort(c.codeActionsComparator),this.validActions=this.allActions.filter(({action:F})=>!F.disabled)}get hasAutoFix(){return this.validActions.some(({action:I})=>!!I.kind&&l.CodeActionKind.QuickFix.contains(new l.CodeActionKind(I.kind))&&!!I.isPreferred)}}const o={actions:[],documentation:void 0};function d(E,I,N,R,F,M){var A;return Se(this,void 0,void 0,function*(){const T=R.filter||{},O={only:(A=T.include)===null||A===void 0?void 0:A.value,trigger:R.type},P=new n.TextModelCancellationTokenSource(I,M),x=r(E,I,T),z=new D.DisposableStore,q=x.map($=>Se(this,void 0,void 0,function*(){try{F.report($);const X=yield $.provideCodeActions(I,N,O,P.token);if(X&&z.add(X),P.token.isCancellationRequested)return o;const ne=(X?.actions||[]).filter(Y=>Y&&(0,l.filtersAction)(T,Y)),oe=f($,ne,T.include);return{actions:ne.map(Y=>new l.CodeActionItem(Y,$)),documentation:oe}}catch(X){if((0,y.isCancellationError)(X))throw X;return(0,y.onUnexpectedExternalError)(X),o}})),B=E.onDidChange(()=>{const $=E.all(I);(0,L.equals)($,x)||P.cancel()});try{const $=yield Promise.all(q),X=$.map(oe=>oe.actions).flat(),ne=[...(0,L.coalesce)($.map(oe=>oe.documentation)),...g(E,I,R,X)];return new c(X,ne,z)}finally{B.dispose(),P.dispose()}})}e.getCodeActions=d;function r(E,I,N){return E.all(I).filter(R=>R.providedCodeActionKinds?R.providedCodeActionKinds.some(F=>(0,l.mayIncludeActionsOfKind)(N,new l.CodeActionKind(F))):!0)}function*g(E,I,N,R){var F,M,A;if(I&&R.length)for(const T of E.all(I))T._getAdditionalMenuItems&&(yield*(F=T._getAdditionalMenuItems)===null||F===void 0?void 0:F.call(T,{trigger:N.type,only:(A=(M=N.filter)===null||M===void 0?void 0:M.include)===null||A===void 0?void 0:A.value},R.map(O=>O.action)))}function f(E,I,N){if(!E.documentation)return;const R=E.documentation.map(F=>({kind:new l.CodeActionKind(F.kind),command:F.command}));if(N){let F;for(const M of R)M.kind.contains(N)&&(F?F.kind.contains(M.kind)&&(F=M):F=M);if(F)return F?.command}for(const F of I)if(F.kind){for(const M of R)if(M.kind.contains(new l.CodeActionKind(F.kind)))return M.command}}var p;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions"})(p||(e.ApplyCodeActionReason=p={}));function b(E,I,N,R,F=k.CancellationToken.None){var M;return Se(this,void 0,void 0,function*(){const A=E.get(m.IBulkEditService),T=E.get(t.ICommandService),O=E.get(h.ITelemetryService),P=E.get(a.INotificationService);if(O.publicLog2("codeAction.applyCodeAction",{codeActionTitle:I.action.title,codeActionKind:I.action.kind,codeActionIsPreferred:!!I.action.isPreferred,reason:N}),yield I.resolve(F),!F.isCancellationRequested&&!(!((M=I.action.edit)===null||M===void 0)&&M.edits.length&&!(yield A.apply(I.action.edit,{editor:R?.editor,label:I.action.title,quotableLabel:I.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:N!==p.OnSave,showPreview:R?.preview})).isApplied)&&I.action.command)try{yield T.executeCommand(I.action.command.id,...I.action.command.arguments||[])}catch(x){const z=w(x);P.error(typeof z=="string"?z:i.localize(0,null))}})}e.applyCodeAction=b;function w(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(E,I,N,R,F){return Se(this,void 0,void 0,function*(){if(!(I instanceof S.URI))throw(0,y.illegalArgument)();const{codeActionProvider:M}=E.get(C.ILanguageFeaturesService),A=E.get(s.IModelService).getModel(I);if(!A)throw(0,y.illegalArgument)();const T=v.Selection.isISelection(N)?v.Selection.liftSelection(N):_.Range.isIRange(N)?A.validateRange(N):void 0;if(!T)throw(0,y.illegalArgument)();const O=typeof R=="string"?new l.CodeActionKind(R):void 0,P=yield d(M,A,T,{type:1,triggerAction:l.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:O}},u.Progress.None,k.CancellationToken.None),x=[],z=Math.min(P.validActions.length,typeof F=="number"?F:0);for(let q=0;q<z;q++)x.push(P.validActions[q].resolve(k.CancellationToken.None));try{return yield Promise.all(x),P.validActions.map(q=>q.action)}finally{setTimeout(()=>P.dispose(),100)}})})}),define(ee[801],te([1,0,98,135,112,34]),function(G,e,L,k,y,D){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let m=S=class{constructor(v){this.keybindingService=v}getResolver(){const v=new L.Lazy(()=>this.keybindingService.getKeybindings().filter(C=>S.codeActionCommands.indexOf(C.command)>=0).filter(C=>C.resolvedKeybinding).map(C=>{let s=C.commandArgs;return C.command===k.organizeImportsCommandId?s={kind:y.CodeActionKind.SourceOrganizeImports.value}:C.command===k.fixAllCommandId&&(s={kind:y.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:C.resolvedKeybinding},y.CodeActionCommandArgs.fromUser(s,{kind:y.CodeActionKind.None,apply:"never"}))}));return C=>{if(C.kind){const s=this.bestKeybindingForCodeAction(C,v.value);return s?.resolvedKeybinding}}}bestKeybindingForCodeAction(v,C){if(!v.kind)return;const s=new y.CodeActionKind(v.kind);return C.filter(n=>n.kind.contains(s)).filter(n=>n.preferred?v.isPreferred:!0).reduceRight((n,i)=>n?n.kind.contains(i.kind)?i:n:i,void 0)}};e.CodeActionKeybindingResolver=m,m.codeActionCommands=[k.refactorCommandId,k.codeActionCommandId,k.sourceActionCommandId,k.organizeImportsCommandId,k.fixAllCommandId],e.CodeActionKeybindingResolver=m=S=Ie([ge(0,D.IKeybindingService)],m)}),define(ee[352],te([1,0,13,9,6,2,44,15,85,112,135]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new m.RawContextKey("supportedCodeAction","");class s extends D.Disposable{constructor(u,h,l,c=250){super(),this._editor=u,this._markerService=h,this._signalChange=l,this._delay=c,this._autoTriggerTimer=this._register(new L.TimeoutTimer),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(u){const h=this._getRangeOfSelectionUnlessWhitespaceEnclosed(u);this._signalChange(h?{trigger:u,selection:h}:void 0)}_onMarkerChanges(u){const h=this._editor.getModel();h&&u.some(l=>(0,S.isEqual)(l,h.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:v.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(u){if(!this._editor.hasModel())return;const h=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&u.type===2){const{lineNumber:c,column:o}=l.getPosition(),d=h.getLineContent(c);if(d.length===0)return;if(o===1){if(/\s/.test(d[0]))return}else if(o===h.getLineMaxColumn(c)){if(/\s/.test(d[d.length-1]))return}else if(/\s/.test(d[o-2])&&/\s/.test(d[o-1]))return}return l}}var n;(function(a){a.Empty={type:0};class u{constructor(l,c,o){this.trigger=l,this.position=c,this._cancellablePromise=o,this.type=1,this.actions=o.catch(d=>{if((0,k.isCancellationError)(d))return i;throw d})}cancel(){this._cancellablePromise.cancel()}}a.Triggered=u})(n||(e.CodeActionsState=n={}));const i=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class t extends D.Disposable{constructor(u,h,l,c,o){super(),this._editor=u,this._registry=h,this._markerService=l,this._progressService=o,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=n.Empty,this._onDidChangeState=this._register(new y.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(c),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(n.Empty,!0))}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(n.Empty);const u=this._editor.getModel();if(u&&this._registry.has(u)&&!this._editor.getOption(89)){const h=this._registry.all(u).flatMap(l=>{var c;return(c=l.providedCodeActionKinds)!==null&&c!==void 0?c:[]});this._supportedCodeActions.set(h.join(" ")),this._codeActionOracle.value=new s(this._editor,this._markerService,l=>{var c;if(!l){this.setState(n.Empty);return}const o=(0,L.createCancelablePromise)(d=>(0,C.getCodeActions)(this._registry,u,l.selection,l.trigger,_.Progress.None,d));l.trigger.type===1&&((c=this._progressService)===null||c===void 0||c.showWhile(o,250)),this.setState(new n.Triggered(l.trigger,l.selection.getStartPosition(),o))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:v.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(u){var h;(h=this._codeActionOracle.value)===null||h===void 0||h.trigger(u)}setState(u,h){u!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=u,!h&&!this._disposed&&this._onDidChangeState.fire(u))}}e.CodeActionModel=t}),define(ee[353],te([1,0,7,60,26,6,2,27,209,135,640,34,439]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var i;(function(a){a.Hidden={type:0};class u{constructor(l,c,o,d){this.actions=l,this.trigger=c,this.editorPosition=o,this.widgetPosition=d,this.type=1}}a.Showing=u})(i||(i={}));let t=n=class extends S.Disposable{constructor(u,h){super(),this._editor=u,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=i.Hidden,this._domNode=L.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(l=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),this._register(L.addStandardDisposableGenericMouseDownListener(this._domNode,l=>{if(this.state.type!==1)return;this._editor.focus(),l.preventDefault();const{top:c,height:o}=L.getDomNodePagePosition(this._domNode),d=this._editor.getOption(65);let r=Math.floor(d/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(r+=d),this._onClick.fire({x:l.posx,y:c+o+r,actions:this.state.actions,trigger:this.state.trigger})})),this._register(L.addDisposableListener(this._domNode,"mouseenter",l=>{(l.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(63)&&!this._editor.getOption(63).enabled&&this.hide()})),this._register(D.Event.runAndSubscribe(h.onDidUpdateKeybindings,()=>{var l,c,o,d;this._preferredKbLabel=(c=(l=h.lookupKeybinding(v.autoFixCommandId))===null||l===void 0?void 0:l.getLabel())!==null&&c!==void 0?c:void 0,this._quickFixKbLabel=(d=(o=h.lookupKeybinding(v.quickFixCommandId))===null||o===void 0?void 0:o.getLabel())!==null&&d!==void 0?d:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(u,h,l){if(u.validActions.length<=0)return this.hide();const c=this._editor.getOptions();if(!c.get(63).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:d,column:r}=o.validatePosition(l),g=o.getOptions().tabSize,f=c.get(49),p=o.getLineContent(d),b=(0,_.computeIndentLevel)(p,g),w=f.spaceWidth*b>22,E=N=>N>2&&this._editor.getTopForLineNumber(N)===this._editor.getTopForLineNumber(N-1);let I=d;if(!w){if(d>1&&!E(d-1))I-=1;else if(!E(d+1))I+=1;else if(r*f.spaceWidth<22)return this.hide()}this.state=new i.Showing(u,h,l,{position:{lineNumber:I,column:1},preference:n._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==i.Hidden&&(this.state=i.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(u){this._state=u,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._preferredKbLabel)){this.title=C.localize(0,null,this._preferredKbLabel);return}this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._quickFixKbLabel?this.title=C.localize(1,null,this._quickFixKbLabel):this.title=C.localize(2,null)}set title(u){this._domNode.title=u}};e.LightBulbWidget=t,t.ID="editor.contrib.lightbulbWidget",t._posPref=[0],e.LightBulbWidget=t=n=Ie([ge(1,s.IKeybindingService)],t)}),define(ee[802],te([1,0,16,143,657]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:y.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(v,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:y.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(v,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class m extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:y.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(v,C){k.EditorZoom.setZoomLevel(0)}}(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(m)}),define(ee[354],te([1,0,49,14,19,9,47,62,20,21,104,176,12,5,24,115,65,297,658,25,742,8,18,66]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function f(A){if(A=A.filter(x=>x.range),!A.length)return;let{range:T}=A[0];for(let x=1;x<A.length;x++)T=i.Range.plusRange(T,A[x].range);const{startLineNumber:O,endLineNumber:P}=T;O===P?A.length===1?(0,L.alert)(l.localize(0,null,O)):(0,L.alert)(l.localize(1,null,A.length,O)):A.length===1?(0,L.alert)(l.localize(2,null,O,P)):(0,L.alert)(l.localize(3,null,A.length,O,P))}e.alertFormattingEdits=f;function p(A,T,O){const P=[],x=new o.ExtensionIdentifierSet,z=A.ordered(O);for(const B of z)P.push(B),B.extensionId&&x.add(B.extensionId);const q=T.ordered(O);for(const B of q){if(B.extensionId){if(x.has(B.extensionId))continue;x.add(B.extensionId)}P.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits($,X,ne){return B.provideDocumentRangeFormattingEdits($,$.getFullModelRange(),X,ne)}})}return P}e.getRealAndSyntheticDocumentFormattersOrdered=p;class b{static setFormatterSelector(T){return{dispose:b._selectors.unshift(T)}}static select(T,O,P){return Se(this,void 0,void 0,function*(){if(T.length===0)return;const x=S.Iterable.first(b._selectors);if(x)return yield x(T,O,P)})}}e.FormattingConflicts=b,b._selectors=new m.LinkedList;function w(A,T,O,P,x,z){return Se(this,void 0,void 0,function*(){const q=A.get(d.IInstantiationService),{documentRangeFormattingEditProvider:B}=A.get(r.ILanguageFeaturesService),$=(0,s.isCodeEditor)(T)?T.getModel():T,X=B.ordered($),ne=yield b.select(X,$,P);ne&&(x.report(ne),yield q.invokeFunction(E,ne,T,O,z))})}e.formatDocumentRangesWithSelectedProvider=w;function E(A,T,O,P,x){var z,q;return Se(this,void 0,void 0,function*(){const B=A.get(a.IEditorWorkerService),$=A.get(g.ILogService);let X,ne;(0,s.isCodeEditor)(O)?(X=O.getModel(),ne=new C.EditorStateCancellationTokenSource(O,5,void 0,x)):(X=O,ne=new C.TextModelCancellationTokenSource(O,x));const oe=[];let Y=0;for(const ie of(0,k.asArray)(P).sort(i.Range.compareRangesUsingStarts))Y>0&&i.Range.areIntersectingOrTouching(oe[Y-1],ie)?oe[Y-1]=i.Range.fromPositions(oe[Y-1].getStartPosition(),ie.getEndPosition()):Y=oe.push(ie);const U=ie=>Se(this,void 0,void 0,function*(){var le,he;$.trace("[format][provideDocumentRangeFormattingEdits] (request)",(le=T.extensionId)===null||le===void 0?void 0:le.value,ie);const de=(yield T.provideDocumentRangeFormattingEdits(X,ie,X.getFormattingOptions(),ne.token))||[];return $.trace("[format][provideDocumentRangeFormattingEdits] (response)",(he=T.extensionId)===null||he===void 0?void 0:he.value,de),de}),W=(ie,le)=>{if(!ie.length||!le.length)return!1;const he=ie.reduce((de,ce)=>i.Range.plusRange(de,ce.range),ie[0].range);if(!le.some(de=>i.Range.intersectRanges(he,de.range)))return!1;for(const de of ie)for(const ce of le)if(i.Range.intersectRanges(de.range,ce.range))return!0;return!1},V=[],Z=[];try{if(typeof T.provideDocumentRangesFormattingEdits=="function"){$.trace("[format][provideDocumentRangeFormattingEdits] (request)",(z=T.extensionId)===null||z===void 0?void 0:z.value,oe);const ie=(yield T.provideDocumentRangesFormattingEdits(X,oe,X.getFormattingOptions(),ne.token))||[];$.trace("[format][provideDocumentRangeFormattingEdits] (response)",(q=T.extensionId)===null||q===void 0?void 0:q.value,ie),Z.push(ie)}else{for(const ie of oe){if(ne.token.isCancellationRequested)return!0;Z.push(yield U(ie))}for(let ie=0;ie<oe.length;++ie)for(let le=ie+1;le<oe.length;++le){if(ne.token.isCancellationRequested)return!0;if(W(Z[ie],Z[le])){const he=i.Range.plusRange(oe[ie],oe[le]),de=yield U(he);oe.splice(le,1),oe.splice(ie,1),oe.push(he),Z.splice(le,1),Z.splice(ie,1),Z.push(de),ie=0,le=0}}}for(const ie of Z){if(ne.token.isCancellationRequested)return!0;const le=yield B.computeMoreMinimalEdits(X.uri,ie);le&&V.push(...le)}}finally{ne.dispose()}if(V.length===0)return!1;if((0,s.isCodeEditor)(O))h.FormattingEdit.execute(O,V,!0),f(V),O.revealPositionInCenterIfOutsideViewport(O.getPosition(),1);else{const[{range:ie}]=V,le=new t.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);X.pushEditOperations([le],V.map(he=>({text:he.text,range:i.Range.lift(he.range),forceMoveMarkers:!0})),he=>{for(const{range:de}of he)if(i.Range.areIntersectingOrTouching(de,le))return[new t.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=E;function I(A,T,O,P,x){return Se(this,void 0,void 0,function*(){const z=A.get(d.IInstantiationService),q=A.get(r.ILanguageFeaturesService),B=(0,s.isCodeEditor)(T)?T.getModel():T,$=p(q.documentFormattingEditProvider,q.documentRangeFormattingEditProvider,B),X=yield b.select($,B,O);X&&(P.report(X),yield z.invokeFunction(N,X,T,O,x))})}e.formatDocumentWithSelectedProvider=I;function N(A,T,O,P,x){return Se(this,void 0,void 0,function*(){const z=A.get(a.IEditorWorkerService);let q,B;(0,s.isCodeEditor)(O)?(q=O.getModel(),B=new C.EditorStateCancellationTokenSource(O,5,void 0,x)):(q=O,B=new C.TextModelCancellationTokenSource(O,x));let $;try{const X=yield T.provideDocumentFormattingEdits(q,q.getFormattingOptions(),B.token);if($=yield z.computeMoreMinimalEdits(q.uri,X),B.token.isCancellationRequested)return!0}finally{B.dispose()}if(!$||$.length===0)return!1;if((0,s.isCodeEditor)(O))h.FormattingEdit.execute(O,$,P!==2),P!==2&&(f($),O.revealPositionInCenterIfOutsideViewport(O.getPosition(),1));else{const[{range:X}]=$,ne=new t.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);q.pushEditOperations([ne],$.map(oe=>({text:oe.text,range:i.Range.lift(oe.range),forceMoveMarkers:!0})),oe=>{for(const{range:Y}of oe)if(i.Range.areIntersectingOrTouching(Y,ne))return[new t.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=N;function R(A,T,O,P,x,z){return Se(this,void 0,void 0,function*(){const q=T.documentRangeFormattingEditProvider.ordered(O);for(const B of q){const $=yield Promise.resolve(B.provideDocumentRangeFormattingEdits(O,P,x,z)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)($))return yield A.computeMoreMinimalEdits(O.uri,$)}})}e.getDocumentRangeFormattingEditsUntilResult=R;function F(A,T,O,P,x){return Se(this,void 0,void 0,function*(){const z=p(T.documentFormattingEditProvider,T.documentRangeFormattingEditProvider,O);for(const q of z){const B=yield Promise.resolve(q.provideDocumentFormattingEdits(O,P,x)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(B))return yield A.computeMoreMinimalEdits(O.uri,B)}})}e.getDocumentFormattingEditsUntilResult=F;function M(A,T,O,P,x,z,q){const B=T.onTypeFormattingEditProvider.ordered(O);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(x)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(O,P,x,z,q)).catch(D.onUnexpectedExternalError).then($=>A.computeMoreMinimalEdits(O.uri,$))}e.getOnTypeFormattingEdits=M,c.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(A,...T){return Se(this,void 0,void 0,function*(){const[O,P,x]=T;(0,_.assertType)(v.URI.isUri(O)),(0,_.assertType)(i.Range.isIRange(P));const z=A.get(u.ITextModelService),q=A.get(a.IEditorWorkerService),B=A.get(r.ILanguageFeaturesService),$=yield z.createModelReference(O);try{return R(q,B,$.object.textEditorModel,i.Range.lift(P),x,y.CancellationToken.None)}finally{$.dispose()}})}),c.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(A,...T){return Se(this,void 0,void 0,function*(){const[O,P]=T;(0,_.assertType)(v.URI.isUri(O));const x=A.get(u.ITextModelService),z=A.get(a.IEditorWorkerService),q=A.get(r.ILanguageFeaturesService),B=yield x.createModelReference(O);try{return F(z,q,B.object.textEditorModel,P,y.CancellationToken.None)}finally{B.dispose()}})}),c.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(A,...T){return Se(this,void 0,void 0,function*(){const[O,P,x,z]=T;(0,_.assertType)(v.URI.isUri(O)),(0,_.assertType)(n.Position.isIPosition(P)),(0,_.assertType)(typeof x=="string");const q=A.get(u.ITextModelService),B=A.get(a.IEditorWorkerService),$=A.get(r.ILanguageFeaturesService),X=yield q.createModelReference(O);try{return M(B,$,X.object.textEditorModel,n.Position.lift(P),x,z,y.CancellationToken.None)}finally{X.dispose()}})})}),define(ee[803],te([1,0,14,19,9,61,2,16,33,121,5,22,115,18,354,297,659,25,15,8,85]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class{constructor(b,w,E){this._editor=b,this._languageFeaturesService=w,this._workerService=E,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._disposables.add(w.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(b.onDidChangeModel(()=>this._update())),this._disposables.add(b.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(b.onDidChangeConfiguration(I=>{I.hasChanged(55)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(55)||!this._editor.hasModel())return;const b=this._editor.getModel(),[w]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(b);if(!w||!w.autoFormatTriggerCharacters)return;const E=new v.CharacterSet;for(const I of w.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(I=>{const N=I.charCodeAt(I.length-1);E.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(b){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const w=this._editor.getModel(),E=this._editor.getPosition(),I=new k.CancellationTokenSource,N=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){I.cancel(),N.dispose();return}for(let F=0,M=R.changes.length;F<M;F++)if(R.changes[F].range.endLineNumber<=E.lineNumber){I.cancel(),N.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,w,E,b,w.getFormattingOptions(),I.token).then(R=>{I.token.isCancellationRequested||(0,L.isNonEmptyArray)(R)&&(a.FormattingEdit.execute(this._editor,R,!0),(0,t.alertFormattingEdits)(R))}).finally(()=>{N.dispose()})}};d.ID="editor.contrib.autoFormat",d=Ie([ge(1,i.ILanguageFeaturesService),ge(2,n.IEditorWorkerService)],d);let r=class{constructor(b,w,E){this.editor=b,this._languageFeaturesService=w,this._instantiationService=E,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(b.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(b.onDidChangeModel(()=>this._update())),this._callOnDispose.add(b.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(w.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(54)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:b})=>this._trigger(b)))}_trigger(b){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,b,2,o.Progress.None,k.CancellationToken.None).catch(y.onUnexpectedError))}};r.ID="editor.contrib.formatOnPaste",r=Ie([ge(1,i.ILanguageFeaturesService),ge(2,c.IInstantiationService)],r);class g extends m.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:u.localize(0,null),alias:"Format Document",precondition:l.ContextKeyExpr.and(s.EditorContextKeys.notInCompositeEditor,s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(b,w){return Se(this,void 0,void 0,function*(){if(w.hasModel()){const E=b.get(c.IInstantiationService);yield b.get(o.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentWithSelectedProvider,w,1,o.Progress.None,k.CancellationToken.None),250)}})}}class f extends m.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:u.localize(1,null),alias:"Format Selection",precondition:l.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:s.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(b,w){return Se(this,void 0,void 0,function*(){if(!w.hasModel())return;const E=b.get(c.IInstantiationService),I=w.getModel(),N=w.getSelections().map(F=>F.isEmpty()?new C.Range(F.startLineNumber,1,F.startLineNumber,I.getLineMaxColumn(F.startLineNumber)):F);yield b.get(o.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentRangesWithSelectedProvider,w,N,1,o.Progress.None,k.CancellationToken.None),250)})}}(0,m.registerEditorContribution)(d.ID,d,2),(0,m.registerEditorContribution)(r.ID,r,2),(0,m.registerEditorAction)(g),(0,m.registerEditorAction)(f),h.CommandsRegistry.registerCommand("editor.action.format",p=>Se(void 0,void 0,void 0,function*(){const b=p.get(_.ICodeEditorService).getFocusedCodeEditor();if(!b||!b.hasModel())return;const w=p.get(h.ICommandService);b.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(ee[247],te([1,0,14,19,9,16,18,155]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function _(a,u,h,l){return Se(this,void 0,void 0,function*(){const o=h.ordered(a).map(r=>Promise.resolve(l(r,a,u)).then(void 0,g=>{(0,y.onUnexpectedExternalError)(g)})),d=yield Promise.all(o);return(0,L.coalesce)(d.flat())})}function v(a,u,h,l){return _(u,h,a,(c,o,d)=>c.provideDefinition(o,d,l))}e.getDefinitionsAtPosition=v;function C(a,u,h,l){return _(u,h,a,(c,o,d)=>c.provideDeclaration(o,d,l))}e.getDeclarationsAtPosition=C;function s(a,u,h,l){return _(u,h,a,(c,o,d)=>c.provideImplementation(o,d,l))}e.getImplementationsAtPosition=s;function n(a,u,h,l){return _(u,h,a,(c,o,d)=>c.provideTypeDefinition(o,d,l))}e.getTypeDefinitionsAtPosition=n;function i(a,u,h,l,c){return _(u,h,a,(o,d,r)=>Se(this,void 0,void 0,function*(){const g=yield o.provideReferences(d,r,{includeDeclaration:!0},c);if(!l||!g||g.length!==2)return g;const f=yield o.provideReferences(d,r,{includeDeclaration:!1},c);return f&&f.length===1?f:g}))}e.getReferencesAtPosition=i;function t(a){return Se(this,void 0,void 0,function*(){const u=yield a(),h=new m.ReferencesModel(u,""),l=h.references.map(c=>c.link);return h.dispose(),l})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(a,u,h)=>{const l=a.get(S.ILanguageFeaturesService),c=v(l.definitionProvider,u,h,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(a,u,h)=>{const l=a.get(S.ILanguageFeaturesService),c=n(l.typeDefinitionProvider,u,h,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(a,u,h)=>{const l=a.get(S.ILanguageFeaturesService),c=C(l.declarationProvider,u,h,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(a,u,h)=>{const l=a.get(S.ILanguageFeaturesService),c=i(l.referenceProvider,u,h,!1,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(a,u,h)=>{const l=a.get(S.ILanguageFeaturesService),c=s(l.implementationProvider,u,h,k.CancellationToken.None);return t(()=>c)})}),define(ee[804],te([1,0,6,2,44,16,33,5,668,15,45,8,34,117,46]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new v.RawContextKey("hasSymbols",!1,(0,_.localize)(0,null)),e.ISymbolNavigationService=(0,s.createDecorator)("ISymbolNavigationService");let a=class{constructor(l,c,o,d){this._editorService=c,this._notificationService=o,this._keybindingService=d,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(l)}reset(){var l,c;this._ctxHasSymbols.reset(),(l=this._currentState)===null||l===void 0||l.dispose(),(c=this._currentMessage)===null||c===void 0||c.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(l){const c=l.parent.parent;if(c.references.length<=1){this.reset();return}this._currentModel=c,this._currentIdx=c.references.indexOf(l),this._ctxHasSymbols.set(!0),this._showMessage();const o=new u(this._editorService),d=o.onDidChange(r=>{if(this._ignoreEditorChange)return;const g=this._editorService.getActiveCodeEditor();if(!g)return;const f=g.getModel(),p=g.getPosition();if(!f||!p)return;let b=!1,w=!1;for(const E of c.references)if((0,y.isEqual)(E.uri,f.uri))b=!0,w=w||m.Range.containsPosition(E.range,p);else if(b)break;(!b||!w)&&this.reset()});this._currentState=(0,k.combinedDisposable)(o,d)}revealNext(l){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const c=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:c.uri,options:{selection:m.Range.collapseToStart(c.range),selectionRevealType:3}},l).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var l;(l=this._currentMessage)===null||l===void 0||l.dispose();const c=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=c?(0,_.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,c.getLabel()):(0,_.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};a=Ie([ge(0,v.IContextKeyService),ge(1,S.ICodeEditorService),ge(2,t.INotificationService),ge(3,n.IKeybindingService)],a),(0,C.registerSingleton)(e.ISymbolNavigationService,a,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(h,l){return h.get(e.ISymbolNavigationService).revealNext(l)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(h){h.get(e.ISymbolNavigationService).reset()}});let u=class{constructor(l){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(l.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(l.onCodeEditorAdd(this._onDidAddEditor,this)),l.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(l){this._listener.set(l,(0,k.combinedDisposable)(l.onDidChangeCursorPosition(c=>this._onDidChange.fire({editor:l})),l.onDidChangeModelContent(c=>this._onDidChange.fire({editor:l}))))}_onDidRemoveEditor(l){var c;(c=this._listener.get(l))===null||c===void 0||c.dispose(),this._listener.delete(l)}};u=Ie([ge(0,S.ICodeEditorService)],u)}),define(ee[355],te([1,0,13,19,9,16,18]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class m{constructor(i,t,a){this.provider=i,this.hover=t,this.ordinal=a}}e.HoverProviderResult=m;function _(n,i,t,a,u){return Se(this,void 0,void 0,function*(){try{const h=yield Promise.resolve(n.provideHover(t,a,u));if(h&&s(h))return new m(n,h,i)}catch(h){(0,y.onUnexpectedExternalError)(h)}})}function v(n,i,t,a){const h=n.ordered(i).map((l,c)=>_(l,c,i,t,a));return L.AsyncIterableObject.fromPromises(h).coalesce()}e.getHover=v;function C(n,i,t,a){return v(n,i,t,a).map(u=>u.hover).toPromise()}e.getHoverPromise=C,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(n,i,t)=>{const a=n.get(S.ILanguageFeaturesService);return C(a.hoverProvider,i,t,k.CancellationToken.None)});function s(n){const i=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return i&&t}}),define(ee[248],te([1,0,7,14,13,56,2,116,12,5,42,355,670,29,55,18]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const u=L.$;class h{constructor(d,r,g,f,p){this.owner=d,this.range=r,this.contents=g,this.isBeforeContent=f,this.ordinal=p}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.MarkdownHover=h;let l=class{constructor(d,r,g,f,p){this._editor=d,this._languageService=r,this._openerService=g,this._configurationService=f,this._languageFeaturesService=p,this.hoverOrdinal=3}createLoadingMessage(d){return new h(this,d.range,[new D.MarkdownString().appendText(n.localize(0,null))],!1,2e3)}computeSync(d,r){if(!this._editor.hasModel()||d.type!==1)return[];const g=this._editor.getModel(),f=d.range.startLineNumber,p=g.getLineMaxColumn(f),b=[];let w=1e3;const E=g.getLineLength(f),I=g.getLanguageIdAtPosition(d.range.startLineNumber,d.range.startColumn),N=this._editor.getOption(115),R=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let F=!1;N>=0&&E>N&&d.range.startColumn>=N&&(F=!0,b.push(new h(this,d.range,[{value:n.localize(1,null)}],!1,w++))),!F&&typeof R=="number"&&E>=R&&b.push(new h(this,d.range,[{value:n.localize(2,null)}],!1,w++));let M=!1;for(const A of r){const T=A.range.startLineNumber===f?A.range.startColumn:1,O=A.range.endLineNumber===f?A.range.endColumn:p,P=A.options.hoverMessage;if(!P||(0,D.isEmptyMarkdownString)(P))continue;A.options.beforeContentClassName&&(M=!0);const x=new v.Range(d.range.startLineNumber,T,d.range.startLineNumber,O);b.push(new h(this,x,(0,k.asArray)(P),M,w++))}return b}computeAsync(d,r,g){if(!this._editor.hasModel()||d.type!==1)return y.AsyncIterableObject.EMPTY;const f=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(f))return y.AsyncIterableObject.EMPTY;const p=new _.Position(d.range.startLineNumber,d.range.startColumn);return(0,s.getHover)(this._languageFeaturesService.hoverProvider,f,p,g).filter(b=>!(0,D.isEmptyMarkdownString)(b.hover.contents)).map(b=>{const w=b.hover.range?v.Range.lift(b.hover.range):d.range;return new h(this,w,b.hover.contents,!1,b.ordinal)})}renderHoverParts(d,r){return c(d,r,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=l,e.MarkdownHoverParticipant=l=Ie([ge(1,C.ILanguageService),ge(2,t.IOpenerService),ge(3,i.IConfigurationService),ge(4,a.ILanguageFeaturesService)],l);function c(o,d,r,g,f){d.sort((b,w)=>b.ordinal-w.ordinal);const p=new S.DisposableStore;for(const b of d)for(const w of b.contents){if((0,D.isEmptyMarkdownString)(w))continue;const E=u("div.hover-row.markdown-hover"),I=L.append(E,u("div.hover-contents")),N=p.add(new m.MarkdownRenderer({editor:r},g,f));p.add(N.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",o.onContentsChanged()}));const R=p.add(N.render(w));I.appendChild(R.element),o.fragment.appendChild(E)}return p}e.renderMarkdownHovers=c}),define(ee[805],te([1,0,2,10,16,245,70,5,24,22,31,50,298,673,67,202,243]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function h(F,M,A,T,O){if(F.getLineCount()===1&&F.getLineMaxColumn(1)===1)return[];const P=M.getLanguageConfiguration(F.getLanguageId()).indentationRules;if(!P)return[];for(T=Math.min(T,F.getLineCount());A<=T&&P.unIndentedLinePattern;){const W=F.getLineContent(A);if(!P.unIndentedLinePattern.test(W))break;A++}if(A>T-1)return[];const{tabSize:x,indentSize:z,insertSpaces:q}=F.getOptions(),B=(W,V)=>(V=V||1,D.ShiftCommand.shiftIndent(W,W.length+V,x,z,q)),$=(W,V)=>(V=V||1,D.ShiftCommand.unshiftIndent(W,W.length+V,x,z,q)),X=[];let ne;const oe=F.getLineContent(A);let Y=oe;if(O!=null){ne=O;const W=k.getLeadingWhitespace(oe);Y=ne+oe.substring(W.length),P.decreaseIndentPattern&&P.decreaseIndentPattern.test(Y)&&(ne=$(ne),Y=ne+oe.substring(W.length)),oe!==Y&&X.push(S.EditOperation.replaceMove(new _.Selection(A,1,A,W.length+1),(0,a.normalizeIndentation)(ne,z,q)))}else ne=k.getLeadingWhitespace(oe);let U=ne;P.increaseIndentPattern&&P.increaseIndentPattern.test(Y)?(U=B(U),ne=B(ne)):P.indentNextLinePattern&&P.indentNextLinePattern.test(Y)&&(U=B(U)),A++;for(let W=A;W<=T;W++){const V=F.getLineContent(W),Z=k.getLeadingWhitespace(V),ie=U+V.substring(Z.length);P.decreaseIndentPattern&&P.decreaseIndentPattern.test(ie)&&(U=$(U),ne=$(ne)),Z!==U&&X.push(S.EditOperation.replaceMove(new _.Selection(W,1,W,Z.length+1),(0,a.normalizeIndentation)(U,z,q))),!(P.unIndentedLinePattern&&P.unIndentedLinePattern.test(V))&&(P.increaseIndentPattern&&P.increaseIndentPattern.test(ie)?(ne=B(ne),U=ne):P.indentNextLinePattern&&P.indentNextLinePattern.test(ie)?U=B(U):U=ne)}return X}e.getReindentEditOperations=h;class l extends y.EditorAction{constructor(){super({id:l.ID,label:i.localize(0,null),alias:"Convert Indentation to Spaces",precondition:v.EditorContextKeys.writable})}run(M,A){const T=A.getModel();if(!T)return;const O=T.getOptions(),P=A.getSelection();if(!P)return;const x=new N(P,O.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[x]),A.pushUndoStop(),T.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=l,l.ID="editor.action.indentationToSpaces";class c extends y.EditorAction{constructor(){super({id:c.ID,label:i.localize(1,null),alias:"Convert Indentation to Tabs",precondition:v.EditorContextKeys.writable})}run(M,A){const T=A.getModel();if(!T)return;const O=T.getOptions(),P=A.getSelection();if(!P)return;const x=new R(P,O.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[x]),A.pushUndoStop(),T.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=c,c.ID="editor.action.indentationToTabs";class o extends y.EditorAction{constructor(M,A,T){super(T),this.insertSpaces=M,this.displaySizeOnly=A}run(M,A){const T=M.get(t.IQuickInputService),O=M.get(s.IModelService),P=A.getModel();if(!P)return;const x=O.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget),z=P.getOptions(),q=[1,2,3,4,5,6,7,8].map($=>({id:$.toString(),label:$.toString(),description:$===x.tabSize&&$===z.tabSize?i.localize(2,null):$===x.tabSize?i.localize(3,null):$===z.tabSize?i.localize(4,null):void 0})),B=Math.min(P.getOptions().tabSize-1,7);setTimeout(()=>{T.pick(q,{placeHolder:i.localize(5,null),activeItem:q[B]}).then($=>{if($&&P&&!P.isDisposed()){const X=parseInt($.label,10);this.displaySizeOnly?P.updateOptions({tabSize:X}):P.updateOptions({tabSize:X,indentSize:X,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=o;class d extends o{constructor(){super(!1,!1,{id:d.ID,label:i.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=d,d.ID="editor.action.indentUsingTabs";class r extends o{constructor(){super(!0,!1,{id:r.ID,label:i.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=r,r.ID="editor.action.indentUsingSpaces";class g extends o{constructor(){super(!0,!0,{id:g.ID,label:i.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=g,g.ID="editor.action.changeTabDisplaySize";class f extends y.EditorAction{constructor(){super({id:f.ID,label:i.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(M,A){const T=M.get(s.IModelService),O=A.getModel();if(!O)return;const P=T.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget);O.detectIndentation(P.insertSpaces,P.tabSize)}}e.DetectIndentation=f,f.ID="editor.action.detectIndentation";class p extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:i.localize(10,null),alias:"Reindent Lines",precondition:v.EditorContextKeys.writable})}run(M,A){const T=M.get(C.ILanguageConfigurationService),O=A.getModel();if(!O)return;const P=h(O,T,1,O.getLineCount());P.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,P),A.pushUndoStop())}}e.ReindentLinesAction=p;class b extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:i.localize(11,null),alias:"Reindent Selected Lines",precondition:v.EditorContextKeys.writable})}run(M,A){const T=M.get(C.ILanguageConfigurationService),O=A.getModel();if(!O)return;const P=A.getSelections();if(P===null)return;const x=[];for(const z of P){let q=z.startLineNumber,B=z.endLineNumber;if(q!==B&&z.endColumn===1&&B--,q===1){if(q===B)continue}else q--;const $=h(O,T,q,B);x.push(...$)}x.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,x),A.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class w{constructor(M,A){this._initialSelection=A,this._edits=[],this._selectionId=null;for(const T of M)T.range&&typeof T.text=="string"&&this._edits.push(T)}getEditOperations(M,A){for(const O of this._edits)A.addEditOperation(m.Range.lift(O.range),O.text);let T=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(T=!0,this._selectionId=A.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(T=!0,this._selectionId=A.trackSelection(this._initialSelection,!1))),T||(this._selectionId=A.trackSelection(this._initialSelection))}computeCursorState(M,A){return A.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=w;let E=class{constructor(M,A){this.editor=M,this._languageConfigurationService=A,this.callOnDispose=new L.DisposableStore,this.callOnModel=new L.DisposableStore,this.callOnDispose.add(M.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(M.onDidChangeModel(()=>this.update())),this.callOnDispose.add(M.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(11)<4||this.editor.getOption(54))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:M})=>{this.trigger(M)}))}trigger(M){const A=this.editor.getSelections();if(A===null||A.length>1)return;const T=this.editor.getModel();if(!T||!T.tokenization.isCheapToTokenize(M.getStartPosition().lineNumber))return;const O=this.editor.getOption(11),{tabSize:P,indentSize:x,insertSpaces:z}=T.getOptions(),q=[],B={shiftIndent:oe=>D.ShiftCommand.shiftIndent(oe,oe.length+1,P,x,z),unshiftIndent:oe=>D.ShiftCommand.unshiftIndent(oe,oe.length+1,P,x,z)};let $=M.startLineNumber;for(;$<=M.endLineNumber;){if(this.shouldIgnoreLine(T,$)){$++;continue}break}if($>M.endLineNumber)return;let X=T.getLineContent($);if(!/\S/.test(X.substring(0,M.startColumn-1))){const oe=(0,u.getGoodIndentForLine)(O,T,T.getLanguageId(),$,B,this._languageConfigurationService);if(oe!==null){const Y=k.getLeadingWhitespace(X),U=n.getSpaceCnt(oe,P),W=n.getSpaceCnt(Y,P);if(U!==W){const V=n.generateIndent(U,P,z);q.push({range:new m.Range($,1,$,Y.length+1),text:V}),X=V+X.substr(Y.length)}else{const V=(0,u.getIndentMetadata)(T,$,this._languageConfigurationService);if(V===0||V===8)return}}}const ne=$;for(;$<M.endLineNumber;){if(!/\S/.test(T.getLineContent($+1))){$++;continue}break}if($!==M.endLineNumber){const oe={tokenization:{getLineTokens:U=>T.tokenization.getLineTokens(U),getLanguageId:()=>T.getLanguageId(),getLanguageIdAtPosition:(U,W)=>T.getLanguageIdAtPosition(U,W)},getLineContent:U=>U===ne?X:T.getLineContent(U)},Y=(0,u.getGoodIndentForLine)(O,oe,T.getLanguageId(),$+1,B,this._languageConfigurationService);if(Y!==null){const U=n.getSpaceCnt(Y,P),W=n.getSpaceCnt(k.getLeadingWhitespace(T.getLineContent($+1)),P);if(U!==W){const V=U-W;for(let Z=$+1;Z<=M.endLineNumber;Z++){const ie=T.getLineContent(Z),le=k.getLeadingWhitespace(ie),de=n.getSpaceCnt(le,P)+V,ce=n.generateIndent(de,P,z);ce!==le&&q.push({range:new m.Range(Z,1,Z,le.length+1),text:ce})}}}}if(q.length>0){this.editor.pushUndoStop();const oe=new w(q,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",oe),this.editor.pushUndoStop()}}shouldIgnoreLine(M,A){M.tokenization.forceTokenization(A);const T=M.getLineFirstNonWhitespaceColumn(A);if(T===0)return!0;const O=M.tokenization.getLineTokens(A);if(O.getCount()>0){const P=O.findTokenIndexAtOffset(T);if(P>=0&&O.getStandardTokenType(P)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=E,E.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=E=Ie([ge(1,C.ILanguageConfigurationService)],E);function I(F,M,A,T){if(F.getLineCount()===1&&F.getLineMaxColumn(1)===1)return;let O="";for(let x=0;x<A;x++)O+=" ";const P=new RegExp(O,"gi");for(let x=1,z=F.getLineCount();x<=z;x++){let q=F.getLineFirstNonWhitespaceColumn(x);if(q===0&&(q=F.getLineMaxColumn(x)),q===1)continue;const B=new m.Range(x,1,x,q),$=F.getValueInRange(B),X=T?$.replace(/\t/ig,O):$.replace(P,"	");M.addEditOperation(B,X)}}class N{constructor(M,A){this.selection=M,this.tabSize=A,this.selectionId=null}getEditOperations(M,A){this.selectionId=A.trackSelection(this.selection),I(M,A,this.tabSize,!0)}computeCursorState(M,A){return A.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=N;class R{constructor(M,A){this.selection=M,this.tabSize=A,this.selectionId=null}getEditOperations(M,A){this.selectionId=A.trackSelection(this.selection),I(M,A,this.tabSize,!1)}computeCursorState(M,A){return A.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=R,(0,y.registerEditorContribution)(E.ID,E,2),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(b)}),define(ee[806],te([1,0,16,207,22,680]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends L.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:y.EditorContextKeys.textInputFocus,primary:2090}})}run(_,v,C){if(C=C||{},!v.hasModel())return;const s=v._getViewModel();s.model.pushStackElement(),s.setCursorStates(C.source,3,k.CursorMoveCommands.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(C.source,!0)}}e.ExpandLineSelectionAction=S,(0,L.registerEditorAction)(S)}),define(ee[807],te([1,0,61,189,16,123,485,246,70,12,5,24,22,546,778,547,681,30,31]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class c extends y.EditorAction{constructor(Z,ie){super(ie),this.down=Z}run(Z,ie){if(!ie.hasModel())return;const le=ie.getSelections().map((ce,ae)=>({selection:ce,index:ae,ignore:!1}));le.sort((ce,ae)=>C.Range.compareRangesUsingStarts(ce.selection,ae.selection));let he=le[0];for(let ce=1;ce<le.length;ce++){const ae=le[ce];he.selection.endLineNumber===ae.selection.startLineNumber&&(he.index<ae.index?ae.ignore=!0:(he.ignore=!0,he=ae))}const de=[];for(const ce of le)de.push(new i.CopyLinesCommand(ce.selection,this.down,ce.ignore));ie.pushUndoStop(),ie.executeCommands(this.id,de),ie.pushUndoStop()}}class o extends c{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:u.localize(0,null),alias:"Copy Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(1,null),order:1}})}}class d extends c{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:u.localize(2,null),alias:"Copy Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(3,null),order:2}})}}class r extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:u.localize(4,null),alias:"Duplicate Selection",precondition:n.EditorContextKeys.writable,menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(5,null),order:5}})}run(Z,ie,le){if(!ie.hasModel())return;const he=[],de=ie.getSelections(),ce=ie.getModel();for(const ae of de)if(ae.isEmpty())he.push(new i.CopyLinesCommand(ae,!0));else{const J=new s.Selection(ae.endLineNumber,ae.endColumn,ae.endLineNumber,ae.endColumn);he.push(new D.ReplaceCommandThatSelectsText(J,ce.getValueInRange(ae)))}ie.pushUndoStop(),ie.executeCommands(this.id,he),ie.pushUndoStop()}}e.DuplicateSelectionAction=r;class g extends y.EditorAction{constructor(Z,ie){super(ie),this.down=Z}run(Z,ie){const le=Z.get(l.ILanguageConfigurationService),he=[],de=ie.getSelections()||[],ce=ie.getOption(11);for(const ae of de)he.push(new t.MoveLinesCommand(ae,this.down,ce,le));ie.pushUndoStop(),ie.executeCommands(this.id,he),ie.pushUndoStop()}}class f extends g{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:u.localize(6,null),alias:"Move Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(7,null),order:3}})}}class p extends g{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:u.localize(8,null),alias:"Move Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(9,null),order:4}})}}class b extends y.EditorAction{constructor(Z,ie){super(ie),this.descending=Z}run(Z,ie){const le=ie.getSelections()||[];for(const de of le)if(!a.SortLinesCommand.canRun(ie.getModel(),de,this.descending))return;const he=[];for(let de=0,ce=le.length;de<ce;de++)he[de]=new a.SortLinesCommand(le[de],this.descending);ie.pushUndoStop(),ie.executeCommands(this.id,he),ie.pushUndoStop()}}e.AbstractSortLinesAction=b;class w extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:u.localize(10,null),alias:"Sort Lines Ascending",precondition:n.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class E extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:u.localize(11,null),alias:"Sort Lines Descending",precondition:n.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends y.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:u.localize(12,null),alias:"Delete Duplicate Lines",precondition:n.EditorContextKeys.writable})}run(Z,ie){if(!ie.hasModel())return;const le=ie.getModel();if(le.getLineCount()===1&&le.getLineMaxColumn(1)===1)return;const he=[],de=[];let ce=0;for(const ae of ie.getSelections()){const J=new Set,K=[];for(let re=ae.startLineNumber;re<=ae.endLineNumber;re++){const se=le.getLineContent(re);J.has(se)||(K.push(se),J.add(se))}const H=new s.Selection(ae.startLineNumber,1,ae.endLineNumber,le.getLineMaxColumn(ae.endLineNumber)),Q=ae.startLineNumber-ce,j=new s.Selection(Q,1,Q+K.length-1,K[K.length-1].length);he.push(_.EditOperation.replace(H,K.join(`
`))),de.push(j),ce+=ae.endLineNumber-ae.startLineNumber+1-K.length}ie.pushUndoStop(),ie.executeEdits(this.id,he,de),ie.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class N extends y.EditorAction{constructor(){super({id:N.ID,label:u.localize(13,null),alias:"Trim Trailing Whitespace",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2102),weight:100}})}run(Z,ie,le){let he=[];le.reason==="auto-save"&&(he=(ie.getSelections()||[]).map(ae=>new v.Position(ae.positionLineNumber,ae.positionColumn)));const de=ie.getSelection();if(de===null)return;const ce=new S.TrimTrailingWhitespaceCommand(de,he);ie.pushUndoStop(),ie.executeCommands(this.id,[ce]),ie.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class R extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:u.localize(14,null),alias:"Delete Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(Z,ie){if(!ie.hasModel())return;const le=this._getLinesToRemove(ie),he=ie.getModel();if(he.getLineCount()===1&&he.getLineMaxColumn(1)===1)return;let de=0;const ce=[],ae=[];for(let J=0,K=le.length;J<K;J++){const H=le[J];let Q=H.startLineNumber,j=H.endLineNumber,re=1,se=he.getLineMaxColumn(j);j<he.getLineCount()?(j+=1,se=1):Q>1&&(Q-=1,re=he.getLineMaxColumn(Q)),ce.push(_.EditOperation.replace(new s.Selection(Q,re,j,se),"")),ae.push(new s.Selection(Q-de,H.positionColumn,Q-de,H.positionColumn)),de+=H.endLineNumber-H.startLineNumber+1}ie.pushUndoStop(),ie.executeEdits(this.id,ce,ae),ie.pushUndoStop()}_getLinesToRemove(Z){const ie=Z.getSelections().map(de=>{let ce=de.endLineNumber;return de.startLineNumber<de.endLineNumber&&de.endColumn===1&&(ce-=1),{startLineNumber:de.startLineNumber,selectionStartColumn:de.selectionStartColumn,endLineNumber:ce,positionColumn:de.positionColumn}});ie.sort((de,ce)=>de.startLineNumber===ce.startLineNumber?de.endLineNumber-ce.endLineNumber:de.startLineNumber-ce.startLineNumber);const le=[];let he=ie[0];for(let de=1;de<ie.length;de++)he.endLineNumber+1>=ie[de].startLineNumber?he.endLineNumber=ie[de].endLineNumber:(le.push(he),he=ie[de]);return le.push(he),le}}e.DeleteLinesAction=R;class F extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:u.localize(15,null),alias:"Indent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(Z,ie){const le=ie._getViewModel();le&&(ie.pushUndoStop(),ie.executeCommands(this.id,m.TypeOperations.indent(le.cursorConfig,ie.getModel(),ie.getSelections())),ie.pushUndoStop())}}e.IndentLinesAction=F;class M extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:u.localize(16,null),alias:"Outdent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(Z,ie){k.CoreEditingCommands.Outdent.runEditorCommand(Z,ie,null)}}class A extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:u.localize(17,null),alias:"Insert Line Above",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(Z,ie){const le=ie._getViewModel();le&&(ie.pushUndoStop(),ie.executeCommands(this.id,m.TypeOperations.lineInsertBefore(le.cursorConfig,ie.getModel(),ie.getSelections())))}}e.InsertLineBeforeAction=A;class T extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:u.localize(18,null),alias:"Insert Line Below",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(Z,ie){const le=ie._getViewModel();le&&(ie.pushUndoStop(),ie.executeCommands(this.id,m.TypeOperations.lineInsertAfter(le.cursorConfig,ie.getModel(),ie.getSelections())))}}e.InsertLineAfterAction=T;class O extends y.EditorAction{run(Z,ie){if(!ie.hasModel())return;const le=ie.getSelection(),he=this._getRangesToDelete(ie),de=[];for(let J=0,K=he.length-1;J<K;J++){const H=he[J],Q=he[J+1];C.Range.intersectRanges(H,Q)===null?de.push(H):he[J+1]=C.Range.plusRange(H,Q)}de.push(he[he.length-1]);const ce=this._getEndCursorState(le,de),ae=de.map(J=>_.EditOperation.replace(J,""));ie.pushUndoStop(),ie.executeEdits(this.id,ae,ce),ie.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class P extends O{constructor(){super({id:"deleteAllLeft",label:u.localize(19,null),alias:"Delete All Left",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Z,ie){let le=null;const he=[];let de=0;return ie.forEach(ce=>{let ae;if(ce.endColumn===1&&de>0){const J=ce.startLineNumber-de;ae=new s.Selection(J,ce.startColumn,J,ce.startColumn)}else ae=new s.Selection(ce.startLineNumber,ce.startColumn,ce.startLineNumber,ce.startColumn);de+=ce.endLineNumber-ce.startLineNumber,ce.intersectRanges(Z)?le=ae:he.push(ae)}),le&&he.unshift(le),he}_getRangesToDelete(Z){const ie=Z.getSelections();if(ie===null)return[];let le=ie;const he=Z.getModel();return he===null?[]:(le.sort(C.Range.compareRangesUsingStarts),le=le.map(de=>{if(de.isEmpty())if(de.startColumn===1){const ce=Math.max(1,de.startLineNumber-1),ae=de.startLineNumber===1?1:he.getLineContent(ce).length+1;return new C.Range(ce,ae,de.startLineNumber,1)}else return new C.Range(de.startLineNumber,1,de.startLineNumber,de.startColumn);else return new C.Range(de.startLineNumber,1,de.endLineNumber,de.endColumn)}),le)}}e.DeleteAllLeftAction=P;class x extends O{constructor(){super({id:"deleteAllRight",label:u.localize(20,null),alias:"Delete All Right",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Z,ie){let le=null;const he=[];for(let de=0,ce=ie.length,ae=0;de<ce;de++){const J=ie[de],K=new s.Selection(J.startLineNumber-ae,J.startColumn,J.startLineNumber-ae,J.startColumn);J.intersectRanges(Z)?le=K:he.push(K)}return le&&he.unshift(le),he}_getRangesToDelete(Z){const ie=Z.getModel();if(ie===null)return[];const le=Z.getSelections();if(le===null)return[];const he=le.map(de=>{if(de.isEmpty()){const ce=ie.getLineMaxColumn(de.startLineNumber);return de.startColumn===ce?new C.Range(de.startLineNumber,de.startColumn,de.startLineNumber+1,1):new C.Range(de.startLineNumber,de.startColumn,de.startLineNumber,ce)}return de});return he.sort(C.Range.compareRangesUsingStarts),he}}e.DeleteAllRightAction=x;class z extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:u.localize(21,null),alias:"Join Lines",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Z,ie){const le=ie.getSelections();if(le===null)return;let he=ie.getSelection();if(he===null)return;le.sort(C.Range.compareRangesUsingStarts);const de=[],ce=le.reduce((j,re)=>j.isEmpty()?j.endLineNumber===re.startLineNumber?(he.equalsSelection(j)&&(he=re),re):re.startLineNumber>j.endLineNumber+1?(de.push(j),re):new s.Selection(j.startLineNumber,j.startColumn,re.endLineNumber,re.endColumn):re.startLineNumber>j.endLineNumber?(de.push(j),re):new s.Selection(j.startLineNumber,j.startColumn,re.endLineNumber,re.endColumn));de.push(ce);const ae=ie.getModel();if(ae===null)return;const J=[],K=[];let H=he,Q=0;for(let j=0,re=de.length;j<re;j++){const se=de[j],ue=se.startLineNumber,me=1;let ve=0,Ce,we;const Le=ae.getLineContent(se.endLineNumber).length-se.endColumn;if(se.isEmpty()||se.startLineNumber===se.endLineNumber){const Ae=se.getStartPosition();Ae.lineNumber<ae.getLineCount()?(Ce=ue+1,we=ae.getLineMaxColumn(Ce)):(Ce=Ae.lineNumber,we=ae.getLineMaxColumn(Ae.lineNumber))}else Ce=se.endLineNumber,we=ae.getLineMaxColumn(Ce);let Ee=ae.getLineContent(ue);for(let Ae=ue+1;Ae<=Ce;Ae++){const Re=ae.getLineContent(Ae),ye=ae.getLineFirstNonWhitespaceColumn(Ae);if(ye>=1){let De=!0;Ee===""&&(De=!1),De&&(Ee.charAt(Ee.length-1)===" "||Ee.charAt(Ee.length-1)==="	")&&(De=!1,Ee=Ee.replace(/[\s\uFEFF\xA0]+$/g," "));const fe=Re.substr(ye-1);Ee+=(De?" ":"")+fe,De?ve=fe.length+1:ve=fe.length}else ve=0}const Ne=new C.Range(ue,me,Ce,we);if(!Ne.isEmpty()){let Ae;se.isEmpty()?(J.push(_.EditOperation.replace(Ne,Ee)),Ae=new s.Selection(Ne.startLineNumber-Q,Ee.length-ve+1,ue-Q,Ee.length-ve+1)):se.startLineNumber===se.endLineNumber?(J.push(_.EditOperation.replace(Ne,Ee)),Ae=new s.Selection(se.startLineNumber-Q,se.startColumn,se.endLineNumber-Q,se.endColumn)):(J.push(_.EditOperation.replace(Ne,Ee)),Ae=new s.Selection(se.startLineNumber-Q,se.startColumn,se.startLineNumber-Q,Ee.length-Le)),C.Range.intersectRanges(Ne,he)!==null?H=Ae:K.push(Ae)}Q+=Ne.endLineNumber-Ne.startLineNumber}K.unshift(H),ie.pushUndoStop(),ie.executeEdits(this.id,J,K),ie.pushUndoStop()}}e.JoinLinesAction=z;class q extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:u.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:n.EditorContextKeys.writable})}run(Z,ie){const le=ie.getSelections();if(le===null)return;const he=ie.getModel();if(he===null)return;const de=[];for(let ce=0,ae=le.length;ce<ae;ce++){const J=le[ce];if(!J.isEmpty())continue;const K=J.getStartPosition(),H=he.getLineMaxColumn(K.lineNumber);if(K.column>=H){if(K.lineNumber===he.getLineCount())continue;const Q=new C.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),j=he.getValueInRange(Q).split("").reverse().join("");de.push(new D.ReplaceCommand(new s.Selection(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),j))}else{const Q=new C.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber,K.column+1),j=he.getValueInRange(Q).split("").reverse().join("");de.push(new D.ReplaceCommandThatPreservesSelection(Q,j,new s.Selection(K.lineNumber,K.column+1,K.lineNumber,K.column+1)))}}ie.pushUndoStop(),ie.executeCommands(this.id,de),ie.pushUndoStop()}}e.TransposeAction=q;class B extends y.EditorAction{run(Z,ie){const le=ie.getSelections();if(le===null)return;const he=ie.getModel();if(he===null)return;const de=ie.getOption(128),ce=[];for(const ae of le)if(ae.isEmpty()){const J=ae.getStartPosition(),K=ie.getConfiguredWordAtPosition(J);if(!K)continue;const H=new C.Range(J.lineNumber,K.startColumn,J.lineNumber,K.endColumn),Q=he.getValueInRange(H);ce.push(_.EditOperation.replace(H,this._modifyText(Q,de)))}else{const J=he.getValueInRange(ae);ce.push(_.EditOperation.replace(ae,this._modifyText(J,de)))}ie.pushUndoStop(),ie.executeEdits(this.id,ce),ie.pushUndoStop()}}e.AbstractCaseAction=B;class $ extends B{constructor(){super({id:"editor.action.transformToUppercase",label:u.localize(23,null),alias:"Transform to Uppercase",precondition:n.EditorContextKeys.writable})}_modifyText(Z,ie){return Z.toLocaleUpperCase()}}e.UpperCaseAction=$;class X extends B{constructor(){super({id:"editor.action.transformToLowercase",label:u.localize(24,null),alias:"Transform to Lowercase",precondition:n.EditorContextKeys.writable})}_modifyText(Z,ie){return Z.toLocaleLowerCase()}}e.LowerCaseAction=X;class ne{constructor(Z,ie){this._pattern=Z,this._flags=ie,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class oe extends B{constructor(){super({id:"editor.action.transformToTitlecase",label:u.localize(25,null),alias:"Transform to Title Case",precondition:n.EditorContextKeys.writable})}_modifyText(Z,ie){const le=oe.titleBoundary.get();return le?Z.toLocaleLowerCase().replace(le,he=>he.toLocaleUpperCase()):Z}}e.TitleCaseAction=oe,oe.titleBoundary=new ne("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Y extends B{constructor(){super({id:"editor.action.transformToSnakecase",label:u.localize(26,null),alias:"Transform to Snake Case",precondition:n.EditorContextKeys.writable})}_modifyText(Z,ie){const le=Y.caseBoundary.get(),he=Y.singleLetters.get();return!le||!he?Z:Z.replace(le,"$1_$2").replace(he,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=Y,Y.caseBoundary=new ne("(\\p{Ll})(\\p{Lu})","gmu"),Y.singleLetters=new ne("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class U extends B{constructor(){super({id:"editor.action.transformToCamelcase",label:u.localize(27,null),alias:"Transform to Camel Case",precondition:n.EditorContextKeys.writable})}_modifyText(Z,ie){const le=U.wordBoundary.get();if(!le)return Z;const he=Z.split(le);return he.shift()+he.map(ce=>ce.substring(0,1).toLocaleUpperCase()+ce.substring(1)).join("")}}e.CamelCaseAction=U,U.wordBoundary=new ne("[_\\s-]","gm");class W extends B{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(ie=>ie.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:u.localize(28,null),alias:"Transform to Kebab Case",precondition:n.EditorContextKeys.writable})}_modifyText(Z,ie){const le=W.caseBoundary.get(),he=W.singleLetters.get(),de=W.underscoreBoundary.get();return!le||!he||!de?Z:Z.replace(de,"$1-$3").replace(le,"$1-$2").replace(he,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=W,W.caseBoundary=new ne("(\\p{Ll})(\\p{Lu})","gmu"),W.singleLetters=new ne("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),W.underscoreBoundary=new ne("(\\S)(_)(\\S)","gm"),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(F),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(x),(0,y.registerEditorAction)(z),(0,y.registerEditorAction)(q),(0,y.registerEditorAction)($),(0,y.registerEditorAction)(X),Y.caseBoundary.isSupported()&&Y.singleLetters.isSupported()&&(0,y.registerEditorAction)(Y),U.wordBoundary.isSupported()&&(0,y.registerEditorAction)(U),oe.titleBoundary.isSupported()&&(0,y.registerEditorAction)(oe),W.isSupported()&&(0,y.registerEditorAction)(W)}),define(ee[808],te([1,0,2,16]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends L.Disposable{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(m=>{const _=this._editor.getOption(115);_>=0&&m.target.type===6&&m.target.position.column>=_&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}y.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(y.ID,y,2)}),define(ee[190],te([1,0,182,49,6,56,2,16,5,116,684,15,55,7,457]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=t=class{static get(c){return c.getContribution(t.ID)}constructor(c,o,d){this._openerService=d,this._messageWidget=new S.MutableDisposable,this._messageListeners=new S.DisposableStore,this._mouseOverMessage=!1,this._editor=c,this._visible=t.MESSAGE_VISIBLE.bindTo(o)}dispose(){var c;(c=this._message)===null||c===void 0||c.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(c,o){(0,k.alert)((0,D.isMarkdownString)(c)?c.value:c),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(c)?(0,L.renderMarkdown)(c,{actionHandler:{callback:r=>(0,v.openLinkFromMarkdown)(this._openerService,r,(0,D.isMarkdownString)(c)?c.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new h(this._editor,o,typeof c=="string"?c:this._message.element),this._messageListeners.add(y.Event.debounce(this._editor.onDidBlurEditorText,(r,g)=>g,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(document.activeElement,this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let d;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(d?d.containsPosition(r.target.position)||this.closeMessage():d=new _.Range(o.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(h.fadeOut(this._messageWidget.value))}};e.MessageController=a,a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new s.RawContextKey("messageVisible",!1,C.localize(0,null)),e.MessageController=a=t=Ie([ge(1,s.IContextKeyService),ge(2,n.IOpenerService)],a);const u=m.EditorCommand.bindToContribution(a.get);(0,m.registerEditorCommand)(new u({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:l=>l.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class h{static fadeOut(c){const o=()=>{c.dispose(),clearTimeout(d),c.getDomNode().removeEventListener("animationend",o)},d=setTimeout(o,110);return c.getDomNode().addEventListener("animationend",o),c.getDomNode().classList.add("fadeOut"),{dispose:o}}constructor(c,{lineNumber:o,column:d},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=c,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:d},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const g=document.createElement("div");g.classList.add("anchor","top"),this._domNode.appendChild(g);const f=document.createElement("div");typeof r=="string"?(f.classList.add("message"),f.textContent=r):(r.classList.add("message"),f.appendChild(r)),this._domNode.appendChild(f);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(c){this._domNode.classList.toggle("below",c===2)}}(0,m.registerEditorContribution)(a.ID,a,4)}),define(ee[809],te([1,0,56,2,16,190,691]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class m extends k.Disposable{constructor(v){super(),this.editor=v,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const v=D.MessageController.get(this.editor);if(v&&this.editor.hasModel()){let C=this.editor.getOptions().get(90);C||(this.editor.isSimpleWidget?C=new L.MarkdownString(S.localize(0,null)):C=new L.MarkdownString(S.localize(1,null))),v.showMessage(C,this.editor.getPosition())}}}e.ReadOnlyMessageController=m,m.ID="editor.contrib.readOnlyMessageController",(0,y.registerEditorContribution)(m.ID,m,2)}),define(ee[810],te([1,0,14,19,9,16,12,5,24,22,301,548,694,30,25,18,65,20,21]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=e.SmartSelectController=void 0;class o{constructor(w,E){this.index=w,this.ranges=E}mov(w){const E=this.index+(w?1:-1);if(E<0||E>=this.ranges.length)return this;const I=new o(E,this.ranges);return I.ranges[E].equalsRange(this.ranges[this.index])?I.mov(w):I}}let d=c=class{static get(w){return w.getContribution(c.ID)}constructor(w,E){this._editor=w,this._languageFeaturesService=E,this._ignoreSelection=!1}dispose(){var w;(w=this._selectionListener)===null||w===void 0||w.dispose()}run(w){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const E=this._editor.getSelections(),I=this._editor.getModel();if(this._state||(yield p(this._languageFeaturesService.selectionRangeProvider,I,E.map(R=>R.getPosition()),this._editor.getOption(111),k.CancellationToken.None).then(R=>{var F;if(!(!L.isNonEmptyArray(R)||R.length!==E.length)&&!(!this._editor.hasModel()||!L.equals(this._editor.getSelections(),E,(M,A)=>M.equalsSelection(A)))){for(let M=0;M<R.length;M++)R[M]=R[M].filter(A=>A.containsPosition(E[M].getStartPosition())&&A.containsPosition(E[M].getEndPosition())),R[M].unshift(E[M]);this._state=R.map(M=>new o(0,M)),(F=this._selectionListener)===null||F===void 0||F.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var M;this._ignoreSelection||((M=this._selectionListener)===null||M===void 0||M.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(R=>R.mov(w));const N=this._state.map(R=>_.Selection.fromPositions(R.ranges[R.index].getStartPosition(),R.ranges[R.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(N)}finally{this._ignoreSelection=!1}})}};e.SmartSelectController=d,d.ID="editor.contrib.smartSelectController",e.SmartSelectController=d=c=Ie([ge(1,a.ILanguageFeaturesService)],d);class r extends D.EditorAction{constructor(w,E){super(E),this._forward=w}run(w,E){return Se(this,void 0,void 0,function*(){const I=d.get(E);I&&(yield I.run(this._forward))})}}class g extends r{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class f extends r{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(d.ID,d,4),(0,D.registerEditorAction)(g),(0,D.registerEditorAction)(f);function p(b,w,E,I,N){return Se(this,void 0,void 0,function*(){const R=b.all(w).concat(new s.WordSelectionRangeProvider(I.selectSubwords));R.length===1&&R.unshift(new C.BracketSelectionRangeProvider);const F=[],M=[];for(const A of R)F.push(Promise.resolve(A.provideSelectionRanges(w,E,N)).then(T=>{if(L.isNonEmptyArray(T)&&T.length===E.length)for(let O=0;O<E.length;O++){M[O]||(M[O]=[]);for(const P of T[O])m.Range.isIRange(P.range)&&m.Range.containsPosition(P.range,E[O])&&M[O].push(m.Range.lift(P.range))}},y.onUnexpectedExternalError));return yield Promise.all(F),M.map(A=>{if(A.length===0)return[];A.sort((x,z)=>S.Position.isBefore(x.getStartPosition(),z.getStartPosition())?1:S.Position.isBefore(z.getStartPosition(),x.getStartPosition())||S.Position.isBefore(x.getEndPosition(),z.getEndPosition())?-1:S.Position.isBefore(z.getEndPosition(),x.getEndPosition())?1:0);const T=[];let O;for(const x of A)(!O||m.Range.containsRange(x,O)&&!m.Range.equalsRange(x,O))&&(T.push(x),O=x);if(!I.selectLeadingAndTrailingWhitespace)return T;const P=[T[0]];for(let x=1;x<T.length;x++){const z=T[x-1],q=T[x];if(q.startLineNumber!==z.startLineNumber||q.endLineNumber!==z.endLineNumber){const B=new m.Range(z.startLineNumber,w.getLineFirstNonWhitespaceColumn(z.startLineNumber),z.endLineNumber,w.getLineLastNonWhitespaceColumn(z.endLineNumber));B.containsRange(z)&&!B.equalsRange(z)&&q.containsRange(B)&&!q.equalsRange(B)&&P.push(B);const $=new m.Range(z.startLineNumber,1,z.endLineNumber,w.getLineMaxColumn(z.endLineNumber));$.containsRange(z)&&!$.equalsRange(B)&&q.containsRange($)&&!q.equalsRange($)&&P.push($)}P.push(q)}return P})})}e.provideSelectionRanges=p,t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(b,...w){return Se(this,void 0,void 0,function*(){const[E,I]=w;(0,h.assertType)(l.URI.isUri(E));const N=b.get(a.ILanguageFeaturesService).selectionRangeProvider,R=yield b.get(u.ITextModelService).createModelReference(E);try{return p(N,R.object.textEditorModel,I,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{R.dispose()}})})}),define(ee[811],te([1,0,19,68,47,2,16,33,5,18,303,133,350,304,103,8]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class h{constructor(r,g,f,p,b,w){this.range=r,this.insertText=g,this.filterText=f,this.additionalTextEdits=p,this.command=b,this.completion=w}}let l=class extends D.RefCountedDisposable{constructor(r,g,f,p,b,w){super(b.disposable),this.model=r,this.line=g,this.word=f,this.completionModel=p,this._suggestMemoryService=w}canBeReused(r,g,f){return this.model===r&&this.line===g&&this.word.word.length>0&&this.word.startColumn===f.startColumn&&this.word.endColumn<f.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var r;const g=[],{items:f}=this.completionModel,p=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},f),b=y.Iterable.slice(f,p),w=y.Iterable.slice(f,0,p);let E=5;for(const I of y.Iterable.concat(b,w)){if(I.score===k.FuzzyScore.Default)continue;const N=new _.Range(I.editStart.lineNumber,I.editStart.column,I.editInsertEnd.lineNumber,I.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),R=I.completion.insertTextRules&&I.completion.insertTextRules&4?{snippet:I.completion.insertText}:I.completion.insertText;g.push(new h(N,R,(r=I.filterTextLow)!==null&&r!==void 0?r:I.labelLow,I.completion.additionalTextEdits,I.completion.command,I)),E-->=0&&I.resolve(L.CancellationToken.None)}return g}};l=Ie([ge(5,n.ISuggestMemoryService)],l);let c=class{constructor(r,g,f,p){this._getEditorOption=r,this._languageFeatureService=g,this._clipboardService=f,this._suggestMemoryService=p}provideInlineCompletions(r,g,f,p){var b;return Se(this,void 0,void 0,function*(){if(f.selectedSuggestionInfo)return;const w=this._getEditorOption(87,r);if(s.QuickSuggestionsOptions.isAllOff(w))return;r.tokenization.tokenizeIfCheap(g.lineNumber);const E=r.tokenization.getLineTokens(g.lineNumber),I=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(g.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(w,I)!=="inline")return;let N=r.getWordAtPosition(g),R;if(N?.word||(R=this._getTriggerCharacterInfo(r,g)),!N?.word&&!R||(N||(N=r.getWordUntilPosition(g)),N.endColumn!==g.column))return;let F;const M=r.getValueInRange(new _.Range(g.lineNumber,1,g.lineNumber,g.column));if(!R&&(!((b=this._lastResult)===null||b===void 0)&&b.canBeReused(r,g.lineNumber,N))){const A=new C.LineContext(M,g.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=A,this._lastResult.acquire(),F=this._lastResult}else{const A=yield(0,s.provideSuggestionItems)(this._languageFeatureService.completionProvider,r,g,new s.CompletionOptions(void 0,void 0,R?.providers),R&&{triggerKind:1,triggerCharacter:R.ch},p);let T;A.needsClipboard&&(T=yield this._clipboardService.readText());const O=new C.CompletionModel(A.items,g.column,new C.LineContext(M,0),i.WordDistance.None,this._getEditorOption(116,r),this._getEditorOption(110,r),{boostFullMatch:!1,firstMatchCanBeWeak:!1},T);F=new l(r,g.lineNumber,N,O,A,this._suggestMemoryService)}return this._lastResult=F,F})}handleItemDidShow(r,g){g.completion.resolve(L.CancellationToken.None)}freeInlineCompletions(r){r.release()}_getTriggerCharacterInfo(r,g){var f;const p=r.getValueInRange(_.Range.fromPositions({lineNumber:g.lineNumber,column:g.column-1},g)),b=new Set;for(const w of this._languageFeatureService.completionProvider.all(r))!((f=w.triggerCharacters)===null||f===void 0)&&f.includes(p)&&b.add(w);if(b.size!==0)return{providers:b,ch:p}}};e.SuggestInlineCompletions=c,e.SuggestInlineCompletions=c=Ie([ge(1,v.ILanguageFeaturesService),ge(2,t.IClipboardService),ge(3,n.ISuggestMemoryService)],c);let o=u=class{constructor(r,g,f,p){if(++u._counter===1){const b=p.createInstance(c,(w,E)=>{var I;return((I=f.listCodeEditors().find(R=>R.getModel()===E))!==null&&I!==void 0?I:r).getOption(w)});u._disposable=g.inlineCompletionsProvider.register("*",b)}}dispose(){var r;--u._counter===0&&((r=u._disposable)===null||r===void 0||r.dispose(),u._disposable=void 0)}};o._counter=0,o=u=Ie([ge(1,v.ILanguageFeaturesService),ge(2,m.ICodeEditorService),ge(3,a.IInstantiationService)],o),(0,S.registerEditorContribution)("suggest.inlineCompletionsProvider",o,0)}),define(ee[812],te([1,0,58,16,706]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:y.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,_){if(!_.hasModel())return;const v=_.getModel();v.tokenization.resetTokenization();const C=new L.StopWatch;v.tokenization.forceTokenization(v.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(ee[813],te([1,0,2,44,16,33,708,157]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const _="ignoreUnusualLineTerminators";function v(n,i,t){n.setModelProperty(i.uri,_,t)}function C(n,i){return n.getModelProperty(i.uri,_)}let s=class extends L.Disposable{constructor(i,t,a){super(),this._editor=i,this._dialogService=t,this._codeEditorService=a,this._isPresentingDialog=!1,this._config=this._editor.getOption(124),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(124)&&(this._config=this._editor.getOption(124),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return Se(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||C(this._codeEditorService,i)===!0||this._editor.getOption(89))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let a;try{this._isPresentingDialog=!0,a=yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,k.basename)(i.uri)),primaryButton:S.localize(3,null),cancelButton:S.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!a.confirmed){v(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())})}};e.UnusualLineTerminatorsDetector=s,s.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=s=Ie([ge(1,m.IDialogService),ge(2,D.ICodeEditorService)],s),(0,y.registerEditorContribution)(s.ID,s,1)}),define(ee[356],te([1,0,16,123,38,71,177,144,12,5,24,22,31,711,86,15,238]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class h extends L.EditorCommand{constructor(U){super(U),this._inSelectionMode=U.inSelectionMode,this._wordNavigationType=U.wordNavigationType}runEditorCommand(U,W,V){if(!W.hasModel())return;const Z=(0,m.getMapForWordSeparators)(W.getOption(128)),ie=W.getModel(),he=W.getSelections().map(de=>{const ce=new _.Position(de.positionLineNumber,de.positionColumn),ae=this._move(Z,ie,ce,this._wordNavigationType);return this._moveTo(de,ae,this._inSelectionMode)});if(ie.pushStackElement(),W._getViewModel().setCursorStates("moveWordCommand",3,he.map(de=>D.CursorState.fromModelSelection(de))),he.length===1){const de=new _.Position(he[0].positionLineNumber,he[0].positionColumn);W.revealPosition(de,0)}}_moveTo(U,W,V){return V?new C.Selection(U.selectionStartLineNumber,U.selectionStartColumn,W.lineNumber,W.column):new C.Selection(W.lineNumber,W.column,W.lineNumber,W.column)}}e.MoveWordCommand=h;class l extends h{_move(U,W,V,Z){return S.WordOperations.moveWordLeft(U,W,V,Z)}}e.WordLeftCommand=l;class c extends h{_move(U,W,V,Z){return S.WordOperations.moveWordRight(U,W,V,Z)}}e.WordRightCommand=c;class o extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class d extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=d;class r extends l{constructor(){var U;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(U=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=r;class g extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=g;class f extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=f;class p extends l{constructor(){var U;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(U=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=p;class b extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(U,W,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),W,V,Z)}}e.CursorWordAccessibilityLeft=b;class w extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(U,W,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),W,V,Z)}}e.CursorWordAccessibilityLeftSelect=w;class E extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends c{constructor(){var U;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(U=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class N extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=N;class R extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class F extends c{constructor(){var U;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(U=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=F;class M extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=M;class A extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(U,W,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),W,V,Z)}}e.CursorWordAccessibilityRight=A;class T extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(U,W,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),W,V,Z)}}e.CursorWordAccessibilityRightSelect=T;class O extends L.EditorCommand{constructor(U){super(U),this._whitespaceHeuristics=U.whitespaceHeuristics,this._wordNavigationType=U.wordNavigationType}runEditorCommand(U,W,V){const Z=U.get(n.ILanguageConfigurationService);if(!W.hasModel())return;const ie=(0,m.getMapForWordSeparators)(W.getOption(128)),le=W.getModel(),he=W.getSelections(),de=W.getOption(6),ce=W.getOption(10),ae=Z.getLanguageConfiguration(le.getLanguageId()).getAutoClosingPairs(),J=W._getViewModel(),K=he.map(H=>{const Q=this._delete({wordSeparators:ie,model:le,selection:H,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:W.getOption(8),autoClosingBrackets:de,autoClosingQuotes:ce,autoClosingPairs:ae,autoClosedCharacters:J.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(Q,"")});W.pushUndoStop(),W.executeCommands(this.id,K),W.pushUndoStop()}}e.DeleteWordCommand=O;class P extends O{_delete(U,W){const V=S.WordOperations.deleteWordLeft(U,W);return V||new v.Range(1,1,1,1)}}e.DeleteWordLeftCommand=P;class x extends O{_delete(U,W){const V=S.WordOperations.deleteWordRight(U,W);if(V)return V;const Z=U.model.getLineCount(),ie=U.model.getLineMaxColumn(Z);return new v.Range(Z,ie,Z,ie)}}e.DeleteWordRightCommand=x;class z extends P{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=z;class q extends P{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=q;class B extends P{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=B;class $ extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=$;class X extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=X;class ne extends x{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=ne;class oe extends L.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(U,W,V){if(!W.hasModel())return;const Z=(0,m.getMapForWordSeparators)(W.getOption(128)),ie=W.getModel(),he=W.getSelections().map(de=>{const ce=S.WordOperations.deleteInsideWord(Z,ie,de);return new k.ReplaceCommand(ce,"")});W.pushUndoStop(),W.executeCommands(this.id,he),W.pushUndoStop()}}e.DeleteInsideWord=oe,(0,L.registerEditorCommand)(new o),(0,L.registerEditorCommand)(new d),(0,L.registerEditorCommand)(new r),(0,L.registerEditorCommand)(new g),(0,L.registerEditorCommand)(new f),(0,L.registerEditorCommand)(new p),(0,L.registerEditorCommand)(new E),(0,L.registerEditorCommand)(new I),(0,L.registerEditorCommand)(new N),(0,L.registerEditorCommand)(new R),(0,L.registerEditorCommand)(new F),(0,L.registerEditorCommand)(new M),(0,L.registerEditorCommand)(new b),(0,L.registerEditorCommand)(new w),(0,L.registerEditorCommand)(new A),(0,L.registerEditorCommand)(new T),(0,L.registerEditorCommand)(new z),(0,L.registerEditorCommand)(new q),(0,L.registerEditorCommand)(new B),(0,L.registerEditorCommand)(new $),(0,L.registerEditorCommand)(new X),(0,L.registerEditorCommand)(new ne),(0,L.registerEditorAction)(oe)}),define(ee[814],te([1,0,16,177,5,22,356,25]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class _ extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(h,l){const c=k.WordPartOperations.deleteWordPartLeft(h);return c||new y.Range(1,1,1,1)}}e.DeleteWordPartLeft=_;class v extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(h,l){const c=k.WordPartOperations.deleteWordPartRight(h);if(c)return c;const o=h.model.getLineCount(),d=h.model.getLineMaxColumn(o);return new y.Range(o,d,o,d)}}e.DeleteWordPartRight=v;class C extends S.MoveWordCommand{_move(h,l,c,o){return k.WordPartOperations.moveWordPartLeft(h,l,c)}}e.WordPartLeftCommand=C;class s extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=s,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class n extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=n,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends S.MoveWordCommand{_move(h,l,c,o){return k.WordPartOperations.moveWordPartRight(h,l,c)}}e.WordPartRightCommand=i;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class a extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=a,(0,L.registerEditorCommand)(new _),(0,L.registerEditorCommand)(new v),(0,L.registerEditorCommand)(new s),(0,L.registerEditorCommand)(new n),(0,L.registerEditorCommand)(new t),(0,L.registerEditorCommand)(new a)}),define(ee[815],te([1,0,7,2,16,17,469]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(v){super(),this.editor=v,this.widget=null,D.isIOS&&(this._register(v.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const v=!this.editor.getOption(89);!this.widget&&v?this.widget=new m(this.editor):this.widget&&!v&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class m extends k.Disposable{constructor(v){super(),this.editor=v,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(L.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(L.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}m.ID="editor.contrib.ShowKeyboardWidget",(0,y.registerEditorContribution)(S.ID,S,3)}),define(ee[816],te([1,0,7,36,2,16,28,124,154,42,131,93,470]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});let i=n=class extends y.Disposable{static get(c){return c.getContribution(n.ID)}constructor(c,o,d){super(),this._editor=c,this._languageService=d,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new h(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=n=Ie([ge(1,C.IStandaloneThemeService),ge(2,v.ILanguageService)],i);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:s.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(c,o){const d=i.get(o);d?.launch()}}function a(l){let c="";for(let o=0,d=l.length;o<d;o++){const r=l.charCodeAt(o);switch(r){case 9:c+="\u2192";break;case 32:c+="\xB7";break;default:c+=String.fromCharCode(r)}}return c}function u(l,c){const o=S.TokenizationRegistry.get(c);if(o)return o;const d=l.encodeLanguageId(c);return{getInitialState:()=>_.NullState,tokenize:(r,g,f)=>(0,_.nullTokenize)(c,f),tokenizeEncoded:(r,g,f)=>(0,_.nullTokenizeEncoded)(d,f)}}class h extends y.Disposable{constructor(c,o){super(),this.allowEditorOverflow=!0,this._editor=c,this._languageService=o,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=u(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(d=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return h._ID}_compute(c){const o=this._getTokensAtLine(c.lineNumber);let d=0;for(let b=o.tokens1.length-1;b>=0;b--){const w=o.tokens1[b];if(c.column-1>=w.offset){d=b;break}}let r=0;for(let b=o.tokens2.length>>>1;b>=0;b--)if(c.column-1>=o.tokens2[b<<1]){r=b;break}const g=this._model.getLineContent(c.lineNumber);let f="";if(d<o.tokens1.length){const b=o.tokens1[d].offset,w=d+1<o.tokens1.length?o.tokens1[d+1].offset:g.length;f=g.substring(b,w)}(0,L.reset)(this._domNode,(0,L.$)("h2.tm-token",void 0,a(f),(0,L.$)("span.tm-token-length",void 0,`${f.length} ${f.length===1?"char":"chars"}`))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const p=(r<<1)+1<o.tokens2.length?this._decodeMetadata(o.tokens2[(r<<1)+1]):null;(0,L.append)(this._domNode,(0,L.$)("table.tm-metadata-table",void 0,(0,L.$)("tbody",void 0,(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"language"),(0,L.$)("td.tm-metadata-value",void 0,`${p?p.languageId:"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"token type"),(0,L.$)("td.tm-metadata-value",void 0,`${p?this._tokenTypeToString(p.tokenType):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"font style"),(0,L.$)("td.tm-metadata-value",void 0,`${p?this._fontStyleToString(p.fontStyle):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"foreground"),(0,L.$)("td.tm-metadata-value",void 0,`${p?k.Color.Format.CSS.formatHex(p.foreground):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"background"),(0,L.$)("td.tm-metadata-value",void 0,`${p?k.Color.Format.CSS.formatHex(p.background):"-?-"}`))))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator")),d<o.tokens1.length&&(0,L.append)(this._domNode,(0,L.$)("span.tm-token-type",void 0,o.tokens1[d].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(c){const o=S.TokenizationRegistry.getColorMap(),d=m.TokenMetadata.getLanguageId(c),r=m.TokenMetadata.getTokenType(c),g=m.TokenMetadata.getFontStyle(c),f=m.TokenMetadata.getForeground(c),p=m.TokenMetadata.getBackground(c);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(d),tokenType:r,fontStyle:g,foreground:o[f],background:o[p]}}_tokenTypeToString(c){switch(c){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(c){let o="";return c&1&&(o+="italic "),c&2&&(o+="bold "),c&4&&(o+="underline "),c&8&&(o+="strikethrough "),o.length===0&&(o="---"),o}_getTokensAtLine(c){const o=this._getStateBeforeLine(c),d=this._tokenizationSupport.tokenize(this._model.getLineContent(c),!0,o),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(c),!0,o);return{startState:o,tokens1:d.tokens,tokens2:r.tokens,endState:d.endState}}_getStateBeforeLine(c){let o=this._tokenizationSupport.getInitialState();for(let d=1;d<c;d++)o=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,o).endState;return o}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}h._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(i.ID,i,4),(0,D.registerEditorAction)(t)}),define(ee[817],te([1,0,7,59,585,41,14,2,716,30,15,57,34,75]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchToolBar=void 0;let t=class extends y.ToolBar{constructor(u,h,l,c,o,d,r){super(u,o,Object.assign(Object.assign({getKeyBinding:f=>{var p;return(p=d.lookupKeybinding(f.id))!==null&&p!==void 0?p:void 0}},h),{allowContextMenu:!0,skipTelemetry:typeof h?.telemetrySource=="string"})),this._options=h,this._menuService=l,this._contextKeyService=c,this._contextMenuService=o,this._sessionDisposables=this._store.add(new m.DisposableStore);const g=h?.telemetrySource;g&&this._store.add(this.actionBar.onDidRun(f=>r.publicLog2("workbenchActionExecuted",{id:f.action.id,from:g})))}setActions(u,h=[],l){var c,o,d;this._sessionDisposables.clear();const r=u.slice(),g=h.slice(),f=[];let p=0;const b=[];let w=!1;if(((c=this._options)===null||c===void 0?void 0:c.hiddenItemStrategy)!==-1)for(let E=0;E<r.length;E++){const I=r[E];!(I instanceof v.MenuItemAction)&&!(I instanceof v.SubmenuItemAction)||I.hideActions&&(f.push(I.hideActions.toggle),I.hideActions.toggle.checked&&p++,I.hideActions.isHidden&&(w=!0,r[E]=void 0,((o=this._options)===null||o===void 0?void 0:o.hiddenItemStrategy)!==0&&(b[E]=I)))}if(((d=this._options)===null||d===void 0?void 0:d.maxNumberOfItems)!==void 0){let E=0;for(let I=0;I<r.length;I++){const N=r[I];N&&++E>=this._options.maxNumberOfItems&&(r[I]=void 0,b[I]=N)}}(0,S.coalesceInPlace)(r),(0,S.coalesceInPlace)(b),super.setActions(r,D.Separator.join(b,g)),f.length>0&&this._sessionDisposables.add((0,L.addDisposableListener)(this.getElement(),"contextmenu",E=>{var I,N,R,F,M;const A=new k.StandardMouseEvent(E),T=this.getItemAction(A.target);if(!T)return;A.preventDefault(),A.stopPropagation();let O=!1;if(p===1&&((I=this._options)===null||I===void 0?void 0:I.hiddenItemStrategy)===0){O=!0;for(let z=0;z<f.length;z++)if(f[z].checked){f[z]=(0,D.toAction)({id:T.id,label:T.label,checked:!0,enabled:!1,run(){}});break}}let P;if(!O&&(T instanceof v.MenuItemAction||T instanceof v.SubmenuItemAction)){if(!T.hideActions)return;P=T.hideActions.hide}else P=(0,D.toAction)({id:"label",label:(0,_.localize)(0,null),enabled:!1,run(){}});const x=D.Separator.join([P],f);!((N=this._options)===null||N===void 0)&&N.resetMenu&&!l&&(l=[this._options.resetMenu]),w&&l&&(x.push(new D.Separator),x.push((0,D.toAction)({id:"resetThisMenu",label:(0,_.localize)(1,null),run:()=>this._menuService.resetHiddenStates(l)}))),this._contextMenuService.showContextMenu({getAnchor:()=>A,getActions:()=>x,menuId:(R=this._options)===null||R===void 0?void 0:R.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(F=this._options)===null||F===void 0?void 0:F.menuOptions),skipTelemetry:typeof((M=this._options)===null||M===void 0?void 0:M.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=t,e.WorkbenchToolBar=t=Ie([ge(2,v.IMenuService),ge(3,C.IContextKeyService),ge(4,s.IContextMenuService),ge(5,n.IKeybindingService),ge(6,i.ITelemetryService)],t)}),define(ee[818],te([1,0,565,9,68,2,63,728,25,29,157,8,34,769,87,75]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u,h;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let l=u=class extends i.PickerQuickAccessProvider{constructor(d,r,g,f,p,b){super(u.PREFIX,d),this.instantiationService=r,this.keybindingService=g,this.commandService=f,this.telemetryService=p,this.dialogService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(c)),this.options=d}_getPicks(d,r,g,f){var p,b,w,E;return Se(this,void 0,void 0,function*(){const I=yield this.getCommandPicks(g);if(g.isCancellationRequested)return[];const N=[];for(const T of I){const O=(p=u.WORD_FILTER(d,T.label))!==null&&p!==void 0?p:void 0,P=T.commandAlias&&(b=u.WORD_FILTER(d,T.commandAlias))!==null&&b!==void 0?b:void 0;O||P?(T.highlights={label:O,detail:this.options.showAlias?P:void 0},N.push(T)):d===T.commandId&&N.push(T)}const R=new Map;for(const T of N){const O=R.get(T.label);O?(T.description=T.commandId,O.description=O.commandId):R.set(T.label,T)}N.sort((T,O)=>{const P=this.commandsHistory.peek(T.commandId),x=this.commandsHistory.peek(O.commandId);if(P&&x)return P>x?-1:1;if(P)return-1;if(x)return 1;if(this.options.suggestedCommandIds){const z=this.options.suggestedCommandIds.has(T.commandId),q=this.options.suggestedCommandIds.has(O.commandId);if(z&&q)return 0;if(z)return-1;if(q)return 1}return T.label.localeCompare(O.label)});const F=[];let M=!1,A=!!this.options.suggestedCommandIds;for(let T=0;T<N.length;T++){const O=N[T];T===0&&this.commandsHistory.peek(O.commandId)&&(F.push({type:"separator",label:(0,m.localize)(0,null)}),M=!0),A&&!this.commandsHistory.peek(O.commandId)&&(!((w=this.options.suggestedCommandIds)===null||w===void 0)&&w.has(O.commandId))&&(F.push({type:"separator",label:(0,m.localize)(1,null)}),M=!0,A=!1),M&&!this.commandsHistory.peek(O.commandId)&&!(!((E=this.options.suggestedCommandIds)===null||E===void 0)&&E.has(O.commandId))&&(F.push({type:"separator",label:(0,m.localize)(2,null)}),M=!1),F.push(this.toCommandPick(O,f))}return this.hasAdditionalCommandPicks(d,g)?{picks:F,additionalPicks:(()=>Se(this,void 0,void 0,function*(){const T=yield this.getAdditionalCommandPicks(I,N,d,g);return g.isCancellationRequested?[]:T.map(O=>this.toCommandPick(O,f))}))()}:F})}toCommandPick(d,r){if(d.type==="separator")return d;const g=this.keybindingService.lookupKeybinding(d.commandId),f=g?(0,m.localize)(3,null,d.label,g.getAriaLabel()):d.label;return Object.assign(Object.assign({},d),{ariaLabel:f,detail:this.options.showAlias&&d.commandAlias!==d.label?d.commandAlias:void 0,keybinding:g,accept:()=>Se(this,void 0,void 0,function*(){var p,b;this.commandsHistory.push(d.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:(p=r?.from)!==null&&p!==void 0?p:"quick open"});try{!((b=d.args)===null||b===void 0)&&b.length?yield this.commandService.executeCommand(d.commandId,...d.args):yield this.commandService.executeCommand(d.commandId)}catch(w){(0,k.isCancellationError)(w)||this.dialogService.error((0,m.localize)(4,null,d.label),(0,L.toErrorMessage)(w))}})})}};e.AbstractCommandsQuickAccessProvider=l,l.PREFIX=">",l.WORD_FILTER=(0,y.or)(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=l=u=Ie([ge(1,s.IInstantiationService),ge(2,n.IKeybindingService),ge(3,_.ICommandService),ge(4,a.ITelemetryService),ge(5,C.IDialogService)],l);let c=h=class extends D.Disposable{constructor(d,r){super(),this.storageService=d,this.configurationService=r,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(d=>this.updateConfiguration(d)))}updateConfiguration(d){d&&!d.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=h.getConfiguredCommandHistoryLength(this.configurationService),h.cache&&h.cache.limit!==this.configuredCommandsHistoryLength&&(h.cache.limit=this.configuredCommandsHistoryLength,h.saveState(this.storageService)))}load(){const d=this.storageService.get(h.PREF_KEY_CACHE,0);let r;if(d)try{r=JSON.parse(d)}catch{}const g=h.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(r){let f;r.usesLRU?f=r.entries:f=r.entries.sort((p,b)=>p.value-b.value),f.forEach(p=>g.set(p.key,p.value))}h.counter=this.storageService.getNumber(h.PREF_KEY_COUNTER,0,h.counter)}push(d){h.cache&&(h.cache.set(d,h.counter++),h.saveState(this.storageService))}peek(d){var r;return(r=h.cache)===null||r===void 0?void 0:r.peek(d)}static saveState(d){if(!h.cache)return;const r={usesLRU:!0,entries:[]};h.cache.forEach((g,f)=>r.entries.push({key:f,value:g})),d.store(h.PREF_KEY_CACHE,JSON.stringify(r),0,0),d.store(h.PREF_KEY_COUNTER,h.counter,0,0)}static getConfiguredCommandHistoryLength(d){var r,g;const p=(g=(r=d.getValue().workbench)===null||r===void 0?void 0:r.commandPalette)===null||g===void 0?void 0:g.history;return typeof p=="number"?p:h.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=c,c.DEFAULT_COMMANDS_HISTORY_LENGTH=50,c.PREF_KEY_CACHE="commandPalette.mru.cache",c.PREF_KEY_COUNTER="commandPalette.mru.counter",c.counter=1,e.CommandsHistory=c=h=Ie([ge(0,t.IStorageService),ge(1,v.IConfigurationService)],c)}),define(ee[819],te([1,0,119,818]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class y extends k.AbstractCommandsQuickAccessProvider{constructor(S,m,_,v,C,s){super(S,m,_,v,C,s)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const m=[];for(const _ of S.getSupportedActions())m.push({commandId:_.id,commandAlias:_.alias,label:(0,L.stripIcons)(_.label)||_.id});return m}}e.AbstractEditorCommandsQuickAccessProvider=y}),define(ee[820],te([1,0,35,134,93,33,819,8,34,25,75,157,16,22,67]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let a=class extends S.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var l;return(l=this.codeEditorService.getFocusedCodeEditor())!==null&&l!==void 0?l:void 0}constructor(l,c,o,d,r,g){super({showAlias:!1},l,o,d,r,g),this.codeEditorService=c}getCommandPicks(){return Se(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return Se(this,void 0,void 0,function*(){return[]})}};e.StandaloneCommandsQuickAccessProvider=a,e.StandaloneCommandsQuickAccessProvider=a=Ie([ge(0,m.IInstantiationService),ge(1,D.ICodeEditorService),ge(2,_.IKeybindingService),ge(3,v.ICommandService),ge(4,C.ITelemetryService),ge(5,s.IDialogService)],a);class u extends n.EditorAction{constructor(){super({id:u.ID,label:y.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(l){l.get(t.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=u,u.ID="editor.action.quickCommand",(0,n.registerEditorAction)(u),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:y.QuickCommandNLS.quickCommandHelp,commandId:u.ID}]})}),define(ee[32],te([1,0,13,36,6,96,734,240,35]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchResultsInfoForeground=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function v(R){return`--vscode-${R.replace(/\./g,"-")}`}e.asCssVariableName=v;function C(R){return`var(${v(R)})`}e.asCssVariable=C;function s(R,F){return`var(${v(R)}, ${F})`}e.asCssVariableWithDefault=s,e.Extensions={ColorContribution:"base.contributions.colors"};class n{constructor(){this._onDidChangeSchema=new y.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(F,M,A,T=!1,O){const P={id:F,description:A,defaults:M,needsTransparency:T,deprecationMessage:O};this.colorsById[F]=P;const x={type:"string",description:A,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return O&&(x.deprecationMessage=O),this.colorSchema.properties[F]=x,this.colorReferenceSchema.enum.push(F),this.colorReferenceSchema.enumDescriptions.push(A),this._onDidChangeSchema.fire(),F}getColors(){return Object.keys(this.colorsById).map(F=>this.colorsById[F])}resolveDefaultColor(F,M){const A=this.colorsById[F];if(A&&A.defaults){const T=A.defaults[M.type];return E(T,M)}}getColorSchema(){return this.colorSchema}toString(){const F=(M,A)=>{const T=M.indexOf(".")===-1?0:1,O=A.indexOf(".")===-1?0:1;return T!==O?T-O:M.localeCompare(A)};return Object.keys(this.colorsById).sort(F).map(M=>`- \`${M}\`: ${this.colorsById[M].description}`).join(`
`)}}const i=new n;_.Registry.add(e.Extensions.ColorContribution,i);function t(R,F,M,A,T){return i.registerColor(R,F,M,A,T)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},S.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:f(e.foreground,.7),hcDark:f(e.foreground,.7),hcLight:f(e.foreground,.7)},S.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},S.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},S.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},S.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},S.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},S.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},S.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},S.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:f(k.Color.black,.36),light:f(k.Color.black,.16),hcDark:null,hcLight:null},S.localize(16,null)),e.widgetBorder=t("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(17,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(18,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(19,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(20,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(21,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(22,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:f(e.focusBorder,.4),light:f(e.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},S.localize(23,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:e.foreground,hcLight:e.foreground},S.localize(24,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:f(e.foreground,.5),dark:f(e.foreground,.5),hcDark:f(e.foreground,.7),hcLight:f(e.foreground,.7)},S.localize(25,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(26,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(27,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(28,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(29,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(30,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(31,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(32,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(33,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(34,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(35,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(36,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:k.Color.white,hcLight:e.foreground},S.localize(37,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(38,null)),e.buttonForeground=t("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},S.localize(39,null)),e.buttonSeparator=t("button.separator",{dark:f(e.buttonForeground,.4),light:f(e.buttonForeground,.4),hcDark:f(e.buttonForeground,.4),hcLight:f(e.buttonForeground,.4)},S.localize(40,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},S.localize(41,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:g(e.buttonBackground,.2),light:r(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},S.localize(42,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(43,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:e.foreground},S.localize(44,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},S.localize(45,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:g(e.buttonSecondaryBackground,.2),light:r(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},S.localize(46,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},S.localize(47,null)),e.badgeForeground=t("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},S.localize(48,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},S.localize(49,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:f(e.contrastBorder,.6),hcLight:f(e.contrastBorder,.4)},S.localize(50,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:f(e.contrastBorder,.8),hcLight:f(e.contrastBorder,.8)},S.localize(51,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(52,null)),e.progressBarBackground=t("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(53,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(54,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(55,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},S.localize(56,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(57,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},S.localize(58,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},S.localize(59,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(60,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},S.localize(61,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},S.localize(62,null)),e.editorHintForeground=t("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},S.localize(63,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},S.localize(64,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(65,null)),e.editorBackground=t("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(66,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:e.foreground},S.localize(67,null)),e.editorStickyScrollBackground=t("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(68,null)),e.editorStickyScrollHoverBackground=t("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(69,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},S.localize(70,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(71,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(72,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(73,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(74,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(75,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},S.localize(76,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},S.localize(77,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},S.localize(78,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},S.localize(79,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:e.foreground},S.localize(80,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.contrastBorder},S.localize(81,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.foreground},S.localize(82,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},S.localize(83,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},S.localize(84,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:f(e.editorSelectionBackground,.5),dark:f(e.editorSelectionBackground,.5),hcDark:f(e.editorSelectionBackground,.7),hcLight:f(e.editorSelectionBackground,.5)},S.localize(85,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:w(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:w(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},S.localize(86,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(87,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},S.localize(88,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},S.localize(89,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},S.localize(90,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(91,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(92,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:f(e.activeContrastBorder,.4),hcLight:f(e.activeContrastBorder,.4)},S.localize(93,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:f(e.editorFindMatchHighlight,.66),dark:f(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},S.localize(94,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:f(e.editorFindMatchHighlightBorder,.66),dark:f(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},S.localize(95,null)),e.searchResultsInfoForeground=t("search.resultsInfoForeground",{light:e.foreground,dark:f(e.foreground,.65),hcDark:e.foreground,hcLight:e.foreground},S.localize(96,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},S.localize(97,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(98,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(99,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},S.localize(100,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:g(e.editorHoverBackground,.2),light:r(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(101,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},S.localize(102,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},S.localize(103,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:f(e.badgeBackground,.1),light:f(e.badgeBackground,.1),hcDark:f(k.Color.white,.1),hcLight:f(e.badgeBackground,.1)},S.localize(104,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(105,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(106,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(107,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(108,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},S.localize(109,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},S.localize(110,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},S.localize(111,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},S.localize(112,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},S.localize(113,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},S.localize(114,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(115,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(116,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(117,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(118,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},S.localize(119,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},S.localize(120,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(121,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},S.localize(122,null)),e.diffUnchangedRegionBackground=t("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},S.localize(123,null)),e.diffUnchangedRegionForeground=t("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},S.localize(124,null)),e.diffUnchangedTextBackground=t("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},S.localize(125,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(126,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(127,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(128,null)),e.listFocusAndSelectionOutline=t("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(129,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(130,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},S.localize(131,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(132,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(133,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(134,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(135,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(136,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(137,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(138,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(139,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},S.localize(140,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(141,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:b(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},S.localize(142,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},S.localize(143,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},S.localize(144,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},S.localize(145,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:r(e.editorWidgetBackground,0),dark:g(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(146,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},S.localize(147,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(148,null)),e.listFilterWidgetShadow=t("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},S.localize(149,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},S.localize(150,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},S.localize(151,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},S.localize(152,null)),e.treeInactiveIndentGuidesStroke=t("tree.inactiveIndentGuidesStroke",{dark:f(e.treeIndentGuidesStroke,.4),light:f(e.treeIndentGuidesStroke,.4),hcDark:f(e.treeIndentGuidesStroke,.4),hcLight:f(e.treeIndentGuidesStroke,.4)},S.localize(153,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},S.localize(154,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:f(e.foreground,.04),light:f(e.foreground,.04),hcDark:null,hcLight:null},S.localize(155,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},S.localize(156,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(157,null)),e.checkboxSelectBackground=t("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(158,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(159,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},S.localize(160,null)),e.checkboxSelectBorder=t("checkbox.selectBorder",{dark:e.iconForeground,light:e.iconForeground,hcDark:e.iconForeground,hcLight:e.iconForeground},S.localize(161,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,S.localize(162,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(163,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},S.localize(164,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},S.localize(165,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(166,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(167,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(168,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(169,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},S.localize(170,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(171,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(172,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(173,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(174,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:g(e.toolbarHoverBackground,.1),light:r(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},S.localize(175,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},S.localize(176,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(177,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(178,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},S.localize(179,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:f(e.foreground,.8),dark:f(e.foreground,.8),hcDark:f(e.foreground,.8),hcLight:f(e.foreground,.8)},S.localize(180,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(181,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:r(e.foreground,.2),dark:g(e.foreground,.1),hcDark:g(e.foreground,.1),hcLight:g(e.foreground,.1)},S.localize(182,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:r(e.foreground,.2),dark:g(e.foreground,.1),hcDark:g(e.foreground,.1),hcLight:g(e.foreground,.1)},S.localize(183,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(184,null));const a=.5,u=k.Color.fromHex("#40C8AE").transparent(a),h=k.Color.fromHex("#40A6FF").transparent(a),l=k.Color.fromHex("#606060").transparent(.4),c=.4,o=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:u,light:u,hcDark:null,hcLight:null},S.localize(185,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:f(e.mergeCurrentHeaderBackground,c),light:f(e.mergeCurrentHeaderBackground,c),hcDark:f(e.mergeCurrentHeaderBackground,c),hcLight:f(e.mergeCurrentHeaderBackground,c)},S.localize(186,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:h,light:h,hcDark:null,hcLight:null},S.localize(187,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:f(e.mergeIncomingHeaderBackground,c),light:f(e.mergeIncomingHeaderBackground,c),hcDark:f(e.mergeIncomingHeaderBackground,c),hcLight:f(e.mergeIncomingHeaderBackground,c)},S.localize(188,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:l,light:l,hcDark:null,hcLight:null},S.localize(189,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:f(e.mergeCommonHeaderBackground,c),light:f(e.mergeCommonHeaderBackground,c),hcDark:f(e.mergeCommonHeaderBackground,c),hcLight:f(e.mergeCommonHeaderBackground,c)},S.localize(190,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},S.localize(191,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:f(e.mergeCurrentHeaderBackground,o),light:f(e.mergeCurrentHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(192,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:f(e.mergeIncomingHeaderBackground,o),light:f(e.mergeIncomingHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(193,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:f(e.mergeCommonHeaderBackground,o),light:f(e.mergeCommonHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(194,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},S.localize(195,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},S.localize(196,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},S.localize(197,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(198,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(199,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},S.localize(200,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},S.localize(201,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(202,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},S.localize(203,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:f(e.scrollbarSliderBackground,.5),dark:f(e.scrollbarSliderBackground,.5),hcDark:f(e.scrollbarSliderBackground,.5),hcLight:f(e.scrollbarSliderBackground,.5)},S.localize(204,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:f(e.scrollbarSliderHoverBackground,.5),dark:f(e.scrollbarSliderHoverBackground,.5),hcDark:f(e.scrollbarSliderHoverBackground,.5),hcLight:f(e.scrollbarSliderHoverBackground,.5)},S.localize(205,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:f(e.scrollbarSliderActiveBackground,.5),dark:f(e.scrollbarSliderActiveBackground,.5),hcDark:f(e.scrollbarSliderActiveBackground,.5),hcLight:f(e.scrollbarSliderActiveBackground,.5)},S.localize(206,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(207,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(208,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(209,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(210,null)),e.chartsLines=t("charts.lines",{dark:f(e.foreground,.5),light:f(e.foreground,.5),hcDark:f(e.foreground,.5),hcLight:f(e.foreground,.5)},S.localize(211,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(212,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(213,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(214,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},S.localize(215,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},S.localize(216,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},S.localize(217,null));function d(R,F){var M,A,T,O;switch(R.op){case 0:return(M=E(R.value,F))===null||M===void 0?void 0:M.darken(R.factor);case 1:return(A=E(R.value,F))===null||A===void 0?void 0:A.lighten(R.factor);case 2:return(T=E(R.value,F))===null||T===void 0?void 0:T.transparent(R.factor);case 3:{const P=E(R.background,F);return P?(O=E(R.value,F))===null||O===void 0?void 0:O.makeOpaque(P):E(R.value,F)}case 4:for(const P of R.values){const x=E(P,F);if(x)return x}return;case 6:return E(F.defines(R.if)?R.then:R.else,F);case 5:{const P=E(R.value,F);if(!P)return;const x=E(R.background,F);return x?P.isDarkerThan(x)?k.Color.getLighterColor(P,x,R.factor).transparent(R.transparency):k.Color.getDarkerColor(P,x,R.factor).transparent(R.transparency):P.transparent(R.factor*R.transparency)}default:throw(0,D.assertNever)(R)}}e.executeTransform=d;function r(R,F){return{op:0,value:R,factor:F}}e.darken=r;function g(R,F){return{op:1,value:R,factor:F}}e.lighten=g;function f(R,F){return{op:2,value:R,factor:F}}e.transparent=f;function p(...R){return{op:4,values:R}}e.oneOf=p;function b(R,F,M){return{op:6,if:R,then:F,else:M}}e.ifDefinedThenElse=b;function w(R,F,M,A){return{op:5,value:R,background:F,factor:M,transparency:A}}function E(R,F){if(R!==null){if(typeof R=="string")return R[0]==="#"?k.Color.fromHex(R):F.getColor(R);if(R instanceof k.Color)return R;if(typeof R=="object")return d(R,F)}}e.resolveColorValue=E,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const I=_.Registry.as(m.Extensions.JSONContribution);I.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const N=new L.RunOnceScheduler(()=>I.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{N.isScheduled()||N.schedule()})}),define(ee[159],te([1,0,7,151,59,13,2,32]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class _{constructor(r,g){this.x=r,this.y=g,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new v(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=_;class v{constructor(r,g){this.clientX=r,this.clientY=g,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new _(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=v;class C{constructor(r,g,f,p){this.x=r,this.y=g,this.width=f,this.height=p,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=C;class s{constructor(r,g){this.x=r,this.y=g,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=s;function n(d){const r=L.getDomNodePagePosition(d);return new C(r.left,r.top,r.width,r.height)}e.createEditorPagePosition=n;function i(d,r,g){const f=r.width/d.offsetWidth,p=r.height/d.offsetHeight,b=(g.x-r.x)/f,w=(g.y-r.y)/p;return new s(b,w)}e.createCoordinatesRelativeToEditor=i;class t extends y.StandardMouseEvent{constructor(r,g,f){super(r),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=g,this.pos=new _(this.posx,this.posy),this.editorPos=n(f),this.relativePos=i(f,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class a{constructor(r){this._editorViewDomNode=r}_create(r){return new t(r,!1,this._editorViewDomNode)}onContextMenu(r,g){return L.addDisposableListener(r,"contextmenu",f=>{g(this._create(f))})}onMouseUp(r,g){return L.addDisposableListener(r,"mouseup",f=>{g(this._create(f))})}onMouseDown(r,g){return L.addDisposableListener(r,L.EventType.MOUSE_DOWN,f=>{g(this._create(f))})}onPointerDown(r,g){return L.addDisposableListener(r,L.EventType.POINTER_DOWN,f=>{g(this._create(f),f.pointerId)})}onMouseLeave(r,g){return L.addDisposableListener(r,L.EventType.MOUSE_LEAVE,f=>{g(this._create(f))})}onMouseMove(r,g){return L.addDisposableListener(r,"mousemove",f=>g(this._create(f)))}}e.EditorMouseEventFactory=a;class u{constructor(r){this._editorViewDomNode=r}_create(r){return new t(r,!1,this._editorViewDomNode)}onPointerUp(r,g){return L.addDisposableListener(r,"pointerup",f=>{g(this._create(f))})}onPointerDown(r,g){return L.addDisposableListener(r,L.EventType.POINTER_DOWN,f=>{g(this._create(f),f.pointerId)})}onPointerLeave(r,g){return L.addDisposableListener(r,L.EventType.POINTER_LEAVE,f=>{g(this._create(f))})}onPointerMove(r,g){return L.addDisposableListener(r,"pointermove",f=>g(this._create(f)))}}e.EditorPointerEventFactory=u;class h extends S.Disposable{constructor(r){super(),this._editorViewDomNode=r,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(r,g,f,p,b){this._keydownListener=L.addStandardDisposableListener(document,"keydown",w=>{w.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,w.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(r,g,f,w=>{p(new t(w,!0,this._editorViewDomNode))},w=>{this._keydownListener.dispose(),b(w)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=h;class l{constructor(r){this._editor=r,this._instanceId=++l._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(r){const g=this.getOrCreateRule(r);return g.increaseRefCount(),{className:g.className,dispose:()=>{g.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(r){const g=this.computeUniqueKey(r);let f=this._rules.get(g);if(!f){const p=this._counter++;f=new c(g,`dyn-rule-${this._instanceId}-${p}`,L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,r),this._rules.set(g,f)}return f}computeUniqueKey(r){return JSON.stringify(r)}garbageCollect(){for(const r of this._rules.values())r.hasReferences()||(this._rules.delete(r.key),r.dispose())}}e.DynamicCssRules=l,l._idPool=0;class c{constructor(r,g,f,p){this.key=r,this.className=g,this.properties=p,this._referenceCount=0,this._styleElement=L.createStyleSheet(f),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(r,g){let f=`.${r} {`;for(const p in g){const b=g[p];let w;typeof b=="object"?w=(0,m.asCssVariable)(b.id):w=b;const E=o(p);f+=`
	${E}: ${w};`}return f+=`
}`,f}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function o(d){return d.replace(/(^[A-Z])/,([r])=>r.toLowerCase()).replace(/([A-Z])/g,([r])=>`-${r.toLowerCase()}`)}}),define(ee[821],te([1,0,7,37,151,2,17,10,230,53,38,5,274,331,82,32,24,60,482,48,97,428]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const d=140,r=2;class g{constructor(M,A,T){const O=M.options,P=O.get(140),x=O.get(142),z=x.minimap,q=O.get(49),B=O.get(71);this.renderMinimap=z.renderMinimap,this.size=B.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=O.get(103),this.paddingTop=O.get(82).top,this.paddingBottom=O.get(82).bottom,this.showSlider=B.showSlider,this.autohide=B.autohide,this.pixelRatio=P,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=O.get(65),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=x.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,o.once)(()=>l.MinimapCharRendererFactory.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=T.getColor(2),this.backgroundColor=g._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=g._getMinimapForegroundOpacity(A)}static _getMinimapBackground(M,A){const T=M.getColor(a.minimapBackground);return T?new n.RGBA8(T.rgba.r,T.rgba.g,T.rgba.b,Math.round(255*T.rgba.a)):A}static _getMinimapForegroundOpacity(M){const A=M.getColor(a.minimapForegroundOpacity);return A?n.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class f{constructor(M,A,T,O,P,x,z,q,B){this.scrollTop=M,this.scrollHeight=A,this.sliderNeeded=T,this._computedSliderRatio=O,this.sliderTop=P,this.sliderHeight=x,this.topPaddingLineCount=z,this.startLineNumber=q,this.endLineNumber=B}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const A=Math.max(this.startLineNumber,M.startLineNumber),T=Math.min(this.endLineNumber,M.endLineNumber);return A>T?null:[A,T]}getYForLineNumber(M,A){return+(M-this.startLineNumber+this.topPaddingLineCount)*A}static create(M,A,T,O,P,x,z,q,B,$,X){const ne=M.pixelRatio,oe=M.minimapLineHeight,Y=Math.floor(M.canvasInnerHeight/oe),U=M.lineHeight;if(M.minimapHeightIsEditorHeight){let de=q*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(de+=Math.max(0,P-M.lineHeight-M.paddingBottom));const ce=Math.max(1,Math.floor(P*P/de)),ae=Math.max(0,M.minimapHeight-ce),J=ae/($-P),K=B*J,H=ae>0,Q=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),j=Math.floor(M.paddingTop/M.lineHeight);return new f(B,$,H,J,K,ce,j,1,Math.min(z,Q))}let W;if(x&&T!==z){const de=T-A+1;W=Math.floor(de*oe/ne)}else{const de=P/U;W=Math.floor(de*oe/ne)}const V=Math.floor(M.paddingTop/U);let Z=Math.floor(M.paddingBottom/U);if(M.scrollBeyondLastLine){const de=P/U;Z=Math.max(Z,de-1)}let ie;if(Z>0){const de=P/U;ie=(V+z+Z-de-1)*oe/ne}else ie=Math.max(0,(V+z)*oe/ne-W);ie=Math.min(M.minimapHeight-W,ie);const le=ie/($-P),he=B*le;if(Y>=V+z+Z){const de=ie>0;return new f(B,$,de,le,he,W,V,1,z)}else{let de;A>1?de=A+V:de=Math.max(1,B/U);let ce,ae=Math.max(1,Math.floor(de-he*ne/oe));ae<V?(ce=V-ae+1,ae=1):(ce=0,ae=Math.max(1,ae-V)),X&&X.scrollHeight===$&&(X.scrollTop>B&&(ae=Math.min(ae,X.startLineNumber),ce=Math.max(ce,X.topPaddingLineCount)),X.scrollTop<B&&(ae=Math.max(ae,X.startLineNumber),ce=Math.min(ce,X.topPaddingLineCount)));const J=Math.min(z,ae-ce+Y-1),K=(B-O)/U;let H;return B>=M.paddingTop?H=(A-ae+ce+K)*oe/ne:H=B/M.paddingTop*(ce+K)*oe/ne,new f(B,$,!0,le,H,W,ce,ae,J)}}}class p{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}p.INVALID=new p(-1);class b{constructor(M,A,T){this.renderedLayout=M,this._imageData=A,this._renderedLines=new _.RenderedLinesCollection(()=>p.INVALID),this._renderedLines._set(M.startLineNumber,T)}linesEquals(M){if(!this.scrollEquals(M))return!1;const T=this._renderedLines._get().lines;for(let O=0,P=T.length;O<P;O++)if(T[O].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,A){return this._renderedLines.onLinesChanged(M,A)}onLinesDeleted(M,A){this._renderedLines.onLinesDeleted(M,A)}onLinesInserted(M,A){this._renderedLines.onLinesInserted(M,A)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class w{constructor(M,A,T,O){this._backgroundFillData=w._createBackgroundFillData(A,T,O),this._buffers=[M.createImageData(A,T),M.createImageData(A,T)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,A,T){const O=T.r,P=T.g,x=T.b,z=T.a,q=new Uint8ClampedArray(M*A*4);let B=0;for(let $=0;$<A;$++)for(let X=0;X<M;X++)q[B]=O,q[B+1]=P,q[B+2]=x,q[B+3]=z,B+=4;return q}}class E{static compute(M,A,T){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:O}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),P=A/O,x=P/2;if(!T||T.minimapLines.length===0){const W=[];if(W[0]=1,O>1){for(let V=0,Z=O-1;V<Z;V++)W[V]=Math.round(V*P+x);W[O-1]=A}return[new E(P,W),[]]}const z=T.minimapLines,q=z.length,B=[];let $=0,X=0,ne=1;const oe=10;let Y=[],U=null;for(let W=0;W<O;W++){const V=Math.max(ne,Math.round(W*P)),Z=Math.max(V,Math.round((W+1)*P));for(;$<q&&z[$]<V;){if(Y.length<oe){const le=$+1+X;U&&U.type==="deleted"&&U._oldIndex===$-1?U.deleteToLineNumber++:(U={type:"deleted",_oldIndex:$,deleteFromLineNumber:le,deleteToLineNumber:le},Y.push(U)),X--}$++}let ie;if($<q&&z[$]<=Z)ie=z[$],$++;else if(W===0?ie=1:W+1===O?ie=A:ie=Math.round(W*P+x),Y.length<oe){const le=$+1+X;U&&U.type==="inserted"&&U._i===W-1?U.insertToLineNumber++:(U={type:"inserted",_i:W,insertFromLineNumber:le,insertToLineNumber:le},Y.push(U)),X++}B[W]=ie,ne=ie}if(Y.length<oe)for(;$<q;){const W=$+1+X;U&&U.type==="deleted"&&U._oldIndex===$-1?U.deleteToLineNumber++:(U={type:"deleted",_oldIndex:$,deleteFromLineNumber:W,deleteToLineNumber:W},Y.push(U)),X--,$++}else Y=[{type:"flush"}];return[new E(P,B),Y]}constructor(M,A){this.samplingRatio=M,this.minimapLines=A}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,A){let T=this.modelLineToMinimapLine(M)-1;for(;T>0&&this.minimapLines[T-1]>=M;)T--;let O=this.modelLineToMinimapLine(A)-1;for(;O+1<this.minimapLines.length&&this.minimapLines[O+1]<=A;)O++;if(T===O){const P=this.minimapLines[T];if(P<M||P>A)return null}return[T+1,O+1]}decorationLineRangeToMinimapLineRange(M,A){let T=this.modelLineToMinimapLine(M),O=this.modelLineToMinimapLine(A);return M!==A&&O===T&&(O===this.minimapLines.length?T>1&&T--:O++),[T,O]}onLinesDeleted(M){const A=M.toLineNumber-M.fromLineNumber+1;let T=this.minimapLines.length,O=0;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<M.fromLineNumber);P--)this.minimapLines[P]<=M.toLineNumber?(this.minimapLines[P]=Math.max(1,M.fromLineNumber-1),T=Math.min(T,P),O=Math.max(O,P)):this.minimapLines[P]-=A;return[T,O]}onLinesInserted(M){const A=M.toLineNumber-M.fromLineNumber+1;for(let T=this.minimapLines.length-1;T>=0&&!(this.minimapLines[T]<M.fromLineNumber);T--)this.minimapLines[T]+=A}}class I extends v.ViewPart{constructor(M){super(M),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new N(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return A?this._actual.onLinesChanged(A[0],A[1]-A[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[A,T]=this._samplingState.onLinesDeleted(M);return A<=T&&this._actual.onLinesChanged(A+1,T-A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const A=[];for(const T of M.ranges){const O=this._samplingState.modelLineRangeToMinimapLineRange(T.fromLineNumber,T.toLineNumber);O&&A.push({fromLineNumber:O[0],toLineNumber:O[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let A=M.visibleRange.startLineNumber,T=M.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),T=this._samplingState.modelLineToMinimapLine(T));const O={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:T,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(A),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(O)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[A,T]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=A,M&&this._samplingState)for(const O of T)switch(O.type){case"deleted":this._actual.onLinesDeleted(O.deleteFromLineNumber,O.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(O.insertFromLineNumber,O.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,A,T){if(this._samplingState){const O=[];for(let P=0,x=A-M+1;P<x;P++)T[P]?O[P]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+P-1]):O[P]=null;return O}return this._context.viewModel.getMinimapLinesRenderingData(M,A,T).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[A,T]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new u.Selection(A,M.startColumn,T,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,A){let T;if(this._samplingState){const P=this._samplingState.minimapLines[M-1],x=this._samplingState.minimapLines[A-1];T=new s.Range(P,1,x,this._context.viewModel.getLineMaxColumn(x))}else T=new s.Range(M,1,A,this._context.viewModel.getLineMaxColumn(A));const O=this._context.viewModel.getMinimapDecorationsInRange(T);if(this._samplingState){const P=[];for(const x of O){if(!x.options.minimap)continue;const z=x.range,q=this._samplingState.modelLineToMinimapLine(z.startLineNumber),B=this._samplingState.modelLineToMinimapLine(z.endLineNumber);P.push(new t.ViewModelDecoration(new s.Range(q,z.startColumn,B,z.endColumn),x.options))}return P}return O}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new s.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=I;class N extends D.Disposable{constructor(M,A){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(a.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),v.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=L.addStandardDisposableListener(this._domNode.domNode,L.EventType.POINTER_DOWN,T=>{if(T.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(T.button===0&&this._lastRenderData){const B=L.getDomNodePagePosition(this._slider.domNode),$=B.top+B.height/2;this._startSliderDragging(T,$,this._lastRenderData.renderedLayout)}return}const P=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*T.offsetY;let q=Math.floor(x/P)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new y.GlobalPointerMoveMonitor,this._sliderPointerDownListener=L.addStandardDisposableListener(this._slider.domNode,L.EventType.POINTER_DOWN,T=>{T.preventDefault(),T.stopPropagation(),T.button===0&&this._lastRenderData&&this._startSliderDragging(T,T.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=h.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=L.addDisposableListener(this._domNode.domNode,h.EventType.Start,T=>{T.preventDefault(),T.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(T))},{passive:!1}),this._sliderTouchMoveListener=L.addDisposableListener(this._domNode.domNode,h.EventType.Change,T=>{T.preventDefault(),T.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(T)},{passive:!1}),this._sliderTouchEndListener=L.addStandardDisposableListener(this._domNode.domNode,h.EventType.End,T=>{T.preventDefault(),T.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,A,T){if(!M.target||!(M.target instanceof Element))return;const O=M.pageX;this._slider.toggleClassName("active",!0);const P=(x,z)=>{const q=L.getDomNodePagePosition(this._domNode.domNode),B=Math.min(Math.abs(z-O),Math.abs(z-q.left),Math.abs(z-q.left-q.width));if(S.isWindows&&B>d){this._model.setScrollTop(T.scrollTop);return}const $=x-A;this._model.setScrollTop(T.getDesiredScrollTopFromDelta($))};M.pageY!==A&&P(M.pageY,O),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,x=>P(x.pageY,x.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const A=this._domNode.domNode.getBoundingClientRect().top,T=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-A);this._model.setScrollTop(T)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,A):!1}onLinesDeleted(M,A){var T;return(T=this._lastRenderData)===null||T===void 0||T.onLinesDeleted(M,A),!0}onLinesInserted(M,A){var T;return(T=this._lastRenderData)===null||T===void 0||T.onLinesInserted(M,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(a.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const T=f.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(T.sliderNeeded?"block":"none"),this._slider.setTop(T.sliderTop),this._slider.setHeight(T.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(T.sliderHeight),this.renderDecorations(T),this._lastRenderData=this.renderLines(T)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(s.Range.compareRangesUsingStarts);const T=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);T.sort((ne,oe)=>(ne.options.zIndex||0)-(oe.options.zIndex||0));const{canvasInnerWidth:O,canvasInnerHeight:P}=this._model.options,x=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,B=this._decorationsCanvas.domNode.getContext("2d");B.clearRect(0,0,O,P);const $=new R(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(B,A,$,M,x),this._renderDecorationsLineHighlights(B,T,$,M,x);const X=new R(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(B,A,X,M,x,q,z,O),this._renderDecorationsHighlights(B,T,X,M,x,q,z,O)}}_renderSelectionLineHighlights(M,A,T,O,P){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let x=0,z=0;for(const q of A){const B=O.intersectWithViewport(q);if(!B)continue;const[$,X]=B;for(let Y=$;Y<=X;Y++)T.set(Y,!0);const ne=O.getYForLineNumber($,P),oe=O.getYForLineNumber(X,P);z>=ne||(z>x&&M.fillRect(C.MINIMAP_GUTTER_WIDTH,x,M.canvas.width,z-x),x=ne),z=oe}z>x&&M.fillRect(C.MINIMAP_GUTTER_WIDTH,x,M.canvas.width,z-x)}_renderDecorationsLineHighlights(M,A,T,O,P){const x=new Map;for(let z=A.length-1;z>=0;z--){const q=A[z],B=q.options.minimap;if(!B||B.position!==c.MinimapPosition.Inline)continue;const $=O.intersectWithViewport(q.range);if(!$)continue;const[X,ne]=$,oe=B.getColor(this._theme.value);if(!oe||oe.isTransparent())continue;let Y=x.get(oe.toString());Y||(Y=oe.transparent(.5).toString(),x.set(oe.toString(),Y)),M.fillStyle=Y;for(let U=X;U<=ne;U++){if(T.has(U))continue;T.set(U,!0);const W=O.getYForLineNumber(X,P);M.fillRect(C.MINIMAP_GUTTER_WIDTH,W,M.canvas.width,P)}}}_renderSelectionsHighlights(M,A,T,O,P,x,z,q){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const B of A){const $=O.intersectWithViewport(B);if(!$)continue;const[X,ne]=$;for(let oe=X;oe<=ne;oe++)this.renderDecorationOnLine(M,T,B,this._selectionColor,O,oe,P,P,x,z,q)}}_renderDecorationsHighlights(M,A,T,O,P,x,z,q){for(const B of A){const $=B.options.minimap;if(!$)continue;const X=O.intersectWithViewport(B.range);if(!X)continue;const[ne,oe]=X,Y=$.getColor(this._theme.value);if(!(!Y||Y.isTransparent()))for(let U=ne;U<=oe;U++)switch($.position){case c.MinimapPosition.Inline:this.renderDecorationOnLine(M,T,B.range,Y,O,U,P,P,x,z,q);continue;case c.MinimapPosition.Gutter:{const W=O.getYForLineNumber(U,P),V=2;this.renderDecoration(M,Y,V,W,r,P);continue}}}}renderDecorationOnLine(M,A,T,O,P,x,z,q,B,$,X){const ne=P.getYForLineNumber(x,q);if(ne+z<0||ne>this._model.options.canvasInnerHeight)return;const{startLineNumber:oe,endLineNumber:Y}=T,U=oe===x?T.startColumn:1,W=Y===x?T.endColumn:this._model.getLineMaxColumn(x),V=this.getXOffsetForPosition(A,x,U,B,$,X),Z=this.getXOffsetForPosition(A,x,W,B,$,X);this.renderDecoration(M,O,V,ne,Z-V,z)}getXOffsetForPosition(M,A,T,O,P,x){if(T===1)return C.MINIMAP_GUTTER_WIDTH;if((T-1)*P>=x)return x;let q=M.get(A);if(!q){const B=this._model.getLineContent(A);q=[C.MINIMAP_GUTTER_WIDTH];let $=C.MINIMAP_GUTTER_WIDTH;for(let X=1;X<B.length+1;X++){const ne=B.charCodeAt(X-1),oe=ne===9?O*P:m.isFullWidthCharacter(ne)?2*P:P,Y=$+oe;if(Y>=x){q[X]=x;break}q[X]=Y,$=Y}M.set(A,q)}return T-1<q.length?q[T-1]:x}renderDecoration(M,A,T,O,P,x){M.fillStyle=A&&A.toString()||"",M.fillRect(T,O,P,x)}renderLines(M){const A=M.startLineNumber,T=M.endLineNumber,O=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const se=this._lastRenderData._get();return new b(M,se.imageData,se.lines)}const P=this._getBuffer();if(!P)return null;const[x,z,q]=N._renderUntouchedLines(P,M.topPaddingLineCount,A,T,O,this._lastRenderData),B=this._model.getMinimapLinesRenderingData(A,T,q),$=this._model.getOptions().tabSize,X=this._model.options.defaultBackgroundColor,ne=this._model.options.backgroundColor,oe=this._model.options.foregroundAlpha,Y=this._model.tokensColorTracker,U=Y.backgroundIsLight(),W=this._model.options.renderMinimap,V=this._model.options.charRenderer(),Z=this._model.options.fontScale,ie=this._model.options.minimapCharWidth,he=(W===1?2:2+1)*Z,de=O>he?Math.floor((O-he)/2):0,ce=ne.a/255,ae=new n.RGBA8(Math.round((ne.r-X.r)*ce+X.r),Math.round((ne.g-X.g)*ce+X.g),Math.round((ne.b-X.b)*ce+X.b),255);let J=M.topPaddingLineCount*O;const K=[];for(let se=0,ue=T-A+1;se<ue;se++)q[se]&&N._renderLine(P,ae,ne.a,U,W,ie,Y,oe,V,J,de,$,B[se],Z,O),K[se]=new p(J),J+=O;const H=x===-1?0:x,j=(z===-1?P.height:z)-H;return this._canvas.domNode.getContext("2d").putImageData(P,0,0,0,H,P.width,j),new b(M,P,K)}static _renderUntouchedLines(M,A,T,O,P,x){const z=[];if(!x){for(let J=0,K=O-T+1;J<K;J++)z[J]=!0;return[-1,-1,z]}const q=x._get(),B=q.imageData.data,$=q.rendLineNumberStart,X=q.lines,ne=X.length,oe=M.width,Y=M.data,U=(O-T+1)*P*oe*4;let W=-1,V=-1,Z=-1,ie=-1,le=-1,he=-1,de=A*P;for(let J=T;J<=O;J++){const K=J-T,H=J-$,Q=H>=0&&H<ne?X[H].dy:-1;if(Q===-1){z[K]=!0,de+=P;continue}const j=Q*oe*4,re=(Q+P)*oe*4,se=de*oe*4,ue=(de+P)*oe*4;ie===j&&he===se?(ie=re,he=ue):(Z!==-1&&(Y.set(B.subarray(Z,ie),le),W===-1&&Z===0&&Z===le&&(W=ie),V===-1&&ie===U&&Z===le&&(V=Z)),Z=j,ie=re,le=se,he=ue),z[K]=!1,de+=P}Z!==-1&&(Y.set(B.subarray(Z,ie),le),W===-1&&Z===0&&Z===le&&(W=ie),V===-1&&ie===U&&Z===le&&(V=Z));const ce=W===-1?-1:W/(oe*4),ae=V===-1?-1:V/(oe*4);return[ce,ae,z]}static _renderLine(M,A,T,O,P,x,z,q,B,$,X,ne,oe,Y,U){const W=oe.content,V=oe.tokens,Z=M.width-x,ie=U===1;let le=C.MINIMAP_GUTTER_WIDTH,he=0,de=0;for(let ce=0,ae=V.getCount();ce<ae;ce++){const J=V.getEndOffset(ce),K=V.getForeground(ce),H=z.getColor(K);for(;he<J;he++){if(le>Z)return;const Q=W.charCodeAt(he);if(Q===9){const j=ne-(he+de)%ne;de+=j-1,le+=j*x}else if(Q===32)le+=x;else{const j=m.isFullWidthCharacter(Q)?2:1;for(let re=0;re<j;re++)if(P===2?B.blockRenderChar(M,le,$+X,H,q,A,T,ie):B.renderChar(M,le,$+X,Q,H,q,A,T,Y,O,ie),le+=x,le>Z)return}}}}}class R{constructor(M,A,T){this._startLineNumber=M,this._endLineNumber=A,this._defaultValue=T,this._values=[];for(let O=0,P=this._endLineNumber-this._startLineNumber+1;O<P;O++)this._values[O]=T}has(M){return this.get(M)!==this._defaultValue}set(M,A){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=A)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(ee[822],te([1,0,608,32]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,k.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,L.localize)(0,null)),e.diffMoveBorderActive=(0,k.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,L.localize)(1,null))}),define(ee[249],te([1,0,704,32,464]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(32,null))}),define(ee[823],te([1,0,26,112,639,172,249]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:k.CodeActionKind.Empty,title:(0,y.localize)(0,null)}),S=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,y.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,y.localize)(2,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,y.localize)(3,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,y.localize)(4,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,y.localize)(5,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,y.localize)(6,null),icon:L.Codicon.symbolSnippet},{kind:k.CodeActionKind.Source,title:(0,y.localize)(7,null),icon:L.Codicon.symbolFile},D]);function m(_,v,C){if(!v)return _.map(i=>({kind:"action",item:i,group:D,disabled:!!i.action.disabled,label:i.action.disabled||i.action.title}));const s=S.map(i=>({group:i,actions:[]}));for(const i of _){const t=i.action.kind?new k.CodeActionKind(i.action.kind):k.CodeActionKind.None;for(const a of s)if(a.group.kind.contains(t)){a.actions.push(i);break}}const n=[];for(const i of s)if(i.actions.length){n.push({kind:"header",group:i.group});for(const t of i.actions)n.push({kind:"action",item:t,group:i.group,label:t.action.title,disabled:!!t.action.disabled,keybinding:C(t.action)})}return n}e.toMenuItems=m}),define(ee[105],te([1,0,32,36]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0;function y(S,m){const _=Object.assign({},m);for(const v in S){const C=S[v];_[v]=C!==void 0?(0,L.asCssVariable)(C):void 0}return _}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,L.asCssVariable)(L.keybindingLabelBackground),keybindingLabelForeground:(0,L.asCssVariable)(L.keybindingLabelForeground),keybindingLabelBorder:(0,L.asCssVariable)(L.keybindingLabelBorder),keybindingLabelBottomBorder:(0,L.asCssVariable)(L.keybindingLabelBottomBorder),keybindingLabelShadow:(0,L.asCssVariable)(L.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,L.asCssVariable)(L.buttonForeground),buttonSeparator:(0,L.asCssVariable)(L.buttonSeparator),buttonBackground:(0,L.asCssVariable)(L.buttonBackground),buttonHoverBackground:(0,L.asCssVariable)(L.buttonHoverBackground),buttonSecondaryForeground:(0,L.asCssVariable)(L.buttonSecondaryForeground),buttonSecondaryBackground:(0,L.asCssVariable)(L.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,L.asCssVariable)(L.buttonSecondaryHoverBackground),buttonBorder:(0,L.asCssVariable)(L.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,L.asCssVariable)(L.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,L.asCssVariable)(L.inputActiveOptionBorder),inputActiveOptionForeground:(0,L.asCssVariable)(L.inputActiveOptionForeground),inputActiveOptionBackground:(0,L.asCssVariable)(L.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,L.asCssVariable)(L.checkboxBackground),checkboxBorder:(0,L.asCssVariable)(L.checkboxBorder),checkboxForeground:(0,L.asCssVariable)(L.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,L.asCssVariable)(L.editorWidgetBackground),dialogForeground:(0,L.asCssVariable)(L.editorWidgetForeground),dialogShadow:(0,L.asCssVariable)(L.widgetShadow),dialogBorder:(0,L.asCssVariable)(L.contrastBorder),errorIconForeground:(0,L.asCssVariable)(L.problemsErrorIconForeground),warningIconForeground:(0,L.asCssVariable)(L.problemsWarningIconForeground),infoIconForeground:(0,L.asCssVariable)(L.problemsInfoIconForeground),textLinkForeground:(0,L.asCssVariable)(L.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,L.asCssVariable)(L.inputBackground),inputForeground:(0,L.asCssVariable)(L.inputForeground),inputBorder:(0,L.asCssVariable)(L.inputBorder),inputValidationInfoBorder:(0,L.asCssVariable)(L.inputValidationInfoBorder),inputValidationInfoBackground:(0,L.asCssVariable)(L.inputValidationInfoBackground),inputValidationInfoForeground:(0,L.asCssVariable)(L.inputValidationInfoForeground),inputValidationWarningBorder:(0,L.asCssVariable)(L.inputValidationWarningBorder),inputValidationWarningBackground:(0,L.asCssVariable)(L.inputValidationWarningBackground),inputValidationWarningForeground:(0,L.asCssVariable)(L.inputValidationWarningForeground),inputValidationErrorBorder:(0,L.asCssVariable)(L.inputValidationErrorBorder),inputValidationErrorBackground:(0,L.asCssVariable)(L.inputValidationErrorBackground),inputValidationErrorForeground:(0,L.asCssVariable)(L.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,L.asCssVariable)(L.listFilterWidgetBackground),listFilterWidgetOutline:(0,L.asCssVariable)(L.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,L.asCssVariable)(L.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,L.asCssVariable)(L.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,L.asCssVariable)(L.badgeBackground),badgeForeground:(0,L.asCssVariable)(L.badgeForeground),badgeBorder:(0,L.asCssVariable)(L.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,L.asCssVariable)(L.breadcrumbsBackground),breadcrumbsForeground:(0,L.asCssVariable)(L.breadcrumbsForeground),breadcrumbsHoverForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,L.asCssVariable)(L.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,L.asCssVariable)(L.listFocusBackground),listFocusForeground:(0,L.asCssVariable)(L.listFocusForeground),listFocusOutline:(0,L.asCssVariable)(L.listFocusOutline),listActiveSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listActiveSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,L.asCssVariable)(L.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,L.asCssVariable)(L.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listInactiveSelectionBackground:(0,L.asCssVariable)(L.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,L.asCssVariable)(L.listInactiveSelectionForeground),listInactiveFocusBackground:(0,L.asCssVariable)(L.listInactiveFocusBackground),listInactiveFocusOutline:(0,L.asCssVariable)(L.listInactiveFocusOutline),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listDropBackground:(0,L.asCssVariable)(L.listDropBackground),listSelectionOutline:(0,L.asCssVariable)(L.activeContrastBorder),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),treeIndentGuidesStroke:(0,L.asCssVariable)(L.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,L.asCssVariable)(L.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,L.asCssVariable)(L.tableColumnsBorder),tableOddRowsBackgroundColor:(0,L.asCssVariable)(L.tableOddRowsBackgroundColor)};function D(S){return y(S,e.defaultListStyles)}e.getListStyles=D,e.defaultSelectBoxStyles={selectBackground:(0,L.asCssVariable)(L.selectBackground),selectListBackground:(0,L.asCssVariable)(L.selectListBackground),selectForeground:(0,L.asCssVariable)(L.selectForeground),decoratorRightForeground:(0,L.asCssVariable)(L.pickerGroupForeground),selectBorder:(0,L.asCssVariable)(L.selectBorder),focusBorder:(0,L.asCssVariable)(L.focusBorder),listFocusBackground:(0,L.asCssVariable)(L.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.quickInputListFocusIconForeground),listFocusForeground:(0,L.asCssVariable)(L.quickInputListFocusForeground),listFocusOutline:(0,L.asCssVariableWithDefault)(L.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),selectListBorder:(0,L.asCssVariable)(L.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,L.asCssVariable)(L.widgetShadow),borderColor:(0,L.asCssVariable)(L.menuBorder),foregroundColor:(0,L.asCssVariable)(L.menuForeground),backgroundColor:(0,L.asCssVariable)(L.menuBackground),selectionForegroundColor:(0,L.asCssVariable)(L.menuSelectionForeground),selectionBackgroundColor:(0,L.asCssVariable)(L.menuSelectionBackground),selectionBorderColor:(0,L.asCssVariable)(L.menuSelectionBorder),separatorColor:(0,L.asCssVariable)(L.menuSeparatorBackground),scrollbarShadow:(0,L.asCssVariable)(L.scrollbarShadow),scrollbarSliderBackground:(0,L.asCssVariable)(L.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,L.asCssVariable)(L.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,L.asCssVariable)(L.scrollbarSliderActiveBackground)}}),define(ee[824],te([1,0,7,311,312,227,68,2,44,65,665,8,34,158,105,155]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let h=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof a.ReferencesModel||w instanceof a.FileReferences}getChildren(w){if(w instanceof a.ReferencesModel)return w.groups;if(w instanceof a.FileReferences)return w.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};e.DataSource=h,e.DataSource=h=Ie([ge(0,v.ITextModelService)],h);class l{getHeight(){return 23}getTemplateId(w){return w instanceof a.FileReferences?r.id:f.id}}e.Delegate=l;let c=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var E;if(w instanceof a.OneReference){const I=(E=w.parent.getPreview(w))===null||E===void 0?void 0:E.preview(w.range);if(I)return I.value}return(0,_.basename)(w.uri)}};e.StringRepresentationProvider=c,e.StringRepresentationProvider=c=Ie([ge(0,n.IKeybindingService)],c);class o{getId(w){return w instanceof a.OneReference?w.id:w.uri}}e.IdentityProvider=o;let d=class extends m.Disposable{constructor(w,E){super(),this._labelService=E;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new D.IconLabel(I,{supportHighlights:!0})),this.badge=new k.CountBadge(L.append(I,L.$(".count")),{},t.defaultCountBadgeStyles),w.appendChild(I)}set(w,E){const I=(0,_.dirname)(w.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(w.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(w.uri),matches:E});const N=w.children.length;this.badge.setCount(N),N>1?this.badge.setTitleFormat((0,C.localize)(0,null,N)):this.badge.setTitleFormat((0,C.localize)(1,null,N))}};d=Ie([ge(1,i.ILabelService)],d);let r=u=class{constructor(w){this._instantiationService=w,this.templateId=u.id}renderTemplate(w){return this._instantiationService.createInstance(d,w)}renderElement(w,E,I){I.set(w.element,(0,S.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};e.FileReferencesRenderer=r,r.id="FileReferencesRenderer",e.FileReferencesRenderer=r=u=Ie([ge(0,s.IInstantiationService)],r);class g{constructor(w){this.label=new y.HighlightedLabel(w)}set(w,E){var I;const N=(I=w.parent.getPreview(w))===null||I===void 0?void 0:I.preview(w.range);if(!N||!N.value)this.label.set(`${(0,_.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:R,highlight:F}=N;E&&!S.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(R,(0,S.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(R,[F]))}}}class f{constructor(){this.templateId=f.id}renderTemplate(w){return new g(w)}renderElement(w,E,I){I.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=f,f.id="OneReferenceRenderer";class p{getWidgetAriaLabel(){return(0,C.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=p}),define(ee[825],te([1,0,7,223,113,26,2,17,27,713,57,34,105,32,268]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class t{get templateId(){return"header"}renderTemplate(r){r.classList.add("group-header");const g=document.createElement("span");return r.append(g),{container:r,text:g}}renderElement(r,g,f){var p,b;f.text.textContent=(b=(p=r.group)===null||p===void 0?void 0:p.title)!==null&&b!==void 0?b:""}disposeTemplate(r){}}let a=class{get templateId(){return"action"}constructor(r,g){this._supportsPreview=r,this._keybindingService=g}renderTemplate(r){r.classList.add(this.templateId);const g=document.createElement("div");g.className="icon",r.append(g);const f=document.createElement("span");f.className="title",r.append(f);const p=new k.KeybindingLabel(r,m.OS);return{container:r,icon:g,text:f,keybinding:p}}renderElement(r,g,f){var p,b,w;if(!((p=r.group)===null||p===void 0)&&p.icon?(f.icon.className=_.ThemeIcon.asClassName(r.group.icon),r.group.icon.color&&(f.icon.style.color=(0,i.asCssVariable)(r.group.icon.color.id))):(f.icon.className=_.ThemeIcon.asClassName(D.Codicon.lightBulb),f.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!r.item||!r.label)return;f.text.textContent=o(r.label),f.keybinding.set(r.keybinding),L.setVisibility(!!r.keybinding,f.keybinding.element);const E=(b=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||b===void 0?void 0:b.getLabel(),I=(w=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||w===void 0?void 0:w.getLabel();f.container.classList.toggle("option-disabled",r.disabled),r.disabled?f.container.title=r.label:E&&I?this._supportsPreview?f.container.title=(0,v.localize)(0,null,E,I):f.container.title=(0,v.localize)(1,null,E):f.container.title=""}disposeTemplate(r){}};a=Ie([ge(1,s.IKeybindingService)],a);class u extends UIEvent{constructor(){super("acceptSelectedAction")}}class h extends UIEvent{constructor(){super("previewSelectedAction")}}function l(d){if(d.kind==="action")return d.label}let c=class extends S.Disposable{constructor(r,g,f,p,b,w){super(),this._delegate=p,this._contextViewService=b,this._keybindingService=w,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const E={getHeight:I=>I.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:I=>I.kind};this._list=this._register(new y.List(r,this.domNode,E,[new a(g,this._keybindingService),new t],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:l},accessibilityProvider:{getAriaLabel:I=>{if(I.kind==="action"){let N=I.label?o(I?.label):"";return I.disabled&&(N=(0,v.localize)(2,null,N,I.disabled)),N}return null},getWidgetAriaLabel:()=>(0,v.localize)(3,null),getRole:I=>I.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(n.defaultListStyles),this._register(this._list.onMouseClick(I=>this.onListClick(I))),this._register(this._list.onMouseOver(I=>this.onListHover(I))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(I=>this.onListSelection(I))),this._allMenuItems=f,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(r){return!r.disabled&&r.kind==="action"}hide(r){this._delegate.onHide(r),this._contextViewService.hideContextView()}layout(r){const g=this._allMenuItems.filter(N=>N.kind==="header").length,p=this._allMenuItems.length*this._actionLineHeight+g*this._headerLineHeight-g*this._actionLineHeight;this._list.layout(p);const b=this._allMenuItems.map((N,R)=>{const F=document.getElementById(this._list.getElementID(R));if(F){F.style.width="auto";const M=F.getBoundingClientRect().width;return F.style.width="",M}return 0}),w=Math.max(...b,r),E=.7,I=Math.min(p,document.body.clientHeight*E);return this._list.layout(I,w),this.domNode.style.height=`${I}px`,this._list.domFocus(),w}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(r){const g=this._list.getFocus();if(g.length===0)return;const f=g[0],p=this._list.element(f);if(!this.focusCondition(p))return;const b=r?new h:new u;this._list.setSelection([f],b)}onListSelection(r){if(!r.elements.length)return;const g=r.elements[0];g.item&&this.focusCondition(g)?this._delegate.onSelect(g.item,r.browserEvent instanceof h):this._list.setSelection([])}onListHover(r){this._list.setFocus(typeof r.index=="number"?[r.index]:[])}onListClick(r){r.element&&this.focusCondition(r.element)&&this._list.setFocus([])}};e.ActionList=c,e.ActionList=c=Ie([ge(4,C.IContextViewService),ge(5,s.IKeybindingService)],c);function o(d){return d.replace(/\r\n|\r|\n/g," ")}}),define(ee[826],te([1,0,7,72,2,714,825,30,15,57,45,8,32,268]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,n.registerColor)("actionBar.toggledBackground",{dark:n.inputActiveOptionBackground,light:n.inputActiveOptionBackground,hcDark:n.inputActiveOptionBackground,hcLight:n.inputActiveOptionBackground},(0,D.localize)(0,null));const i={Visible:new _.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(1,null))};e.IActionWidgetService=(0,s.createDecorator)("actionWidgetService");let t=class extends y.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(h,l,c){super(),this._contextViewService=h,this._contextKeyService=l,this._instantiationService=c,this._list=this._register(new y.MutableDisposable)}show(h,l,c,o,d,r,g){const f=i.Visible.bindTo(this._contextKeyService),p=this._instantiationService.createInstance(S.ActionList,h,l,c,o);this._contextViewService.showContextView({getAnchor:()=>d,render:b=>(f.set(!0),this._renderWidget(b,p,g??[])),onHide:b=>{f.reset(),this._onWidgetClosed(b)}},r,!1)}acceptSelected(h){var l;(l=this._list.value)===null||l===void 0||l.acceptSelected(h)}focusPrevious(){var h,l;(l=(h=this._list)===null||h===void 0?void 0:h.value)===null||l===void 0||l.focusPrevious()}focusNext(){var h,l;(l=(h=this._list)===null||h===void 0?void 0:h.value)===null||l===void 0||l.focusNext()}hide(){var h;(h=this._list.value)===null||h===void 0||h.hide(),this._list.clear()}_renderWidget(h,l,c){var o;const d=document.createElement("div");if(d.classList.add("action-widget"),h.appendChild(d),this._list.value=l,this._list.value)d.appendChild(this._list.value.domNode);else throw new Error("List has no value");const r=new y.DisposableStore,g=document.createElement("div"),f=h.appendChild(g);f.classList.add("context-view-block"),r.add(L.addDisposableListener(f,L.EventType.MOUSE_DOWN,N=>N.stopPropagation()));const p=document.createElement("div"),b=h.appendChild(p);b.classList.add("context-view-pointerBlock"),r.add(L.addDisposableListener(b,L.EventType.POINTER_MOVE,()=>b.remove())),r.add(L.addDisposableListener(b,L.EventType.MOUSE_DOWN,()=>b.remove()));let w=0;if(c.length){const N=this._createActionBar(".action-widget-action-bar",c);N&&(d.appendChild(N.getContainer().parentElement),r.add(N),w=N.getContainer().offsetWidth)}const E=(o=this._list.value)===null||o===void 0?void 0:o.layout(w);d.style.width=`${E}px`;const I=r.add(L.trackFocus(h));return r.add(I.onDidBlur(()=>this.hide())),r}_createActionBar(h,l){if(!l.length)return;const c=L.$(h),o=new k.ActionBar(c);return o.push(l,{icon:!1,label:!0}),o}_onWidgetClosed(h){var l;(l=this._list.value)===null||l===void 0||l.hide(h)}};t=Ie([ge(0,v.IContextViewService),ge(1,_.IContextKeyService),ge(2,s.IInstantiationService)],t),(0,C.registerSingleton)(e.IActionWidgetService,t,1);const a=100+1e3;(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,D.localize)(2,null),original:"Hide action widget"},precondition:i.Visible,keybinding:{weight:a,primary:9,secondary:[1033]}})}run(u){u.get(e.IActionWidgetService).hide()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,D.localize)(3,null),original:"Select previous action"},precondition:i.Visible,keybinding:{weight:a,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.focusPrevious()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:(0,D.localize)(4,null),original:"Select next action"},precondition:i.Visible,keybinding:{weight:a,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.focusNext()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:S.acceptSelectedActionCommand,title:{value:(0,D.localize)(5,null),original:"Accept selected action"},precondition:i.Visible,keybinding:{weight:a,primary:3,secondary:[2137]}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.acceptSelected()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:S.previewSelectedActionCommand,title:{value:(0,D.localize)(6,null),original:"Preview selected action"},precondition:i.Visible,keybinding:{weight:a,primary:2051}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.acceptSelected(!0)}})}),define(ee[250],te([1,0,7,9,98,2,12,18,135,801,823,353,190,638,826,25,29,15,8,94,85,112,352]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;let f=g=class extends D.Disposable{static get(b){return b.getContribution(g.ID)}constructor(b,w,E,I,N,R,F,M,A,T){super(),this._commandService=F,this._configurationService=M,this._actionWidgetService=A,this._instantiationService=T,this._activeCodeActions=this._register(new D.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=b,this._model=this._register(new r.CodeActionModel(this._editor,N.codeActionProvider,w,E,R)),this._register(this._model.onDidChangeState(O=>this.update(O))),this._lightBulbWidget=new y.Lazy(()=>{const O=this._editor.getContribution(s.LightBulbWidget.ID);return O&&this._register(O.onClick(P=>this.showCodeActionList(P.actions,P,{includeDisabledActions:!1,fromLightbulb:!0}))),O}),this._resolver=I.createInstance(v.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(b,w,E){return this.showCodeActionList(w,E,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(b,w,E,I){var N;if(!this._editor.hasModel())return;(N=n.MessageController.get(this._editor))===null||N===void 0||N.closeMessage();const R=this._editor.getPosition();this._trigger({type:1,triggerAction:w,filter:E,autoApply:I,context:{notAvailableMessage:b,position:R}})}_trigger(b){return this._model.trigger(b)}_applyCodeAction(b,w,E){return Se(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(_.applyCodeAction,b,_.ApplyCodeActionReason.FromCodeActions,{preview:E,editor:this._editor})}finally{w&&this._trigger({type:2,triggerAction:d.CodeActionTriggerSource.QuickFix,filter:{}})}})}update(b){var w,E,I,N,R,F,M;return Se(this,void 0,void 0,function*(){if(b.type!==1){(w=this._lightBulbWidget.rawValue)===null||w===void 0||w.hide();return}let A;try{A=yield b.actions}catch(T){(0,k.onUnexpectedError)(T);return}if(!this._disposed)if((E=this._lightBulbWidget.value)===null||E===void 0||E.update(A,b.trigger,b.position),b.trigger.type===1){if(!((I=b.trigger.filter)===null||I===void 0)&&I.include){const O=this.tryGetValidActionToApply(b.trigger,A);if(O){try{(N=this._lightBulbWidget.value)===null||N===void 0||N.hide(),yield this._applyCodeAction(O,!1,!1)}finally{A.dispose()}return}if(b.trigger.context){const P=this.getInvalidActionThatWouldHaveBeenApplied(b.trigger,A);if(P&&P.action.disabled){(R=n.MessageController.get(this._editor))===null||R===void 0||R.showMessage(P.action.disabled,b.trigger.context.position),A.dispose();return}}}const T=!!(!((F=b.trigger.filter)===null||F===void 0)&&F.include);if(b.trigger.context&&(!A.allActions.length||!T&&!A.validActions.length)){(M=n.MessageController.get(this._editor))===null||M===void 0||M.showMessage(b.trigger.context.notAvailableMessage,b.trigger.context.position),this._activeCodeActions.value=A,A.dispose();return}this._activeCodeActions.value=A,this.showCodeActionList(A,this.toCoords(b.position),{includeDisabledActions:T,fromLightbulb:!1})}else this._actionWidgetService.isVisible?A.dispose():this._activeCodeActions.value=A})}getInvalidActionThatWouldHaveBeenApplied(b,w){if(w.allActions.length&&(b.autoApply==="first"&&w.validActions.length===0||b.autoApply==="ifSingle"&&w.allActions.length===1))return w.allActions.find(({action:E})=>E.disabled)}tryGetValidActionToApply(b,w){if(w.validActions.length&&(b.autoApply==="first"&&w.validActions.length>0||b.autoApply==="ifSingle"&&w.validActions.length===1))return w.validActions[0]}showCodeActionList(b,w,E){return Se(this,void 0,void 0,function*(){const I=this._editor.getDomNode();if(!I)return;const N=E.includeDisabledActions&&(this._showDisabled||b.validActions.length===0)?b.allActions:b.validActions;if(!N.length)return;const R=S.Position.isIPosition(w)?this.toCoords(w):w,F={onSelect:(M,A)=>Se(this,void 0,void 0,function*(){this._applyCodeAction(M,!0,!!A),this._actionWidgetService.hide()}),onHide:()=>{var M;(M=this._editor)===null||M===void 0||M.focus()}};this._actionWidgetService.show("codeActionWidget",!0,(0,C.toMenuItems)(N,this._shouldShowHeaders(),this._resolver.getResolver()),F,R,I,this._getActionBarActions(b,w,E))})}toCoords(b){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(b,1),this._editor.render();const w=this._editor.getScrolledVisiblePosition(b),E=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),I=E.left+w.left,N=E.top+w.top+w.height;return{x:I,y:N}}_shouldShowHeaders(){var b;const w=(b=this._editor)===null||b===void 0?void 0:b.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:w?.uri})}_getActionBarActions(b,w,E){if(E.fromLightbulb)return[];const I=b.documentation.map(N=>{var R;return{id:N.id,label:N.title,tooltip:(R=N.tooltip)!==null&&R!==void 0?R:"",class:void 0,enabled:!0,run:()=>{var F;return this._commandService.executeCommand(N.id,...(F=N.arguments)!==null&&F!==void 0?F:[])}}});return E.includeDisabledActions&&b.validActions.length>0&&b.allActions.length!==b.validActions.length&&I.push(this._showDisabled?{id:"hideMoreActions",label:(0,i.localize)(0,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(b,w,E))}:{id:"showMoreActions",label:(0,i.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(b,w,E))}),I}};e.CodeActionController=f,f.ID="editor.contrib.codeActionController",e.CodeActionController=f=g=Ie([ge(1,c.IMarkerService),ge(2,h.IContextKeyService),ge(3,l.IInstantiationService),ge(4,m.ILanguageFeaturesService),ge(5,o.IEditorProgressService),ge(6,a.ICommandService),ge(7,u.IConfigurationService),ge(8,t.IActionWidgetService),ge(9,l.IInstantiationService)],f)}),define(ee[827],te([1,0,10,16,22,135,636,15,112,250,352]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(d){return m.ContextKeyExpr.regex(C.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(d.value)+"\\b"))}const n={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:S.localize(0,null)},apply:{type:"string",description:S.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[S.localize(2,null),S.localize(3,null),S.localize(4,null)]},preferred:{type:"boolean",default:!1,description:S.localize(5,null)}}};function i(d,r,g,f,p=_.CodeActionTriggerSource.Default){if(d.hasModel()){const b=v.CodeActionController.get(d);b?.manualTriggerAtCurrentPosition(r,p,g,f)}}class t extends k.EditorAction{constructor(){super({id:D.quickFixCommandId,label:S.localize(6,null),alias:"Quick Fix...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(r,g){return i(g,S.localize(7,null),void 0,void 0,_.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=t;class a extends k.EditorCommand{constructor(){super({id:D.codeActionCommandId,precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:n}]}})}runEditorCommand(r,g,f){const p=_.CodeActionCommandArgs.fromUser(f,{kind:_.CodeActionKind.Empty,apply:"ifSingle"});return i(g,typeof f?.kind=="string"?p.preferred?S.localize(8,null,f.kind):S.localize(9,null,f.kind):p.preferred?S.localize(10,null):S.localize(11,null),{include:p.kind,includeSourceActions:!0,onlyIncludePreferredActions:p.preferred},p.apply)}}e.CodeActionCommand=a;class u extends k.EditorAction{constructor(){super({id:D.refactorCommandId,label:S.localize(12,null),alias:"Refactor...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:n}]}})}run(r,g,f){const p=_.CodeActionCommandArgs.fromUser(f,{kind:_.CodeActionKind.Refactor,apply:"never"});return i(g,typeof f?.kind=="string"?p.preferred?S.localize(13,null,f.kind):S.localize(14,null,f.kind):p.preferred?S.localize(15,null):S.localize(16,null),{include:_.CodeActionKind.Refactor.contains(p.kind)?p.kind:_.CodeActionKind.None,onlyIncludePreferredActions:p.preferred},p.apply,_.CodeActionTriggerSource.Refactor)}}e.RefactorAction=u;class h extends k.EditorAction{constructor(){super({id:D.sourceActionCommandId,label:S.localize(17,null),alias:"Source Action...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:n}]}})}run(r,g,f){const p=_.CodeActionCommandArgs.fromUser(f,{kind:_.CodeActionKind.Source,apply:"never"});return i(g,typeof f?.kind=="string"?p.preferred?S.localize(18,null,f.kind):S.localize(19,null,f.kind):p.preferred?S.localize(20,null):S.localize(21,null),{include:_.CodeActionKind.Source.contains(p.kind)?p.kind:_.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:p.preferred},p.apply,_.CodeActionTriggerSource.SourceAction)}}e.SourceAction=h;class l extends k.EditorAction{constructor(){super({id:D.organizeImportsCommandId,label:S.localize(22,null),alias:"Organize Imports",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(r,g){return i(g,S.localize(23,null),{include:_.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=l;class c extends k.EditorAction{constructor(){super({id:D.fixAllCommandId,label:S.localize(24,null),alias:"Fix All",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceFixAll))})}run(r,g){return i(g,S.localize(25,null),{include:_.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.FixAll)}}e.FixAllAction=c;class o extends k.EditorAction{constructor(){super({id:D.autoFixCommandId,label:S.localize(26,null),alias:"Auto Fix...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(r,g){return i(g,S.localize(27,null),{include:_.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",_.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=o}),define(ee[828],te([1,0,16,241,827,250,353,637,95,35]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,L.registerEditorContribution)(S.LightBulbWidget.ID,S.LightBulbWidget,4),(0,L.registerEditorAction)(y.QuickFixAction),(0,L.registerEditorAction)(y.RefactorAction),(0,L.registerEditorAction)(y.SourceAction),(0,L.registerEditorAction)(y.OrganizeImportsAction),(0,L.registerEditorAction)(y.AutoFixAction),(0,L.registerEditorAction)(y.FixAllAction),(0,L.registerEditorCommand)(new y.CodeActionCommand),v.Registry.as(_.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},k.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m.localize(0,null),default:!0}}}))}),define(ee[829],te([1,0,7,59,584,41,9,2,105]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class v{constructor(s,n,i,t){this.contextViewService=s,this.telemetryService=n,this.notificationService=i,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const n=s.getActions();if(!n.length)return;this.focusToReturn=document.activeElement;let i;const t=(0,L.isHTMLElement)(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:a=>{var u;this.lastContainer=a;const h=s.getMenuClassName?s.getMenuClassName():"";h&&(a.className+=" "+h),this.options.blockMouse&&(this.block=a.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(u=this.blockDisposable)===null||u===void 0||u.dispose(),this.blockDisposable=(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,o=>o.stopPropagation()));const l=new m.DisposableStore,c=s.actionRunner||new D.ActionRunner;return c.onWillRun(o=>this.onActionRun(o,!s.skipTelemetry),this,l),c.onDidRun(this.onDidActionRun,this,l),i=new y.Menu(a,n,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:c,getKeyBinding:s.getKeyBinding?s.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)},_.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,l),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,l),l.add((0,L.addDisposableListener)(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),l.add((0,L.addDisposableListener)(window,L.EventType.MOUSE_DOWN,o=>{if(o.defaultPrevented)return;const d=new k.StandardMouseEvent(o);let r=d.target;if(!d.rightButton){for(;r;){if(r===a)return;r=r.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.combinedDisposable)(l,i)},focus:()=>{i?.focus(!!s.autoSelectFirstItem)},onHide:a=>{var u,h,l;(u=s.onHide)===null||u===void 0||u.call(s,!!a),this.block&&(this.block.remove(),this.block=null),(h=this.blockDisposable)===null||h===void 0||h.dispose(),this.blockDisposable=null,this.lastContainer&&((0,L.getActiveElement)()===this.lastContainer||(0,L.isAncestor)((0,L.getActiveElement)(),this.lastContainer))&&((l=this.focusToReturn)===null||l===void 0||l.focus()),this.lastContainer=null}},t,!!t)}onActionRun(s,n){n&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,S.isCancellationError)(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=v}),define(ee[191],te([1,0,7,579,113,580,183,587,586,320,6,2,726,29,95,15,238,57,8,34,35,105]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,l.createDecorator)("listService");class r{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new s.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(se){var ue,me;se!==this._lastFocusedWidget&&((ue=this._lastFocusedWidget)===null||ue===void 0||ue.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=se,(me=this._lastFocusedWidget)===null||me===void 0||me.getHTMLElement().classList.add("last-focused"))}register(se,ue){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new y.DefaultStyleController((0,L.createStyleSheet)(),"").style(d.defaultListStyles)),this.lists.some(ve=>ve.widget===se))throw new Error("Cannot register the same widget multiple times");const me={widget:se,extraContextKeys:ue};return this.lists.push(me),se.getHTMLElement()===document.activeElement&&this.setLastFocusedList(se),(0,s.combinedDisposable)(se.onDidFocus(()=>this.setLastFocusedList(se)),(0,s.toDisposable)(()=>this.lists.splice(this.lists.indexOf(me),1)),se.onDidDispose(()=>{this.lists=this.lists.filter(ve=>ve!==me),this._lastFocusedWidget===se&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=r,e.RawWorkbenchListScrollAtBoundaryContextKey=new a.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=a.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=a.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new a.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new a.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=a.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,a.ContextKeyExpr.not(u.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new a.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new a.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new a.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new a.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new a.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new a.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new a.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new a.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new a.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new a.RawContextKey("treeFindOpen",!1);const g="listTypeNavigationMode",f="listAutomaticKeyboardNavigation";function p(re,se){const ue=re.createScoped(se.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(ue),ue}function b(re,se){const ue=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(re),me=()=>{const ve=se.scrollTop===0,Ce=se.scrollHeight-se.renderHeight-se.scrollTop<1;ve&&Ce?ue.set("both"):ve?ue.set("top"):Ce?ue.set("bottom"):ue.set("none")};return me(),se.onDidScroll(me)}const w="workbench.list.multiSelectModifier",E="workbench.list.openMode",I="workbench.list.horizontalScrolling",N="workbench.list.defaultFindMode",R="workbench.list.typeNavigationMode",F="workbench.list.keyboardNavigation",M="workbench.list.scrollByPage",A="workbench.list.defaultFindMatchType",T="workbench.tree.indent",O="workbench.tree.renderIndentGuides",P="workbench.list.smoothScrolling",x="workbench.list.mouseWheelScrollSensitivity",z="workbench.list.fastScrollSensitivity",q="workbench.tree.expandMode";function B(re){return re.getValue(w)==="alt"}class $ extends s.Disposable{constructor(se){super(),this.configurationService=se,this.useAltAsMultipleSelectionModifier=B(se),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(se=>{se.affectsConfiguration(w)&&(this.useAltAsMultipleSelectionModifier=B(this.configurationService))}))}isSelectionSingleChangeEvent(se){return this.useAltAsMultipleSelectionModifier?se.browserEvent.altKey:(0,y.isSelectionSingleChangeEvent)(se)}isSelectionRangeChangeEvent(se){return(0,y.isSelectionRangeChangeEvent)(se)}}function X(re,se){var ue;const me=re.get(i.IConfigurationService),ve=re.get(c.IKeybindingService),Ce=new s.DisposableStore;return[Object.assign(Object.assign({},se),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Le){return ve.mightProducePrintableCharacter(Le)}},smoothScrolling:!!me.getValue(P),mouseWheelScrollSensitivity:me.getValue(x),fastScrollSensitivity:me.getValue(z),multipleSelectionController:(ue=se.multipleSelectionController)!==null&&ue!==void 0?ue:Ce.add(new $(me)),keyboardNavigationEventFilter:ie(ve),scrollByPage:!!me.getValue(M)}),Ce]}let ne=class extends y.List{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne){const Ae=typeof Ce.horizontalScrolling<"u"?Ce.horizontalScrolling:!!Ee.getValue(I),[Re,ye]=Ne.invokeFunction(X,Ce);super(se,ue,me,ve,Object.assign(Object.assign({keyboardSupport:!1},Re),{horizontalScrolling:Ae})),this.disposables.add(ye),this.contextKeyService=p(we,this),this.disposables.add(b(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ce.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=B(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(Ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const fe=this.getSelection(),_e=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(fe.length>0||_e.length>0),this.listMultiSelection.set(fe.length>1),this.listDoubleSelection.set(fe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const fe=this.getSelection(),_e=this.getFocus();this.listHasSelectionOrFocus.set(fe.length>0||_e.length>0)})),this.disposables.add(Ee.onDidChangeConfiguration(fe=>{fe.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=B(Ee));let _e={};if(fe.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const pe=!!Ee.getValue(I);_e=Object.assign(Object.assign({},_e),{horizontalScrolling:pe})}if(fe.affectsConfiguration(M)){const pe=!!Ee.getValue(M);_e=Object.assign(Object.assign({},_e),{scrollByPage:pe})}if(fe.affectsConfiguration(P)){const pe=!!Ee.getValue(P);_e=Object.assign(Object.assign({},_e),{smoothScrolling:pe})}if(fe.affectsConfiguration(x)){const pe=Ee.getValue(x);_e=Object.assign(Object.assign({},_e),{mouseWheelScrollSensitivity:pe})}if(fe.affectsConfiguration(z)){const pe=Ee.getValue(z);_e=Object.assign(Object.assign({},_e),{fastScrollSensitivity:pe})}Object.keys(_e).length>0&&this.updateOptions(_e)})),this.navigator=new W(this,Object.assign({configurationService:Ee},Ce)),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.updateStyles(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyles(se){this.style(se?(0,d.getListStyles)(se):d.defaultListStyles)}};e.WorkbenchList=ne,e.WorkbenchList=ne=Ie([ge(5,a.IContextKeyService),ge(6,e.IListService),ge(7,i.IConfigurationService),ge(8,l.IInstantiationService)],ne);let oe=class extends k.PagedList{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne){const Ae=typeof Ce.horizontalScrolling<"u"?Ce.horizontalScrolling:!!Ee.getValue(I),[Re,ye]=Ne.invokeFunction(X,Ce);super(se,ue,me,ve,Object.assign(Object.assign({keyboardSupport:!1},Re),{horizontalScrolling:Ae})),this.disposables=new s.DisposableStore,this.disposables.add(ye),this.contextKeyService=p(we,this),this.disposables.add(b(this.contextKeyService,this.widget)),this.horizontalScrolling=Ce.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ce.selectionNavigation),this._useAltAsMultipleSelectionModifier=B(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(Ce.overrideStyles),this.disposables.add(Ee.onDidChangeConfiguration(fe=>{fe.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=B(Ee));let _e={};if(fe.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const pe=!!Ee.getValue(I);_e=Object.assign(Object.assign({},_e),{horizontalScrolling:pe})}if(fe.affectsConfiguration(M)){const pe=!!Ee.getValue(M);_e=Object.assign(Object.assign({},_e),{scrollByPage:pe})}if(fe.affectsConfiguration(P)){const pe=!!Ee.getValue(P);_e=Object.assign(Object.assign({},_e),{smoothScrolling:pe})}if(fe.affectsConfiguration(x)){const pe=Ee.getValue(x);_e=Object.assign(Object.assign({},_e),{mouseWheelScrollSensitivity:pe})}if(fe.affectsConfiguration(z)){const pe=Ee.getValue(z);_e=Object.assign(Object.assign({},_e),{fastScrollSensitivity:pe})}Object.keys(_e).length>0&&this.updateOptions(_e)})),this.navigator=new W(this,Object.assign({configurationService:Ee},Ce)),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.updateStyles(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyles(se){this.style(se?(0,d.getListStyles)(se):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=oe,e.WorkbenchPagedList=oe=Ie([ge(5,a.IContextKeyService),ge(6,e.IListService),ge(7,i.IConfigurationService),ge(8,l.IInstantiationService)],oe);let Y=class extends D.Table{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae){const Re=typeof we.horizontalScrolling<"u"?we.horizontalScrolling:!!Ne.getValue(I),[ye,De]=Ae.invokeFunction(X,we);super(se,ue,me,ve,Ce,Object.assign(Object.assign({keyboardSupport:!1},ye),{horizontalScrolling:Re})),this.disposables.add(De),this.contextKeyService=p(Le,this),this.disposables.add(b(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(we.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!we.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=we.horizontalScrolling,this._useAltAsMultipleSelectionModifier=B(Ne),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(we.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const _e=this.getSelection(),pe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_e.length>0||pe.length>0),this.listMultiSelection.set(_e.length>1),this.listDoubleSelection.set(_e.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const _e=this.getSelection(),pe=this.getFocus();this.listHasSelectionOrFocus.set(_e.length>0||pe.length>0)})),this.disposables.add(Ne.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=B(Ne));let pe={};if(_e.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const be=!!Ne.getValue(I);pe=Object.assign(Object.assign({},pe),{horizontalScrolling:be})}if(_e.affectsConfiguration(M)){const be=!!Ne.getValue(M);pe=Object.assign(Object.assign({},pe),{scrollByPage:be})}if(_e.affectsConfiguration(P)){const be=!!Ne.getValue(P);pe=Object.assign(Object.assign({},pe),{smoothScrolling:be})}if(_e.affectsConfiguration(x)){const be=Ne.getValue(x);pe=Object.assign(Object.assign({},pe),{mouseWheelScrollSensitivity:be})}if(_e.affectsConfiguration(z)){const be=Ne.getValue(z);pe=Object.assign(Object.assign({},pe),{fastScrollSensitivity:be})}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new V(this,Object.assign({configurationService:Ne},we)),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.updateStyles(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyles(se){this.style(se?(0,d.getListStyles)(se):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=Y,e.WorkbenchTable=Y=Ie([ge(6,a.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService),ge(9,l.IInstantiationService)],Y);class U extends s.Disposable{constructor(se,ue){var me;super(),this.widget=se,this._onDidOpen=this._register(new C.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(C.Event.filter(this.widget.onDidChangeSelection,ve=>ve.browserEvent instanceof KeyboardEvent)(ve=>this.onSelectionFromKeyboard(ve))),this._register(this.widget.onPointer(ve=>this.onPointer(ve.element,ve.browserEvent))),this._register(this.widget.onMouseDblClick(ve=>this.onMouseDblClick(ve.element,ve.browserEvent))),typeof ue?.openOnSingleClick!="boolean"&&ue?.configurationService?(this.openOnSingleClick=ue?.configurationService.getValue(E)!=="doubleClick",this._register(ue?.configurationService.onDidChangeConfiguration(ve=>{ve.affectsConfiguration(E)&&(this.openOnSingleClick=ue?.configurationService.getValue(E)!=="doubleClick")}))):this.openOnSingleClick=(me=ue?.openOnSingleClick)!==null&&me!==void 0?me:!0}onSelectionFromKeyboard(se){if(se.elements.length!==1)return;const ue=se.browserEvent,me=typeof ue.preserveFocus=="boolean"?ue.preserveFocus:!0,ve=typeof ue.pinned=="boolean"?ue.pinned:!me,Ce=!1;this._open(this.getSelectedElement(),me,ve,Ce,se.browserEvent)}onPointer(se,ue){if(!this.openOnSingleClick||ue.detail===2)return;const ve=ue.button===1,Ce=!0,we=ve,Le=ue.ctrlKey||ue.metaKey||ue.altKey;this._open(se,Ce,we,Le,ue)}onMouseDblClick(se,ue){if(!ue)return;const me=ue.target;if(me.classList.contains("monaco-tl-twistie")||me.classList.contains("monaco-icon-label")&&me.classList.contains("folder-icon")&&ue.offsetX<16)return;const Ce=!1,we=!0,Le=ue.ctrlKey||ue.metaKey||ue.altKey;this._open(se,Ce,we,Le,ue)}_open(se,ue,me,ve,Ce){se&&this._onDidOpen.fire({editorOptions:{preserveFocus:ue,pinned:me,revealIfVisible:!0},sideBySide:ve,element:se,browserEvent:Ce})}}class W extends U{constructor(se,ue){super(se,ue),this.widget=se}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class V extends U{constructor(se,ue){super(se,ue)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Z extends U{constructor(se,ue){super(se,ue)}getSelectedElement(){var se;return(se=this.widget.getSelection()[0])!==null&&se!==void 0?se:void 0}}function ie(re){let se=!1;return ue=>{if(ue.toKeyCodeChord().isModifierKey())return!1;if(se)return se=!1,!1;const me=re.softDispatch(ue,ue.target);return me.kind===1?(se=!0,!1):(se=!1,me.kind===0)}}let le=class extends v.ObjectTree{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne){const{options:Ae,getTypeNavigationMode:Re,disposable:ye}=we.invokeFunction(H,Ce);super(se,ue,me,ve,Ae),this.disposables.add(ye),this.internals=new Q(this,Ce,Re,Ce.overrideStyles,Le,Ee,Ne),this.disposables.add(this.internals)}updateOptions(se){super.updateOptions(se),this.internals.updateOptions(se)}};e.WorkbenchObjectTree=le,e.WorkbenchObjectTree=le=Ie([ge(5,l.IInstantiationService),ge(6,a.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService)],le);let he=class extends v.CompressibleObjectTree{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne){const{options:Ae,getTypeNavigationMode:Re,disposable:ye}=we.invokeFunction(H,Ce);super(se,ue,me,ve,Ae),this.disposables.add(ye),this.internals=new Q(this,Ce,Re,Ce.overrideStyles,Le,Ee,Ne),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles),this.internals.updateOptions(se)}};e.WorkbenchCompressibleObjectTree=he,e.WorkbenchCompressibleObjectTree=he=Ie([ge(5,l.IInstantiationService),ge(6,a.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService)],he);let de=class extends _.DataTree{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae){const{options:Re,getTypeNavigationMode:ye,disposable:De}=Le.invokeFunction(H,we);super(se,ue,me,ve,Ce,Re),this.disposables.add(De),this.internals=new Q(this,we,ye,we.overrideStyles,Ee,Ne,Ae),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles!==void 0&&this.internals.updateStyleOverrides(se.overrideStyles),this.internals.updateOptions(se)}};e.WorkbenchDataTree=de,e.WorkbenchDataTree=de=Ie([ge(6,l.IInstantiationService),ge(7,a.IContextKeyService),ge(8,e.IListService),ge(9,i.IConfigurationService)],de);let ce=class extends m.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae){const{options:Re,getTypeNavigationMode:ye,disposable:De}=Le.invokeFunction(H,we);super(se,ue,me,ve,Ce,Re),this.disposables.add(De),this.internals=new Q(this,we,ye,we.overrideStyles,Ee,Ne,Ae),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles),this.internals.updateOptions(se)}};e.WorkbenchAsyncDataTree=ce,e.WorkbenchAsyncDataTree=ce=Ie([ge(6,l.IInstantiationService),ge(7,a.IContextKeyService),ge(8,e.IListService),ge(9,i.IConfigurationService)],ce);let ae=class extends m.CompressibleAsyncDataTree{constructor(se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae,Re){const{options:ye,getTypeNavigationMode:De,disposable:fe}=Ee.invokeFunction(H,Le);super(se,ue,me,ve,Ce,we,ye),this.disposables.add(fe),this.internals=new Q(this,Le,De,Le.overrideStyles,Ne,Ae,Re),this.disposables.add(this.internals)}updateOptions(se){super.updateOptions(se),this.internals.updateOptions(se)}};e.WorkbenchCompressibleAsyncDataTree=ae,e.WorkbenchCompressibleAsyncDataTree=ae=Ie([ge(7,l.IInstantiationService),ge(8,a.IContextKeyService),ge(9,e.IListService),ge(10,i.IConfigurationService)],ae);function J(re){const se=re.getValue(N);if(se==="highlight")return S.TreeFindMode.Highlight;if(se==="filter")return S.TreeFindMode.Filter;const ue=re.getValue(F);if(ue==="simple"||ue==="highlight")return S.TreeFindMode.Highlight;if(ue==="filter")return S.TreeFindMode.Filter}function K(re){const se=re.getValue(A);if(se==="fuzzy")return S.TreeFindMatchType.Fuzzy;if(se==="contiguous")return S.TreeFindMatchType.Contiguous}function H(re,se){var ue;const me=re.get(i.IConfigurationService),ve=re.get(h.IContextViewService),Ce=re.get(a.IContextKeyService),we=re.get(l.IInstantiationService),Le=()=>{const De=Ce.getContextKeyValue(g);if(De==="automatic")return y.TypeNavigationMode.Automatic;if(De==="trigger"||Ce.getContextKeyValue(f)===!1)return y.TypeNavigationMode.Trigger;const _e=me.getValue(R);if(_e==="automatic")return y.TypeNavigationMode.Automatic;if(_e==="trigger")return y.TypeNavigationMode.Trigger},Ee=se.horizontalScrolling!==void 0?se.horizontalScrolling:!!me.getValue(I),[Ne,Ae]=we.invokeFunction(X,se),Re=se.paddingBottom,ye=se.renderIndentGuides!==void 0?se.renderIndentGuides:me.getValue(O);return{getTypeNavigationMode:Le,disposable:Ae,options:Object.assign(Object.assign({keyboardSupport:!1},Ne),{indent:typeof me.getValue(T)=="number"?me.getValue(T):void 0,renderIndentGuides:ye,smoothScrolling:!!me.getValue(P),defaultFindMode:J(me),defaultFindMatchType:K(me),horizontalScrolling:Ee,scrollByPage:!!me.getValue(M),paddingBottom:Re,hideTwistiesOfChildlessElements:se.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ue=se.expandOnlyOnTwistieClick)!==null&&ue!==void 0?ue:me.getValue(q)==="doubleClick",contextViewProvider:ve,findWidgetStyles:d.defaultFindWidgetStyles})}}let Q=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(se,ue,me,ve,Ce,we,Le){var Ee;this.tree=se,this.disposables=[],this.contextKeyService=p(Ce,se),this.disposables.push(b(this.contextKeyService,se)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ue.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ue.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ee=ue.findWidgetEnabled)!==null&&Ee!==void 0?Ee:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=B(Le),this.updateStyleOverrides(ve);const Ae=()=>{const ye=se.getFocus()[0];if(!ye)return;const De=se.getNode(ye);this.treeElementCanCollapse.set(De.collapsible&&!De.collapsed),this.treeElementHasParent.set(!!se.getParentElement(ye)),this.treeElementCanExpand.set(De.collapsible&&De.collapsed),this.treeElementHasChild.set(!!se.getFirstElementChild(ye))},Re=new Set;Re.add(g),Re.add(f),this.disposables.push(this.contextKeyService,we.register(se),se.onDidChangeSelection(()=>{const ye=se.getSelection(),De=se.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ye.length>0||De.length>0),this.hasMultiSelection.set(ye.length>1),this.hasDoubleSelection.set(ye.length===2)})}),se.onDidChangeFocus(()=>{const ye=se.getSelection(),De=se.getFocus();this.hasSelectionOrFocus.set(ye.length>0||De.length>0),Ae()}),se.onDidChangeCollapseState(Ae),se.onDidChangeModel(Ae),se.onDidChangeFindOpenState(ye=>this.treeFindOpen.set(ye)),Le.onDidChangeConfiguration(ye=>{let De={};if(ye.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=B(Le)),ye.affectsConfiguration(T)){const fe=Le.getValue(T);De=Object.assign(Object.assign({},De),{indent:fe})}if(ye.affectsConfiguration(O)&&ue.renderIndentGuides===void 0){const fe=Le.getValue(O);De=Object.assign(Object.assign({},De),{renderIndentGuides:fe})}if(ye.affectsConfiguration(P)){const fe=!!Le.getValue(P);De=Object.assign(Object.assign({},De),{smoothScrolling:fe})}if(ye.affectsConfiguration(N)||ye.affectsConfiguration(F)){const fe=J(Le);De=Object.assign(Object.assign({},De),{defaultFindMode:fe})}if(ye.affectsConfiguration(R)||ye.affectsConfiguration(F)){const fe=me();De=Object.assign(Object.assign({},De),{typeNavigationMode:fe})}if(ye.affectsConfiguration(A)){const fe=K(Le);De=Object.assign(Object.assign({},De),{defaultFindMatchType:fe})}if(ye.affectsConfiguration(I)&&ue.horizontalScrolling===void 0){const fe=!!Le.getValue(I);De=Object.assign(Object.assign({},De),{horizontalScrolling:fe})}if(ye.affectsConfiguration(M)){const fe=!!Le.getValue(M);De=Object.assign(Object.assign({},De),{scrollByPage:fe})}if(ye.affectsConfiguration(q)&&ue.expandOnlyOnTwistieClick===void 0&&(De=Object.assign(Object.assign({},De),{expandOnlyOnTwistieClick:Le.getValue(q)==="doubleClick"})),ye.affectsConfiguration(x)){const fe=Le.getValue(x);De=Object.assign(Object.assign({},De),{mouseWheelScrollSensitivity:fe})}if(ye.affectsConfiguration(z)){const fe=Le.getValue(z);De=Object.assign(Object.assign({},De),{fastScrollSensitivity:fe})}Object.keys(De).length>0&&se.updateOptions(De)}),this.contextKeyService.onDidChangeContext(ye=>{ye.affectsSome(Re)&&se.updateOptions({typeNavigationMode:me()})})),this.navigator=new Z(se,Object.assign({configurationService:Le},ue)),this.disposables.push(this.navigator)}updateOptions(se){se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyleOverrides(se){this.tree.style(se?(0,d.getListStyles)(se):d.defaultListStyles)}dispose(){this.disposables=(0,s.dispose)(this.disposables)}};Q=Ie([ge(4,a.IContextKeyService),ge(5,e.IListService),ge(6,i.IConfigurationService)],Q),o.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,n.localize)(0,null),type:"object",properties:{[w]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,n.localize)(1,null),(0,n.localize)(2,null)],default:"ctrlCmd",description:(0,n.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,n.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,n.localize)(5,null)},[M]:{type:"boolean",default:!1,description:(0,n.localize)(6,null)},[T]:{type:"number",default:8,minimum:4,maximum:40,description:(0,n.localize)(7,null)},[O]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,n.localize)(8,null)},[P]:{type:"boolean",default:!1,description:(0,n.localize)(9,null)},[x]:{type:"number",default:1,markdownDescription:(0,n.localize)(10,null)},[z]:{type:"number",default:5,markdownDescription:(0,n.localize)(11,null)},[N]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,n.localize)(12,null),(0,n.localize)(13,null)],default:"highlight",description:(0,n.localize)(14,null)},[F]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,n.localize)(15,null),(0,n.localize)(16,null),(0,n.localize)(17,null)],default:"highlight",description:(0,n.localize)(18,null),deprecated:!0,deprecationMessage:(0,n.localize)(19,null)},[A]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,n.localize)(20,null),(0,n.localize)(21,null)],default:"fuzzy",description:(0,n.localize)(22,null)},[q]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,n.localize)(23,null)},[R]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,n.localize)(24,null)}}})}),define(ee[76],te([1,0,13,26,27,6,20,21,735,240,35]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(o){function d(r,g){let f=r.defaults;for(;y.ThemeIcon.isThemeIcon(f);){const p=t.getIcon(f.id);if(!p)return;f=p.defaults}return f}o.getDefinition=d})(s||(e.IconContribution=s={}));var n;(function(o){function d(g){return{weight:g.weight,style:g.style,src:g.src.map(f=>({format:f.format,location:f.location.toString()}))}}o.toJSONObject=d;function r(g){const f=p=>(0,S.isString)(p)?p:void 0;if(g&&Array.isArray(g.src)&&g.src.every(p=>(0,S.isString)(p.format)&&(0,S.isString)(p.location)))return{weight:f(g.weight),style:f(g.style),src:g.src.map(p=>({format:p.format,location:m.URI.parse(p.location)}))}}o.fromJSONObject=r})(n||(e.IconFontDefinition=n={}));class i{constructor(){this._onDidChange=new D.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,_.localize)(0,null)},fontCharacter:{type:"string",description:(0,_.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${y.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(d,r,g,f){const p=this.iconsById[d];if(p){if(g&&!p.description){p.description=g,this.iconSchema.properties[d].markdownDescription=`${g} $(${d})`;const E=this.iconReferenceSchema.enum.indexOf(d);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=g),this._onDidChange.fire()}return p}const b={id:d,description:g,defaults:r,deprecationMessage:f};this.iconsById[d]=b;const w={$ref:"#/definitions/icons"};return f&&(w.deprecationMessage=f),g&&(w.markdownDescription=`${g}: $(${d})`),this.iconSchema.properties[d]=w,this.iconReferenceSchema.enum.push(d),this.iconReferenceSchema.enumDescriptions.push(g||""),this._onDidChange.fire(),{id:d}}getIcons(){return Object.keys(this.iconsById).map(d=>this.iconsById[d])}getIcon(d){return this.iconsById[d]}getIconSchema(){return this.iconSchema}toString(){const d=(p,b)=>p.id.localeCompare(b.id),r=p=>{for(;y.ThemeIcon.isThemeIcon(p.defaults);)p=this.iconsById[p.defaults.id];return`codicon codicon-${p?p.id:""}`},g=[];g.push("| preview     | identifier                        | default codicon ID                | description"),g.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const f=Object.keys(this.iconsById).map(p=>this.iconsById[p]);for(const p of f.filter(b=>!!b.description).sort(d))g.push(`|<i class="${r(p)}"></i>|${p.id}|${y.ThemeIcon.isThemeIcon(p.defaults)?p.defaults.id:p.id}|${p.description||""}|`);g.push("| preview     | identifier                        "),g.push("| ----------- | --------------------------------- |");for(const p of f.filter(b=>!y.ThemeIcon.isThemeIcon(b.defaults)).sort(d))g.push(`|<i class="${r(p)}"></i>|${p.id}|`);return g.join(`
`)}}const t=new i;C.Registry.add(e.Extensions.IconContribution,t);function a(o,d,r,g){return t.registerIcon(o,d,r,g)}e.registerIcon=a;function u(){return t}e.getIconRegistry=u;function h(){const o=(0,k.getCodiconFontCharacters)();for(const d in o){const r="\\"+o[d].toString(16);t.registerIcon(d,{fontCharacter:r})}}h(),e.iconsSchemaId="vscode://schemas/icons";const l=C.Registry.as(v.Extensions.JSONContribution);l.registerSchema(e.iconsSchemaId,t.getIconSchema());const c=new L.RunOnceScheduler(()=>l.notifySchemaChanged(e.iconsSchemaId),200);t.onDidChange(()=>{c.isScheduled()||c.schedule()}),e.widgetClose=a("widget-close",k.Codicon.close,(0,_.localize)(2,null)),e.gotoPreviousLocation=a("goto-previous-location",k.Codicon.arrowUp,(0,_.localize)(3,null)),e.gotoNextLocation=a("goto-next-location",k.Codicon.arrowDown,(0,_.localize)(4,null)),e.syncing=y.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=y.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(ee[830],te([1,0,7,89,72,84,41,14,26,2,40,27,69,101,38,64,81,12,5,108,42,91,114,82,607,156,8,76]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewer=void 0;const E=(0,w.registerIcon)("diff-review-insert",_.Codicon.add,(0,f.localize)(0,null)),I=(0,w.registerIcon)("diff-review-remove",_.Codicon.remove,(0,f.localize)(1,null)),N=(0,w.registerIcon)("diff-review-close",_.Codicon.close,(0,f.localize)(2,null));let R=class extends v.Disposable{constructor(X,ne,oe,Y,U,W,V,Z,ie){super(),this._parentNode=X,this._visible=ne,this._setVisible=oe,this._canClose=Y,this._width=U,this._height=W,this._diffs=V,this._editors=Z,this._instantiationService=ie,this.model=(0,C.derivedWithStore)(this,(le,he)=>{const de=this._visible.read(le);if(this._parentNode.style.visibility=de?"visible":"hidden",!de)return null;const ce=he.add(this._instantiationService.createInstance(F,this._diffs,this._editors,this._setVisible,this._canClose)),ae=he.add(this._instantiationService.createInstance(B,this._parentNode,ce,this._width,this._height,this._editors));return{model:ce,view:ae}}),this._register((0,C.recomputeInitiallyAndOnChange)(this.model))}next(){(0,C.transaction)(X=>{const ne=this._visible.get();this._setVisible(!0,X),ne&&this.model.get().model.nextGroup(X)})}prev(){(0,C.transaction)(X=>{this._setVisible(!0,X),this.model.get().model.previousGroup(X)})}close(){(0,C.transaction)(X=>{this._setVisible(!1,X)})}};e.AccessibleDiffViewer=R,R._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:$=>$}),e.AccessibleDiffViewer=R=Ie([ge(8,b.IInstantiationService)],R);let F=class extends v.Disposable{constructor(X,ne,oe,Y,U){super(),this._diffs=X,this._editors=ne,this._setVisible=oe,this.canClose=Y,this._audioCueService=U,this._groups=(0,C.observableValue)(this,[]),this._currentGroupIdx=(0,C.observableValue)(this,0),this._currentElementIdx=(0,C.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((W,V)=>this._groups.read(V)[W]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((W,V)=>{var Z;return(Z=this.currentGroup.read(V))===null||Z===void 0?void 0:Z.lines[W]}),this._register((0,C.autorun)(W=>{const V=this._diffs.read(W);if(!V){this._groups.set([],void 0);return}const Z=A(V,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,C.transaction)(ie=>{const le=this._editors.modified.getPosition();if(le){const he=Z.findIndex(de=>le?.lineNumber<de.range.modified.endLineNumberExclusive);he!==-1&&this._currentGroupIdx.set(he,ie)}this._groups.set(Z,ie)})})),this._register((0,C.autorun)(W=>{const V=this.currentElement.read(W);V?.type===T.Deleted?this._audioCueService.playAudioCue(p.AudioCue.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):V?.type===T.Added&&this._audioCueService.playAudioCue(p.AudioCue.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,C.autorun)(W=>{var V;const Z=this.currentElement.read(W);if(Z&&Z.type!==T.Header){const ie=(V=Z.modifiedLineNumber)!==null&&V!==void 0?V:Z.diff.modified.startLineNumber;this._editors.modified.setSelection(l.Range.fromPositions(new h.Position(ie,1)))}}))}_goToGroupDelta(X,ne){const oe=this.groups.get();!oe||oe.length<=1||(0,C.subtransaction)(ne,Y=>{this._currentGroupIdx.set(u.OffsetRange.ofLength(oe.length).clipCyclic(this._currentGroupIdx.get()+X),Y),this._currentElementIdx.set(0,Y)})}nextGroup(X){this._goToGroupDelta(1,X)}previousGroup(X){this._goToGroupDelta(-1,X)}_goToLineDelta(X){const ne=this.currentGroup.get();!ne||ne.lines.length<=1||(0,C.transaction)(oe=>{this._currentElementIdx.set(u.OffsetRange.ofLength(ne.lines.length).clip(this._currentElementIdx.get()+X),oe)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(X){const ne=this.currentGroup.get();if(!ne)return;const oe=ne.lines.indexOf(X);oe!==-1&&(0,C.transaction)(Y=>{this._currentElementIdx.set(oe,Y)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const X=this.currentElement.get();X&&(X.type===T.Deleted?(this._editors.original.setSelection(l.Range.fromPositions(new h.Position(X.originalLineNumber,1))),this._editors.original.revealLine(X.originalLineNumber),this._editors.original.focus()):(X.type!==T.Header&&(this._editors.modified.setSelection(l.Range.fromPositions(new h.Position(X.modifiedLineNumber,1))),this._editors.modified.revealLine(X.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};F=Ie([ge(4,p.IAudioCueService)],F);const M=3;function A($,X,ne){const oe=[];for(const Y of(0,m.groupAdjacentBy)($,(U,W)=>W.modified.startLineNumber-U.modified.endLineNumberExclusive<2*M)){const U=[];U.push(new P);const W=new a.LineRange(Math.max(1,Y[0].original.startLineNumber-M),Math.min(Y[Y.length-1].original.endLineNumberExclusive+M,X+1)),V=new a.LineRange(Math.max(1,Y[0].modified.startLineNumber-M),Math.min(Y[Y.length-1].modified.endLineNumberExclusive+M,ne+1));(0,m.forEachAdjacent)(Y,(le,he)=>{const de=new a.LineRange(le?le.original.endLineNumberExclusive:W.startLineNumber,he?he.original.startLineNumber:W.endLineNumberExclusive),ce=new a.LineRange(le?le.modified.endLineNumberExclusive:V.startLineNumber,he?he.modified.startLineNumber:V.endLineNumberExclusive);de.forEach(ae=>{U.push(new q(ae,ce.startLineNumber+(ae-de.startLineNumber)))}),he&&(he.original.forEach(ae=>{U.push(new x(he,ae))}),he.modified.forEach(ae=>{U.push(new z(he,ae))}))});const Z=Y[0].modified.join(Y[Y.length-1].modified),ie=Y[0].original.join(Y[Y.length-1].original);oe.push(new O(new c.LineRangeMapping(Z,ie),U))}return oe}var T;(function($){$[$.Header=0]="Header",$[$.Unchanged=1]="Unchanged",$[$.Deleted=2]="Deleted",$[$.Added=3]="Added"})(T||(T={}));class O{constructor(X,ne){this.range=X,this.lines=ne}}class P{constructor(){this.type=T.Header}}class x{constructor(X,ne){this.diff=X,this.originalLineNumber=ne,this.type=T.Deleted,this.modifiedLineNumber=void 0}}class z{constructor(X,ne){this.diff=X,this.modifiedLineNumber=ne,this.type=T.Added,this.originalLineNumber=void 0}}class q{constructor(X,ne){this.originalLineNumber=X,this.modifiedLineNumber=ne,this.type=T.Unchanged}}let B=class extends v.Disposable{constructor(X,ne,oe,Y,U,W){super(),this._element=X,this._model=ne,this._width=oe,this._height=Y,this._editors=U,this._languageService=W,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const V=document.createElement("div");V.className="diff-review-actions",this._actionBar=this._register(new y.ActionBar(V)),this._register((0,C.autorun)(Z=>{this._actionBar.clear(),this._model.canClose.read(Z)&&this._actionBar.push(new S.Action("diffreview.close",(0,f.localize)(3,null),"close-diff-review "+s.ThemeIcon.asClassName(N),!0,()=>Se(this,void 0,void 0,function*(){return ne.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new D.DomScrollableElement(this._content,{})),(0,L.reset)(this.domNode,this._scrollbar.getDomNode(),V),this._register((0,v.toDisposable)(()=>{(0,L.reset)(this.domNode)})),this._register((0,i.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,i.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,C.autorunWithStore)((Z,ie)=>{this._model.currentGroup.read(Z),this._render(ie)})),this._register((0,L.addStandardDisposableListener)(this.domNode,"keydown",Z=>{(Z.equals(18)||Z.equals(2066)||Z.equals(530))&&(Z.preventDefault(),this._model.goToNextLine()),(Z.equals(16)||Z.equals(2064)||Z.equals(528))&&(Z.preventDefault(),this._model.goToPreviousLine()),(Z.equals(9)||Z.equals(2057)||Z.equals(521)||Z.equals(1033))&&(Z.preventDefault(),this._model.close()),(Z.equals(10)||Z.equals(3))&&(Z.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(X){const ne=this._editors.original.getOptions(),oe=this._editors.modified.getOptions(),Y=document.createElement("div");Y.className="diff-review-table",Y.setAttribute("role","list"),Y.setAttribute("aria-label",(0,f.localize)(4,null)),(0,n.applyFontInfo)(Y,oe.get(49)),(0,L.reset)(this._content,Y);const U=this._editors.original.getModel(),W=this._editors.modified.getModel();if(!U||!W)return;const V=U.getOptions(),Z=W.getOptions(),ie=oe.get(65),le=this._model.currentGroup.get();for(const he of le?.lines||[]){if(!le)break;let de;if(he.type===T.Header){const ae=document.createElement("div");ae.className="diff-review-row",ae.setAttribute("role","listitem");const J=le.range,K=this._model.currentGroupIndex.get(),H=this._model.groups.get().length,Q=ue=>ue===0?(0,f.localize)(5,null):ue===1?(0,f.localize)(6,null):(0,f.localize)(7,null,ue),j=Q(J.original.length),re=Q(J.modified.length);ae.setAttribute("aria-label",(0,f.localize)(8,null,K+1,H,J.original.startLineNumber,j,J.modified.startLineNumber,re));const se=document.createElement("div");se.className="diff-review-cell diff-review-summary",se.appendChild(document.createTextNode(`${K+1}/${H}: @@ -${J.original.startLineNumber},${J.original.length} +${J.modified.startLineNumber},${J.modified.length} @@`)),ae.appendChild(se),de=ae}else de=this._createRow(he,ie,this._width.get(),ne,U,V,oe,W,Z);Y.appendChild(de);const ce=(0,C.derived)(ae=>this._model.currentElement.read(ae)===he);X.add((0,C.autorun)(ae=>{const J=ce.read(ae);de.tabIndex=J?0:-1,J&&de.focus()})),X.add((0,L.addDisposableListener)(de,"focus",()=>{this._model.goToLine(he)}))}this._scrollbar.scanDomNode()}_createRow(X,ne,oe,Y,U,W,V,Z,ie){const le=Y.get(142),he=le.glyphMarginWidth+le.lineNumbersWidth,de=V.get(142),ce=10+de.glyphMarginWidth+de.lineNumbersWidth;let ae="diff-review-row",J="";const K="diff-review-spacer";let H=null;switch(X.type){case T.Added:ae="diff-review-row line-insert",J=" char-insert",H=E;break;case T.Deleted:ae="diff-review-row line-delete",J=" char-delete",H=I;break}const Q=document.createElement("div");Q.style.minWidth=oe+"px",Q.className=ae,Q.setAttribute("role","listitem"),Q.ariaLevel="";const j=document.createElement("div");j.className="diff-review-cell",j.style.height=`${ne}px`,Q.appendChild(j);const re=document.createElement("span");re.style.width=he+"px",re.style.minWidth=he+"px",re.className="diff-review-line-number"+J,X.originalLineNumber!==void 0?re.appendChild(document.createTextNode(String(X.originalLineNumber))):re.innerText="\xA0",j.appendChild(re);const se=document.createElement("span");se.style.width=ce+"px",se.style.minWidth=ce+"px",se.style.paddingRight="10px",se.className="diff-review-line-number"+J,X.modifiedLineNumber!==void 0?se.appendChild(document.createTextNode(String(X.modifiedLineNumber))):se.innerText="\xA0",j.appendChild(se);const ue=document.createElement("span");if(ue.className=K,H){const Ce=document.createElement("span");Ce.className=s.ThemeIcon.asClassName(H),Ce.innerText="\xA0\xA0",ue.appendChild(Ce)}else ue.innerText="\xA0\xA0";j.appendChild(ue);let me;if(X.modifiedLineNumber!==void 0){let Ce=this._getLineHtml(Z,V,ie.tabSize,X.modifiedLineNumber,this._languageService.languageIdCodec);R._ttPolicy&&(Ce=R._ttPolicy.createHTML(Ce)),j.insertAdjacentHTML("beforeend",Ce),me=Z.getLineContent(X.modifiedLineNumber)}else{let Ce=this._getLineHtml(U,Y,W.tabSize,X.originalLineNumber,this._languageService.languageIdCodec);R._ttPolicy&&(Ce=R._ttPolicy.createHTML(Ce)),j.insertAdjacentHTML("beforeend",Ce),me=U.getLineContent(X.originalLineNumber)}me.length===0&&(me=(0,f.localize)(9,null));let ve="";switch(X.type){case T.Unchanged:X.originalLineNumber===X.modifiedLineNumber?ve=(0,f.localize)(10,null,me,X.originalLineNumber):ve=(0,f.localize)(11,null,me,X.originalLineNumber,X.modifiedLineNumber);break;case T.Added:ve=(0,f.localize)(12,null,me,X.modifiedLineNumber);break;case T.Deleted:ve=(0,f.localize)(13,null,me,X.originalLineNumber);break}return Q.setAttribute("aria-label",ve),Q}_getLineHtml(X,ne,oe,Y,U){const W=X.getLineContent(Y),V=ne.get(49),Z=d.LineTokens.createEmpty(W,U),ie=g.ViewLineRenderingData.isBasicASCII(W,X.mightContainNonBasicASCII()),le=g.ViewLineRenderingData.containsRTL(W,ie,X.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput(V.isMonospace&&!ne.get(32),V.canUseHalfwidthRightwardsArrow,W,!1,ie,le,0,Z,[],oe,0,V.spaceWidth,V.middotWidth,V.wsmiddotWidth,ne.get(115),ne.get(97),ne.get(92),ne.get(50)!==t.EditorFontLigatures.OFF,null)).html}};B=Ie([ge(5,o.ILanguageService)],B)}),define(ee[831],te([1,0,51,7,151,83,26,36,6,2,27,642,32,76,200]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class a extends v.Disposable{constructor(p,b,w,E=!1){super(),this.model=b,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(p,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,s.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=m.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=w.getColorTheme().getColor(n.editorHoverBackground)||m.Color.white,this._register(w.onDidColorThemeChange(N=>{this.backgroundColor=N.getColor(n.editorHoverBackground)||m.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this._register(b.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(b.color)||"",this._pickedColorNode.classList.toggle("light",b.color.rgba.a<.5?this.backgroundColor.isLighter():b.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new u(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(p){this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(p)||"",this._pickedColorNode.classList.toggle("light",p.rgba.a<.5?this.backgroundColor.isLighter():p.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class u extends v.Disposable{constructor(p){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(p,this._button);const b=document.createElement("div");b.classList.add("close-button-inner-div"),k.append(this._button,b),k.append(b,t(".button"+C.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",S.Codicon.close,(0,s.localize)(1,null))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class h extends v.Disposable{constructor(p,b,w,E=!1){super(),this.model=b,this.pixelRatio=w,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(p,this._domNode),this._saturationBox=new l(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new o(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new d(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new r(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:p,v:b}){const w=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(w.h,p,b,w.a))}onDidOpacityChange(p){const b=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(b.h,b.s,b.v,p))}onDidHueChange(p){const b=this.model.color.hsva,w=(1-p)*360;this.model.color=new m.Color(new m.HSVA(w===360?0:w,b.s,b.v,b.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=h;class l extends v.Disposable{constructor(p,b,w){super(),this.model=b,this.pixelRatio=w,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(p,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;this.monitor=this._register(new y.GlobalPointerMoveMonitor);const b=k.getDomNodePagePosition(this._domNode);p.target!==this.selection&&this.onDidChangePosition(p.offsetX,p.offsetY),this.monitor.startMonitoring(p.target,p.pointerId,p.buttons,E=>this.onDidChangePosition(E.pageX-b.left,E.pageY-b.top),()=>null);const w=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),w.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(p,b){const w=Math.max(0,Math.min(1,p/this.width)),E=Math.max(0,Math.min(1,1-b/this.height));this.paintSelection(w,E),this._onDidChange.fire({s:w,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const p=this.model.color.hsva;this.paintSelection(p.s,p.v)}paint(){const p=this.model.color.hsva,b=new m.Color(new m.HSVA(p.h,1,1,1)),w=this._canvas.getContext("2d"),E=w.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const I=w.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),w.rect(0,0,this._canvas.width,this._canvas.height),w.fillStyle=m.Color.Format.CSS.format(b),w.fill(),w.fillStyle=E,w.fill(),w.fillStyle=I,w.fill()}paintSelection(p,b){this.selection.style.left=`${p*this.width}px`,this.selection.style.top=`${this.height-b*this.height}px`}onDidChangeColor(p){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const b=p.hsva;this.paintSelection(b.s,b.v)}}class c extends v.Disposable{constructor(p,b,w=!1){super(),this.model=b,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,w?(this.domNode=k.append(p,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(p,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const p=this.getValue(this.model.color);this.updateSliderPosition(p)}onDidChangeColor(p){const b=this.getValue(p);this.updateSliderPosition(b)}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;const b=this._register(new y.GlobalPointerMoveMonitor),w=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),p.target!==this.slider&&this.onDidChangeTop(p.offsetY),b.startMonitoring(p.target,p.pointerId,p.buttons,I=>this.onDidChangeTop(I.pageY-w.top),()=>null);const E=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),b.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(p){const b=Math.max(0,Math.min(1,1-p/this.height));this.updateSliderPosition(b),this._onDidChange.fire(b)}updateSliderPosition(p){this.slider.style.top=`${(1-p)*this.height}px`}}class o extends c{constructor(p,b,w=!1){super(p,b,w),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(p){super.onDidChangeColor(p);const{r:b,g:w,b:E}=p.rgba,I=new m.Color(new m.RGBA(b,w,E,1)),N=new m.Color(new m.RGBA(b,w,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${N} 100%)`}getValue(p){return p.hsva.a}}class d extends c{constructor(p,b,w=!1){super(p,b,w),this.domNode.classList.add("hue-strip")}getValue(p){return 1-p.hsva.h/360}}class r extends v.Disposable{constructor(p){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(p,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=b=>{this._onClicked.fire()}}get button(){return this._button}}e.InsertButton=r;class g extends D.Widget{constructor(p,b,w,E,I=!1){super(),this.model=b,this.pixelRatio=w,this._register(L.PixelRatio.onDidChange(()=>this.layout()));const N=t(".colorpicker-widget");p.appendChild(N),this.header=this._register(new a(N,this.model,E,I)),this.body=this._register(new h(N,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=g}),define(ee[832],te([1,0,7,49,84,26,6,2,10,20,42,116,237,687,15,55,32,76,27,458]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const o=L.$,d=(0,h.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,i.localize(0,null)),r=(0,h.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,i.localize(1,null));let g=c=class extends m.Disposable{constructor(p,b,w,E,I){super(),this.editor=p,this.model=b,this.renderDisposeables=this._register(new m.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new s.MarkdownRenderer({editor:p},I,E)),this.keyVisible=n.Context.Visible.bindTo(w),this.keyMultipleSignatures=n.Context.MultipleSignatures.bindTo(w)}createParameterHintDOMNodes(){const p=o(".editor-widget.parameter-hints-widget"),b=L.append(p,o(".phwrapper"));b.tabIndex=-1;const w=L.append(b,o(".controls")),E=L.append(w,o(".button"+l.ThemeIcon.asCSSSelector(r))),I=L.append(w,o(".overloads")),N=L.append(w,o(".button"+l.ThemeIcon.asCSSSelector(d)));this._register(L.addDisposableListener(E,"click",O=>{L.EventHelper.stop(O),this.previous()})),this._register(L.addDisposableListener(N,"click",O=>{L.EventHelper.stop(O),this.next()}));const R=o(".body"),F=new y.DomScrollableElement(R,{alwaysConsumeMouseWheel:!0});this._register(F),b.appendChild(F.getDomNode());const M=L.append(R,o(".signature")),A=L.append(R,o(".docs"));p.style.userSelect="text",this.domNodes={element:p,signature:M,overloads:I,docs:A,scrollbar:F},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(O=>{this.visible&&this.editor.layoutContentWidget(this)}));const T=()=>{if(!this.domNodes)return;const O=this.editor.getOption(49);this.domNodes.element.style.fontSize=`${O.fontSize}px`,this.domNodes.element.style.lineHeight=`${O.lineHeight/O.fontSize}`};T(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),O=>O.filter(P=>P.hasChanged(49)))(T)),this._register(this.editor.onDidLayoutChange(O=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var p;(p=this.domNodes)===null||p===void 0||p.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var p;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(p=this.domNodes)===null||p===void 0||p.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(p){var b;if(this.renderDisposeables.clear(),!this.domNodes)return;const w=p.signatures.length>1;this.domNodes.element.classList.toggle("multiple",w),this.keyMultipleSignatures.set(w),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const E=p.signatures[p.activeSignature];if(!E)return;const I=L.append(this.domNodes.signature,o(".code")),N=this.editor.getOption(49);I.style.fontSize=`${N.fontSize}px`,I.style.fontFamily=N.fontFamily;const R=E.parameters.length>0,F=(b=E.activeParameter)!==null&&b!==void 0?b:p.activeParameter;if(R)this.renderParameters(I,E,F);else{const T=L.append(I,o("span"));T.textContent=E.label}const M=E.parameters[F];if(M?.documentation){const T=o("span.documentation");if(typeof M.documentation=="string")T.textContent=M.documentation;else{const O=this.renderMarkdownDocs(M.documentation);T.appendChild(O.element)}L.append(this.domNodes.docs,o("p",{},T))}if(E.documentation!==void 0)if(typeof E.documentation=="string")L.append(this.domNodes.docs,o("p",{},E.documentation));else{const T=this.renderMarkdownDocs(E.documentation);L.append(this.domNodes.docs,T.element)}const A=this.hasDocs(E,M);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(p.activeSignature+1).padStart(p.signatures.length.toString().length,"0")+"/"+p.signatures.length,M){let T="";const O=E.parameters[F];Array.isArray(O.label)?T=E.label.substring(O.label[0],O.label[1]):T=O.label,O.documentation&&(T+=typeof O.documentation=="string"?`, ${O.documentation}`:`, ${O.documentation.value}`),E.documentation&&(T+=typeof E.documentation=="string"?`, ${E.documentation}`:`, ${E.documentation.value}`),this.announcedLabel!==T&&(k.alert(i.localize(2,null,T)),this.announcedLabel=T)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(p){const b=this.renderDisposeables.add(this.markdownRenderer.render(p,{asyncRenderCallback:()=>{var w;(w=this.domNodes)===null||w===void 0||w.scrollbar.scanDomNode()}}));return b.element.classList.add("markdown-docs"),b}hasDocs(p,b){return!!(b&&typeof b.documentation=="string"&&(0,v.assertIsDefined)(b.documentation).length>0||b&&typeof b.documentation=="object"&&(0,v.assertIsDefined)(b.documentation).value.length>0||p.documentation&&typeof p.documentation=="string"&&(0,v.assertIsDefined)(p.documentation).length>0||p.documentation&&typeof p.documentation=="object"&&(0,v.assertIsDefined)(p.documentation.value).length>0)}renderParameters(p,b,w){const[E,I]=this.getParameterLabelOffsets(b,w),N=document.createElement("span");N.textContent=b.label.substring(0,E);const R=document.createElement("span");R.textContent=b.label.substring(E,I),R.className="parameter active";const F=document.createElement("span");F.textContent=b.label.substring(I),L.append(p,N,R,F)}getParameterLabelOffsets(p,b){const w=p.parameters[b];if(w){if(Array.isArray(w.label))return w.label;if(w.label.length){const E=new RegExp(`(\\W|^)${(0,_.escapeRegExpCharacters)(w.label)}(?=\\W|$)`,"g");E.test(p.label);const I=E.lastIndex-w.label.length;return I>=0?[I,E.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return c.ID}updateMaxHeight(){if(!this.domNodes)return;const b=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=b;const w=this.domNodes.element.getElementsByClassName("phwrapper");w.length&&(w[0].style.maxHeight=b)}};e.ParameterHintsWidget=g,g.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=g=c=Ie([ge(2,t.IContextKeyService),ge(3,a.IOpenerService),ge(4,C.ILanguageService)],g),(0,u.registerColor)("editorHoverWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hcDark:u.listHighlightForeground,hcLight:u.listHighlightForeground},i.localize(3,null))}),define(ee[833],te([1,0,98,2,16,22,28,18,751,237,686,15,8,832]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let a=t=class extends k.Disposable{static get(o){return o.getContribution(t.ID)}constructor(o,d,r){super(),this.editor=o,this.model=this._register(new _.ParameterHintsModel(o,r.signatureHelpProvider)),this._register(this.model.onChangedHints(g=>{var f;g?(this.widget.value.show(),this.widget.value.render(g)):(f=this.widget.rawValue)===null||f===void 0||f.hide()})),this.widget=new L.Lazy(()=>this._register(d.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var o;(o=this.widget.rawValue)===null||o===void 0||o.previous()}next(){var o;(o=this.widget.rawValue)===null||o===void 0||o.next()}trigger(o){this.model.trigger(o,0)}};e.ParameterHintsController=a,a.ID="editor.controller.parameterHints",e.ParameterHintsController=a=t=Ie([ge(1,n.IInstantiationService),ge(2,m.ILanguageFeaturesService)],a);class u extends y.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(o,d){const r=a.get(d);r?.trigger({triggerKind:S.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=u,(0,y.registerEditorContribution)(a.ID,a,2),(0,y.registerEditorAction)(u);const h=100+75,l=y.EditorCommand.bindToContribution(a.get);(0,y.registerEditorCommand)(new l({id:"closeParameterHints",precondition:v.Context.Visible,handler:c=>c.cancel(),kbOpts:{weight:h,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new l({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:c=>c.previous(),kbOpts:{weight:h,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,y.registerEditorCommand)(new l({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:c=>c.next(),kbOpts:{weight:h,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ee[834],te([1,0,7,72,41,2,116,8,768,76,27,465]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const s=26;let n=class extends D.Disposable{constructor(a,u){super(),this._editor=a,this.instantiationService=u,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(a){this.banner.show(Object.assign(Object.assign({},a),{onClose:()=>{var u;this.hide(),(u=a.onClose)===null||u===void 0||u.call(a)}})),this._editor.setBanner(this.banner.element,s)}};e.BannerController=n,e.BannerController=n=Ie([ge(1,m.IInstantiationService)],n);let i=class extends D.Disposable{constructor(a){super(),this.instantiationService=a,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,L.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(a){if(a.ariaLabel)return a.ariaLabel;if(typeof a.message=="string")return a.message}getBannerMessage(a){if(typeof a=="string"){const u=(0,L.$)("span");return u.innerText=a,u}return this.markdownRenderer.render(a).element}clear(){(0,L.clearNode)(this.element)}show(a){(0,L.clearNode)(this.element);const u=this.getAriaLabel(a);u&&this.element.setAttribute("aria-label",u);const h=(0,L.append)(this.element,(0,L.$)("div.icon-container"));h.setAttribute("aria-hidden","true"),a.icon&&h.appendChild((0,L.$)(`div${C.ThemeIcon.asCSSSelector(a.icon)}`));const l=(0,L.append)(this.element,(0,L.$)("div.message-container"));if(l.setAttribute("aria-hidden","true"),l.appendChild(this.getBannerMessage(a.message)),this.messageActionsContainer=(0,L.append)(this.element,(0,L.$)("div.message-actions-container")),a.actions)for(const o of a.actions)this._register(this.instantiationService.createInstance(_.Link,this.messageActionsContainer,Object.assign(Object.assign({},o),{tabIndex:-1}),{}));const c=(0,L.append)(this.element,(0,L.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(c)),this.actionBar.push(this._register(new y.Action("banner.close","Close Banner",C.ThemeIcon.asClassName(v.widgetClose),!0,()=>{typeof a.onClose=="function"&&a.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=Ie([ge(0,m.IInstantiationService)],i)}),define(ee[835],te([1,0,7,6,27,76]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function S(_){const v=new k.Emitter,C=(0,D.getIconRegistry)();return C.onDidChange(()=>v.fire()),_?.onDidProductIconThemeChange(()=>v.fire()),{onDidChange:v.event,getCSS(){const s=_?_.getProductIconTheme():new m,n={},i=a=>{const u=s.getIcon(a);if(!u)return;const h=u.font;return h?(n[h.id]=h.definition,`.codicon-${a.id}:before { content: '${u.fontCharacter}'; font-family: ${(0,L.asCSSPropertyValue)(h.id)}; }`):`.codicon-${a.id}:before { content: '${u.fontCharacter}'; }`},t=[];for(const a of C.getIcons()){const u=i(a);u&&t.push(u)}for(const a in n){const u=n[a],h=u.weight?`font-weight: ${u.weight};`:"",l=u.style?`font-style: ${u.style};`:"",c=u.src.map(o=>`${(0,L.asCSSUrl)(o.location)} format('${o.format}')`).join(", ");t.push(`@font-face { src: ${c}; font-family: ${(0,L.asCSSPropertyValue)(a)};${h}${l} font-display: block; }`)}return t.join(`
`)}}}e.getIconsStyleSheet=S;class m{getIcon(v){const C=(0,D.getIconRegistry)();let s=v.defaults;for(;y.ThemeIcon.isThemeIcon(s);){const n=C.getIcon(s.id);if(!n)return;s=n.defaults}return s}}e.UnthemedProductIconTheme=m}),define(ee[88],te([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var L;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(L||(e.ColorScheme=L={}));function k(D){return D===L.HIGH_CONTRAST_DARK||D===L.HIGH_CONTRAST_LIGHT}e.isHighContrast=k;function y(D){return D===L.DARK||D===L.HIGH_CONTRAST_DARK}e.isDark=y}),define(ee[251],te([1,0,51,37,17,479,142,149,114,88,38]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColumnOfNodeOffset=e.ViewLine=e.ViewLineOptions=void 0;const s=function(){return y.isNative?!0:!(y.isLinux||L.isFirefox||L.isSafari)}();let n=!0;class i{constructor(g,f){this.themeType=f;const p=g.options,b=p.get(49);p.get(37)==="off"?this.renderWhitespace=p.get(97):this.renderWhitespace="none",this.renderControlCharacters=p.get(92),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!p.get(32),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=p.get(65),this.stopRenderingLineAfter=p.get(115),this.fontLigatures=p.get(50)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=i;class t{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return(0,v.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,f,p,b){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const w=p.getViewLineRenderingData(g),E=this._options,I=m.LineDecoration.filter(w.inlineDecorations,g,w.minColumn,w.maxColumn);let N=null;if((0,v.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const A=p.selections;for(const T of A){if(T.endLineNumber<g||T.startLineNumber>g)continue;const O=T.startLineNumber===g?T.startColumn:w.minColumn,P=T.endLineNumber===g?T.endColumn:w.maxColumn;O<P&&((0,v.isHighContrast)(E.themeType)&&I.push(new m.LineDecoration(O,P,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(N||(N=[]),N.push(new _.LineRange(O-1,P-1))))}}const R=new _.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,w.content,w.continuesWithWrappedLine,w.isBasicASCII,w.containsRTL,w.minColumn-1,w.tokens,I,w.tabSize,w.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==C.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;b.appendString('<div style="top:'),b.appendString(String(f)),b.appendString("px;height:"),b.appendString(String(this._options.lineHeight)),b.appendString('px;" class="'),b.appendString(t.CLASS_NAME),b.appendString('">');const F=(0,_.renderViewLine)(R,b);b.appendString("</div>");let M=null;return n&&s&&w.isBasicASCII&&E.useMonospaceOptimizations&&F.containsForeignElements===0&&(M=new a(this._renderedViewLine?this._renderedViewLine.domNode:null,R,F.characterMapping)),M||(M=l(this._renderedViewLine?this._renderedViewLine.domNode:null,R,F.characterMapping,F.containsRTL,F.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(g,f){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(f),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(g){return this._renderedViewLine?this._renderedViewLine.getWidth(g):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof a:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof a?this._renderedViewLine.monospaceAssumptionsAreValid():n}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof a&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,f,p,b){if(!this._renderedViewLine)return null;f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f)),p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p));const w=this._renderedViewLine.input.stopRenderingLineAfter;if(w!==-1&&f>w+1&&p>w+1)return new S.VisibleRanges(!0,[new S.FloatHorizontalRange(this.getWidth(b),0)]);w!==-1&&f>w+1&&(f=w+1),w!==-1&&p>w+1&&(p=w+1);const E=this._renderedViewLine.getVisibleRangesForRange(g,f,p,b);return E&&E.length>0?new S.VisibleRanges(!1,E):null}getColumnOfNodeOffset(g,f){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,f):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class a{constructor(g,f,p){this._cachedWidth=-1,this.domNode=g,this.input=f;const b=Math.floor(f.lineContent.length/300);if(b>0){this._keyColumnPixelOffsetCache=new Float32Array(b);for(let w=0;w<b;w++)this._keyColumnPixelOffsetCache[w]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=p,this._charWidth=f.spaceWidth}getWidth(g){if(!this.domNode||this.input.lineContent.length<300){const f=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*f)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return n;if(this.input.lineContent.length<300){const g=this.getWidth(null),f=this.domNode.domNode.firstChild.offsetWidth;Math.abs(g-f)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),n=!1)}return n}toSlowRenderedLine(){return l(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,f,p,b){const w=this._getColumnPixelOffset(g,f,b),E=this._getColumnPixelOffset(g,p,b);return[new S.FloatHorizontalRange(w,E-w)]}_getColumnPixelOffset(g,f,p){if(f<=300){const R=this._characterMapping.getHorizontalOffset(f);return this._charWidth*R}const b=Math.floor((f-1)/300)-1,w=(b+1)*300+1;let E=-1;if(this._keyColumnPixelOffsetCache&&(E=this._keyColumnPixelOffsetCache[b],E===-1&&(E=this._actualReadPixelOffset(g,w,p),this._keyColumnPixelOffsetCache[b]=E)),E===-1){const R=this._characterMapping.getHorizontalOffset(f);return this._charWidth*R}const I=this._characterMapping.getHorizontalOffset(w),N=this._characterMapping.getHorizontalOffset(f);return E+this._charWidth*(N-I)}_getReadingTarget(g){return g.domNode.firstChild}_actualReadPixelOffset(g,f,p){if(!this.domNode)return-1;const b=this._characterMapping.getDomPosition(f),w=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),b.partIndex,b.charIndex,b.partIndex,b.charIndex,p);return!w||w.length===0?-1:w[0].left}getColumnOfNodeOffset(g,f){return d(this._characterMapping,g,f)}}class u{constructor(g,f,p,b,w){if(this.domNode=g,this.input=f,this._characterMapping=p,this._isWhitespaceOnly=/^\s*$/.test(f.lineContent),this._containsForeignElements=w,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(g){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,f,p,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const w=this._readPixelOffset(this.domNode,g,f,b);if(w===-1)return null;const E=this._readPixelOffset(this.domNode,g,p,b);return E===-1?null:[new S.FloatHorizontalRange(w,E-w)]}return this._readVisibleRangesForRange(this.domNode,g,f,p,b)}_readVisibleRangesForRange(g,f,p,b,w){if(p===b){const E=this._readPixelOffset(g,f,p,w);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(g,p,b,w)}_readPixelOffset(g,f,p,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(b);const w=this._getReadingTarget(g);return w.firstChild?(b.markDidDomLayout(),w.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const w=this._pixelOffsetCache[p];if(w!==-1)return w;const E=this._actualReadPixelOffset(g,f,p,b);return this._pixelOffsetCache[p]=E,E}return this._actualReadPixelOffset(g,f,p,b)}_actualReadPixelOffset(g,f,p,b){if(this._characterMapping.length===0){const N=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,b);return!N||N.length===0?-1:N[0].left}if(p===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(b);const w=this._characterMapping.getDomPosition(p),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),w.partIndex,w.charIndex,w.partIndex,w.charIndex,b);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const N=this._characterMapping.getHorizontalOffset(p),R=Math.round(this.input.spaceWidth*N);if(Math.abs(R-I)<=1)return R}return I}_readRawVisibleRangesForRange(g,f,p,b){if(f===1&&p===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth(b))];const w=this._characterMapping.getDomPosition(f),E=this._characterMapping.getDomPosition(p);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),w.partIndex,w.charIndex,E.partIndex,E.charIndex,b)}getColumnOfNodeOffset(g,f){return d(this._characterMapping,g,f)}}class h extends u{_readVisibleRangesForRange(g,f,p,b,w){const E=super._readVisibleRangesForRange(g,f,p,b,w);if(!E||E.length===0||p===b||p===1&&b===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(g,f,b,w);if(I!==-1){const N=E[E.length-1];N.left<I&&(N.width=I-N.left)}}return E}}const l=function(){return L.isWebKit?c:o}();function c(r,g,f,p,b){return new h(r,g,f,p,b)}function o(r,g,f,p,b){return new u(r,g,f,p,b)}function d(r,g,f){const p=g.textContent.length;let b=-1;for(;g;)g=g.previousSibling,b++;return r.getColumn(new _.DomPosition(b,f),p)}e.getColumnOfNodeOffset=d}),define(ee[357],te([1,0,159,53,251,12,5,80,7,275]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class C{constructor(p=null){this.hitTarget=p,this.type=0}}class s{constructor(p,b,w){this.position=p,this.spanNode=b,this.injectedText=w,this.type=1}}var n;(function(f){function p(b,w,E){const I=b.getPositionFromDOMInfo(w,E);return I?new s(I,w,null):new C(w)}f.createFromDOMInfo=p})(n||(n={}));class i{constructor(p,b){this.lastViewCursorsRenderData=p,this.lastTextareaPosition=b}}e.PointerHandlerLastRenderData=i;class t{static _deduceRage(p,b=null){return!b&&p?new S.Range(p.lineNumber,p.column,p.lineNumber,p.column):b??null}static createUnknown(p,b,w){return{type:0,element:p,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createTextarea(p,b){return{type:1,element:p,mouseColumn:b,position:null,range:null}}static createMargin(p,b,w,E,I,N){return{type:p,element:b,mouseColumn:w,position:E,range:I,detail:N}}static createViewZone(p,b,w,E,I){return{type:p,element:b,mouseColumn:w,position:E,range:this._deduceRage(E),detail:I}}static createContentText(p,b,w,E,I){return{type:6,element:p,mouseColumn:b,position:w,range:this._deduceRage(w,E),detail:I}}static createContentEmpty(p,b,w,E){return{type:7,element:p,mouseColumn:b,position:w,range:this._deduceRage(w),detail:E}}static createContentWidget(p,b,w){return{type:9,element:p,mouseColumn:b,position:null,range:null,detail:w}}static createScrollbar(p,b,w){return{type:11,element:p,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createOverlayWidget(p,b,w){return{type:12,element:p,mouseColumn:b,position:null,range:null,detail:w}}static createOutsideEditor(p,b,w,E){return{type:13,element:null,mouseColumn:p,position:b,range:this._deduceRage(b),outsidePosition:w,outsideDistance:E}}static _typeToString(p){return p===1?"TEXTAREA":p===2?"GUTTER_GLYPH_MARGIN":p===3?"GUTTER_LINE_NUMBERS":p===4?"GUTTER_LINE_DECORATIONS":p===5?"GUTTER_VIEW_ZONE":p===6?"CONTENT_TEXT":p===7?"CONTENT_EMPTY":p===8?"CONTENT_VIEW_ZONE":p===9?"CONTENT_WIDGET":p===10?"OVERVIEW_RULER":p===11?"SCROLLBAR":p===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(p){return this._typeToString(p.type)+": "+p.position+" - "+p.range+" - "+JSON.stringify(p.detail)}}e.MouseTarget=t;class a{static isTextArea(p){return p.length===2&&p[0]===3&&p[1]===6}static isChildOfViewLines(p){return p.length>=4&&p[0]===3&&p[3]===7}static isStrictChildOfViewLines(p){return p.length>4&&p[0]===3&&p[3]===7}static isChildOfScrollableElement(p){return p.length>=2&&p[0]===3&&p[1]===5}static isChildOfMinimap(p){return p.length>=2&&p[0]===3&&p[1]===8}static isChildOfContentWidgets(p){return p.length>=4&&p[0]===3&&p[3]===1}static isChildOfOverflowGuard(p){return p.length>=1&&p[0]===3}static isChildOfOverflowingContentWidgets(p){return p.length>=1&&p[0]===2}static isChildOfOverlayWidgets(p){return p.length>=2&&p[0]===3&&p[1]===4}}class u{constructor(p,b,w){this.viewModel=p.viewModel;const E=p.configuration.options;this.layoutInfo=E.get(142),this.viewDomNode=b.viewDomNode,this.lineHeight=E.get(65),this.stickyTabStops=E.get(114),this.typicalHalfwidthCharacterWidth=E.get(49).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=p,this._viewHelper=b}getZoneAtCoord(p){return u.getZoneAtCoord(this._context,p)}static getZoneAtCoord(p,b){const w=p.viewLayout.getWhitespaceAtVerticalOffset(b);if(w){const E=w.verticalOffset+w.height/2,I=p.viewModel.getLineCount();let N=null,R,F=null;return w.afterLineNumber!==I&&(F=new D.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(N=new D.Position(w.afterLineNumber,p.viewModel.getLineMaxColumn(w.afterLineNumber))),F===null?R=N:N===null?R=F:b<E?R=N:R=F,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:N,positionAfter:F,position:R}}return null}getFullLineRangeAtCoord(p){if(this._context.viewLayout.isAfterLines(p)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new S.Range(E,I,E,I),isAfterLines:!0}}const b=this._context.viewLayout.getLineNumberAtVerticalOffset(p),w=this._context.viewModel.getLineMaxColumn(b);return{range:new S.Range(b,1,b,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(p){return this._context.viewLayout.getLineNumberAtVerticalOffset(p)}isAfterLines(p){return this._context.viewLayout.isAfterLines(p)}isInTopPadding(p){return this._context.viewLayout.isInTopPadding(p)}isInBottomPadding(p){return this._context.viewLayout.isInBottomPadding(p)}getVerticalOffsetForLineNumber(p){return this._context.viewLayout.getVerticalOffsetForLineNumber(p)}findAttribute(p,b){return u._findAttribute(p,b,this._viewHelper.viewDomNode)}static _findAttribute(p,b,w){for(;p&&p!==document.body;){if(p.hasAttribute&&p.hasAttribute(b))return p.getAttribute(b);if(p===w)return null;p=p.parentNode}return null}getLineWidth(p){return this._viewHelper.getLineWidth(p)}visibleRangeForPosition(p,b){return this._viewHelper.visibleRangeForPosition(p,b)}getPositionFromDOMInfo(p,b){return this._viewHelper.getPositionFromDOMInfo(p,b)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=u;class h{constructor(p,b,w,E){this.editorPos=b,this.pos=w,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,p.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=p.getCurrentScrollLeft()+this.relativePos.x-p.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<p.layoutInfo.contentLeft&&this.relativePos.x>=p.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,d._getMouseColumn(this.mouseContentHorizontalOffset,p.typicalHalfwidthCharacterWidth))}}class l extends h{constructor(p,b,w,E,I){super(p,b,w,E),this._ctx=p,I?(this.target=I,this.targetPath=k.PartFingerprints.collect(I,p.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(p=null){return p&&p.column<this._ctx.viewModel.getLineMaxColumn(p.lineNumber)?m.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(p.lineNumber),p.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(p=null){return t.createUnknown(this.target,this._getMouseColumn(p),p)}fulfillTextarea(){return t.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(p,b,w,E){return t.createMargin(p,this.target,this._getMouseColumn(b),b,w,E)}fulfillViewZone(p,b,w){return t.createViewZone(p,this.target,this._getMouseColumn(b),b,w)}fulfillContentText(p,b,w){return t.createContentText(this.target,this._getMouseColumn(p),p,b,w)}fulfillContentEmpty(p,b){return t.createContentEmpty(this.target,this._getMouseColumn(p),p,b)}fulfillContentWidget(p){return t.createContentWidget(this.target,this._getMouseColumn(),p)}fulfillScrollbar(p){return t.createScrollbar(this.target,this._getMouseColumn(p),p)}fulfillOverlayWidget(p){return t.createOverlayWidget(this.target,this._getMouseColumn(),p)}withTarget(p){return new l(this._ctx,this.editorPos,this.pos,this.relativePos,p)}}const c={isAfterLines:!0};function o(f){return{isAfterLines:!1,horizontalDistanceToText:f}}class d{constructor(p,b){this._context=p,this._viewHelper=b}mouseTargetIsWidget(p){const b=p.target,w=k.PartFingerprints.collect(b,this._viewHelper.viewDomNode);return!!(a.isChildOfContentWidgets(w)||a.isChildOfOverflowingContentWidgets(w)||a.isChildOfOverlayWidgets(w))}createMouseTarget(p,b,w,E,I){const N=new u(this._context,this._viewHelper,p),R=new l(N,b,w,E,I);try{const F=d._createMouseTarget(N,R,!1);if(F.type===6&&N.stickyTabStops&&F.position!==null){const M=d._snapToSoftTabBoundary(F.position,N.viewModel),A=S.Range.fromPositions(M,M).plusRange(F.range);return R.fulfillContentText(M,A,F.detail)}return F}catch{return R.fulfillUnknown()}}static _createMouseTarget(p,b,w){if(b.target===null){if(w)return b.fulfillUnknown();const N=d._doHitTest(p,b);return N.type===1?d.createMouseTargetFromHitTestPosition(p,b,N.spanNode,N.position,N.injectedText):this._createMouseTarget(p,b.withTarget(N.hitTarget),!0)}const E=b;let I=null;return!a.isChildOfOverflowGuard(b.targetPath)&&!a.isChildOfOverflowingContentWidgets(b.targetPath)&&(I=I||b.fulfillUnknown()),I=I||d._hitTestContentWidget(p,E),I=I||d._hitTestOverlayWidget(p,E),I=I||d._hitTestMinimap(p,E),I=I||d._hitTestScrollbarSlider(p,E),I=I||d._hitTestViewZone(p,E),I=I||d._hitTestMargin(p,E),I=I||d._hitTestViewCursor(p,E),I=I||d._hitTestTextArea(p,E),I=I||d._hitTestViewLines(p,E,w),I=I||d._hitTestScrollbar(p,E),I||b.fulfillUnknown()}static _hitTestContentWidget(p,b){if(a.isChildOfContentWidgets(b.targetPath)||a.isChildOfOverflowingContentWidgets(b.targetPath)){const w=p.findAttribute(b.target,"widgetId");return w?b.fulfillContentWidget(w):b.fulfillUnknown()}return null}static _hitTestOverlayWidget(p,b){if(a.isChildOfOverlayWidgets(b.targetPath)){const w=p.findAttribute(b.target,"widgetId");return w?b.fulfillOverlayWidget(w):b.fulfillUnknown()}return null}static _hitTestViewCursor(p,b){if(b.target){const w=p.lastRenderData.lastViewCursorsRenderData;for(const E of w)if(b.target===E.domNode)return b.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(b.isInContentArea){const w=p.lastRenderData.lastViewCursorsRenderData,E=b.mouseContentHorizontalOffset,I=b.mouseVerticalOffset;for(const N of w){if(E<N.contentLeft||E>N.contentLeft+N.width)continue;const R=p.getVerticalOffsetForLineNumber(N.position.lineNumber);if(R<=I&&I<=R+N.height)return b.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(p,b){const w=p.getZoneAtCoord(b.mouseVerticalOffset);if(w){const E=b.isInContentArea?8:5;return b.fulfillViewZone(E,w.position,w)}return null}static _hitTestTextArea(p,b){return a.isTextArea(b.targetPath)?p.lastRenderData.lastTextareaPosition?b.fulfillContentText(p.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):b.fulfillTextarea():null}static _hitTestMargin(p,b){if(b.isInMarginArea){const w=p.getFullLineRangeAtCoord(b.mouseVerticalOffset),E=w.range.getStartPosition();let I=Math.abs(b.relativePos.x);const N={isAfterLines:w.isAfterLines,glyphMarginLeft:p.layoutInfo.glyphMarginLeft,glyphMarginWidth:p.layoutInfo.glyphMarginWidth,lineNumbersWidth:p.layoutInfo.lineNumbersWidth,offsetX:I};return I-=p.layoutInfo.glyphMarginLeft,I<=p.layoutInfo.glyphMarginWidth?b.fulfillMargin(2,E,w.range,N):(I-=p.layoutInfo.glyphMarginWidth,I<=p.layoutInfo.lineNumbersWidth?b.fulfillMargin(3,E,w.range,N):(I-=p.layoutInfo.lineNumbersWidth,b.fulfillMargin(4,E,w.range,N)))}return null}static _hitTestViewLines(p,b,w){if(!a.isChildOfViewLines(b.targetPath))return null;if(p.isInTopPadding(b.mouseVerticalOffset))return b.fulfillContentEmpty(new D.Position(1,1),c);if(p.isAfterLines(b.mouseVerticalOffset)||p.isInBottomPadding(b.mouseVerticalOffset)){const I=p.viewModel.getLineCount(),N=p.viewModel.getLineMaxColumn(I);return b.fulfillContentEmpty(new D.Position(I,N),c)}if(w){if(a.isStrictChildOfViewLines(b.targetPath)){const I=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(p.viewModel.getLineLength(I)===0){const R=p.getLineWidth(I),F=o(b.mouseContentHorizontalOffset-R);return b.fulfillContentEmpty(new D.Position(I,1),F)}const N=p.getLineWidth(I);if(b.mouseContentHorizontalOffset>=N){const R=o(b.mouseContentHorizontalOffset-N),F=new D.Position(I,p.viewModel.getLineMaxColumn(I));return b.fulfillContentEmpty(F,R)}}return b.fulfillUnknown()}const E=d._doHitTest(p,b);return E.type===1?d.createMouseTargetFromHitTestPosition(p,b,E.spanNode,E.position,E.injectedText):this._createMouseTarget(p,b.withTarget(E.hitTarget),!0)}static _hitTestMinimap(p,b){if(a.isChildOfMinimap(b.targetPath)){const w=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=p.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}static _hitTestScrollbarSlider(p,b){if(a.isChildOfScrollableElement(b.targetPath)&&b.target&&b.target.nodeType===1){const w=b.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const E=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),I=p.viewModel.getLineMaxColumn(E);return b.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(p,b){if(a.isChildOfScrollableElement(b.targetPath)){const w=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=p.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}getMouseColumn(p){const b=this._context.configuration.options,w=b.get(142),E=this._context.viewLayout.getCurrentScrollLeft()+p.x-w.contentLeft;return d._getMouseColumn(E,b.get(49).typicalHalfwidthCharacterWidth)}static _getMouseColumn(p,b){return p<0?1:Math.round(p/b)+1}static createMouseTargetFromHitTestPosition(p,b,w,E,I){const N=E.lineNumber,R=E.column,F=p.getLineWidth(N);if(b.mouseContentHorizontalOffset>F){const B=o(b.mouseContentHorizontalOffset-F);return b.fulfillContentEmpty(E,B)}const M=p.visibleRangeForPosition(N,R);if(!M)return b.fulfillUnknown(E);const A=M.left;if(Math.abs(b.mouseContentHorizontalOffset-A)<1)return b.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const T=[];if(T.push({offset:M.left,column:R}),R>1){const B=p.visibleRangeForPosition(N,R-1);B&&T.push({offset:B.left,column:R-1})}const O=p.viewModel.getLineMaxColumn(N);if(R<O){const B=p.visibleRangeForPosition(N,R+1);B&&T.push({offset:B.left,column:R+1})}T.sort((B,$)=>B.offset-$.offset);const P=b.pos.toClientCoordinates(),x=w.getBoundingClientRect(),z=x.left<=P.clientX&&P.clientX<=x.right;let q=null;for(let B=1;B<T.length;B++){const $=T[B-1],X=T[B];if($.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=X.offset){q=new S.Range(N,$.column,N,X.column);const ne=Math.abs($.offset-b.mouseContentHorizontalOffset),oe=Math.abs(X.offset-b.mouseContentHorizontalOffset);E=ne<oe?new D.Position(N,$.column):new D.Position(N,X.column);break}}return b.fulfillContentText(E,q,{mightBeForeignElement:!z||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(p,b){const w=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=p.getVerticalOffsetForLineNumber(w),I=E+p.lineHeight;if(!(w===p.viewModel.getLineCount()&&b.mouseVerticalOffset>I)){const R=Math.floor((E+I)/2);let F=b.pos.y+(R-b.mouseVerticalOffset);F<=b.editorPos.y&&(F=b.editorPos.y+1),F>=b.editorPos.y+b.editorPos.height&&(F=b.editorPos.y+b.editorPos.height-1);const M=new L.PageCoordinates(b.pos.x,F),A=this._actualDoHitTestWithCaretRangeFromPoint(p,M.toClientCoordinates());if(A.type===1)return A}return this._actualDoHitTestWithCaretRangeFromPoint(p,b.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(p,b){const w=_.getShadowRoot(p.viewDomNode);let E;if(w?typeof w.caretRangeFromPoint>"u"?E=r(w,b.clientX,b.clientY):E=w.caretRangeFromPoint(b.clientX,b.clientY):E=document.caretRangeFromPoint(b.clientX,b.clientY),!E||!E.startContainer)return new C;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const N=I.parentNode,R=N?N.parentNode:null,F=R?R.parentNode:null;return(F&&F.nodeType===F.ELEMENT_NODE?F.className:null)===y.ViewLine.CLASS_NAME?n.createFromDOMInfo(p,N,E.startOffset):new C(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const N=I.parentNode,R=N?N.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===y.ViewLine.CLASS_NAME?n.createFromDOMInfo(p,I,I.textContent.length):new C(I)}return new C}static _doHitTestWithCaretPositionFromPoint(p,b){const w=document.caretPositionFromPoint(b.clientX,b.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const E=w.offsetNode.parentNode,I=E?E.parentNode:null,N=I?I.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===y.ViewLine.CLASS_NAME?n.createFromDOMInfo(p,w.offsetNode.parentNode,w.offset):new C(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const E=w.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,N=E?E.parentNode:null,R=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(I===y.ViewLine.CLASS_NAME){const F=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(F)return n.createFromDOMInfo(p,F,0)}else if(R===y.ViewLine.CLASS_NAME)return n.createFromDOMInfo(p,w.offsetNode,0)}return new C(w.offsetNode)}static _snapToSoftTabBoundary(p,b){const w=b.getLineContent(p.lineNumber),{tabSize:E}=b.model.getOptions(),I=v.AtomicTabMoveOperations.atomicPosition(w,p.column-1,E,2);return I!==-1?new D.Position(p.lineNumber,I+1):p}static _doHitTest(p,b){let w=new C;if(typeof document.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(p,b):document.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(p,b.pos.toClientCoordinates())),w.type===1){const E=p.viewModel.getInjectedTextAt(w.position),I=p.viewModel.normalizePosition(w.position,2);(E||!I.equals(w.position))&&(w=new s(I,w.spanNode,E))}return w}}e.MouseTargetFactory=d;function r(f,p,b){const w=document.createRange();let E=f.elementFromPoint(p,b);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),N=window.getComputedStyle(E,null).getPropertyValue("font-style"),R=window.getComputedStyle(E,null).getPropertyValue("font-variant"),F=window.getComputedStyle(E,null).getPropertyValue("font-weight"),M=window.getComputedStyle(E,null).getPropertyValue("font-size"),A=window.getComputedStyle(E,null).getPropertyValue("line-height"),T=window.getComputedStyle(E,null).getPropertyValue("font-family"),O=`${N} ${R} ${F} ${M}/${A} ${T}`,P=E.innerText;let x=I.left,z=0,q;if(p>I.left+I.width)z=P.length;else{const B=g.getInstance();for(let $=0;$<P.length+1;$++){if(q=B.getCharWidth(P.charAt($),O)/2,x+=q,p<x){z=$;break}x+=q}}w.setStart(E.firstChild,z),w.setEnd(E.firstChild,z)}return w}class g{static getInstance(){return g._INSTANCE||(g._INSTANCE=new g),g._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(p,b){const w=p+b;if(this._cache[w])return this._cache[w];const E=this._canvas.getContext("2d");E.font=b;const N=E.measureText(p).width;return this._cache[w]=N,N}}g._INSTANCE=null}),define(ee[836],te([1,0,7,59,2,17,357,159,143,12,24,148,84]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends s.ViewEventHandler{constructor(c,o,d){super(),this._mouseLeaveMonitor=null,this._context=c,this.viewController=o,this.viewHelper=d,this.mouseTargetFactory=new S.MouseTargetFactory(this._context,d),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(f,p)=>this._createMouseTarget(f,p),f=>this._getMouseColumn(f))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(142).height;const r=new m.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,f=>this._onContextMenu(f,!0))),this._register(r.onMouseMove(this.viewHelper.viewDomNode,f=>{this._onMouseMove(f),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=L.addDisposableListener(document,"mousemove",p=>{this.viewHelper.viewDomNode.contains(p.target)||this._onMouseLeave(new m.EditorMouseEvent(p,!1,this.viewHelper.viewDomNode))}))})),this._register(r.onMouseUp(this.viewHelper.viewDomNode,f=>this._onMouseUp(f))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,f=>this._onMouseLeave(f)));let g=0;this._register(r.onPointerDown(this.viewHelper.viewDomNode,(f,p)=>{g=p})),this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.POINTER_UP,f=>{this._mouseDownOperation.onPointerUp()})),this._register(r.onMouseDown(this.viewHelper.viewDomNode,f=>this._onMouseDown(f,g))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const c=n.MouseWheelClassifier.INSTANCE;let o=0,d=_.EditorZoom.getZoomLevel(),r=!1,g=0;const f=b=>{if(this.viewController.emitMouseWheel(b),!this._context.configuration.options.get(74))return;const w=new k.StandardWheelEvent(b);if(c.acceptStandardWheelEvent(w),c.isPhysicalMouseWheel()){if(p(b)){const E=_.EditorZoom.getZoomLevel(),I=w.deltaY>0?1:-1;_.EditorZoom.setZoomLevel(E+I),w.preventDefault(),w.stopPropagation()}}else Date.now()-o>50&&(d=_.EditorZoom.getZoomLevel(),r=p(b),g=0),o=Date.now(),g+=w.deltaY,r&&(_.EditorZoom.setZoomLevel(d+g/5),w.preventDefault(),w.stopPropagation())};this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.MOUSE_WHEEL,f,{capture:!0,passive:!1}));function p(b){return D.isMacintosh?(b.metaKey||b.ctrlKey)&&!b.shiftKey&&!b.altKey:b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(c){if(c.hasChanged(142)){const o=this._context.configuration.options.get(142).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(c){return this._mouseDownOperation.onCursorStateChanged(c),!1}onFocusChanged(c){return!1}getTargetAtClientPoint(c,o){const r=new m.ClientCoordinates(c,o).toPageCoordinates(),g=(0,m.createEditorPagePosition)(this.viewHelper.viewDomNode);if(r.y<g.y||r.y>g.y+g.height||r.x<g.x||r.x>g.x+g.width)return null;const f=(0,m.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,r,f,null)}_createMouseTarget(c,o){let d=c.target;if(!this.viewHelper.viewDomNode.contains(d)){const r=L.getShadowRoot(this.viewHelper.viewDomNode);r&&(d=r.elementsFromPoint(c.posx,c.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),c.editorPos,c.pos,c.relativePos,o?d:null)}_getMouseColumn(c){return this.mouseTargetFactory.getMouseColumn(c.relativePos)}_onContextMenu(c,o){this.viewController.emitContextMenu({event:c,target:this._createMouseTarget(c,o)})}_onMouseMove(c){this.mouseTargetFactory.mouseTargetIsWidget(c)||c.preventDefault(),!(this._mouseDownOperation.isActive()||c.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:c,target:this._createMouseTarget(c,!0)})}_onMouseLeave(c){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:c,target:null})}_onMouseUp(c){this.viewController.emitMouseUp({event:c,target:this._createMouseTarget(c,!0)})}_onMouseDown(c,o){const d=this._createMouseTarget(c,!0),r=d.type===6||d.type===7,g=d.type===2||d.type===3||d.type===4,f=d.type===3,p=this._context.configuration.options.get(107),b=d.type===8||d.type===5,w=d.type===9;let E=c.leftButton||c.middleButton;D.isMacintosh&&c.leftButton&&c.ctrlKey&&(E=!1);const I=()=>{c.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(r||f&&p))I(),this._mouseDownOperation.start(d.type,c,o);else if(g)c.preventDefault();else if(b){const N=d.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(N.viewZoneId)&&(I(),this._mouseDownOperation.start(d.type,c,o),c.preventDefault())}else w&&this.viewHelper.shouldSuppressMouseDownOnWidget(d.detail)&&(I(),c.preventDefault());this.viewController.emitMouseDown({event:c,target:d})}}e.MouseHandler=i;class t extends y.Disposable{constructor(c,o,d,r,g,f){super(),this._context=c,this._viewController=o,this._viewHelper=d,this._mouseTargetFactory=r,this._createMouseTarget=g,this._getMouseColumn=f,this._mouseMoveMonitor=this._register(new m.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new a(this._context,this._viewHelper,this._mouseTargetFactory,(p,b,w)=>this._dispatchMouse(p,b,w))),this._mouseState=new h,this._currentSelection=new C.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(c){this._lastMouseEvent=c,this._mouseState.setModifiers(c);const o=this._findMousePosition(c,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:c,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this._topBottomDragScrolling.start(o,c):(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)))}start(c,o,d){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(c===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const r=this._findMousePosition(o,!0);if(!r||!r.position)return;this._mouseState.trySetCount(o.detail,r.position),o.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(89)&&g.get(34)&&!g.get(21)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&r.type===6&&r.position&&this._currentSelection.containsPosition(r.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,o.buttons,f=>this._onMouseDownThenMove(f),f=>{const p=this._findMousePosition(this._lastMouseEvent,!1);f&&f instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:p?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(r,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,o.buttons,f=>this._onMouseDownThenMove(f),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(c){this._currentSelection=c.selections[0]}_getPositionOutsideEditor(c){const o=c.editorPos,d=this._context.viewModel,r=this._context.viewLayout,g=this._getMouseColumn(c);if(c.posy<o.y){const p=o.y-c.posy,b=Math.max(r.getCurrentScrollTop()-p,0),w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return S.MouseTarget.createOutsideEditor(g,I,"above",p)}const E=r.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(g,new v.Position(E,1),"above",p)}if(c.posy>o.y+o.height){const p=c.posy-o.y-o.height,b=r.getCurrentScrollTop()+c.relativePos.y,w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return S.MouseTarget.createOutsideEditor(g,I,"below",p)}const E=r.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(g,new v.Position(E,d.getLineMaxColumn(E)),"below",p)}const f=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+c.relativePos.y);if(c.posx<o.x){const p=o.x-c.posx;return S.MouseTarget.createOutsideEditor(g,new v.Position(f,1),"left",p)}if(c.posx>o.x+o.width){const p=c.posx-o.x-o.width;return S.MouseTarget.createOutsideEditor(g,new v.Position(f,d.getLineMaxColumn(f)),"right",p)}return null}_findMousePosition(c,o){const d=this._getPositionOutsideEditor(c);if(d)return d;const r=this._createMouseTarget(c,o);if(!r.position)return null;if(r.type===8||r.type===5){const f=this._helpPositionJumpOverViewZone(r.detail);if(f)return S.MouseTarget.createViewZone(r.type,r.element,r.mouseColumn,f,r.detail)}return r}_helpPositionJumpOverViewZone(c){const o=new v.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),d=c.positionBefore,r=c.positionAfter;return d&&r?d.isBefore(o)?d:r:null}_dispatchMouse(c,o,d){c.position&&this._viewController.dispatchMouse({position:c.position,mouseColumn:c.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:d,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:c.type===6&&c.detail.injectedText!==null})}}class a extends y.Disposable{constructor(c,o,d,r){super(),this._context=c,this._viewHelper=o,this._mouseTargetFactory=d,this._dispatchMouse=r,this._operation=null}dispose(){super.dispose(),this.stop()}start(c,o){this._operation?this._operation.setPosition(c,o):this._operation=new u(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,c,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class u extends y.Disposable{constructor(c,o,d,r,g,f){super(),this._context=c,this._viewHelper=o,this._mouseTargetFactory=d,this._dispatchMouse=r,this._position=g,this._mouseEvent=f,this._lastTime=Date.now(),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(c,o){this._position=c,this._mouseEvent=o}_tick(){const c=Date.now(),o=c-this._lastTime;return this._lastTime=c,o}_getScrollSpeed(){const c=this._context.configuration.options.get(65),o=this._context.configuration.options.get(142).height/c,d=this._position.outsideDistance/c;return d<=1.5?Math.max(30,o*(1+d)):d<=3?Math.max(60,o*(2+d)):Math.max(200,o*(7+d))}_execute(){const c=this._context.configuration.options.get(65),o=this._getScrollSpeed(),d=this._tick(),r=o*(d/1e3)*c,g=this._position.outsidePosition==="above"?-r:r;this._context.viewModel.viewLayout.deltaScrollNow(0,g),this._viewHelper.renderNow();const f=this._context.viewLayout.getLinesViewportData(),p=this._position.outsidePosition==="above"?f.startLineNumber:f.endLineNumber;let b;{const w=(0,m.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(142).horizontalScrollbarHeight,I=new m.PageCoordinates(this._mouseEvent.pos.x,w.y+w.height-E-.1),N=(0,m.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,w,I);b=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),w,I,N,null)}(!b.position||b.position.lineNumber!==p)&&(this._position.outsidePosition==="above"?b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(p,1),"above",this._position.outsideDistance):b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(p,this._context.viewModel.getLineMaxColumn(p)),"below",this._position.outsideDistance)),this._dispatchMouse(b,!0,2),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}}class h{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,o){const d=new Date().getTime();d-this._lastSetMouseDownCountTime>h.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=d,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}h.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ee[837],te([1,0,7,17,60,2,836,159,218,184]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class C extends S.MouseHandler{constructor(t,a,u){super(t,a,u),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,l=>this.onTap(l))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,l=>this.onChange(l))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,l=>this._onContextMenu(new m.EditorMouseEvent(l,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",l=>{const c=l.pointerType;if(c==="mouse"){this._lastPointerType="mouse";return}else c==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const h=new m.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(h.onPointerMove(this.viewHelper.viewDomNode,l=>this._onMouseMove(l))),this._register(h.onPointerUp(this.viewHelper.viewDomNode,l=>this._onMouseUp(l))),this._register(h.onPointerLeave(this.viewHelper.viewDomNode,l=>this._onMouseLeave(l))),this._register(h.onPointerDown(this.viewHelper.viewDomNode,(l,c)=>this._onMouseDown(l,c)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const a=this._createMouseTarget(new m.EditorMouseEvent(t,!1,this.viewHelper.viewDomNode),!1);a.position&&this.viewController.dispatchMouse({position:a.position,mouseColumn:a.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:a.type===6&&a.detail.injectedText!==null})}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,a){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t,a)}}e.PointerEventHandler=C;class s extends S.MouseHandler{constructor(t,a,u){super(t,a,u),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,h=>this.onTap(h))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,h=>this.onChange(h))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,h=>this._onContextMenu(new m.EditorMouseEvent(h,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const a=this._createMouseTarget(new m.EditorMouseEvent(t,!1,this.viewHelper.viewDomNode),!1);if(a.position){const u=document.createEvent("CustomEvent");u.initEvent(v.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(u),this.viewController.moveTo(a.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class n extends D.Disposable{constructor(t,a,u){super(),k.isIOS&&_.BrowserFeatures.pointerEvents?this.handler=this._register(new C(t,a,u)):window.TouchEvent?this.handler=this._register(new s(t,a,u)):this.handler=this._register(new S.MouseHandler(t,a,u))}getTargetAtClientPoint(t,a){return this.handler.getTargetAtClientPoint(t,a)}}e.PointerHandler=n}),define(ee[838],te([1,0,199,13,17,69,142,230,53,478,251,12,5,424]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new n.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(l){this._currentVisibleRange=l}}class t{constructor(l,c,o,d,r,g,f){this.minimalReveal=l,this.lineNumber=c,this.startColumn=o,this.endColumn=d,this.startScrollTop=r,this.stopScrollTop=g,this.scrollType=f,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class a{constructor(l,c,o,d,r){this.minimalReveal=l,this.selections=c,this.startScrollTop=o,this.stopScrollTop=d,this.scrollType=r,this.type="selections";let g=c[0].startLineNumber,f=c[0].endLineNumber;for(let p=1,b=c.length;p<b;p++){const w=c[p];g=Math.min(g,w.startLineNumber),f=Math.max(f,w.endLineNumber)}this.minLineNumber=g,this.maxLineNumber=f}}class u extends _.ViewPart{constructor(l,c){super(l),this._linesContent=c,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new m.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const o=this._context.configuration,d=this._context.configuration.options,r=d.get(49),g=d.get(143);this._lineHeight=d.get(65),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=d.get(98),this._cursorSurroundingLines=d.get(28),this._cursorSurroundingLinesStyle=d.get(29),this._canUseLayerHinting=!d.get(31),this._viewLineOptions=new C.ViewLineOptions(o,this._context.theme.type),_.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${L.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=d.get(113).enabled,this._maxNumberStickyLines=d.get(113).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new C.ViewLine(this._viewLineOptions)}onConfigurationChanged(l){this._visibleLines.onConfigurationChanged(l),l.hasChanged(143)&&(this._maxLineWidth=0);const c=this._context.configuration.options,o=c.get(49),d=c.get(143);return this._lineHeight=c.get(65),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=d.isViewportWrapping,this._revealHorizontalRightPadding=c.get(98),this._cursorSurroundingLines=c.get(28),this._cursorSurroundingLinesStyle=c.get(29),this._canUseLayerHinting=!c.get(31),this._stickyScrollEnabled=c.get(113).enabled,this._maxNumberStickyLines=c.get(113).maxLineCount,(0,D.applyFontInfo)(this.domNode,o),this._onOptionsMaybeChanged(),l.hasChanged(142)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const l=this._context.configuration,c=new C.ViewLineOptions(l,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let r=o;r<=d;r++)this._visibleLines.getVisibleLine(r).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(l){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let d=!1;for(let r=c;r<=o;r++)d=this._visibleLines.getVisibleLine(r).onSelectionChanged()||d;return d}onDecorationsChanged(l){{const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let d=c;d<=o;d++)this._visibleLines.getVisibleLine(d).onDecorationsChanged()}return!0}onFlushed(l){const c=this._visibleLines.onFlushed(l);return this._maxLineWidth=0,c}onLinesChanged(l){return this._visibleLines.onLinesChanged(l)}onLinesDeleted(l){return this._visibleLines.onLinesDeleted(l)}onLinesInserted(l){return this._visibleLines.onLinesInserted(l)}onRevealRangeRequest(l){const c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),l.source,l.minimalReveal,l.range,l.selections,l.verticalType);if(c===-1)return!1;let o=this._context.viewLayout.validateScrollPosition({scrollTop:c});l.revealHorizontal?l.range&&l.range.startLineNumber!==l.range.endLineNumber?o={scrollTop:o.scrollTop,scrollLeft:0}:l.range?this._horizontalRevealRequest=new t(l.minimalReveal,l.range.startLineNumber,l.range.startColumn,l.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,l.scrollType):l.selections&&l.selections.length>0&&(this._horizontalRevealRequest=new a(l.minimalReveal,l.selections,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,l.scrollType)):this._horizontalRevealRequest=null;const r=Math.abs(this._context.viewLayout.getCurrentScrollTop()-o.scrollTop)<=this._lineHeight?1:l.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(o,r),!0}onScrollChanged(l){if(this._horizontalRevealRequest&&l.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&l.scrollTopChanged){const c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),o=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(l.scrollTop<c||l.scrollTop>o)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(l.scrollWidth),this._visibleLines.onScrollChanged(l)||!0}onTokensChanged(l){return this._visibleLines.onTokensChanged(l)}onZonesChanged(l){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(l)}onThemeChanged(l){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(l,c){const o=this._getViewLineDomNode(l);if(o===null)return null;const d=this._getLineNumberFor(o);if(d===-1||d<1||d>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(d)===1)return new s.Position(d,1);const r=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(d<r||d>g)return null;let f=this._visibleLines.getVisibleLine(d).getColumnOfNodeOffset(l,c);const p=this._context.viewModel.getLineMinColumn(d);return f<p&&(f=p),new s.Position(d,f)}_getViewLineDomNode(l){for(;l&&l.nodeType===1;){if(l.className===C.ViewLine.CLASS_NAME)return l;l=l.parentElement}return null}_getLineNumberFor(l){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let d=c;d<=o;d++){const r=this._visibleLines.getVisibleLine(d);if(l===r.getDomNode())return d}return-1}getLineWidth(l){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(l<c||l>o)return-1;const d=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getVisibleLine(l).getWidth(d);return this._updateLineWidthsSlowIfDomDidLayout(d),r}linesVisibleRangesForRange(l,c){if(this.shouldRender())return null;const o=l.endLineNumber,d=n.Range.intersectRanges(l,this._lastRenderedData.getCurrentVisibleRange());if(!d)return null;const r=[];let g=0;const f=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;c&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(d.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let E=d.startLineNumber;E<=d.endLineNumber;E++){if(E<b||E>w)continue;const I=E===d.startLineNumber?d.startColumn:1,N=E!==d.endLineNumber,R=N?this._context.viewModel.getLineMaxColumn(E):d.endColumn,F=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,I,R,f);if(F){if(c&&E<o){const M=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(E+1,1)).lineNumber,M!==p&&(F.ranges[F.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[g++]=new S.LineVisibleRanges(F.outsideRenderedLine,E,S.HorizontalRange.from(F.ranges),N)}}return this._updateLineWidthsSlowIfDomDidLayout(f),g===0?null:r}_visibleRangesForLineRange(l,c,o){if(this.shouldRender()||l<this._visibleLines.getStartLineNumber()||l>this._visibleLines.getEndLineNumber())return null;const d=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getVisibleLine(l).getVisibleRangesForRange(l,c,o,d);return this._updateLineWidthsSlowIfDomDidLayout(d),r}visibleRangeForPosition(l){const c=this._visibleRangesForLineRange(l.lineNumber,l.column,l.column);return c?new S.HorizontalPosition(c.outsideRenderedLine,c.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(l){l.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(l){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let d=1,r=!0;for(let g=c;g<=o;g++){const f=this._visibleLines.getVisibleLine(g);if(l&&!f.getWidthIsFast()){r=!1;continue}d=Math.max(d,f.getWidth(null))}return r&&c===1&&o===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(d),r}_checkMonospaceFontAssumptions(){let l=-1,c=-1;const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let r=o;r<=d;r++){const g=this._visibleLines.getVisibleLine(r);if(g.needsMonospaceFontCheck()){const f=g.getWidth(null);f>c&&(c=f,l=r)}}if(l!==-1&&!this._visibleLines.getVisibleLine(l).monospaceAssumptionsAreValid())for(let r=o;r<=d;r++)this._visibleLines.getVisibleLine(r).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(l){if(this._visibleLines.renderLines(l),this._lastRenderedData.setCurrentVisibleRange(l.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const o=this._horizontalRevealRequest;if(l.startLineNumber<=o.minLineNumber&&o.maxLineNumber<=l.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const d=this._computeScrollLeftToReveal(o);d&&(this._isViewportWrapping||this._ensureMaxLineWidth(d.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:d.scrollLeft},o.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let r=o;r<=d;r++)if(this._visibleLines.getVisibleLine(r).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const c=this._context.viewLayout.getCurrentScrollTop()-l.bigNumbersDelta;this._linesContent.setTop(-c),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(l){const c=Math.ceil(l);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(l,c,o,d,r,g){const f=l.top,p=l.height,b=f+p;let w,E,I;if(r&&r.length>0){let A=r[0].startLineNumber,T=r[0].endLineNumber;for(let O=1,P=r.length;O<P;O++){const x=r[O];A=Math.min(A,x.startLineNumber),T=Math.max(T,x.endLineNumber)}w=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(A),I=this._context.viewLayout.getVerticalOffsetForLineNumber(T)+this._lineHeight}else if(d)w=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(d.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(d.endLineNumber)+this._lineHeight;else return-1;const N=(c==="mouse"||o)&&this._cursorSurroundingLinesStyle==="default";let R=0,F=0;if(N)o||(R=this._lineHeight);else{const A=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?R=Math.max(A,this._maxNumberStickyLines)*this._lineHeight:R=A*this._lineHeight,F=Math.max(0,A-1)*this._lineHeight}o||(g===0||g===4)&&(F+=this._lineHeight),E-=R,I+=F;let M;if(I-E>p){if(!w)return-1;M=E}else if(g===5||g===6)if(g===6&&f<=E&&I<=b)M=f;else{const A=Math.max(5*this._lineHeight,p*.2),T=E-A,O=I-p;M=Math.max(O,T)}else if(g===1||g===2)if(g===2&&f<=E&&I<=b)M=f;else{const A=(E+I)/2;M=Math.max(0,A-p/2)}else M=this._computeMinimumScrolling(f,b,E,I,g===3,g===4);return M}_computeScrollLeftToReveal(l){const c=this._context.viewLayout.getCurrentViewport(),o=this._context.configuration.options.get(142),d=c.left,r=d+c.width-o.verticalScrollbarWidth;let g=1073741824,f=0;if(l.type==="range"){const b=this._visibleRangesForLineRange(l.lineNumber,l.startColumn,l.endColumn);if(!b)return null;for(const w of b.ranges)g=Math.min(g,Math.round(w.left)),f=Math.max(f,Math.round(w.left+w.width))}else for(const b of l.selections){if(b.startLineNumber!==b.endLineNumber)return null;const w=this._visibleRangesForLineRange(b.startLineNumber,b.startColumn,b.endColumn);if(!w)return null;for(const E of w.ranges)g=Math.min(g,Math.round(E.left)),f=Math.max(f,Math.round(E.left+E.width))}return l.minimalReveal||(g=Math.max(0,g-u.HORIZONTAL_EXTRA_PX),f+=this._revealHorizontalRightPadding),l.type==="selections"&&f-g>c.width?null:{scrollLeft:this._computeMinimumScrolling(d,r,g,f),maxHorizontalOffset:f}}_computeMinimumScrolling(l,c,o,d,r,g){l=l|0,c=c|0,o=o|0,d=d|0,r=!!r,g=!!g;const f=c-l;if(d-o<f){if(r)return o;if(g)return Math.max(0,d-f);if(o<l)return o;if(d>c)return Math.max(0,d-f)}else return o;return l}}e.ViewLines=u,u.HORIZONTAL_EXTRA_PX=30}),define(ee[358],te([1,0,7,43,72,227,223,14,13,387,106,9,6,119,2,17,10,732,342,98,21,88,173]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const r=L.$;class g{constructor(M,A,T,O,P,x,z){var q,B,$;this._checked=!1,this._hidden=!1,this.hasCheckbox=O,this.index=T,this.fireButtonTriggered=P,this.fireSeparatorButtonTriggered=x,this._onChecked=z,this.onChecked=O?n.Event.map(n.Event.filter(this._onChecked.event,X=>X.listElement===this),X=>X.checked):n.Event.None,M.type==="separator"?this._separator=M:(this.item=M,A&&A.type==="separator"&&!A.buttons&&(this._separator=A),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(q=this.item.highlights)===null||q===void 0?void 0:q.label,this._descriptionHighlights=(B=this.item.highlights)===null||B===void 0?void 0:B.description,this._detailHighlights=($=this.item.highlights)===null||$===void 0?void 0:$.detail,this.saneTooltip=this.item.tooltip),this._init=new c.Lazy(()=>{var X;const ne=(X=M.label)!==null&&X!==void 0?X:"",oe=(0,i.parseLabelWithIcons)(ne).text.trim(),Y=M.ariaLabel||[ne,this.saneDescription,this.saneDetail].map(U=>(0,i.getCodiconAriaLabel)(U)).filter(U=>!!U).join(", ");return{saneLabel:ne,saneSortLabel:oe,saneAriaLabel:Y}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(M){this._element=M}get hidden(){return this._hidden}set hidden(M){this._hidden=M}get checked(){return this._checked}set checked(M){M!==this._checked&&(this._checked=M,this._onChecked.fire({listElement:this,checked:M}))}get separator(){return this._separator}set separator(M){this._separator=M}get labelHighlights(){return this._labelHighlights}set labelHighlights(M){this._labelHighlights=M}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(M){this._descriptionHighlights=M}get detailHighlights(){return this._detailHighlights}set detailHighlights(M){this._detailHighlights=M}}class f{constructor(M){this.themeService=M}get templateId(){return f.ID}renderTemplate(M){const A=Object.create(null);A.toDisposeElement=[],A.toDisposeTemplate=[],A.entry=L.append(M,r(".quick-input-list-entry"));const T=L.append(A.entry,r("label.quick-input-list-label"));A.toDisposeTemplate.push(L.addStandardDisposableListener(T,L.EventType.CLICK,B=>{A.checkbox.offsetParent||B.preventDefault()})),A.checkbox=L.append(T,r("input.quick-input-list-checkbox")),A.checkbox.type="checkbox",A.toDisposeTemplate.push(L.addStandardDisposableListener(A.checkbox,L.EventType.CHANGE,B=>{A.element.checked=A.checkbox.checked}));const O=L.append(T,r(".quick-input-list-rows")),P=L.append(O,r(".quick-input-list-row")),x=L.append(O,r(".quick-input-list-row"));A.label=new D.IconLabel(P,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),A.icon=L.prepend(A.label.element,r(".quick-input-list-icon"));const z=L.append(P,r(".quick-input-list-entry-keybinding"));A.keybinding=new S.KeybindingLabel(z,a.OS);const q=L.append(x,r(".quick-input-list-label-meta"));return A.detail=new D.IconLabel(q,{supportHighlights:!0,supportIcons:!0}),A.separator=L.append(A.entry,r(".quick-input-list-separator")),A.actionBar=new y.ActionBar(A.entry),A.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),A.toDisposeTemplate.push(A.actionBar),A}renderElement(M,A,T){var O,P,x,z;T.element=M,M.element=(O=T.entry)!==null&&O!==void 0?O:void 0;const q=M.item?M.item:M.separator;T.checkbox.checked=M.checked,T.toDisposeElement.push(M.onChecked(Y=>T.checkbox.checked=Y));const{labelHighlights:B,descriptionHighlights:$,detailHighlights:X}=M;if(!((P=M.item)===null||P===void 0)&&P.iconPath){const Y=(0,d.isDark)(this.themeService.getColorTheme().type)?M.item.iconPath.dark:(x=M.item.iconPath.light)!==null&&x!==void 0?x:M.item.iconPath.dark,U=o.URI.revive(Y);T.icon.className="quick-input-list-icon",T.icon.style.backgroundImage=L.asCSSUrl(U)}else T.icon.style.backgroundImage="",T.icon.className=!((z=M.item)===null||z===void 0)&&z.iconClass?`quick-input-list-icon ${M.item.iconClass}`:"";const ne={matches:B||[],descriptionTitle:M.saneDescription,descriptionMatches:$||[],labelEscapeNewLines:!0};q.type!=="separator"?(ne.extraClasses=q.iconClasses,ne.italic=q.italic,ne.strikethrough=q.strikethrough,T.entry.classList.remove("quick-input-list-separator-as-item")):T.entry.classList.add("quick-input-list-separator-as-item"),T.label.setLabel(M.saneLabel,M.saneDescription,ne),T.keybinding.set(q.type==="separator"?void 0:q.keybinding),M.saneDetail?(T.detail.element.style.display="",T.detail.setLabel(M.saneDetail,void 0,{matches:X,title:M.saneDetail,labelEscapeNewLines:!0})):T.detail.element.style.display="none",M.item&&M.separator&&M.separator.label?(T.separator.textContent=M.separator.label,T.separator.style.display=""):T.separator.style.display="none",T.entry.classList.toggle("quick-input-list-separator-border",!!M.separator);const oe=q.buttons;oe&&oe.length?(T.actionBar.push(oe.map((Y,U)=>{let W=Y.iconClass||(Y.iconPath?(0,l.getIconClass)(Y.iconPath):void 0);return Y.alwaysVisible&&(W=W?`${W} always-visible`:"always-visible"),{id:`id-${U}`,class:W,enabled:!0,label:"",tooltip:Y.tooltip||"",run:()=>{q.type!=="separator"?M.fireButtonTriggered({button:Y,item:q}):M.fireSeparatorButtonTriggered({button:Y,separator:q})}}}),{icon:!0,label:!1}),T.entry.classList.add("has-actions")):T.entry.classList.remove("has-actions")}disposeElement(M,A,T){T.toDisposeElement=(0,t.dispose)(T.toDisposeElement),T.actionBar.clear()}disposeTemplate(M){M.toDisposeElement=(0,t.dispose)(M.toDisposeElement),M.toDisposeTemplate=(0,t.dispose)(M.toDisposeTemplate)}}f.ID="listelement";class p{getHeight(M){return M.item?M.saneDetail?44:22:24}getTemplateId(M){return f.ID}}var b;(function(F){F[F.First=1]="First",F[F.Second=2]="Second",F[F.Last=3]="Last",F[F.Next=4]="Next",F[F.Previous=5]="Previous",F[F.NextPage=6]="NextPage",F[F.PreviousPage=7]="PreviousPage"})(b||(e.QuickInputListFocus=b={}));class w{constructor(M,A,T,O){this.parent=M,this.options=T,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new n.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new n.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new n.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new n.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new n.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new n.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new n.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new n.Emitter,this.onLeave=this._onLeave.event,this._listElementChecked=new n.Emitter,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=A,this.container=L.append(this.parent,r(".quick-input-list"));const P=new p,x=new R;if(this.list=T.createList("QuickInput",this.container,P,[new f(O)],{identityProvider:{getId:z=>{var q,B,$,X,ne,oe,Y,U;return(U=(oe=(X=(B=(q=z.item)===null||q===void 0?void 0:q.id)!==null&&B!==void 0?B:($=z.item)===null||$===void 0?void 0:$.label)!==null&&X!==void 0?X:(ne=z.separator)===null||ne===void 0?void 0:ne.id)!==null&&oe!==void 0?oe:(Y=z.separator)===null||Y===void 0?void 0:Y.label)!==null&&U!==void 0?U:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:x}),this.list.getHTMLElement().id=A,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(z=>{const q=new k.StandardKeyboardEvent(z);switch(q.keyCode){case 10:this.toggleCheckbox();break;case 31:(a.isMacintosh?z.metaKey:z.ctrlKey)&&this.list.setFocus((0,m.range)(this.list.length));break;case 16:{const B=this.list.getFocus();B.length===1&&B[0]===0&&this._onLeave.fire();break}case 18:{const B=this.list.getFocus();B.length===1&&B[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(q)})),this.disposables.push(this.list.onMouseDown(z=>{z.browserEvent.button!==2&&z.browserEvent.preventDefault()})),this.disposables.push(L.addDisposableListener(this.container,L.EventType.CLICK,z=>{(z.x||z.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(z=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(z=>{typeof z.index=="number"&&(z.browserEvent.preventDefault(),this.list.setSelection([z.index]))})),T.hoverDelegate){const z=new _.ThrottledDelayer(T.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(q=>Se(this,void 0,void 0,function*(){var B;if(q.browserEvent.target instanceof HTMLAnchorElement){z.cancel();return}if(!(!(q.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&L.isAncestor(q.browserEvent.relatedTarget,(B=q.element)===null||B===void 0?void 0:B.element)))try{yield z.trigger(()=>Se(this,void 0,void 0,function*(){q.element&&this.showHover(q.element)}))}catch($){if(!(0,s.isCancellationError)($))throw $}}))),this.disposables.push(this.list.onMouseOut(q=>{var B;L.isAncestor(q.browserEvent.relatedTarget,(B=q.element)===null||B===void 0?void 0:B.element)||z.cancel()})),this.disposables.push(z)}this.disposables.push(this._listElementChecked.event(z=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return n.Event.map(this.list.onDidChangeFocus,M=>M.elements.map(A=>A.item))}get onDidChangeSelection(){return n.Event.map(this.list.onDidChangeSelection,M=>({items:M.elements.map(A=>A.item),event:M.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(M){this.list.scrollTop=M}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(M){this.list.getHTMLElement().ariaLabel=M}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(M,A=!0){for(let T=0,O=M.length;T<O;T++){const P=M[T];if(!P.hidden)if(P.checked)A=!0;else return!1}return A}getCheckedCount(){let M=0;const A=this.elements;for(let T=0,O=A.length;T<O;T++)A[T].checked&&M++;return M}getVisibleCount(){let M=0;const A=this.elements;for(let T=0,O=A.length;T<O;T++)A[T].hidden||M++;return M}setAllVisibleChecked(M){try{this._fireCheckedEvents=!1,this.elements.forEach(A=>{A.hidden||(A.checked=M)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(M){this.elementDisposables=(0,t.dispose)(this.elementDisposables);const A=x=>this.fireButtonTriggered(x),T=x=>this.fireSeparatorButtonTriggered(x);this.inputElements=M;const O=new Map,P=this.parent.classList.contains("show-checkboxes");this.elements=M.reduce((x,z,q)=>{var B;const $=q>0?M[q-1]:void 0;if(z.type==="separator"&&!z.buttons)return x;const X=new g(z,$,q,P,A,T,this._listElementChecked),ne=x.length;return x.push(X),O.set((B=X.item)!==null&&B!==void 0?B:X.separator,ne),x},[]),this.elementsToIndexes=O,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(M=>M.item)}setFocusedElements(M){if(this.list.setFocus(M.filter(A=>this.elementsToIndexes.has(A)).map(A=>this.elementsToIndexes.get(A))),M.length>0){const A=this.list.getFocus()[0];typeof A=="number"&&this.list.reveal(A)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(M){this.list.setSelection(M.filter(A=>this.elementsToIndexes.has(A)).map(A=>this.elementsToIndexes.get(A)))}getCheckedElements(){return this.elements.filter(M=>M.checked).map(M=>M.item).filter(M=>!!M)}setCheckedElements(M){try{this._fireCheckedEvents=!1;const A=new Set;for(const T of M)A.add(T);for(const T of this.elements)T.checked=A.has(T.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(M){this.list.getHTMLElement().style.pointerEvents=M?"":"none"}focus(M){if(!this.list.length)return;switch(M===b.Second&&this.list.length<2&&(M=b.First),M){case b.First:this.list.scrollTop=0,this.list.focusFirst(void 0,T=>!!T.item);break;case b.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,T=>!!T.item);break;case b.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,T=>!!T.item);break;case b.Next:{this.list.focusNext(void 0,!0,void 0,O=>!!O.item);const T=this.list.getFocus()[0];T!==0&&!this.elements[T-1].item&&this.list.firstVisibleIndex>T-1&&this.list.reveal(T-1);break}case b.Previous:{this.list.focusPrevious(void 0,!0,void 0,O=>!!O.item);const T=this.list.getFocus()[0];T!==0&&!this.elements[T-1].item&&this.list.firstVisibleIndex>T-1&&this.list.reveal(T-1);break}case b.NextPage:this.list.focusNextPage(void 0,T=>!!T.item);break;case b.PreviousPage:this.list.focusPreviousPage(void 0,T=>!!T.item);break}const A=this.list.getFocus()[0];typeof A=="number"&&this.list.reveal(A)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(M){var A,T,O;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((T=(A=this.options.hoverDelegate).onDidHideHover)===null||T===void 0||T.call(A),(O=this._lastHover)===null||O===void 0||O.dispose()),!(!M.element||!M.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:M.saneTooltip,target:M.element,linkHandler:P=>{this.options.linkOpenerDelegate(P)},showPointer:!0,container:this.container,hoverPosition:1},!1)))}layout(M){this.list.getHTMLElement().style.maxHeight=M?`${Math.floor(M/44)*44+6}px`:"",this.list.layout()}filter(M){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const A=M;if(M=M.trim(),!M||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(O=>{O.labelHighlights=void 0,O.descriptionHighlights=void 0,O.detailHighlights=void 0,O.hidden=!1;const P=O.index&&this.inputElements[O.index-1];O.item&&(O.separator=P&&P.type==="separator"&&!P.buttons?P:void 0)});else{let O;this.elements.forEach(P=>{var x,z,q,B;let $;this.matchOnLabelMode==="fuzzy"?$=this.matchOnLabel&&(x=(0,i.matchesFuzzyIconAware)(M,(0,i.parseLabelWithIcons)(P.saneLabel)))!==null&&x!==void 0?x:void 0:$=this.matchOnLabel&&(z=E(A,(0,i.parseLabelWithIcons)(P.saneLabel)))!==null&&z!==void 0?z:void 0;const X=this.matchOnDescription&&(q=(0,i.matchesFuzzyIconAware)(M,(0,i.parseLabelWithIcons)(P.saneDescription||"")))!==null&&q!==void 0?q:void 0,ne=this.matchOnDetail&&(B=(0,i.matchesFuzzyIconAware)(M,(0,i.parseLabelWithIcons)(P.saneDetail||"")))!==null&&B!==void 0?B:void 0;if($||X||ne?(P.labelHighlights=$,P.descriptionHighlights=X,P.detailHighlights=ne,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=P.item?!P.item.alwaysShow:!0),P.item?P.separator=void 0:P.separator&&(P.hidden=!0),!this.sortByLabel){const oe=P.index&&this.inputElements[P.index-1];O=oe&&oe.type==="separator"?oe:O,O&&!P.hidden&&(P.separator=O,O=void 0)}})}const T=this.elements.filter(O=>!O.hidden);if(this.sortByLabel&&M){const O=M.toLowerCase();T.sort((P,x)=>N(P,x,O))}return this.elementsToIndexes=T.reduce((O,P,x)=>{var z;return O.set((z=P.item)!==null&&z!==void 0?z:P.separator,x),O},new Map),this.list.splice(0,this.list.length,T),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(T.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const M=this.list.getFocusedElements(),A=this.allVisibleChecked(M);for(const T of M)T.checked=!A}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(M){this.container.style.display=M?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,t.dispose)(this.elementDisposables),this.disposables=(0,t.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(M){this._onButtonTriggered.fire(M)}fireSeparatorButtonTriggered(M){this._onSeparatorButtonTriggered.fire(M)}style(M){this.list.style(M)}toggleHover(){const M=this.list.getFocusedElements()[0];if(!M?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const A=this.list.getFocusedElements()[0];if(!A)return;this.showHover(A);const T=new t.DisposableStore;T.add(this.list.onDidChangeFocus(O=>{O.indexes.length&&this.showHover(O.elements[0])})),this._lastHover&&T.add(this._lastHover),this._toggleHover=T,this.elementDisposables.push(this._toggleHover)}}e.QuickInputList=w,Ie([C.memoize],w.prototype,"onDidChangeFocus",null),Ie([C.memoize],w.prototype,"onDidChangeSelection",null);function E(F,M){const{text:A,iconOffsets:T}=M;if(!T||T.length===0)return I(F,A);const O=(0,u.ltrim)(A," "),P=A.length-O.length,x=I(F,O);if(x)for(const z of x){const q=T[z.start+P]+P;z.start+=q,z.end+=q}return x}function I(F,M){const A=M.toLowerCase().indexOf(F.toLowerCase());return A!==-1?[{start:A,end:A+F.length}]:null}function N(F,M,A){const T=F.labelHighlights||[],O=M.labelHighlights||[];return T.length&&!O.length?-1:!T.length&&O.length?1:T.length===0&&O.length===0?0:(0,v.compareAnything)(F.saneSortLabel,M.saneSortLabel,A)}class R{getWidgetAriaLabel(){return(0,h.localize)(0,null)}getAriaLabel(M){var A;return!((A=M.separator)===null||A===void 0)&&A.label?`${M.saneAriaLabel}, ${M.separator.label}`:M.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(M){return M.hasCheckbox?"checkbox":"option"}isChecked(M){if(M.hasCheckbox)return{value:M.checked,onDidChange:M.onChecked}}}}),define(ee[839],te([1,0,7,43,153,41,14,13,26,6,2,17,99,27,730,67,358,342,173]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:i.ThemeIcon.asClassName(_.Codicon.quickInputBack),tooltip:(0,t.localize)(0,null),handle:-1};class l extends C.Disposable{constructor(r){super(),this.ui=r,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=l.noPromptMessage,this._severity=n.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new v.Emitter),this.onDidHideEmitter=this._register(new v.Emitter),this.onDisposeEmitter=this._register(new v.Emitter),this.visibleDisposables=this._register(new C.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(r){this._title=r,this.update()}get description(){return this._description}set description(r){this._description=r,this.update()}get step(){return this._steps}set step(r){this._steps=r,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(r){this._totalSteps=r,this.update()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this.update()}get contextKey(){return this._contextKey}set contextKey(r){this._contextKey=r,this.update()}get busy(){return this._busy}set busy(r){this._busy=r,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(r){const g=this._ignoreFocusOut!==r&&!s.isIOS;this._ignoreFocusOut=r&&!s.isIOS,g&&this.update()}get buttons(){return this._buttons}set buttons(r){this._buttons=r,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(r){this._toggles=r??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(r){this._validationMessage=r,this.update()}get severity(){return this._severity}set severity(r){this._severity=r,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(r=>{this.buttons.indexOf(r)!==-1&&this.onDidTriggerButtonEmitter.fire(r)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(r=a.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:r})}update(){var r,g;if(!this.visible)return;const f=this.getTitle();f&&this.ui.title.textContent!==f?this.ui.title.textContent=f:!f&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const p=this.getDescription();if(this.ui.description1.textContent!==p&&(this.ui.description1.textContent=p),this.ui.description2.textContent!==p&&(this.ui.description2.textContent=p),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?L.reset(this.ui.widget,this._widget):L.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new m.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const w=this.buttons.filter(I=>I===e.backButton);this.ui.leftActionBar.push(w.map((I,N)=>{const R=new D.Action(`id-${N}`,"",I.iconClass||(0,h.getIconClass)(I.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(I)}));return R.tooltip=I.tooltip||"",R}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const E=this.buttons.filter(I=>I!==e.backButton);this.ui.rightActionBar.push(E.map((I,N)=>{const R=new D.Action(`id-${N}`,"",I.iconClass||(0,h.getIconClass)(I.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(I)}));return R.tooltip=I.tooltip||"",R}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const w=(g=(r=this.toggles)===null||r===void 0?void 0:r.filter(E=>E instanceof y.Toggle))!==null&&g!==void 0?g:[];this.ui.inputBox.toggles=w}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const b=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==b&&(this._lastValidationMessage=b,L.reset(this.ui.message),(0,h.renderQuickInputDescription)(b,this.ui.message,{callback:w=>{this.ui.linkOpenerDelegate(w)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,t.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(r){if(this.ui.inputBox.showDecoration(r),r!==n.default.Ignore){const g=this.ui.inputBox.stylesForType(r);this.ui.message.style.color=g.foreground?`${g.foreground}`:"",this.ui.message.style.backgroundColor=g.background?`${g.background}`:"",this.ui.message.style.border=g.border?`1px solid ${g.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}l.noPromptMessage=(0,t.localize)(1,null);class c extends l{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new v.Emitter),this.onWillAcceptEmitter=this._register(new v.Emitter),this.onDidAcceptEmitter=this._register(new v.Emitter),this.onDidCustomEmitter=this._register(new v.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=a.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new v.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new v.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new v.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new v.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=r=>r,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(r){this._quickNavigate=r,this.update()}get value(){return this._value}set value(r){this.doSetValue(r)}doSetValue(r,g){this._value!==r&&(this._value=r,g||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(r){this._ariaLabel=r,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(r){this.ui.list.scrollTop=r}set items(r){this._items=r,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(r){this._canSelectMany=r,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(r){this._canAcceptInBackground=r}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(r){this._matchOnDescription=r,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(r){this._matchOnDetail=r,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(r){this._matchOnLabel=r,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(r){this._matchOnLabelMode=r,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(r){this._sortByLabel=r,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(r){this._autoFocusOnList=r,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(r){this._keepScrollPosition=r}get itemActivation(){return this._itemActivation}set itemActivation(r){this._itemActivation=r}get activeItems(){return this._activeItems}set activeItems(r){this._activeItems=r,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(r){this._selectedItems=r,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?a.NO_KEY_MODS:this.ui.keyMods}set valueSelection(r){this._valueSelection=r,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(r){this._customButton=r,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(r){this._customButtonLabel=r,this.update()}get customHover(){return this._customButtonHover}set customHover(r){this._customButtonHover=r,this.update()}get ok(){return this._ok}set ok(r){this._ok=r,this.update()}get hideInput(){return!!this._hideInput}set hideInput(r){this._hideInput=r,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(u.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(r=>{this.doSetValue(r,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(r=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(r=>{switch(r.keyCode){case 18:this.ui.list.focus(u.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(r,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(u.QuickInputListFocus.Previous):this.ui.list.focus(u.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(r,!0);break;case 12:this.ui.list.focus(u.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(r,!0);break;case 11:this.ui.list.focus(u.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(r,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(r.ctrlKey||r.metaKey)&&!r.shiftKey&&!r.altKey&&(this.ui.list.focus(u.QuickInputListFocus.First),L.EventHelper.stop(r,!0));break;case 13:(r.ctrlKey||r.metaKey)&&!r.shiftKey&&!r.altKey&&(this.ui.list.focus(u.QuickInputListFocus.Last),L.EventHelper.stop(r,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(r=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,S.equals)(r,this._activeItems,(g,f)=>g===f)||(this._activeItems=r,this.onDidChangeActiveEmitter.fire(r))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:r,event:g})=>{if(this.canSelectMany){r.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,S.equals)(r,this._selectedItems,(f,p)=>f===p)||(this._selectedItems=r,this.onDidChangeSelectionEmitter.fire(r),r.length&&this.handleAccept(g instanceof MouseEvent&&g.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(r=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,S.equals)(r,this._selectedItems,(g,f)=>g===f)||(this._selectedItems=r,this.onDidChangeSelectionEmitter.fire(r)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(r=>this.onDidTriggerItemButtonEmitter.fire(r))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(r=>this.onDidTriggerSeparatorButtonEmitter.fire(r))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(r){let g=!1;this.onWillAcceptEmitter.fire({veto:()=>g=!0}),g||this.onDidAcceptEmitter.fire({inBackground:r})}registerQuickNavigation(){return L.addDisposableListener(this.ui.container,L.EventType.KEY_UP,r=>{if(this.canSelectMany||!this._quickNavigate)return;const g=new k.StandardKeyboardEvent(r),f=g.keyCode;this._quickNavigate.keybindings.some(w=>{const E=w.getChords();return E.length>1?!1:E[0].shiftKey&&f===4?!(g.ctrlKey||g.altKey||g.metaKey):!!(E[0].altKey&&f===6||E[0].ctrlKey&&f===5||E[0].metaKey&&f===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const r=this.keepScrollPosition?this.scrollTop:0,g=!!this.description,f={title:!!this.title||!!this.step||!!this.buttons.length,description:g,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||g,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(f),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let p=this.ariaLabel;if(!p&&f.inputBox&&(p=this.placeholder||c.DEFAULT_ARIA_LABEL,this.title&&(p+=` - ${this.title}`)),this.ui.list.ariaLabel!==p&&(this.ui.list.ariaLabel=p??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case a.ItemActivation.NONE:this._itemActivation=a.ItemActivation.FIRST;break;case a.ItemActivation.SECOND:this.ui.list.focus(u.QuickInputListFocus.Second),this._itemActivation=a.ItemActivation.FIRST;break;case a.ItemActivation.LAST:this.ui.list.focus(u.QuickInputListFocus.Last),this._itemActivation=a.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",f.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(u.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=r)}}e.QuickPick=c,c.DEFAULT_ARIA_LABEL=(0,t.localize)(3,null);class o extends l{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new v.Emitter),this.onDidAcceptEmitter=this._register(new v.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(r){this._value=r||"",this.update()}get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.update()}get password(){return this._password}set password(r){this._password=r,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(r=>{r!==this.value&&(this._value=r,this.onDidValueChangeEmitter.fire(r))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const r={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(r),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=o}),define(ee[840],te([1,0,7,72,317,311,575,19,6,2,99,731,67,770,358,839]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const u=L.$;class h extends v.Disposable{constructor(c,o){super(),this.options=c,this.themeService=o,this.enabled=!0,this.onDidAcceptEmitter=this._register(new _.Emitter),this.onDidCustomEmitter=this._register(new _.Emitter),this.onDidTriggerButtonEmitter=this._register(new _.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new _.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new _.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=c.idPrefix,this.parentElement=c.container,this.styles=c.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const c=o=>{this.keyMods.ctrlCmd=o.ctrlKey||o.metaKey,this.keyMods.alt=o.altKey};this._register(L.addDisposableListener(window,L.EventType.KEY_DOWN,c,!0)),this._register(L.addDisposableListener(window,L.EventType.KEY_UP,c,!0)),this._register(L.addDisposableListener(window,L.EventType.MOUSE_DOWN,c,!0))}getUI(){if(this.ui)return this.ui;const c=L.append(this.parentElement,u(".quick-input-widget.show-file-icons"));c.tabIndex=-1,c.style.display="none";const o=L.createStyleSheet(c),d=L.append(c,u(".quick-input-titlebar")),r=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,g=this._register(new k.ActionBar(d,r));g.domNode.classList.add("quick-input-left-action-bar");const f=L.append(d,u(".quick-input-title")),p=this._register(new k.ActionBar(d,r));p.domNode.classList.add("quick-input-right-action-bar");const b=L.append(c,u(".quick-input-header")),w=L.append(b,u("input.quick-input-check-all"));w.type="checkbox",w.setAttribute("aria-label",(0,s.localize)(0,null)),this._register(L.addStandardDisposableListener(w,L.EventType.CHANGE,U=>{const W=w.checked;oe.setAllVisibleChecked(W)})),this._register(L.addDisposableListener(w,L.EventType.CLICK,U=>{(U.x||U.y)&&R.setFocus()}));const E=L.append(b,u(".quick-input-description")),I=L.append(b,u(".quick-input-and-message")),N=L.append(I,u(".quick-input-filter")),R=this._register(new i.QuickInputBox(N,this.styles.inputBox,this.styles.toggle));R.setAttribute("aria-describedby",`${this.idPrefix}message`);const F=L.append(N,u(".quick-input-visible-count"));F.setAttribute("aria-live","polite"),F.setAttribute("aria-atomic","true");const M=new D.CountBadge(F,{countFormat:(0,s.localize)(1,null)},this.styles.countBadge),A=L.append(N,u(".quick-input-count"));A.setAttribute("aria-live","polite");const T=new D.CountBadge(A,{countFormat:(0,s.localize)(2,null)},this.styles.countBadge),O=L.append(b,u(".quick-input-action")),P=new y.Button(O,this.styles.button);P.label=(0,s.localize)(3,null),this._register(P.onDidClick(U=>{this.onDidAcceptEmitter.fire()}));const x=L.append(b,u(".quick-input-action")),z=new y.Button(x,this.styles.button);z.label=(0,s.localize)(4,null),this._register(z.onDidClick(U=>{this.onDidCustomEmitter.fire()}));const q=L.append(I,u(`#${this.idPrefix}message.quick-input-message`)),B=new S.ProgressBar(c,this.styles.progressBar);B.getContainer().classList.add("quick-input-progress");const $=L.append(c,u(".quick-input-html-widget"));$.tabIndex=-1;const X=L.append(c,u(".quick-input-description")),ne=this.idPrefix+"list",oe=this._register(new t.QuickInputList(c,ne,this.options,this.themeService));R.setAttribute("aria-controls",ne),this._register(oe.onDidChangeFocus(()=>{var U;R.setAttribute("aria-activedescendant",(U=oe.getActiveDescendant())!==null&&U!==void 0?U:"")})),this._register(oe.onChangedAllVisibleChecked(U=>{w.checked=U})),this._register(oe.onChangedVisibleCount(U=>{M.setCount(U)})),this._register(oe.onChangedCheckedCount(U=>{T.setCount(U)})),this._register(oe.onLeave(()=>{setTimeout(()=>{R.setFocus(),this.controller instanceof a.QuickPick&&this.controller.canSelectMany&&oe.clearFocus()},0)}));const Y=L.trackFocus(c);return this._register(Y),this._register(L.addDisposableListener(c,L.EventType.FOCUS,U=>{L.isAncestor(U.relatedTarget,c)||(this.previousFocusElement=U.relatedTarget instanceof HTMLElement?U.relatedTarget:void 0)},!0)),this._register(Y.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(n.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(L.addDisposableListener(c,L.EventType.FOCUS,U=>{R.setFocus()})),this._register(L.addStandardDisposableListener(c,L.EventType.KEY_DOWN,U=>{if(!L.isAncestor(U.target,$))switch(U.keyCode){case 3:L.EventHelper.stop(U,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:L.EventHelper.stop(U,!0),this.hide(n.QuickInputHideReason.Gesture);break;case 2:if(!U.altKey&&!U.ctrlKey&&!U.metaKey){const W=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(c.classList.contains("show-checkboxes")?W.push("input"):W.push("input[type=text]"),this.getUI().list.isDisplayed()&&W.push(".monaco-list"),this.getUI().message&&W.push(".quick-input-message a"),this.getUI().widget){if(L.isAncestor(U.target,this.getUI().widget))break;W.push(".quick-input-html-widget")}const V=c.querySelectorAll(W.join(", "));U.shiftKey&&U.target===V[0]?(L.EventHelper.stop(U,!0),oe.clearFocus()):!U.shiftKey&&L.isAncestor(U.target,V[V.length-1])&&(L.EventHelper.stop(U,!0),V[0].focus())}break;case 10:U.ctrlKey&&(L.EventHelper.stop(U,!0),this.getUI().list.toggleHover());break}})),this.ui={container:c,styleSheet:o,leftActionBar:g,titleBar:d,title:f,description1:X,description2:E,widget:$,rightActionBar:p,checkAll:w,inputContainer:I,filterContainer:N,inputBox:R,visibleCountContainer:F,visibleCount:M,countContainer:A,count:T,okContainer:O,ok:P,message:q,customButtonContainer:x,customButton:z,list:oe,progressBar:B,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:U=>this.show(U),hide:()=>this.hide(),setVisibilities:U=>this.setVisibilities(U),setEnabled:U=>this.setEnabled(U),setContextKey:U=>this.options.setContextKey(U),linkOpenerDelegate:U=>this.options.linkOpenerDelegate(U)},this.updateStyles(),this.ui}pick(c,o={},d=m.CancellationToken.None){return new Promise((r,g)=>{let f=E=>{var I;f=r,(I=o.onKeyMods)===null||I===void 0||I.call(o,p.keyMods),r(E)};if(d.isCancellationRequested){f(void 0);return}const p=this.createQuickPick();let b;const w=[p,p.onDidAccept(()=>{if(p.canSelectMany)f(p.selectedItems.slice()),p.hide();else{const E=p.activeItems[0];E&&(f(E),p.hide())}}),p.onDidChangeActive(E=>{const I=E[0];I&&o.onDidFocus&&o.onDidFocus(I)}),p.onDidChangeSelection(E=>{if(!p.canSelectMany){const I=E[0];I&&(f(I),p.hide())}}),p.onDidTriggerItemButton(E=>o.onDidTriggerItemButton&&o.onDidTriggerItemButton(Object.assign(Object.assign({},E),{removeItem:()=>{const I=p.items.indexOf(E.item);if(I!==-1){const N=p.items.slice(),R=N.splice(I,1),F=p.activeItems.filter(A=>A!==R[0]),M=p.keepScrollPosition;p.keepScrollPosition=!0,p.items=N,F&&(p.activeItems=F),p.keepScrollPosition=M}}}))),p.onDidTriggerSeparatorButton(E=>{var I;return(I=o.onDidTriggerSeparatorButton)===null||I===void 0?void 0:I.call(o,E)}),p.onDidChangeValue(E=>{b&&!E&&(p.activeItems.length!==1||p.activeItems[0]!==b)&&(p.activeItems=[b])}),d.onCancellationRequested(()=>{p.hide()}),p.onDidHide(()=>{(0,v.dispose)(w),f(void 0)})];p.title=o.title,p.canSelectMany=!!o.canPickMany,p.placeholder=o.placeHolder,p.ignoreFocusOut=!!o.ignoreFocusLost,p.matchOnDescription=!!o.matchOnDescription,p.matchOnDetail=!!o.matchOnDetail,p.matchOnLabel=o.matchOnLabel===void 0||o.matchOnLabel,p.autoFocusOnList=o.autoFocusOnList===void 0||o.autoFocusOnList,p.quickNavigate=o.quickNavigate,p.hideInput=!!o.hideInput,p.contextKey=o.contextKey,p.busy=!0,Promise.all([c,o.activeItem]).then(([E,I])=>{b=I,p.busy=!1,p.items=E,p.canSelectMany&&(p.selectedItems=E.filter(N=>N.type!=="separator"&&N.picked)),b&&(p.activeItems=[b])}),p.show(),Promise.resolve(c).then(void 0,E=>{g(E),p.hide()})})}createQuickPick(){const c=this.getUI();return new a.QuickPick(c)}createInputBox(){const c=this.getUI();return new a.InputBox(c)}show(c){const o=this.getUI();this.onShowEmitter.fire();const d=this.controller;this.controller=c,d?.didHide(),this.setEnabled(!0),o.leftActionBar.clear(),o.title.textContent="",o.description1.textContent="",o.description2.textContent="",L.reset(o.widget),o.rightActionBar.clear(),o.checkAll.checked=!1,o.inputBox.placeholder="",o.inputBox.password=!1,o.inputBox.showDecoration(C.default.Ignore),o.visibleCount.setCount(0),o.count.setCount(0),L.reset(o.message),o.progressBar.stop(),o.list.setElements([]),o.list.matchOnDescription=!1,o.list.matchOnDetail=!1,o.list.matchOnLabel=!0,o.list.sortByLabel=!0,o.ignoreFocusOut=!1,o.inputBox.toggles=void 0;const r=this.options.backKeybindingLabel();a.backButton.tooltip=r?(0,s.localize)(5,null,r):(0,s.localize)(6,null),o.container.style.display="",this.updateLayout(),o.inputBox.setFocus()}setVisibilities(c){const o=this.getUI();o.title.style.display=c.title?"":"none",o.description1.style.display=c.description&&(c.inputBox||c.checkAll)?"":"none",o.description2.style.display=c.description&&!(c.inputBox||c.checkAll)?"":"none",o.checkAll.style.display=c.checkAll?"":"none",o.inputContainer.style.display=c.inputBox?"":"none",o.filterContainer.style.display=c.inputBox?"":"none",o.visibleCountContainer.style.display=c.visibleCount?"":"none",o.countContainer.style.display=c.count?"":"none",o.okContainer.style.display=c.ok?"":"none",o.customButtonContainer.style.display=c.customButton?"":"none",o.message.style.display=c.message?"":"none",o.progressBar.getContainer().style.display=c.progressBar?"":"none",o.list.display(!!c.list),o.container.classList.toggle("show-checkboxes",!!c.checkBox),o.container.classList.toggle("hidden-input",!c.inputBox&&!c.description),this.updateLayout()}setEnabled(c){if(c!==this.enabled){this.enabled=c;for(const o of this.getUI().leftActionBar.viewItems)o.action.enabled=c;for(const o of this.getUI().rightActionBar.viewItems)o.action.enabled=c;this.getUI().checkAll.disabled=!c,this.getUI().inputBox.enabled=c,this.getUI().ok.enabled=c,this.getUI().list.enabled=c}}hide(c){var o,d,r;const g=this.controller;if(!g)return;const f=!L.isAncestor(document.activeElement,(d=(o=this.ui)===null||o===void 0?void 0:o.container)!==null&&d!==void 0?d:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!f){let p=this.previousFocusElement;for(;p&&!p.offsetParent;)p=(r=p.parentElement)!==null&&r!==void 0?r:void 0;p?.offsetParent?(p.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}g.didHide(c)}layout(c,o){this.dimension=c,this.titleBarOffset=o,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const c=this.ui.container.style,o=Math.min(this.dimension.width*.62,h.MAX_WIDTH);c.width=o+"px",c.marginLeft="-"+o/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(c){this.styles=c,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:c,quickInputBackground:o,quickInputForeground:d,widgetBorder:r,widgetShadow:g}=this.styles.widget;this.ui.titleBar.style.backgroundColor=c??"",this.ui.container.style.backgroundColor=o??"",this.ui.container.style.color=d??"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=g?`0 0 8px 2px ${g}`:"",this.ui.list.style(this.styles.list);const f=[];this.styles.pickerGroup.pickerGroupBorder&&f.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&f.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&f.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(f.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&f.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&f.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&f.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&f.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&f.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),f.push("}"));const p=f.join(`
`);p!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=p)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}e.QuickInputController=h,h.MAX_WIDTH=600}),define(ee[23],te([1,0,6,2,8,35,88]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,y.createDecorator)("themeService");function m(i){return{id:i}}e.themeColorFromId=m;function _(i){switch(i){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case S.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=_,e.Extensions={ThemingContribution:"base.contributions.theming"};class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const a=this.themingParticipants.indexOf(t);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}}const C=new v;D.Registry.add(e.Extensions.ThemingContribution,C);function s(i){return C.onColorThemeChange(i)}e.registerThemingParticipant=s;class n extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=n}),define(ee[841],te([1,0,6,2,62,23]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let S=class extends k.Disposable{constructor(v){super(),this._themeService=v,this._onWillCreateCodeEditor=this._register(new L.Emitter),this._onCodeEditorAdd=this._register(new L.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new L.Emitter),this._onDiffEditorAdd=this._register(new L.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new y.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const C=this.listCodeEditors();for(const s of C){if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(v=s)}return v}removeDecorationType(v){const C=this._decorationOptionProviders.get(v);C&&(C.refCount--,C.refCount<=0&&(this._decorationOptionProviders.delete(v),C.dispose(),this.listCodeEditors().forEach(s=>s.removeDecorationsByType(v))))}setModelProperty(v,C,s){const n=v.toString();let i;this._modelProperties.has(n)?i=this._modelProperties.get(n):(i=new Map,this._modelProperties.set(n,i)),i.set(C,s)}getModelProperty(v,C){const s=v.toString();if(this._modelProperties.has(s))return this._modelProperties.get(s).get(C)}openCodeEditor(v,C,s){return Se(this,void 0,void 0,function*(){for(const n of this._codeEditorOpenHandlers){const i=yield n(v,C,s);if(i!==null)return i}return null})}registerCodeEditorOpenHandler(v){const C=this._codeEditorOpenHandlers.unshift(v);return(0,k.toDisposable)(C)}};e.AbstractCodeEditorService=S,e.AbstractCodeEditorService=S=Ie([ge(0,D.IThemeService)],S);class m{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=m}),define(ee[842],te([1,0,7,37,84,53,23]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends D.ViewPart{constructor(v,C,s,n){super(v);const i=this._context.configuration.options,t=i.get(101),a=i.get(73),u=i.get(39),h=i.get(104),l={listenOnDomNode:s.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(v.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:u,scrollPredominantAxis:h,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new y.SmoothScrollableElement(C.domNode,l,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(o,d,r)=>{const g={};if(d){const f=o.scrollTop;f&&(g.scrollTop=this._context.viewLayout.getCurrentScrollTop()+f,o.scrollTop=0)}if(r){const f=o.scrollLeft;f&&(g.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+f,o.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(g,1)};this._register(L.addDisposableListener(s.domNode,"scroll",o=>c(s.domNode,!0,!0))),this._register(L.addDisposableListener(C.domNode,"scroll",o=>c(C.domNode,!0,!1))),this._register(L.addDisposableListener(n.domNode,"scroll",o=>c(n.domNode,!0,!1))),this._register(L.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>c(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const v=this._context.configuration.options,C=v.get(142);this.scrollbarDomNode.setLeft(C.contentLeft),v.get(71).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(v){this.scrollbar.delegateVerticalScrollbarPointerDown(v)}delegateScrollFromMouseWheelEvent(v){this.scrollbar.delegateScrollFromMouseWheelEvent(v)}onConfigurationChanged(v){if(v.hasChanged(101)||v.hasChanged(73)||v.hasChanged(39)){const C=this._context.configuration.options,s=C.get(101),n=C.get(73),i=C.get(39),t=C.get(104),a={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:i,scrollPredominantAxis:t};this.scrollbar.updateOptions(a)}return v.hasChanged(142)&&this._setLayout(),!0}onScrollChanged(v){return!0}onThemeChanged(v){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(v){}render(v){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(ee[843],te([1,0,111,32,23,432]),function(G,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class S{constructor(n,i){this.lineNumber=n,this.ranges=i}}function m(s){return new D(s)}function _(s){return new S(s.lineNumber,s.ranges.map(m))}class v extends L.DynamicViewOverlay{constructor(n){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=n;const i=this._context.configuration.options;this._lineHeight=i.get(65),this._roundedSelection=i.get(99),this._typicalHalfwidthCharacterWidth=i.get(49).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const i=this._context.configuration.options;return this._lineHeight=i.get(65),this._roundedSelection=i.get(99),this._typicalHalfwidthCharacterWidth=i.get(49).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let i=0,t=n.length;i<t;i++)if(n[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,i,t){const a=this._typicalHalfwidthCharacterWidth/4;let u=null,h=null;if(t&&t.length>0&&i.length>0){const l=i[0].lineNumber;if(l===n.startLineNumber)for(let o=0;!u&&o<t.length;o++)t[o].lineNumber===l&&(u=t[o].ranges[0]);const c=i[i.length-1].lineNumber;if(c===n.endLineNumber)for(let o=t.length-1;!h&&o>=0;o--)t[o].lineNumber===c&&(h=t[o].ranges[0]);u&&!u.startStyle&&(u=null),h&&!h.startStyle&&(h=null)}for(let l=0,c=i.length;l<c;l++){const o=i[l].ranges[0],d=o.left,r=o.left+o.width,g={top:0,bottom:0},f={top:0,bottom:0};if(l>0){const p=i[l-1].ranges[0].left,b=i[l-1].ranges[0].left+i[l-1].ranges[0].width;C(d-p)<a?g.top=2:d>p&&(g.top=1),C(r-b)<a?f.top=2:p<r&&r<b&&(f.top=1)}else u&&(g.top=u.startStyle.top,f.top=u.endStyle.top);if(l+1<c){const p=i[l+1].ranges[0].left,b=i[l+1].ranges[0].left+i[l+1].ranges[0].width;C(d-p)<a?g.bottom=2:p<d&&d<b&&(g.bottom=1),C(r-b)<a?f.bottom=2:r<b&&(f.bottom=1)}else h&&(g.bottom=h.startStyle.bottom,f.bottom=h.endStyle.bottom);o.startStyle=g,o.endStyle=f}}_getVisibleRangesWithStyle(n,i,t){const u=(i.linesVisibleRangesForRange(n,!0)||[]).map(_);return!this._visibleRangesHaveGaps(u)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,u,t),u}_createSelectionPiece(n,i,t,a,u){return'<div class="cslr '+t+'" style="top:'+n.toString()+"px;left:"+a.toString()+"px;width:"+u.toString()+"px;height:"+i+'px;"></div>'}_actualRenderOneSelection(n,i,t,a){if(a.length===0)return;const u=!!a[0].ranges[0].startStyle,h=this._lineHeight.toString(),l=(this._lineHeight-1).toString(),c=a[0].lineNumber,o=a[a.length-1].lineNumber;for(let d=0,r=a.length;d<r;d++){const g=a[d],f=g.lineNumber,p=f-i,b=t&&(f===o||f===c)?l:h,w=t&&f===c?1:0;let E="",I="";for(let N=0,R=g.ranges.length;N<R;N++){const F=g.ranges[N];if(u){const A=F.startStyle,T=F.endStyle;if(A.top===1||A.bottom===1){E+=this._createSelectionPiece(w,b,v.SELECTION_CLASS_NAME,F.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH);let O=v.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(O+=" "+v.SELECTION_TOP_RIGHT),A.bottom===1&&(O+=" "+v.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(w,b,O,F.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH)}if(T.top===1||T.bottom===1){E+=this._createSelectionPiece(w,b,v.SELECTION_CLASS_NAME,F.left+F.width,v.ROUNDED_PIECE_WIDTH);let O=v.EDITOR_BACKGROUND_CLASS_NAME;T.top===1&&(O+=" "+v.SELECTION_TOP_LEFT),T.bottom===1&&(O+=" "+v.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(w,b,O,F.left+F.width,v.ROUNDED_PIECE_WIDTH)}}let M=v.SELECTION_CLASS_NAME;if(u){const A=F.startStyle,T=F.endStyle;A.top===0&&(M+=" "+v.SELECTION_TOP_LEFT),A.bottom===0&&(M+=" "+v.SELECTION_BOTTOM_LEFT),T.top===0&&(M+=" "+v.SELECTION_TOP_RIGHT),T.bottom===0&&(M+=" "+v.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(w,b,M,F.left,F.width)}n[p][0]+=E,n[p][1]+=I}}prepareRender(n){const i=[],t=n.visibleRange.startLineNumber,a=n.visibleRange.endLineNumber;for(let h=t;h<=a;h++){const l=h-t;i[l]=["",""]}const u=[];for(let h=0,l=this._selections.length;h<l;h++){const c=this._selections[h];if(c.isEmpty()){u[h]=null;continue}const o=this._getVisibleRangesWithStyle(c,n,this._previousFrameVisibleRangesWithStyle[h]);u[h]=o,this._actualRenderOneSelection(i,t,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=u,this._renderResult=i.map(([h,l])=>h+l)}render(n,i){if(!this._renderResult)return"";const t=i-n;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=v,v.SELECTION_CLASS_NAME="selected-text",v.SELECTION_TOP_LEFT="top-left-radius",v.SELECTION_BOTTOM_LEFT="bottom-left-radius",v.SELECTION_TOP_RIGHT="top-right-radius",v.SELECTION_BOTTOM_RIGHT="bottom-right-radius",v.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",v.ROUNDED_PIECE_WIDTH=10,(0,y.registerThemingParticipant)((s,n)=>{const i=s.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function C(s){return s<0?-s:s}}),define(ee[359],te([1,0,7,37,196,2,40,101,12,292,32,23]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerPart=void 0;let i=n=class extends D.Disposable{constructor(a,u,h,l,c,o,d,r){super(),this._editors=a,this._rootElement=u,this._diffModel=h,this._rootWidth=l,this._rootHeight=c,this._modifiedEditorLayoutInfo=o,this._options=d,this._themeService=r;const g=(0,S.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),f=(0,S.derived)(w=>{const E=g.read(w),I=E.getColor(C.diffOverviewRulerInserted)||(E.getColor(C.diffInserted)||C.defaultInsertColor).transparent(2),N=E.getColor(C.diffOverviewRulerRemoved)||(E.getColor(C.diffRemoved)||C.defaultRemoveColor).transparent(2);return{insertColor:I,removeColor:N}}),p=(0,S.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),b=(0,S.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register((0,S.autorunWithStore)((w,E)=>{if(!this._options.renderOverviewRuler.read(w))return;const I=(0,k.createFastDomNode)(document.createElement("div"));I.setClassName("diffViewport"),I.setPosition("absolute");const N=(0,L.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:n.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;E.add((0,m.appendRemoveOnDispose)(N,I.domNode)),E.add((0,L.addStandardDisposableListener)(N,L.EventType.POINTER_DOWN,R=>{this._editors.modified.delegateVerticalScrollbarPointerDown(R)})),E.add((0,L.addDisposableListener)(N,L.EventType.MOUSE_WHEEL,R=>{this._editors.modified.delegateScrollFromMouseWheelEvent(R)},{passive:!1})),E.add((0,m.appendRemoveOnDispose)(this._rootElement,N)),E.add((0,S.autorunWithStore)((R,F)=>{const M=this._diffModel.read(R),A=this._editors.original.createOverviewRuler("original diffOverviewRuler");A&&(F.add(A),F.add((0,m.appendRemoveOnDispose)(N,A.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(F.add(T),F.add((0,m.appendRemoveOnDispose)(N,T.getDomNode()))),!A||!T)return;const O=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),P=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),x=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),z=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);F.add((0,S.autorun)(q=>{var B;O.read(q),P.read(q),x.read(q),z.read(q);const $=f.read(q),X=(B=M?.diff.read(q))===null||B===void 0?void 0:B.mappings;function ne(U,W,V){const Z=V._getViewModel();return Z?U.filter(ie=>ie.length>0).map(ie=>{const le=Z.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(ie.startLineNumber,1)),he=Z.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(ie.endLineNumberExclusive,1)),de=he.lineNumber-le.lineNumber;return new v.OverviewRulerZone(le.lineNumber,he.lineNumber,de,W.toString())}):[]}const oe=ne((X||[]).map(U=>U.lineRangeMapping.original),$.removeColor,this._editors.original),Y=ne((X||[]).map(U=>U.lineRangeMapping.modified),$.insertColor,this._editors.modified);A?.setZones(oe),T?.setZones(Y)})),F.add((0,S.autorun)(q=>{const B=this._rootHeight.read(q),$=this._rootWidth.read(q),X=this._modifiedEditorLayoutInfo.read(q);if(X){const ne=n.ENTIRE_DIFF_OVERVIEW_WIDTH-2*n.ONE_OVERVIEW_WIDTH;A.setLayout({top:0,height:B,right:ne+n.ONE_OVERVIEW_WIDTH,width:n.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:B,right:0,width:n.ONE_OVERVIEW_WIDTH});const oe=p.read(q),Y=b.read(q),U=this._editors.modified.getOption(101),W=new y.ScrollbarState(U.verticalHasArrows?U.arrowSize:0,U.verticalScrollbarSize,0,X.height,Y,oe);I.setTop(W.getSliderPosition()),I.setHeight(W.getSliderSize())}else I.setTop(0),I.setHeight(0);N.style.height=B+"px",N.style.left=$-n.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",I.setWidth(n.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};e.OverviewRulerPart=i,i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=n.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerPart=i=n=Ie([ge(7,s.IThemeService)],i)}),define(ee[844],te([1,0,6,2,40,359,38,610,8,34]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let C=class extends k.Disposable{constructor(n,i,t,a,u,h,l){super(),this.originalEditorElement=n,this.modifiedEditorElement=i,this._options=t,this._createInnerEditor=u,this._instantiationService=h,this._keybindingService=l,this._onDidContentSizeChange=this._register(new L.Emitter),this.original=this._register(this._createLeftHandSideEditor(t.editorOptions.get(),a.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(t.editorOptions.get(),a.modifiedEditor||{})),this.modifiedModel=(0,y.observableFromEvent)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this._register((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(c,o)=>(c.didChange(t.editorOptions)&&Object.assign(o,c.change.changedOptions),!0)},(c,o)=>{t.editorOptions.read(c),this._options.renderSideBySide.read(c),this.modified.updateOptions(this._adjustOptionsForRightHandSide(c,o)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(c,o))}))}_createLeftHandSideEditor(n,i){const t=this._adjustOptionsForLeftHandSide(void 0,n),a=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,t,i);return a.setContextValue("isInDiffLeftEditor",!0),a}_createRightHandSideEditor(n,i){const t=this._adjustOptionsForRightHandSide(void 0,n),a=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,t,i);return a.setContextValue("isInDiffRightEditor",!0),a}_constructInnerEditor(n,i,t,a){const u=this._createInnerEditor(n,i,t,a);return this._register(u.onDidContentSizeChange(h=>{const l=this.original.getContentWidth()+this.modified.getContentWidth()+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,c=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:c,contentWidth:l,contentHeightChanged:h.contentHeightChanged,contentWidthChanged:h.contentWidthChanged})})),u}_adjustOptionsForLeftHandSide(n,i){const t=this._adjustOptionsForSubEditor(i);return this._options.renderSideBySide.get()?(t.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},t.wordWrapOverride1=this._options.diffWordWrap.get()):(t.wordWrapOverride1="off",t.wordWrapOverride2="off",t.stickyScroll={enabled:!1},t.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.originalAriaLabel&&(t.ariaLabel=i.originalAriaLabel),t.ariaLabel=this._updateAriaLabel(t.ariaLabel),t.readOnly=!this._options.originalEditable.get(),t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",t}_adjustOptionsForRightHandSide(n,i){const t=this._adjustOptionsForSubEditor(i);return i.modifiedAriaLabel&&(t.ariaLabel=i.modifiedAriaLabel),t.ariaLabel=this._updateAriaLabel(t.ariaLabel),t.wordWrapOverride1=this._options.diffWordWrap.get(),t.revealHorizontalRightPadding=S.EditorOptions.revealHorizontalRightPadding.defaultValue+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",t}_adjustOptionsForSubEditor(n){const i=Object.assign(Object.assign({},n),{dimension:{height:0,width:0}});return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=Object.assign({},i.scrollbar||{}),i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=this._options.diffCodeLens.get(),i.fixedOverflowWidgets=!0,i.minimap=Object.assign({},i.minimap||{}),i.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?i.stickyScroll={enabled:!1}:i.stickyScroll=this._options.editorOptions.get().stickyScroll,i}_updateAriaLabel(n){var i;n||(n="");const t=(0,m.localize)(0,null,(i=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||i===void 0?void 0:i.getAriaLabel());return this._options.accessibilityVerbose.get()?n+t:n?n.replaceAll(t,""):""}};e.DiffEditorEditors=C,e.DiffEditorEditors=C=Ie([ge(5,_.IInstantiationService),ge(6,v.IKeybindingService)],C)}),define(ee[77],te([1,0,619,36,32,23]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,y.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(0,null)),e.editorLineHighlightBorder=(0,y.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:y.contrastBorder},L.localize(1,null)),e.editorRangeHighlight=(0,y.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},L.localize(2,null),!0),e.editorRangeHighlightBorder=(0,y.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null),!0),e.editorSymbolHighlight=(0,y.registerColor)("editor.symbolHighlightBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,y.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(5,null),!0),e.editorCursorForeground=(0,y.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},L.localize(6,null)),e.editorCursorBackground=(0,y.registerColor)("editorCursor.background",null,L.localize(7,null)),e.editorWhitespaces=(0,y.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},L.localize(8,null)),e.editorLineNumbers=(0,y.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},L.localize(9,null)),e.deprecatedEditorIndentGuides=(0,y.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(10,null),!1,L.localize(11,null)),e.deprecatedEditorActiveIndentGuides=(0,y.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(12,null),!1,L.localize(13,null)),e.editorIndentGuide1=(0,y.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},L.localize(14,null)),e.editorIndentGuide2=(0,y.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(15,null)),e.editorIndentGuide3=(0,y.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(16,null)),e.editorIndentGuide4=(0,y.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(17,null)),e.editorIndentGuide5=(0,y.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(18,null)),e.editorIndentGuide6=(0,y.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(19,null)),e.editorActiveIndentGuide1=(0,y.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},L.localize(20,null)),e.editorActiveIndentGuide2=(0,y.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(21,null)),e.editorActiveIndentGuide3=(0,y.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(22,null)),e.editorActiveIndentGuide4=(0,y.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(23,null)),e.editorActiveIndentGuide5=(0,y.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(24,null)),e.editorActiveIndentGuide6=(0,y.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(25,null));const S=(0,y.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(26,null),!1,L.localize(27,null));e.editorActiveLineNumber=(0,y.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hcDark:S,hcLight:S},L.localize(28,null)),e.editorDimmedLineNumber=(0,y.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(29,null)),e.editorRuler=(0,y.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},L.localize(30,null)),e.editorCodeLensForeground=(0,y.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},L.localize(31,null)),e.editorBracketMatchBackground=(0,y.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},L.localize(32,null)),e.editorBracketMatchBorder=(0,y.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:y.contrastBorder,hcLight:y.contrastBorder},L.localize(33,null)),e.editorOverviewRulerBorder=(0,y.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},L.localize(34,null)),e.editorOverviewRulerBackground=(0,y.registerColor)("editorOverviewRuler.background",null,L.localize(35,null)),e.editorGutter=(0,y.registerColor)("editorGutter.background",{dark:y.editorBackground,light:y.editorBackground,hcDark:y.editorBackground,hcLight:y.editorBackground},L.localize(36,null)),e.editorUnnecessaryCodeBorder=(0,y.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:y.contrastBorder},L.localize(37,null)),e.editorUnnecessaryCodeOpacity=(0,y.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(38,null)),e.ghostTextBorder=(0,y.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},L.localize(39,null)),e.ghostTextForeground=(0,y.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(40,null)),e.ghostTextBackground=(0,y.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(41,null));const m=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,y.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:m,light:m,hcDark:m,hcLight:m},L.localize(42,null),!0),e.overviewRulerError=(0,y.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(43,null)),e.overviewRulerWarning=(0,y.registerColor)("editorOverviewRuler.warningForeground",{dark:y.editorWarningForeground,light:y.editorWarningForeground,hcDark:y.editorWarningBorder,hcLight:y.editorWarningBorder},L.localize(44,null)),e.overviewRulerInfo=(0,y.registerColor)("editorOverviewRuler.infoForeground",{dark:y.editorInfoForeground,light:y.editorInfoForeground,hcDark:y.editorInfoBorder,hcLight:y.editorInfoBorder},L.localize(45,null)),e.editorBracketHighlightingForeground1=(0,y.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},L.localize(46,null)),e.editorBracketHighlightingForeground2=(0,y.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},L.localize(47,null)),e.editorBracketHighlightingForeground3=(0,y.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},L.localize(48,null)),e.editorBracketHighlightingForeground4=(0,y.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(49,null)),e.editorBracketHighlightingForeground5=(0,y.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(50,null)),e.editorBracketHighlightingForeground6=(0,y.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(51,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,y.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},L.localize(52,null)),e.editorBracketPairGuideBackground1=(0,y.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(53,null)),e.editorBracketPairGuideBackground2=(0,y.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(54,null)),e.editorBracketPairGuideBackground3=(0,y.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(55,null)),e.editorBracketPairGuideBackground4=(0,y.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(56,null)),e.editorBracketPairGuideBackground5=(0,y.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(57,null)),e.editorBracketPairGuideBackground6=(0,y.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(58,null)),e.editorBracketPairGuideActiveBackground1=(0,y.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(59,null)),e.editorBracketPairGuideActiveBackground2=(0,y.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(60,null)),e.editorBracketPairGuideActiveBackground3=(0,y.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(61,null)),e.editorBracketPairGuideActiveBackground4=(0,y.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(62,null)),e.editorBracketPairGuideActiveBackground5=(0,y.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(63,null)),e.editorBracketPairGuideActiveBackground6=(0,y.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(64,null)),e.editorUnicodeHighlightBorder=(0,y.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},L.localize(65,null)),e.editorUnicodeHighlightBackground=(0,y.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},L.localize(66,null)),(0,D.registerThemingParticipant)((_,v)=>{const C=_.getColor(y.editorBackground),s=_.getColor(e.editorLineHighlight),n=s&&!s.isTransparent()?s:C;n&&v.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${n}; }`)})}),define(ee[845],te([1,0,111,77,14,23,24,88,419]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class _ extends L.DynamicViewOverlay{constructor(n){super(),this._context=n;const i=this._context.configuration.options,t=i.get(142);this._lineHeight=i.get(65),this._renderLineHighlight=i.get(94),this._renderLineHighlightOnlyWhenFocus=i.get(95),this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let n=!1;const i=this._selections.map(a=>a.positionLineNumber);i.sort((a,u)=>a-u),y.equals(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,n=!0);const t=this._selections.every(a=>a.isEmpty());return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,n=!0),n}onThemeChanged(n){return this._readFromSelections()}onConfigurationChanged(n){const i=this._context.configuration.options,t=i.get(142);return this._lineHeight=i.get(65),this._renderLineHighlight=i.get(94),this._renderLineHighlightOnlyWhenFocus=i.get(95),this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,!0}onCursorStateChanged(n){return this._selections=n.selections,this._readFromSelections()}onFlushed(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollWidthChanged||n.scrollTopChanged}onZonesChanged(n){return!0}onFocusChanged(n){return this._renderLineHighlightOnlyWhenFocus?(this._focused=n.isFocused,!0):!1}prepareRender(n){if(!this._shouldRenderThis()){this._renderData=null;return}const i=this._renderOne(n),t=n.visibleRange.startLineNumber,a=n.visibleRange.endLineNumber,u=this._cursorLineNumbers.length;let h=0;const l=[];for(let c=t;c<=a;c++){const o=c-t;for(;h<u&&this._cursorLineNumbers[h]<c;)h++;h<u&&this._cursorLineNumbers[h]===c?l[o]=i:l[o]=""}this._renderData=l}render(n,i){if(!this._renderData)return"";const t=i-n;return t>=this._renderData.length?"":this._renderData[t]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=_;class v extends _{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(n.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=v;class C extends _{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=C,(0,D.registerThemingParticipant)((s,n)=>{const i=s.getColor(k.editorLineHighlight);if(i&&(n.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||s.defines(k.editorLineHighlightBorder)){const t=s.getColor(k.editorLineHighlightBorder);t&&(n.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${t}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${t}; }`),(0,m.isHighContrast)(s.type)&&(n.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),n.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[846],te([1,0,111,77,23,12,14,20,289,211,422]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class C extends L.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const t=this._context.configuration.options,a=t.get(143),u=t.get(49);this._lineHeight=t.get(65),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(15),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options,a=t.get(143),u=t.get(49);return this._lineHeight=t.get(65),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(15),!0}onCursorStateChanged(i){var t;const u=i.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(u)?!1:(this._primaryPosition=u,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var t,a,u,h;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const l=i.visibleRange.startLineNumber,c=i.visibleRange.endLineNumber,o=i.scrollWidth,d=this._lineHeight,r=this._primaryPosition,g=this.getGuidesByLine(l,Math.min(c+1,this._context.viewModel.getLineCount()),r),f=[];for(let p=l;p<=c;p++){const b=p-l,w=g[b];let E="";const I=(a=(t=i.visibleRangeForPosition(new D.Position(p,1)))===null||t===void 0?void 0:t.left)!==null&&a!==void 0?a:0;for(const N of w){const R=N.column===-1?I+(N.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new D.Position(p,N.column)).left;if(R>o||this._maxIndentLeft>0&&R>this._maxIndentLeft)break;const F=N.horizontalLine?N.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=N.horizontalLine?((h=(u=i.visibleRangeForPosition(new D.Position(p,N.horizontalLine.endColumn)))===null||u===void 0?void 0:u.left)!==null&&h!==void 0?h:R+this._spaceWidth)-R:this._spaceWidth;E+=`<div class="core-guide ${N.className} ${F}" style="left:${R}px;height:${d}px;width:${M}px"></div>`}f[b]=E}this._renderResult=f}getGuidesByLine(i,t,a){const u=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,t,a,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?v.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?v.HorizontalGuidesState.EnabledForActive:v.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,h=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,t):null;let l=0,c=0,o=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&a){const g=this._context.viewModel.getActiveIndentGuide(a.lineNumber,i,t);l=g.startLineNumber,c=g.endLineNumber,o=g.indent}const{indentSize:d}=this._context.viewModel.model.getOptions(),r=[];for(let g=i;g<=t;g++){const f=new Array;r.push(f);const p=u?u[g-i]:[],b=new S.ArrayQueue(p),w=h?h[g-i]:0;for(let E=1;E<=w;E++){const I=(E-1)*d+1,N=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||p.length===0)&&l<=g&&g<=c&&E===o;f.push(...b.takeWhile(F=>F.visibleColumn<I)||[]);const R=b.peek();(!R||R.visibleColumn!==I||R.horizontalLine)&&f.push(new v.IndentGuide(I,-1,`core-guide-indent lvl-${(E-1)%30}`+(N?" indent-active":""),null,-1,-1))}f.push(...b.takeWhile(E=>!0)||[])}return r}render(i,t){if(!this._renderResult)return"";const a=t-i;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}e.IndentGuidesOverlay=C;function s(n){if(!(n&&n.isTransparent()))return n}(0,y.registerThemingParticipant)((n,i)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],a=new _.BracketPairGuidesClassNames,u=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],h=t.map(c=>{var o,d;const r=n.getColor(c.bracketColor),g=n.getColor(c.guideColor),f=n.getColor(c.guideColorActive),p=s((o=s(g))!==null&&o!==void 0?o:r?.transparent(.3)),b=s((d=s(f))!==null&&d!==void 0?d:r);if(!(!p||!b))return{guideColor:p,guideColorActive:b}}).filter(m.isDefined),l=u.map(c=>{const o=n.getColor(c.indentColor),d=n.getColor(c.indentColorActive),r=s(o),g=s(d);if(!(!r||!g))return{indentColor:r,indentColorActive:g}}).filter(m.isDefined);if(h.length>0){for(let c=0;c<30;c++){const o=h[c%h.length];i.addRule(`.monaco-editor .${a.getInlineClassNameOfLevel(c).replace(/ /g,".")} { --guide-color: ${o.guideColor}; --guide-color-active: ${o.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${a.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${a.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${a.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(l.length>0){for(let c=0;c<30;c++){const o=l[c%l.length];i.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${c} { --indent-color: ${o.indentColor}; --indent-color-active: ${o.indentColorActive}; }`)}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(ee[360],te([1,0,17,111,12,23,77,423]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class m extends k.DynamicViewOverlay{constructor(v){super(),this._context=v,this._readConfig(),this._lastCursorModelPosition=new y.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const v=this._context.configuration.options;this._lineHeight=v.get(65);const C=v.get(66);this._renderLineNumbers=C.renderType,this._renderCustomLineNumbers=C.renderFn,this._renderFinalNewline=v.get(93);const s=v.get(142);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){return this._readConfig(),!0}onCursorStateChanged(v){const C=v.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(C);let s=!1;return this._activeLineNumber!==C.lineNumber&&(this._activeLineNumber=C.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}_getLineRenderLineNumber(v){const C=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(v,1));if(C.column!==1)return"";const s=C.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const n=Math.abs(this._lastCursorModelPosition.lineNumber-s);return n===0?'<span class="relative-current-line-number">'+s+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10===0?String(s):"":String(s)}prepareRender(v){if(this._renderLineNumbers===0){this._renderResult=null;return}const C=L.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=v.visibleRange.startLineNumber,n=v.visibleRange.endLineNumber,i=this._context.viewModel.getLineCount(),t=[];for(let a=s;a<=n;a++){const u=a-s,h=this._getLineRenderLineNumber(a);if(!h){t[u]="";continue}let l="";if(a===i&&this._context.viewModel.getLineLength(a)===0){if(this._renderFinalNewline==="off"){t[u]="";continue}this._renderFinalNewline==="dimmed"&&(l=" dimmed-line-number")}a===this._activeLineNumber&&(l=" active-line-number"),t[u]=`<div class="${m.CLASS_NAME}${C}${l}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${h}</div>`}this._renderResult=t}render(v,C){if(!this._renderResult)return"";const s=C-v;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=m,m.CLASS_NAME="line-numbers",(0,D.registerThemingParticipant)((_,v)=>{const C=_.getColor(S.editorLineNumbers),s=_.getColor(S.editorDimmedLineNumber);s?v.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):C&&v.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${C.transparent(.4)}; }`)})}),define(ee[847],te([1,0,602,51,37,17,10,69,184,273,53,360,291,38,144,12,5,24,199,28,36,262,34,417]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class g{constructor(E,I,N,R,F){this._context=E,this.modelLineNumber=I,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=R,this.distanceToModelLineEnd=F,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(E){const I=new a.Position(this.modelLineNumber,this.distanceToModelLineStart+1),N=new a.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=E.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=E.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(E){return this._previousPresentation||(E?this._previousPresentation=E:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const f=k.isFirefox;let p=class extends C.ViewPart{constructor(E,I,N,R){super(E),this._keybindingService=R,this._primaryCursorPosition=new a.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=I,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const F=this._context.configuration.options,M=F.get(142);this._setAccessibilityOptions(F),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._contentHeight=M.height,this._fontInfo=F.get(49),this._lineHeight=F.get(65),this._emptySelectionClipboard=F.get(36),this._copyWithSyntaxHighlighting=F.get(24),this._visibleTextArea=null,this._selections=[new h.Selection(1,1,1,1)],this._modelSelections=[new h.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,y.createFastDomNode)(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(F)),this.textArea.setAttribute("aria-required",F.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(F.get(122))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",F.get(89)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,y.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:x=>this._context.viewModel.getLineMaxColumn(x),getValueInRange:(x,z)=>this._context.viewModel.getValueInRange(x,z),getValueLengthInRange:(x,z)=>this._context.viewModel.getValueLengthInRange(x,z),modifyPosition:(x,z)=>this._context.viewModel.modifyPosition(x,z)},O={getDataToCopy:()=>{const x=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),z=this._context.viewModel.model.getEOL(),q=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),B=Array.isArray(x)?x:null,$=Array.isArray(x)?x.join(z):x;let X,ne=null;if(_.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&$.length<65536){const oe=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);oe&&(X=oe.html,ne=oe.mode)}return{isFromEmptySelection:q,multicursorText:B,text:$,html:X,mode:ne}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const x=this._selections[0];if(D.isMacintosh&&x.isEmpty()){const q=x.getStartPosition();let B=this._getWordBeforePosition(q);if(B.length===0&&(B=this._getCharacterBeforePosition(q)),B.length>0)return new v.TextAreaState(B,B.length,B.length,u.Range.fromPositions(q),0)}const z=500;if(D.isMacintosh&&!x.isEmpty()&&T.getValueLengthInRange(x,0)<z){const q=T.getValueInRange(x,0);return new v.TextAreaState(q,0,q.length,x,0)}if(k.isSafari&&!x.isEmpty()){const q="vscode-placeholder";return new v.TextAreaState(q,0,q.length,null,void 0)}return v.TextAreaState.EMPTY}if(k.isAndroid){const x=this._selections[0];if(x.isEmpty()){const z=x.getStartPosition(),[q,B]=this._getAndroidWordAtPosition(z);if(q.length>0)return new v.TextAreaState(q,B,B,u.Range.fromPositions(z),0)}return v.TextAreaState.EMPTY}return v.PagedScreenReaderStrategy.fromEditorSelection(T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(x,z,q)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(x,z,q)},P=this._register(new _.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new _.TextAreaInput(O,P,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(x=>{this._viewController.emitKeyDown(x)})),this._register(this._textAreaInput.onKeyUp(x=>{this._viewController.emitKeyUp(x)})),this._register(this._textAreaInput.onPaste(x=>{let z=!1,q=null,B=null;x.metadata&&(z=this._emptySelectionClipboard&&!!x.metadata.isFromEmptySelection,q=typeof x.metadata.multicursorText<"u"?x.metadata.multicursorText:null,B=x.metadata.mode),this._viewController.paste(x.text,z,q,B)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(x=>{x.replacePrevCharCnt||x.replaceNextCharCnt||x.positionDelta?(v._debugComposition&&console.log(` => compositionType: <<${x.text}>>, ${x.replacePrevCharCnt}, ${x.replaceNextCharCnt}, ${x.positionDelta}`),this._viewController.compositionType(x.text,x.replacePrevCharCnt,x.replaceNextCharCnt,x.positionDelta)):(v._debugComposition&&console.log(` => type: <<${x.text}>>`),this._viewController.type(x.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(x=>{this._viewController.setSelection(x)})),this._register(this._textAreaInput.onCompositionStart(x=>{const z=this.textArea.domNode,q=this._modelSelections[0],{distanceToModelLineStart:B,widthOfHiddenTextBefore:$}=(()=>{const ne=z.value.substring(0,Math.min(z.selectionStart,z.selectionEnd)),oe=ne.lastIndexOf(`
`),Y=ne.substring(oe+1),U=Y.lastIndexOf("	"),W=Y.length-U-1,V=q.getStartPosition(),Z=Math.min(V.column-1,W),ie=V.column-1-Z,le=Y.substring(0,Y.length-Z),{tabSize:he}=this._context.viewModel.model.getOptions(),de=b(le,this._fontInfo,he);return{distanceToModelLineStart:ie,widthOfHiddenTextBefore:de}})(),{distanceToModelLineEnd:X}=(()=>{const ne=z.value.substring(Math.max(z.selectionStart,z.selectionEnd)),oe=ne.indexOf(`
`),Y=oe===-1?ne:ne.substring(0,oe),U=Y.indexOf("	"),W=U===-1?Y.length:Y.length-U-1,V=q.getEndPosition(),Z=Math.min(this._context.viewModel.model.getLineMaxColumn(V.lineNumber)-V.column,W);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(V.lineNumber)-V.column-Z}})();this._context.viewModel.revealRange("keyboard",!0,u.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new g(this._context,q.startLineNumber,B,$,X),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(x=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(d.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(E){this._textAreaInput.writeScreenReaderContent(E)}dispose(){super.dispose()}_getAndroidWordAtPosition(E){const I='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(E.lineNumber),R=(0,t.getMapForWordSeparators)(I);let F=!0,M=E.column,A=!0,T=E.column,O=0;for(;O<50&&(F||A);){if(F&&M<=1&&(F=!1),F){const P=N.charCodeAt(M-2);R.get(P)!==0?F=!1:M--}if(A&&T>N.length&&(A=!1),A){const P=N.charCodeAt(T-1);R.get(P)!==0?A=!1:T++}O++}return[N.substring(M-1,T-1),E.column-M]}_getWordBeforePosition(E){const I=this._context.viewModel.getLineContent(E.lineNumber),N=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(128));let R=E.column,F=0;for(;R>1;){const M=I.charCodeAt(R-2);if(N.get(M)!==0||F>50)return I.substring(R-1,E.column-1);F++,R--}return I.substring(0,E.column-1)}_getCharacterBeforePosition(E){if(E.column>1){const N=this._context.viewModel.getLineContent(E.lineNumber).charAt(E.column-2);if(!S.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(E){var I,N,R;if(E.get(2)===1){const M=(I=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||I===void 0?void 0:I.getAriaLabel(),A=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),T=(R=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||R===void 0?void 0:R.getAriaLabel(),O=L.localize(1,null);return M?L.localize(2,null,O,M):A?L.localize(3,null,O,A):T?L.localize(4,null,O,T):O}return E.get(4)}_setAccessibilityOptions(E){this._accessibilitySupport=E.get(2);const I=E.get(3);this._accessibilitySupport===2&&I===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=I;const R=E.get(142).wrappingColumn;if(R!==-1&&this._accessibilitySupport!==1){const F=E.get(49);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(R*F.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=f?0:1}onConfigurationChanged(E){const I=this._context.configuration.options,N=I.get(142);this._setAccessibilityOptions(I),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=I.get(49),this._lineHeight=I.get(65),this._emptySelectionClipboard=I.get(36),this._copyWithSyntaxHighlighting=I.get(24),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:R}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${R*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("aria-required",I.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(I.get(122))),(E.hasChanged(33)||E.hasChanged(89))&&this._ensureReadOnlyAttribute(),E.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(E){return this._selections=E.selections.slice(0),this._modelSelections=E.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return this._scrollLeft=E.scrollLeft,this._scrollTop=E.scrollTop,!0}onZonesChanged(E){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(E){E.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",E.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),E.role&&this.textArea.setAttribute("role",E.role)}_ensureReadOnlyAttribute(){const E=this._context.configuration.options;!d.IME.enabled||E.get(33)&&E.get(89)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(E){var I;this._primaryCursorPosition=new a.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=E.visibleRangeForPosition(this._primaryCursorPosition),(I=this._visibleTextArea)===null||I===void 0||I.prepareRender(E)}render(E){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var E;if(this._visibleTextArea){const R=this._visibleTextArea.visibleTextareaStart,F=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,A=this._visibleTextArea.endPosition;if(M&&A&&R&&F&&F.left>=this._scrollLeft&&R.left<=this._scrollLeft+this._contentWidth){const T=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let P=this._visibleTextArea.widthOfHiddenLineTextBefore,x=this._contentLeft+R.left-this._scrollLeft,z=F.left-R.left+1;if(x<this._contentLeft){const oe=this._contentLeft-x;x+=oe,P+=oe,z-=oe}z>this._contentWidth&&(z=this._contentWidth);const q=this._context.viewModel.getViewLineData(M.lineNumber),B=q.tokens.findTokenIndexAtOffset(M.column-1),$=q.tokens.findTokenIndexAtOffset(A.column-1),X=B===$,ne=this._visibleTextArea.definePresentation(X?q.tokens.getPresentation(B):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=P,this._doRender({lastRenderPosition:null,top:T,left:x,width:z,height:this._lineHeight,useCover:!1,color:(c.TokenizationRegistry.getColorMap()||[])[ne.foreground],italic:ne.italic,bold:ne.bold,underline:ne.underline,strikethrough:ne.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const I=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(I<this._contentLeft||I>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:I,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const R=(E=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&E!==void 0?E:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=R*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:I,width:this._textAreaWidth,height:f?0:1,useCover:!1})}_newlinecount(E){let I=0,N=-1;do{if(N=E.indexOf(`
`,N+1),N===-1)break;I++}while(!0);return I}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:f?0:1,useCover:!0})}_doRender(E){this._lastRenderPosition=E.lastRenderPosition;const I=this.textArea,N=this.textAreaCover;(0,m.applyFontInfo)(I,this._fontInfo),I.setTop(E.top),I.setLeft(E.left),I.setWidth(E.width),I.setHeight(E.height),I.setColor(E.color?o.Color.Format.CSS.formatHex(E.color):""),I.setFontStyle(E.italic?"italic":""),E.bold&&I.setFontWeight("bold"),I.setTextDecoration(`${E.underline?" underline":""}${E.strikethrough?" line-through":""}`),N.setTop(E.useCover?E.top:0),N.setLeft(E.useCover?E.left:0),N.setWidth(E.useCover?E.width:0),N.setHeight(E.useCover?E.height:0);const R=this._context.configuration.options;R.get(56)?N.setClassName("monaco-editor-background textAreaCover "+n.Margin.OUTER_CLASS_NAME):R.get(66).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=p,e.TextAreaHandler=p=Ie([ge(3,r.IKeybindingService)],p);function b(w,E,I){if(w.length===0)return 0;const N=document.createElement("div");N.style.position="absolute",N.style.top="-50000px",N.style.width="50000px";const R=document.createElement("span");(0,m.applyFontInfo)(R,E),R.style.whiteSpace="pre",R.style.tabSize=`${I*E.spaceWidth}px`,R.append(w),N.appendChild(R),document.body.appendChild(N);const F=R.offsetWidth;return document.body.removeChild(N),F}}),define(ee[848],te([1,0,37,36,53,12,28,77,82,14]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(i,t){const a=i.options;this.lineHeight=a.get(65),this.pixelRatio=a.get(140),this.overviewRulerLanes=a.get(81),this.renderBorder=a.get(80);const u=t.getColor(m.editorOverviewRulerBorder);this.borderColor=u?u.toString():null,this.hideCursor=a.get(58);const h=t.getColor(m.editorCursorForeground);this.cursorColor=h?h.transparent(.7).toString():null,this.themeType=t.type;const l=a.get(71),c=l.enabled,o=l.side,d=t.getColor(m.editorOverviewRulerBackground),r=S.TokenizationRegistry.getDefaultBackground();d?this.backgroundColor=d:c&&o==="right"?this.backgroundColor=r:this.backgroundColor=null;const f=a.get(142).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[p,b]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=p,this.w=b}_initLanes(i,t,a){const u=t-i;if(a>=3){const h=Math.floor(u/3),l=Math.floor(u/3),c=u-h-l,o=i,d=o+h,r=o+h+c;return[[0,o,d,o,r,o,d,o],[0,h,c,h+c,l,h+c+l,c+l,h+c+l]]}else if(a===2){const h=Math.floor(u/2),l=u-h,c=i,o=c+h;return[[0,c,c,c,o,c,c,c],[0,h,h,h,l,h+l,h+l,h+l]]}else{const h=i,l=u;return[[0,h,h,h,h,h,h,h],[0,l,l,l,l,l,l,l]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class s extends y.ViewPart{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,a=i.selections.length;t<a;t++)this._cursorPositions[t]=i.selections[t].getPosition();return this._cursorPositions.sort(D.Position.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return i.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return i.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(_.OverviewRulerDecorationsGroup.cmp),this._actualShouldRender===1&&!_.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,v.equals)(this._renderedCursorPositions,this._cursorPositions,(b,w)=>b.lineNumber===w.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const a=this._settings.canvasWidth,u=this._settings.canvasHeight,h=this._settings.lineHeight,l=this._context.viewLayout,c=this._context.viewLayout.getScrollHeight(),o=u/c,d=6*this._settings.pixelRatio|0,r=d/2|0,g=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,a,u)):(g.clearRect(0,0,a,u),g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,a,u)):g.clearRect(0,0,a,u);const f=this._settings.x,p=this._settings.w;for(const b of t){const w=b.color,E=b.data;g.fillStyle=w;let I=0,N=0,R=0;for(let F=0,M=E.length/3;F<M;F++){const A=E[3*F],T=E[3*F+1],O=E[3*F+2];let P=l.getVerticalOffsetForLineNumber(T)*o|0,x=(l.getVerticalOffsetForLineNumber(O)+h)*o|0;if(x-P<d){let q=(P+x)/2|0;q<r?q=r:q+r>u&&(q=u-r),P=q-r,x=q+r}P>R+1||A!==I?(F!==0&&g.fillRect(f[I],N,p[I],R-N),I=A,N=P,R=x):x>R&&(R=x)}g.fillRect(f[I],N,p[I],R-N)}if(!this._settings.hideCursor&&this._settings.cursorColor){const b=2*this._settings.pixelRatio|0,w=b/2|0,E=this._settings.x[7],I=this._settings.w[7];g.fillStyle=this._settings.cursorColor;let N=-100,R=-100;for(let F=0,M=this._cursorPositions.length;F<M;F++){const A=this._cursorPositions[F];let T=l.getVerticalOffsetForLineNumber(A.lineNumber)*o|0;T<w?T=w:T+w>u&&(T=u-w);const O=T-w,P=O+b;O>R+1?(F!==0&&g.fillRect(E,N,I,R-N),N=O,R=P):P>R&&(R=P)}g.fillRect(E,N,I,R-N)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,u),g.stroke(),g.moveTo(0,0),g.lineTo(a,0),g.stroke())}}e.DecorationsOverviewRuler=s}),define(ee[849],te([1,0,37,13,53,617,38,77,23,88,433]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class C extends y.ViewPart{constructor(n){super(n);const i=this._context.configuration.options;this._readOnly=i.get(89),this._cursorBlinking=i.get(25),this._cursorStyle=i.get(27),this._cursorSmoothCaretAnimation=i.get(26),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(n){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(n){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(n){const i=this._context.configuration.options;this._readOnly=i.get(89),this._cursorBlinking=i.get(25),this._cursorStyle=i.get(27),this._cursorSmoothCaretAnimation=i.get(26),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(n);for(let t=0,a=this._secondaryCursors.length;t<a;t++)this._secondaryCursors[t].onConfigurationChanged(n);return!0}_onCursorPositionChanged(n,i,t){const a=this._secondaryCursors.length!==i.length||this._cursorSmoothCaretAnimation==="explicit"&&t!==3;if(this._primaryCursor.onCursorPositionChanged(n,a),this._updateBlinking(),this._secondaryCursors.length<i.length){const u=i.length-this._secondaryCursors.length;for(let h=0;h<u;h++){const l=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(l.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(l)}}else if(this._secondaryCursors.length>i.length){const u=this._secondaryCursors.length-i.length;for(let h=0;h<u;h++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let u=0;u<i.length;u++)this._secondaryCursors[u].onCursorPositionChanged(i[u],a)}onCursorStateChanged(n){const i=[];for(let a=0,u=n.selections.length;a<u;a++)i[a]=n.selections[a].getPosition();this._onCursorPositionChanged(i[0],i.slice(1),n.reason);const t=n.selections[0].isEmpty();return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,this._updateDomClassName()),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onFocusChanged(n){return this._editorHasFocus=n.isFocused,this._updateBlinking(),!1}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return!0}onTokensChanged(n){const i=t=>{for(let a=0,u=n.ranges.length;a<u;a++)if(n.ranges[a].fromLineNumber<=t.lineNumber&&t.lineNumber<=n.ranges[a].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const t of this._secondaryCursors)if(i(t.getPosition()))return!0;return!1}onZonesChanged(n){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const n=this._getCursorBlinking(),i=n===0,t=n===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!t&&(n===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},C.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},C.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let n="cursors-layer";switch(this._selectionIsEmpty||(n+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:n+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:n+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:n+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:n+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:n+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:n+=" cursor-underline-thin-style";break;default:n+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:n+=" cursor-blink";break;case 2:n+=" cursor-smooth";break;case 3:n+=" cursor-phase";break;case 4:n+=" cursor-expand";break;case 5:n+=" cursor-solid";break;default:n+=" cursor-solid"}else n+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(n+=" cursor-smooth-caret-animation"),n}_show(){this._primaryCursor.show();for(let n=0,i=this._secondaryCursors.length;n<i;n++)this._secondaryCursors[n].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let n=0,i=this._secondaryCursors.length;n<i;n++)this._secondaryCursors[n].hide();this._isVisible=!1}prepareRender(n){this._primaryCursor.prepareRender(n);for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].prepareRender(n)}render(n){const i=[];let t=0;const a=this._primaryCursor.render(n);a&&(i[t++]=a);for(let u=0,h=this._secondaryCursors.length;u<h;u++){const l=this._secondaryCursors[u].render(n);l&&(i[t++]=l)}this._renderData=i}getLastRenderData(){return this._renderData}}e.ViewCursors=C,C.BLINK_INTERVAL=500,(0,_.registerThemingParticipant)((s,n)=>{const i=s.getColor(m.editorCursorForeground);if(i){let t=s.getColor(m.editorCursorBackground);t||(t=i.opposite()),n.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${t}; }`),(0,v.isHighContrast)(s.type)&&n.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${t}; border-right: 1px solid ${t}; }`)}})}),define(ee[850],te([1,0,111,10,114,12,77,434]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class m extends L.DynamicViewOverlay{constructor(C){super(),this._context=C,this._options=new _(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const s=new _(this._context.configuration);return this._options.equals(s)?C.hasChanged(142):(this._options=s,!0)}onCursorStateChanged(C){return this._selection=C.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}prepareRender(C){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const s=C.visibleRange.startLineNumber,i=C.visibleRange.endLineNumber-s+1,t=new Array(i);for(let u=0;u<i;u++)t[u]=!0;const a=this._context.viewModel.getMinimapLinesRenderingData(C.viewportData.startLineNumber,C.viewportData.endLineNumber,t);this._renderResult=[];for(let u=C.viewportData.startLineNumber;u<=C.viewportData.endLineNumber;u++){const h=u-C.viewportData.startLineNumber,l=a.data[h];let c=null;if(this._options.renderWhitespace==="selection"){const o=this._selection;for(const d of o){if(d.endLineNumber<u||d.startLineNumber>u)continue;const r=d.startLineNumber===u?d.startColumn:l.minColumn,g=d.endLineNumber===u?d.endColumn:l.maxColumn;r<g&&(c||(c=[]),c.push(new y.LineRange(r-1,g-1)))}}this._renderResult[h]=this._applyRenderWhitespace(C,u,c,l)}}_applyRenderWhitespace(C,s,n,i){if(this._options.renderWhitespace==="selection"&&!n||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(S.editorWhitespaces),a=this._options.renderWithSVG,u=i.content,h=this._options.stopRenderingLineAfter===-1?u.length:Math.min(this._options.stopRenderingLineAfter,u.length),l=i.continuesWithWrappedLine,c=i.minColumn-1,o=this._options.renderWhitespace==="boundary",d=this._options.renderWhitespace==="trailing",r=this._options.lineHeight,g=this._options.middotWidth,f=this._options.wsmiddotWidth,p=this._options.spaceWidth,b=Math.abs(f-p),w=Math.abs(g-p),E=b<w?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let N="",R=!1,F=k.firstNonWhitespaceIndex(u),M;F===-1?(R=!0,F=h,M=h):M=k.lastNonWhitespaceIndex(u);let A=0,T=n&&n[A],O=0;for(let P=c;P<h;P++){const x=u.charCodeAt(P);if(T&&P>=T.endOffset&&(A++,T=n&&n[A]),x!==9&&x!==32||d&&!R&&P<=M)continue;if(o&&P>=F&&P<=M&&x===32){const q=P-1>=0?u.charCodeAt(P-1):0,B=P+1<h?u.charCodeAt(P+1):0;if(q!==32&&B!==32)continue}if(o&&l&&P===h-1){const q=P-1>=0?u.charCodeAt(P-1):0;if(x===32&&q!==32&&q!==9)continue}if(n&&(!T||T.startOffset>P||T.endOffset<=P))continue;const z=C.visibleRangeForPosition(new D.Position(s,P+1));z&&(a?(O=Math.max(O,z.left),x===9?N+=this._renderArrow(r,p,z.left):N+=`<circle cx="${(z.left+p/2).toFixed(2)}" cy="${(r/2).toFixed(2)}" r="${(p/7).toFixed(2)}" />`):x===9?N+=`<div class="mwh" style="left:${z.left}px;height:${r}px;">${I?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:N+=`<div class="mwh" style="left:${z.left}px;height:${r}px;">${String.fromCharCode(E)}</div>`)}return a?(O=Math.round(O+p),`<svg style="position:absolute;width:${O}px;height:${r}px" viewBox="0 0 ${O} ${r}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+N+"</svg>"):N}_renderArrow(C,s,n){const i=s/7,t=s,a=C/2,u=n,h={x:0,y:i/2},l={x:100/125*t,y:h.y},c={x:l.x-.2*l.x,y:l.y+.2*l.x},o={x:c.x+.1*l.x,y:c.y+.1*l.x},d={x:o.x+.35*l.x,y:o.y-.35*l.x},r={x:d.x,y:-d.y},g={x:o.x,y:-o.y},f={x:c.x,y:-c.y},p={x:l.x,y:-l.y},b={x:h.x,y:-h.y};return`<path d="M ${[h,l,c,o,d,r,g,f,p,b].map(I=>`${(u+I.x).toFixed(2)} ${(a+I.y).toFixed(2)}`).join(" L ")}" />`}render(C,s){if(!this._renderResult)return"";const n=s-C;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.WhitespaceOverlay=m;class _{constructor(C){const s=C.options,n=s.get(49),i=s.get(37);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=s.get(97),this.renderWithSVG=!0):(this.renderWhitespace=s.get(97),this.renderWithSVG=!1),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=s.get(65),this.stopRenderingLineAfter=s.get(115)}equals(C){return this.renderWhitespace===C.renderWhitespace&&this.renderWithSVG===C.renderWithSVG&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter}}}),define(ee[851],te([1,0,7,24,5,37,9,837,847,791,272,593,53,590,845,523,842,846,360,838,524,291,525,821,526,848,535,527,528,843,849,529,12,142,536,532,148,23,357,522,259,850,212,48,8]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N,R,F,M,A,T,O,P,x,z,q,B,$,X,ne){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let oe=class extends O.ViewEventHandler{constructor(W,V,Z,ie,le,he,de){super(),this._instantiationService=de,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const ce=new v.ViewController(V,ie,le,W);this._context=new A.ViewContext(V,Z,ie),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(_.TextAreaHandler,this._context,ce,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),n.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new u.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new c.ViewLines(this._context,this._linesContent),this._viewZones=new R.ViewZones(this._context),this._viewParts.push(this._viewZones);const ae=new p.DecorationsOverviewRuler(this._context);this._viewParts.push(ae);const J=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(J);const K=new s.ContentViewOverlays(this._context);this._viewParts.push(K),K.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),K.addDynamicOverlay(new I.SelectionsOverlay(this._context)),K.addDynamicOverlay(new h.IndentGuidesOverlay(this._context)),K.addDynamicOverlay(new a.DecorationsOverlay(this._context)),K.addDynamicOverlay(new B.WhitespaceOverlay(this._context));const H=new s.MarginViewOverlays(this._context);this._viewParts.push(H),H.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),H.addDynamicOverlay(new r.MarginViewLineDecorationsOverlay(this._context)),H.addDynamicOverlay(new o.LinesDecorationsOverlay(this._context)),H.addDynamicOverlay(new l.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new $.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const Q=new d.Margin(this._context);Q.getDomNode().appendChild(this._viewZones.marginDomNode),Q.getDomNode().appendChild(H.getDomNode()),Q.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(Q),this._contentWidgets=new i.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new N.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new f.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const j=new w.Rulers(this._context);this._viewParts.push(j);const re=new z.BlockDecorations(this._context);this._viewParts.push(re);const se=new g.Minimap(this._context);if(this._viewParts.push(se),ae){const ue=this._scrollbar.getOverviewRulerLayoutInfo();ue.parent.insertBefore(ae.getDomNode(),ue.insertBefore)}this._linesContent.appendChild(K.getDomNode()),this._linesContent.appendChild(j.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Q.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(J.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(se.getDomNode()),this._overflowGuardContainer.appendChild(re.domNode),this.domNode.appendChild(this._overflowGuardContainer),he?he.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,ce,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),q.inputLatency.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const W=this._context.viewModel.model;let V=[];V=V.concat(W.getAllMarginDecorations().map(le=>{var he,de;const ce=(de=(he=le.options.glyphMargin)===null||he===void 0?void 0:he.position)!==null&&de!==void 0?de:X.GlyphMarginLane.Left;return{range:le.range,lane:ce}})),V=V.concat(this._glyphMarginWidgets.getWidgets().map(le=>({range:W.validateRange(le.preference.range),lane:le.preference.lane}))),V.sort((le,he)=>y.Range.compareRangesUsingStarts(le.range,he.range));let Z=null,ie=null;for(const le of V)if(le.lane===X.GlyphMarginLane.Left&&(!Z||y.Range.compareRangesUsingEnds(Z,le.range)<0)&&(Z=le.range),le.lane===X.GlyphMarginLane.Right&&(!ie||y.Range.compareRangesUsingEnds(ie,le.range)<0)&&(ie=le.range),Z&&ie){if(Z.endLineNumber<ie.startLineNumber){Z=null;continue}if(ie.endLineNumber<Z.startLineNumber){ie=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:W=>{this._textAreaHandler.textArea.domNode.dispatchEvent(W)},getLastRenderData:()=>{const W=this._viewCursors.getLastRenderData()||[],V=this._textAreaHandler.getLastRenderData();return new x.PointerHandlerLastRenderData(W,V)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:W=>this._viewZones.shouldSuppressMouseDownOnViewZone(W),shouldSuppressMouseDownOnWidget:W=>this._contentWidgets.shouldSuppressMouseDownOnWidget(W),getPositionFromDOMInfo:(W,V)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(W,V)),visibleRangeForPosition:(W,V)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(W,V))),getLineWidth:W=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(W))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:W=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(W))}}_applyLayout(){const V=this._context.configuration.options.get(142);this.domNode.setWidth(V.width),this.domNode.setHeight(V.height),this._overflowGuardContainer.setWidth(V.width),this._overflowGuardContainer.setHeight(V.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const W=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(139)+" "+(0,P.getThemeTypeSelector)(this._context.theme.type)+W}handleEvents(W){super.handleEvents(W),this._scheduleRender()}onConfigurationChanged(W){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(W){return this._selections=W.selections,!1}onDecorationsChanged(W){return W.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(W){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(W){return this._context.theme.update(W.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const W of this._viewParts)W.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=L.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Y(()=>this._actualRender())}_getViewPartsToRender(){const W=[];let V=0;for(const Z of this._viewParts)Z.shouldRender()&&(W[V++]=Z);return W}_actualRender(){if(!L.isInDOM(this.domNode.domNode))return;let W=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&W.length===0)return;const V=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(V.startLineNumber,V.endLineNumber,V.centeredLineNumber);const Z=new T.ViewportData(this._selections,V,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(Z),this._viewLines.shouldRender()&&(this._viewLines.renderText(Z),this._viewLines.onDidRender(),W=this._getViewPartsToRender());const ie=new M.RenderingContext(this._context.viewLayout,Z,this._viewLines);for(const le of W)le.prepareRender(ie);for(const le of W)le.render(ie),le.onDidRender()}delegateVerticalScrollbarPointerDown(W){this._scrollbar.delegateVerticalScrollbarPointerDown(W)}delegateScrollFromMouseWheelEvent(W){this._scrollbar.delegateScrollFromMouseWheelEvent(W)}restoreState(W){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:W.scrollTop,scrollLeft:W.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(W,V){const Z=this._context.viewModel.model.validatePosition({lineNumber:W,column:V}),ie=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);this._flushAccumulatedAndRenderNow();const le=this._viewLines.visibleRangeForPosition(new F.Position(ie.lineNumber,ie.column));return le?le.left:-1}getTargetAtClientPoint(W,V){const Z=this._pointerHandler.getTargetAtClientPoint(W,V);return Z?C.ViewUserInputEvents.convertViewToModelMouseTarget(Z,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(W){return new b.OverviewRuler(this._context,W)}change(W){this._viewZones.changeViewZones(W),this._scheduleRender()}render(W,V){if(V){this._viewLines.forceShouldRender();for(const Z of this._viewParts)Z.forceShouldRender()}W?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(W){this._textAreaHandler.writeScreenReaderContent(W)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(W){this._textAreaHandler.setAriaOptions(W)}addContentWidget(W){this._contentWidgets.addWidget(W.widget),this.layoutContentWidget(W),this._scheduleRender()}layoutContentWidget(W){var V,Z,ie,le,he,de,ce,ae;this._contentWidgets.setWidgetPosition(W.widget,(Z=(V=W.position)===null||V===void 0?void 0:V.position)!==null&&Z!==void 0?Z:null,(le=(ie=W.position)===null||ie===void 0?void 0:ie.secondaryPosition)!==null&&le!==void 0?le:null,(de=(he=W.position)===null||he===void 0?void 0:he.preference)!==null&&de!==void 0?de:null,(ae=(ce=W.position)===null||ce===void 0?void 0:ce.positionAffinity)!==null&&ae!==void 0?ae:null),this._scheduleRender()}removeContentWidget(W){this._contentWidgets.removeWidget(W.widget),this._scheduleRender()}addOverlayWidget(W){this._overlayWidgets.addWidget(W.widget),this.layoutOverlayWidget(W),this._scheduleRender()}layoutOverlayWidget(W){const V=W.position?W.position.preference:null;this._overlayWidgets.setWidgetPosition(W.widget,V)&&this._scheduleRender()}removeOverlayWidget(W){this._overlayWidgets.removeWidget(W.widget),this._scheduleRender()}addGlyphMarginWidget(W){this._glyphMarginWidgets.addWidget(W.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(W){const V=W.position;this._glyphMarginWidgets.setWidgetPosition(W.widget,V)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(W){this._glyphMarginWidgets.removeWidget(W.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=oe,e.View=oe=Ie([ge(6,ne.IInstantiationService)],oe);function Y(U){try{return U()}catch(W){(0,S.onUnexpectedError)(W)}}}),define(ee[852],te([1,0,6,2,5,77,23]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class m extends k.Disposable{constructor(C){super(),this.textModel=C,this.colorProvider=new _,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=C.getOptions().bracketPairColorizationOptions,this._register(C.bracketPairs.onDidChange(s=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(C){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(C,s,n,i){return i?[]:s===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(C,!0).map(a=>({id:`bracket${a.range.toString()}-${a.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(a,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:a.range})).toArray():[]}getAllDecorations(C,s){return C===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new y.Range(1,1,this.textModel.getLineCount(),1),C,s):[]}}e.ColorizedBracketPairsDecorationProvider=m;class _{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(C,s){return C.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(s?C.nestingLevelOfEqualBracketType:C.nestingLevel)}getInlineClassNameOfLevel(C){return`bracket-highlighting-${C%30}`}}(0,S.registerThemingParticipant)((v,C)=>{const s=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],n=new _;C.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${v.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=s.map(t=>v.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const a=i[t%i.length];C.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(t)} { color: ${a}; }`)}})}),define(ee[853],te([1,0,94,2,48,23,77,50,5,54,6,32,63,163]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends k.Disposable{constructor(h,l){super(),this._markerService=l,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new n.ResourceMap,h.getModels().forEach(c=>this._onModelAdded(c)),this._register(h.onModelAdded(this._onModelAdded,this)),this._register(h.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(h=>h.dispose()),this._markerDecorations.clear()}getMarker(h,l){const c=this._markerDecorations.get(h);return c&&c.getMarker(l)||null}_handleMarkerChange(h){h.forEach(l=>{const c=this._markerDecorations.get(l);c&&this._updateDecorations(c)})}_onModelAdded(h){const l=new a(h);this._markerDecorations.set(h.uri,l),this._updateDecorations(l)}_onModelRemoved(h){var l;const c=this._markerDecorations.get(h.uri);c&&(c.dispose(),this._markerDecorations.delete(h.uri)),(h.uri.scheme===v.Schemas.inMemory||h.uri.scheme===v.Schemas.internal||h.uri.scheme===v.Schemas.vscode)&&((l=this._markerService)===null||l===void 0||l.read({resource:h.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[h.uri])))}_updateDecorations(h){const l=this._markerService.read({resource:h.model.uri,take:500});h.update(l)&&this._onDidChangeMarker.fire(h.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=Ie([ge(0,m.IModelService),ge(1,L.IMarkerService)],t);class a extends k.Disposable{constructor(h){super(),this.model=h,this._map=new n.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(h){const{added:l,removed:c}=(0,i.diffSets)(new Set(this._map.keys()),new Set(h));if(l.length===0&&c.length===0)return!1;const o=c.map(g=>this._map.get(g)),d=l.map(g=>({range:this._createDecorationRange(this.model,g),options:this._createDecorationOption(g)})),r=this.model.deltaDecorations(o,d);for(const g of c)this._map.delete(g);for(let g=0;g<r.length;g++)this._map.set(l[g],r[g]);return!0}getMarker(h){return this._map.getKey(h.id)}_createDecorationRange(h,l){let c=_.Range.lift(l);if(l.severity===L.MarkerSeverity.Hint&&!this._hasMarkerTag(l,1)&&!this._hasMarkerTag(l,2)&&(c=c.setEndPosition(c.startLineNumber,c.startColumn+2)),c=h.validateRange(c),c.isEmpty()){const o=h.getLineLastNonWhitespaceColumn(c.startLineNumber)||h.getLineMaxColumn(c.startLineNumber);if(o===1||c.endColumn>=o)return c;const d=h.getWordAtPosition(c.getStartPosition());d&&(c=new _.Range(c.startLineNumber,d.startColumn,c.endLineNumber,d.endColumn))}else if(l.endColumn===Number.MAX_VALUE&&l.startColumn===1&&c.startLineNumber===c.endLineNumber){const o=h.getLineFirstNonWhitespaceColumn(l.startLineNumber);o<c.endColumn&&(c=new _.Range(c.startLineNumber,o,c.endLineNumber,c.endColumn),l.startColumn=o)}return c}_createDecorationOption(h){let l,c,o,d,r;switch(h.severity){case L.MarkerSeverity.Hint:this._hasMarkerTag(h,2)?l=void 0:this._hasMarkerTag(h,1)?l="squiggly-unnecessary":l="squiggly-hint",o=0;break;case L.MarkerSeverity.Warning:l="squiggly-warning",c=(0,D.themeColorFromId)(S.overviewRulerWarning),o=20,r={color:(0,D.themeColorFromId)(s.minimapWarning),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Info:l="squiggly-info",c=(0,D.themeColorFromId)(S.overviewRulerInfo),o=10;break;case L.MarkerSeverity.Error:default:l="squiggly-error",c=(0,D.themeColorFromId)(S.overviewRulerError),o=30,r={color:(0,D.themeColorFromId)(s.minimapError),position:y.MinimapPosition.Inline};break}return h.tags&&(h.tags.indexOf(1)!==-1&&(d="squiggly-inline-unnecessary"),h.tags.indexOf(2)!==-1&&(d="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:l,showIfCollapsed:!0,overviewRuler:{color:c,position:y.OverviewRulerLane.Right},minimap:r,zIndex:o,inlineClassName:d}}_hasMarkerTag(h,l){return h.tags?h.tags.indexOf(l)>=0:!1}}}),define(ee[252],te([1,0,124,23,66,520,42]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let m=class{constructor(n,i,t,a){this._legend=n,this._themeService=i,this._languageService=t,this._logService=a,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new C}getMetadata(n,i,t){const a=this._languageService.languageIdCodec.encodeLanguageId(t),u=this._hashTable.get(n,i,a);let h;if(u)h=u.metadata,this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${n} / ${i}: foreground ${L.TokenMetadata.getForeground(h)}, fontStyle ${L.TokenMetadata.getFontStyle(h).toString(2)}`);else{let l=this._legend.tokenTypes[n];const c=[];if(l){let o=i;for(let r=0;o>0&&r<this._legend.tokenModifiers.length;r++)o&1&&c.push(this._legend.tokenModifiers[r]),o=o>>1;o>0&&this._logService.getLevel()===y.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),c.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(l,c,t);if(typeof d>"u")h=2147483647;else{if(h=0,typeof d.italic<"u"){const r=(d.italic?1:0)<<11;h|=r|1}if(typeof d.bold<"u"){const r=(d.bold?2:0)<<11;h|=r|2}if(typeof d.underline<"u"){const r=(d.underline?4:0)<<11;h|=r|4}if(typeof d.strikethrough<"u"){const r=(d.strikethrough?8:0)<<11;h|=r|8}if(d.foreground){const r=d.foreground<<15;h|=r|16}h===0&&(h=2147483647)}}else this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${n} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),h=2147483647,l="not-in-legend";this._hashTable.add(n,i,a,h),this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${n} (${l}) / ${i} (${c.join(" ")}): foreground ${L.TokenMetadata.getForeground(h)}, fontStyle ${L.TokenMetadata.getFontStyle(h).toString(2)}`)}return h}warnOverlappingSemanticTokens(n,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${n}, column ${i}`))}warnInvalidLengthSemanticTokens(n,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${n}, column ${i}`))}warnInvalidEditStart(n,i,t,a,u){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${n}, resultId: ${i}) at edit #${t}: The provided start offset ${a} is outside the previous data (length ${u}).`))}};e.SemanticTokensProviderStyling=m,e.SemanticTokensProviderStyling=m=Ie([ge(1,k.IThemeService),ge(2,S.ILanguageService),ge(3,y.ILogService)],m);function _(s,n,i){const t=s.data,a=s.data.length/5|0,u=Math.max(Math.ceil(a/1024),400),h=[];let l=0,c=1,o=0;for(;l<a;){const d=l;let r=Math.min(d+u,a);if(r<a){let I=r;for(;I-1>d&&t[5*I]===0;)I--;if(I-1===d){let N=r;for(;N+1<a&&t[5*N]===0;)N++;r=N}else r=I}let g=new Uint32Array((r-d)*4),f=0,p=0,b=0,w=0;for(;l<r;){const I=5*l,N=t[I],R=t[I+1],F=c+N|0,M=N===0?o+R|0:R,A=t[I+2],T=M+A|0,O=t[I+3],P=t[I+4];if(T<=M)n.warnInvalidLengthSemanticTokens(F,M+1);else if(b===F&&w>M)n.warnOverlappingSemanticTokens(F,M+1);else{const x=n.getMetadata(O,P,i);x!==2147483647&&(p===0&&(p=F),g[f]=F-p,g[f+1]=M,g[f+2]=T,g[f+3]=x,f+=4,b=F,w=T)}c=F,o=M,l++}f!==g.length&&(g=g.subarray(0,f));const E=D.SparseMultilineTokens.create(p,g);h.push(E)}return h}e.toMultilineTokens2=_;class v{constructor(n,i,t,a){this.tokenTypeIndex=n,this.tokenModifierSet=i,this.languageId=t,this.metadata=a,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(n,i){for(let t=0;t<i;t++)n[t]=null}_hash2(n,i){return(n<<5)-n+i|0}_hashFunc(n,i,t){return this._hash2(this._hash2(n,i),t)%this._currentLength}get(n,i,t){const a=this._hashFunc(n,i,t);let u=this._elements[a];for(;u;){if(u.tokenTypeIndex===n&&u.tokenModifierSet===i&&u.languageId===t)return u;u=u.next}return null}add(n,i,t,a){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const u=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const h of u){let l=h;for(;l;){const c=l.next;l.next=null,this._add(l),l=c}}}this._add(new v(n,i,t,a))}_add(n){const i=this._hashFunc(n.tokenTypeIndex,n.tokenModifierSet,n.languageId);n.next=this._elements[i],this._elements[i]=n}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[854],te([1,0,2,42,23,66,252,235,45]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let v=class extends L.Disposable{constructor(s,n,i){super(),this._themeService=s,this._logService=n,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new S.SemanticTokensProviderStyling(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};e.SemanticTokensStylingService=v,e.SemanticTokensStylingService=v=Ie([ge(0,y.IThemeService),ge(1,D.ILogService),ge(2,k.ILanguageService)],v),(0,_.registerSingleton)(m.ISemanticTokensStylingService,v,1)}),define(ee[361],te([1,0,97,2,176,48,77,23,49]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class v{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,n){var i;const t=new k.DisposableStore;s.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const a=t.add(new k.MutableDisposable);return a.value=this.doProvide(s,n),t.add(this.onDidActiveTextEditorControlChange(()=>{a.value=void 0,a.value=this.doProvide(s,n)})),t}doProvide(s,n){var i;const t=new k.DisposableStore,a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const u={editor:a},h=(0,y.getCodeEditor)(a);if(h){let l=(i=a.saveViewState())!==null&&i!==void 0?i:void 0;t.add(h.onDidChangeCursorPosition(()=>{var c;l=(c=a.saveViewState())!==null&&c!==void 0?c:void 0})),u.restoreViewState=()=>{l&&a===this.activeTextEditorControl&&a.restoreViewState(l)},t.add((0,L.once)(n.onCancellationRequested)(()=>{var c;return(c=u.restoreViewState)===null||c===void 0?void 0:c.call(u)}))}t.add((0,k.toDisposable)(()=>this.clearDecorations(a))),t.add(this.provideWithTextEditor(u,s,n))}else t.add(this.provideWithoutTextEditor(s,n));return t}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},n){s.setSelection(n.range),s.revealRangeInCenter(n.range,0),n.preserveFocus||s.focus();const i=s.getModel();i&&"getLineContent"in i&&(0,_.status)(`${i.getLineContent(n.range.startLineNumber)}`)}getModel(s){var n;return(0,y.isDiffEditor)(s)?(n=s.getModel())===null||n===void 0?void 0:n.modified:s.getModel()}addDecorations(s,n){s.changeDecorations(i=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const a=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,m.themeColorFromId)(S.overviewRulerRangeHighlight),position:D.OverviewRulerLane.Full}}}],[u,h]=i.deltaDecorations(t,a);this.rangeHighlightDecorationId={rangeHighlightId:u,overviewRulerDecorationId:h}})}clearDecorations(s){const n=this.rangeHighlightDecorationId;n&&(s.changeDecorations(i=>{i.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=v}),define(ee[855],te([1,0,2,176,361,689]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends y.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(_){const v=(0,D.localize)(0,null);return _.items=[{label:v}],_.ariaLabel=v,L.Disposable.None}provideWithTextEditor(_,v,C){const s=_.editor,n=new L.DisposableStore;n.add(v.onDidAccept(a=>{const[u]=v.selectedItems;if(u){if(!this.isValidLineNumber(s,u.lineNumber))return;this.gotoLocation(_,{range:this.toRange(u.lineNumber,u.column),keyMods:v.keyMods,preserveFocus:a.inBackground}),a.inBackground||v.hide()}}));const i=()=>{const a=this.parsePosition(s,v.value.trim().substr(S.PREFIX.length)),u=this.getPickLabel(s,a.lineNumber,a.column);if(v.items=[{lineNumber:a.lineNumber,column:a.column,label:u}],v.ariaLabel=u,!this.isValidLineNumber(s,a.lineNumber)){this.clearDecorations(s);return}const h=this.toRange(a.lineNumber,a.column);s.revealRangeInCenter(h,0),this.addDecorations(s,h)};i(),n.add(v.onDidChangeValue(()=>i()));const t=(0,k.getCodeEditor)(s);return t&&t.getOptions().get(66).renderType===2&&(t.updateOptions({lineNumbers:"on"}),n.add((0,L.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),n}toRange(_=1,v=1){return{startLineNumber:_,startColumn:v,endLineNumber:_,endColumn:v}}parsePosition(_,v){const C=v.split(/,|:|#/).map(n=>parseInt(n,10)).filter(n=>!isNaN(n)),s=this.lineCount(_)+1;return{lineNumber:C[0]>0?C[0]:s+C[0],column:C[1]}}getPickLabel(_,v,C){if(this.isValidLineNumber(_,v))return this.isValidColumn(_,v,C)?(0,D.localize)(1,null,v,C):(0,D.localize)(2,null,v);const s=_.getPosition()||{lineNumber:1,column:1},n=this.lineCount(_);return n>1?(0,D.localize)(3,null,s.lineNumber,s.column,n):(0,D.localize)(4,null,s.lineNumber,s.column)}isValidLineNumber(_,v){return!v||typeof v!="number"?!1:v>0&&v<=this.lineCount(_)}isValidColumn(_,v,C){if(!C||typeof C!="number")return!1;const s=this.getModel(_);if(!s)return!1;const n={lineNumber:v,column:C};return s.validatePosition(n).equals(n)}lineCount(_){var v,C;return(C=(v=this.getModel(_))===null||v===void 0?void 0:v.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ee[856],te([1,0,13,19,26,27,571,2,10,5,28,188,361,690,18,78]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let h=u=class extends n.AbstractEditorNavigationQuickAccessProvider{constructor(d,r,g=Object.create(null)){super(g),this._languageFeaturesService=d,this._outlineModelService=r,this.options=g,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(d){return this.provideLabelPick(d,(0,i.localize)(0,null)),m.Disposable.None}provideWithTextEditor(d,r,g){const f=d.editor,p=this.getModel(f);return p?this._languageFeaturesService.documentSymbolProvider.has(p)?this.doProvideWithEditorSymbols(d,p,r,g):this.doProvideWithoutEditorSymbols(d,p,r,g):m.Disposable.None}doProvideWithoutEditorSymbols(d,r,g,f){const p=new m.DisposableStore;return this.provideLabelPick(g,(0,i.localize)(1,null)),Se(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(r,p))||f.isCancellationRequested||p.add(this.doProvideWithEditorSymbols(d,r,g,f))}),p}provideLabelPick(d,r){d.items=[{label:r,index:0,kind:14}],d.ariaLabel=r}waitForLanguageSymbolRegistry(d,r){return Se(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(d))return!0;const g=new L.DeferredPromise,f=r.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(d)&&(f.dispose(),g.complete(!0))}));return r.add((0,m.toDisposable)(()=>g.complete(!1))),g.p})}doProvideWithEditorSymbols(d,r,g,f){var p;const b=d.editor,w=new m.DisposableStore;w.add(g.onDidAccept(R=>{const[F]=g.selectedItems;F&&F.range&&(this.gotoLocation(d,{range:F.range.selection,keyMods:g.keyMods,preserveFocus:R.inBackground}),R.inBackground||g.hide())})),w.add(g.onDidTriggerItemButton(({item:R})=>{R&&R.range&&(this.gotoLocation(d,{range:R.range.selection,keyMods:g.keyMods,forceSideBySide:!0}),g.hide())}));const E=this.getDocumentSymbols(r,f);let I;const N=R=>Se(this,void 0,void 0,function*(){I?.dispose(!0),g.busy=!1,I=new k.CancellationTokenSource(f),g.busy=!0;try{const F=(0,S.prepareQuery)(g.value.substr(u.PREFIX.length).trim()),M=yield this.doGetSymbolPicks(E,F,void 0,I.token);if(f.isCancellationRequested)return;if(M.length>0){if(g.items=M,R&&F.original.length===0){const A=(0,a.findLast)(M,T=>!!(T.type!=="separator"&&T.range&&v.Range.containsPosition(T.range.decoration,R)));A&&(g.activeItems=[A])}}else F.original.length>0?this.provideLabelPick(g,(0,i.localize)(2,null)):this.provideLabelPick(g,(0,i.localize)(3,null))}finally{f.isCancellationRequested||(g.busy=!1)}});return w.add(g.onDidChangeValue(()=>N(void 0))),N((p=b.getSelection())===null||p===void 0?void 0:p.getPosition()),w.add(g.onDidChangeActive(()=>{const[R]=g.activeItems;R&&R.range&&(b.revealRangeInCenter(R.range.selection,0),this.addDecorations(b,R.range.decoration))})),w}doGetSymbolPicks(d,r,g,f){var p,b;return Se(this,void 0,void 0,function*(){const w=yield d;if(f.isCancellationRequested)return[];const E=r.original.indexOf(u.SCOPE_PREFIX)===0,I=E?1:0;let N,R;r.values&&r.values.length>1?(N=(0,S.pieceToQuery)(r.values[0]),R=(0,S.pieceToQuery)(r.values.slice(1))):N=r;let F;const M=(b=(p=this.options)===null||p===void 0?void 0:p.openSideBySideDirection)===null||b===void 0?void 0:b.call(p);M&&(F=[{iconClass:M==="right"?D.ThemeIcon.asClassName(y.Codicon.splitHorizontal):D.ThemeIcon.asClassName(y.Codicon.splitVertical),tooltip:M==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const A=[];for(let P=0;P<w.length;P++){const x=w[P],z=(0,_.trim)(x.name),q=`$(${C.SymbolKinds.toIcon(x.kind).id}) ${z}`,B=q.length-z.length;let $=x.containerName;g?.extraContainerLabel&&($?$=`${g.extraContainerLabel} \u2022 ${$}`:$=g.extraContainerLabel);let X,ne,oe,Y;if(r.original.length>I){let W=!1;if(N!==r&&([X,ne]=(0,S.scoreFuzzy2)(q,Object.assign(Object.assign({},r),{values:void 0}),I,B),typeof X=="number"&&(W=!0)),typeof X!="number"&&([X,ne]=(0,S.scoreFuzzy2)(q,N,I,B),typeof X!="number"))continue;if(!W&&R){if($&&R.original.length>0&&([oe,Y]=(0,S.scoreFuzzy2)($,R)),typeof oe!="number")continue;typeof X=="number"&&(X+=oe)}}const U=x.tags&&x.tags.indexOf(1)>=0;A.push({index:P,kind:x.kind,score:X,label:q,ariaLabel:(0,C.getAriaLabelForSymbol)(x.name,x.kind),description:$,highlights:U?void 0:{label:ne,description:Y},range:{selection:v.Range.collapseToStart(x.selectionRange),decoration:x.range},strikethrough:U,buttons:F})}const T=A.sort((P,x)=>E?this.compareByKindAndScore(P,x):this.compareByScore(P,x));let O=[];if(E){let q=function(){x&&typeof P=="number"&&z>0&&(x.label=(0,_.format)(c[P]||l,z))},P,x,z=0;for(const B of T)P!==B.kind?(q(),P=B.kind,z=1,x={type:"separator"},O.push(x)):z++,O.push(B);q()}else T.length>0&&(O=[{label:(0,i.localize)(6,null,A.length),type:"separator"},...T]);return O})}compareByScore(d,r){if(typeof d.score!="number"&&typeof r.score=="number")return 1;if(typeof d.score=="number"&&typeof r.score!="number")return-1;if(typeof d.score=="number"&&typeof r.score=="number"){if(d.score>r.score)return-1;if(d.score<r.score)return 1}return d.index<r.index?-1:d.index>r.index?1:0}compareByKindAndScore(d,r){const g=c[d.kind]||l,f=c[r.kind]||l,p=g.localeCompare(f);return p===0?this.compareByScore(d,r):p}getDocumentSymbols(d,r){return Se(this,void 0,void 0,function*(){const g=yield this._outlineModelService.getOrCreate(d,r);return r.isCancellationRequested?[]:g.asListOfDocumentSymbols()})}};e.AbstractGotoSymbolQuickAccessProvider=h,h.PREFIX="@",h.SCOPE_PREFIX=":",h.PREFIX_BY_CATEGORY=`${u.PREFIX}${u.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=h=u=Ie([ge(0,t.ILanguageFeaturesService),ge(1,s.IOutlineModelService)],h);const l=(0,i.localize)(7,null),c={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(ee[857],te([1,0,2,12,693,15,34,32,23,460]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,y.localize)(0,null));let v=class{constructor(s,n,i,t,a){this._editor=s,this._acceptKeybindings=n,this._themeService=i,this._keybindingService=t,this._disposables=new L.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(a),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(49)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,y.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(s){var n,i,t,a;if(!this._input||!this._domNode)return;const u=s.getColor(m.widgetShadow),h=s.getColor(m.widgetBorder);this._domNode.style.backgroundColor=String((n=s.getColor(m.editorWidgetBackground))!==null&&n!==void 0?n:""),this._domNode.style.boxShadow=u?` 0 0 8px 2px ${u}`:"",this._domNode.style.border=h?`1px solid ${h}`:"",this._domNode.style.color=String((i=s.getColor(m.inputForeground))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((t=s.getColor(m.inputBackground))!==null&&t!==void 0?t:"");const l=s.getColor(m.inputBorder);this._input.style.borderWidth=l?"1px":"0px",this._input.style.borderStyle=l?"solid":"none",this._input.style.borderColor=(a=l?.toString())!==null&&a!==void 0?a:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(49);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var s,n;const[i,t]=this._acceptKeybindings;return this._label.innerText=(0,y.localize)(2,null,(s=this._keybindingService.lookupKeybinding(i))===null||s===void 0?void 0:s.getLabel(),(n=this._keybindingService.lookupKeybinding(t))===null||n===void 0?void 0:n.getLabel()),null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){var n;(n=this._currentAcceptInput)===null||n===void 0||n.call(this,s)}cancelInput(s){var n;(n=this._currentCancelInput)===null||n===void 0||n.call(this,s)}getInput(s,n,i,t,a,u){this._domNode.classList.toggle("preview",a),this._position=new k.Position(s.startLineNumber,s.startColumn),this._input.value=n,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",t.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const h=new L.DisposableStore;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===n){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:a&&c})},h.add(u.onCancellationRequested(()=>this.cancelInput(!0))),h.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{h.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};e.RenameInputField=v,e.RenameInputField=v=Ie([ge(2,_.IThemeService),ge(3,S.IKeybindingService),ge(4,D.IContextKeyService)],v)}),define(ee[858],te([1,0,49,13,19,9,2,20,21,104,16,130,33,12,5,22,186,190,692,95,15,8,66,46,85,35,857,18]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class I{constructor(T,O,P){this.model=T,this.position=O,this._providerRenameIdx=0,this._providers=P.ordered(T)}hasProvider(){return this._providers.length>0}resolveRenameLocation(T){return Se(this,void 0,void 0,function*(){const O=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const x=this._providers[this._providerRenameIdx];if(!x.resolveRenameLocation)break;const z=yield x.resolveRenameLocation(this.model,this.position,T);if(z){if(z.rejectReason){O.push(z.rejectReason);continue}return z}}const P=this.model.getWordAtPosition(this.position);return P?{range:new t.Range(this.position.lineNumber,P.startColumn,this.position.lineNumber,P.endColumn),text:P.word,rejectReason:O.length>0?O.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:O.length>0?O.join(`
`):void 0}})}provideRenameEdits(T,O){return Se(this,void 0,void 0,function*(){return this._provideRenameEdits(T,this._providerRenameIdx,[],O)})}_provideRenameEdits(T,O,P,x){return Se(this,void 0,void 0,function*(){const z=this._providers[O];if(!z)return{edits:[],rejectReason:P.join(`
`)};const q=yield z.provideRenameEdits(this.model,this.position,T,x);if(q){if(q.rejectReason)return this._provideRenameEdits(T,O+1,P.concat(q.rejectReason),x)}else return this._provideRenameEdits(T,O+1,P.concat(l.localize(0,null)),x);return q})}}function N(A,T,O,P){return Se(this,void 0,void 0,function*(){const x=new I(T,O,A),z=yield x.resolveRenameLocation(y.CancellationToken.None);return z?.rejectReason?{edits:[],rejectReason:z.rejectReason}:x.provideRenameEdits(P,y.CancellationToken.None)})}e.rename=N;let R=E=class{static get(T){return T.getContribution(E.ID)}constructor(T,O,P,x,z,q,B,$){this.editor=T,this._instaService=O,this._notificationService=P,this._bulkEditService=x,this._progressService=z,this._logService=q,this._configService=B,this._languageFeaturesService=$,this._disposableStore=new S.DisposableStore,this._cts=new y.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(b.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var T,O;return Se(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new y.CancellationTokenSource,!this.editor.hasModel())return;const P=this.editor.getPosition(),x=new I(this.editor.getModel(),P,this._languageFeaturesService.renameProvider);if(!x.hasProvider())return;const z=new v.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let q;try{const W=x.resolveRenameLocation(z.token);this._progressService.showWhile(W,250),q=yield W}catch(W){(T=h.MessageController.get(this.editor))===null||T===void 0||T.showMessage(W||l.localize(1,null),P);return}finally{z.dispose()}if(!q)return;if(q.rejectReason){(O=h.MessageController.get(this.editor))===null||O===void 0||O.showMessage(q.rejectReason,P);return}if(z.token.isCancellationRequested)return;const B=new v.EditorStateCancellationTokenSource(this.editor,5,q.range,this._cts.token),$=this.editor.getSelection();let X=0,ne=q.text.length;!t.Range.isEmpty($)&&!t.Range.spansMultipleLines($)&&t.Range.containsRange(q.range,$)&&(X=Math.max(0,$.startColumn-q.range.startColumn),ne=Math.min(q.range.endColumn,$.endColumn)-q.range.startColumn);const oe=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Y=yield this._renameInputField.getInput(q.range,q.text,X,ne,oe,B.token);if(typeof Y=="boolean"){Y&&this.editor.focus(),B.dispose();return}this.editor.focus();const U=(0,k.raceCancellation)(x.provideRenameEdits(Y.newName,B.token),B.token).then(W=>Se(this,void 0,void 0,function*(){if(!(!W||!this.editor.hasModel())){if(W.rejectReason){this._notificationService.info(W.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(W,{editor:this.editor,showPreview:Y.wantsPreview,label:l.localize(2,null,q?.text,Y.newName),code:"undoredo.rename",quotableLabel:l.localize(3,null,q?.text,Y.newName),respectAutoSaveConfig:!0}).then(V=>{V.ariaSummary&&(0,L.alert)(l.localize(4,null,q.text,Y.newName,V.ariaSummary))}).catch(V=>{this._notificationService.error(l.localize(5,null)),this._logService.error(V)})}}),W=>{this._notificationService.error(l.localize(6,null)),this._logService.error(W)}).finally(()=>{B.dispose()});return this._progressService.showWhile(U,250),U})}acceptRenameInput(T){this._renameInputField.acceptInput(T)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};R.ID="editor.contrib.renameController",R=E=Ie([ge(1,d.IInstantiationService),ge(2,g.INotificationService),ge(3,s.IBulkEditService),ge(4,f.IEditorProgressService),ge(5,r.ILogService),ge(6,u.ITextResourceConfigurationService),ge(7,w.ILanguageFeaturesService)],R);class F extends C.EditorAction{constructor(){super({id:"editor.action.rename",label:l.localize(7,null),alias:"Rename Symbol",precondition:o.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(T,O){const P=T.get(n.ICodeEditorService),[x,z]=Array.isArray(O)&&O||[void 0,void 0];return _.URI.isUri(x)&&i.Position.isIPosition(z)?P.openCodeEditor({resource:x},P.getActiveCodeEditor()).then(q=>{q&&(q.setPosition(z),q.invokeWithinContext(B=>(this.reportTelemetry(B,q),this.run(B,q))))},D.onUnexpectedError):super.runCommand(T,O)}run(T,O){const P=R.get(O);return P?P.run():Promise.resolve()}}e.RenameAction=F,(0,C.registerEditorContribution)(R.ID,R,4),(0,C.registerEditorAction)(F);const M=C.EditorCommand.bindToContribution(R.get);(0,C.registerEditorCommand)(new M({id:"acceptRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:3}})),(0,C.registerEditorCommand)(new M({id:"acceptRenameInputWithPreview",precondition:o.ContextKeyExpr.and(b.CONTEXT_RENAME_INPUT_VISIBLE,o.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:A=>A.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:1024+3}})),(0,C.registerEditorCommand)(new M({id:"cancelRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,C.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(A,T,O,...P){const[x]=P;(0,m.assertType)(typeof x=="string");const{renameProvider:z}=A.get(w.ILanguageFeaturesService);return N(z,T,O,x)}),(0,C.registerModelAndPositionCommand)("_executePrepareRename",function(A,T,O){return Se(this,void 0,void 0,function*(){const{renameProvider:P}=A.get(w.ILanguageFeaturesService),z=yield new I(T,O,P).resolveRenameLocation(y.CancellationToken.None);if(z?.rejectReason)throw new Error(z.rejectReason);return z})}),p.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:l.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[859],te([1,0,2,9,50,29,13,19,23,252,336,73,58,18,235,147,300]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let l=class extends L.Disposable{constructor(r,g,f,p,b,w){super(),this._watchers=Object.create(null);const E=R=>{this._watchers[R.uri.toString()]=new c(R,r,f,b,w)},I=(R,F)=>{F.dispose(),delete this._watchers[R.uri.toString()]},N=()=>{for(const R of g.getModels()){const F=this._watchers[R.uri.toString()];(0,u.isSemanticColoringEnabled)(R,f,p)?F||E(R):F&&I(R,F)}};this._register(g.onModelAdded(R=>{(0,u.isSemanticColoringEnabled)(R,f,p)&&E(R)})),this._register(g.onModelRemoved(R=>{const F=this._watchers[R.uri.toString()];F&&I(R,F)})),this._register(p.onDidChangeConfiguration(R=>{R.affectsConfiguration(u.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&N()})),this._register(f.onDidColorThemeChange(N))}dispose(){for(const r of Object.values(this._watchers))r.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=l,e.DocumentSemanticTokensFeature=l=Ie([ge(0,t.ISemanticTokensStylingService),ge(1,y.IModelService),ge(2,_.IThemeService),ge(3,D.IConfigurationService),ge(4,s.ILanguageFeatureDebounceService),ge(5,i.ILanguageFeaturesService)],l);let c=h=class extends L.Disposable{constructor(r,g,f,p,b){super(),this._semanticTokensStylingService=g,this._isDisposed=!1,this._model=r,this._provider=b.documentSemanticTokensProvider,this._debounceInformation=p.for(this._provider,"DocumentSemanticTokens",{min:h.REQUEST_MIN_DELAY,max:h.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),h.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const w=()=>{(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const E of this._provider.all(r))typeof E.onDidChange=="function"&&this._documentProvidersChangeListeners.push(E.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};w(),this._register(this._provider.onDidChange(()=>{w(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(f.onDidColorThemeChange(E=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,C.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const r=new m.CancellationTokenSource,g=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,f=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,p=(0,C.getDocumentSemanticTokens)(this._provider,this._model,g,f,r.token);this._currentDocumentRequestCancellationTokenSource=r,this._providersChangedDuringRequest=!1;const b=[],w=this._model.onDidChangeContent(I=>{b.push(I)}),E=new n.StopWatch(!1);p.then(I=>{if(this._debounceInformation.update(this._model,E.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,w.dispose(),!I)this._setDocumentSemanticTokens(null,null,null,b);else{const{provider:N,tokens:R}=I,F=this._semanticTokensStylingService.getStyling(N);this._setDocumentSemanticTokens(N,R||null,F,b)}},I=>{I&&(k.isCancellationError(I)||typeof I.message=="string"&&I.message.indexOf("busy")!==-1)||k.onUnexpectedError(I),this._currentDocumentRequestCancellationTokenSource=null,w.dispose(),(b.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(r,g,f,p,b){b=Math.min(b,f.length-p,r.length-g);for(let w=0;w<b;w++)f[p+w]=r[g+w]}_setDocumentSemanticTokens(r,g,f,p){const b=this._currentDocumentResponse,w=()=>{(p.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){r&&g&&r.releaseDocumentSemanticTokens(g.resultId);return}if(!r||!f){this._model.tokenization.setSemanticTokens(null,!1);return}if(!g){this._model.tokenization.setSemanticTokens(null,!0),w();return}if((0,C.isSemanticTokensEdits)(g)){if(!b){this._model.tokenization.setSemanticTokens(null,!0);return}if(g.edits.length===0)g={resultId:g.resultId,data:b.data};else{let E=0;for(const M of g.edits)E+=(M.data?M.data.length:0)-M.deleteCount;const I=b.data,N=new Uint32Array(I.length+E);let R=I.length,F=N.length;for(let M=g.edits.length-1;M>=0;M--){const A=g.edits[M];if(A.start>I.length){f.warnInvalidEditStart(b.resultId,g.resultId,M,A.start,I.length),this._model.tokenization.setSemanticTokens(null,!0);return}const T=R-(A.start+A.deleteCount);T>0&&(h._copy(I,R-T,N,F-T,T),F-=T),A.data&&(h._copy(A.data,0,N,F-A.data.length,A.data.length),F-=A.data.length),R=A.start}R>0&&h._copy(I,0,N,0,R),g={resultId:g.resultId,data:N}}}if((0,C.isSemanticTokens)(g)){this._currentDocumentResponse=new o(r,g.resultId,g.data);const E=(0,v.toMultilineTokens2)(g,f,this._model.getLanguageId());if(p.length>0)for(const I of p)for(const N of E)for(const R of I.changes)N.applyEdit(R.range,R.text);this._model.tokenization.setSemanticTokens(E,!0)}else this._model.tokenization.setSemanticTokens(null,!0);w()}};c.REQUEST_MIN_DELAY=300,c.REQUEST_MAX_DELAY=2e3,c=h=Ie([ge(1,t.ISemanticTokensStylingService),ge(2,_.IThemeService),ge(3,s.ILanguageFeatureDebounceService),ge(4,i.ILanguageFeaturesService)],c);class o{constructor(r,g,f){this.provider=r,this.resultId=g,this.data=f}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,a.registerEditorFeature)(l)}),define(ee[860],te([1,0,13,2,16,336,300,252,29,23,73,58,18,235]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(u,h,l,c,o,d){super(),this._semanticTokensStylingService=h,this._themeService=l,this._configurationService=c,this._editor=u,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new L.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const r=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{r()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),r()})),this._register(this._editor.onDidChangeModelContent(g=>{this._cancelAll(),r()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),r()})),this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration(S.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),r())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),r()})),r()}_cancelAll(){for(const u of this._outstandingRequests)u.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(u){for(let h=0,l=this._outstandingRequests.length;h<l;h++)if(this._outstandingRequests[h]===u){this._outstandingRequests.splice(h,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const u=this._editor.getModel();if(u.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.isSemanticColoringEnabled)(u,this._themeService,this._configurationService)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,u)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}const h=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(h.map(l=>this._requestRange(u,l)))}_requestRange(u,h){const l=u.getVersionId(),c=(0,L.createCancelablePromise)(d=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,u,h,d))),o=new s.StopWatch(!1);return c.then(d=>{if(this._debounceInformation.update(u,o.elapsed()),!d||!d.tokens||u.isDisposed()||u.getVersionId()!==l)return;const{provider:r,tokens:g}=d,f=this._semanticTokensStylingService.getStyling(r);u.tokenization.setPartialSemanticTokens(h,(0,m.toMultilineTokens2)(g,f,u.getLanguageId()))}).then(()=>this._removeOutstandingRequest(c),()=>this._removeOutstandingRequest(c)),c}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=Ie([ge(1,i.ISemanticTokensStylingService),ge(2,v.IThemeService),ge(3,_.IConfigurationService),ge(4,C.ILanguageFeatureDebounceService),ge(5,n.ILanguageFeaturesService)],t),(0,y.registerEditorContribution)(t.ID,t,1)}),define(ee[861],te([1,0,7,227,26,27,6,68,2,21,28,773,50,42,702,333,76,23,347]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function o(p){return`suggest-aria-id:${p}`}e.getAriaId=o;const d=(0,u.registerIcon)("suggest-more-info",y.Codicon.chevronRight,t.localize(0,null)),r=new(c=class{extract(b,w){if(b.textLabel.match(c._regexStrict))return w[0]=b.textLabel,!0;if(b.completion.detail&&b.completion.detail.match(c._regexStrict))return w[0]=b.completion.detail,!0;if(typeof b.completion.documentation=="string"){const E=c._regexRelaxed.exec(b.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===b.completion.documentation.length))return w[0]=E[0],!0}return!1}},c._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,c._regexStrict=new RegExp(`^${c._regexRelaxed.source}$`,"i"),c);let g=class{constructor(b,w,E,I){this._editor=b,this._modelService=w,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(b){const w=new _.DisposableStore,E=b;E.classList.add("show-file-icons");const I=(0,L.append)(b,(0,L.$)(".icon")),N=(0,L.append)(I,(0,L.$)("span.colorspan")),R=(0,L.append)(b,(0,L.$)(".contents")),F=(0,L.append)(R,(0,L.$)(".main")),M=(0,L.append)(F,(0,L.$)(".icon-label.codicon")),A=(0,L.append)(F,(0,L.$)("span.left")),T=(0,L.append)(F,(0,L.$)("span.right")),O=new k.IconLabel(A,{supportHighlights:!0,supportIcons:!0});w.add(O);const P=(0,L.append)(A,(0,L.$)("span.signature-label")),x=(0,L.append)(A,(0,L.$)("span.qualifier-label")),z=(0,L.append)(T,(0,L.$)("span.details-label")),q=(0,L.append)(T,(0,L.$)("span.readMore"+D.ThemeIcon.asCSSSelector(d)));q.title=t.localize(1,null);const B=()=>{const $=this._editor.getOptions(),X=$.get(49),ne=X.getMassagedFontFamily(),oe=X.fontFeatureSettings,Y=$.get(117)||X.fontSize,U=$.get(118)||X.lineHeight,W=X.fontWeight,V=X.letterSpacing,Z=`${Y}px`,ie=`${U}px`,le=`${V}px`;E.style.fontSize=Z,E.style.fontWeight=W,E.style.letterSpacing=le,F.style.fontFamily=ne,F.style.fontFeatureSettings=oe,F.style.lineHeight=ie,I.style.height=ie,I.style.width=ie,q.style.height=ie,q.style.width=ie};return B(),w.add(this._editor.onDidChangeConfiguration($=>{($.hasChanged(49)||$.hasChanged(117)||$.hasChanged(118))&&B()})),{root:E,left:A,right:T,icon:I,colorspan:N,iconLabel:O,iconContainer:M,parametersLabel:P,qualifierLabel:x,detailsLabel:z,readMore:q,disposables:w}}renderElement(b,w,E){const{completion:I}=b;E.root.id=o(w),E.colorspan.style.backgroundColor="";const N={labelEscapeNewLines:!0,matches:(0,m.createMatches)(b.score)},R=[];if(I.kind===19&&r.extract(b,R))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=R[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const F=(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:b.textLabel}),a.FileKind.FILE),M=(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FILE);N.extraClasses=F.length>M.length?F:M}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",N.extraClasses=[(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:b.textLabel}),a.FileKind.FOLDER),(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(C.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(N.extraClasses=(N.extraClasses||[]).concat(["deprecated"]),N.matches=[]),E.iconLabel.setLabel(b.textLabel,void 0,N),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=f(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=f(I.label.detail||""),E.detailsLabel.textContent=f(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(116).showInlineDetails?(0,L.show)(E.detailsLabel):(0,L.hide)(E.detailsLabel),(0,l.canExpandCompletionItem)(b)?(E.right.classList.add("can-expand-details"),(0,L.show)(E.readMore),E.readMore.onmousedown=F=>{F.stopPropagation(),F.preventDefault()},E.readMore.onclick=F=>{F.stopPropagation(),F.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,L.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(b){b.disposables.dispose()}};e.ItemRenderer=g,e.ItemRenderer=g=Ie([ge(1,n.IModelService),ge(2,i.ILanguageService),ge(3,h.IThemeService)],g);function f(p){return p.replace(/\r\n|\r|\n/g,"")}}),define(ee[862],te([1,0,855,35,134,33,93,6,16,22,67]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let s=class extends L.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=s,e.StandaloneGotoLineQuickAccessProvider=s=Ie([ge(0,D.ICodeEditorService)],s);class n extends _.EditorAction{constructor(){super({id:n.ID,label:S.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(C.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=n,n.ID="editor.action.gotoLine",(0,_.registerEditorAction)(n),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:S.GoToLineNLS.gotoLineActionLabel,commandId:n.ID}]})}),define(ee[863],te([1,0,856,35,134,33,93,6,16,22,67,188,18,172,249]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends L.AbstractGotoSymbolQuickAccessProvider{constructor(u,h,l){super(h,l),this.editorService=u,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var u;return(u=this.editorService.getFocusedCodeEditor())!==null&&u!==void 0?u:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=i,e.StandaloneGotoSymbolQuickAccessProvider=i=Ie([ge(0,D.ICodeEditorService),ge(1,n.ILanguageFeaturesService),ge(2,s.IOutlineModelService)],i);class t extends _.EditorAction{constructor(){super({id:t.ID,label:S.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(C.IQuickInputService).quickAccess.show(L.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:C.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,_.registerEditorAction)(t),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:S.QuickOutlineNLS.quickOutlineActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:S.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ee[362],te([1,0,7,54,841,33,15,45,23]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let v=class extends y.AbstractCodeEditorService{constructor(s,n){super(n),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((i,t,a)=>Se(this,void 0,void 0,function*(){return t?this.doOpenEditor(t,i):null}))}_checkContextKey(){let s=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,n){if(!this.findModel(s,n.resource)){if(n.resource){const a=n.resource.scheme;if(a===k.Schemas.http||a===k.Schemas.https)return(0,L.windowOpenNoOpener)(n.resource.toString()),s}return null}const t=n.options?n.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")s.setSelection(t),s.revealRangeInCenter(t,1);else{const a={lineNumber:t.startLineNumber,column:t.startColumn};s.setPosition(a),s.revealPositionInCenter(a,1)}return s}findModel(s,n){const i=s.getModel();return i&&i.uri.toString()!==n.toString()?null:i}};e.StandaloneCodeEditorService=v,e.StandaloneCodeEditorService=v=Ie([ge(0,S.IContextKeyService),ge(1,_.IThemeService)],v),(0,m.registerSingleton)(D.ICodeEditorService,v,0)}),define(ee[864],te([1,0,77,32]),function(G,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[L.editorIndentGuide1]:"#D3D3D3",[L.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[L.editorIndentGuide1]:"#404040",[L.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[L.editorIndentGuide1]:"#FFFFFF",[L.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[L.editorIndentGuide1]:"#292929",[L.editorActiveIndentGuide1]:"#292929"}}}),define(ee[363],te([1,0,7,51,36,6,28,124,505,864,35,32,23,2,88,835]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const u=C.Registry.as(s.Extensions.ColorContribution),h=C.Registry.as(n.Extensions.ThemingContribution);class l{constructor(f,p){this.semanticHighlighting=!1,this.themeData=p;const b=p.base;f.length>0?(c(f)?this.id=f:this.id=b+" "+f,this.themeName=f):(this.id=b,this.themeName=b),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(const p in this.themeData.colors)f.set(p,y.Color.fromHex(this.themeData.colors[p]));if(this.themeData.inherit){const p=o(this.themeData.base);for(const b in p.colors)f.has(b)||f.set(b,y.Color.fromHex(p.colors[b]))}this.colors=f}return this.colors}getColor(f,p){const b=this.getColors().get(f);if(b)return b;if(p!==!1)return this.getDefault(f)}getDefault(f){let p=this.defaultColors[f];return p||(p=u.resolveDefaultColor(f,this),this.defaultColors[f]=p,p)}defines(f){return this.getColors().has(f)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],p=[];if(this.themeData.inherit){const E=o(this.themeData.base);f=E.rules,E.encodedTokensColors&&(p=E.encodedTokensColors)}const b=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(b||w){const E={token:""};b&&(E.foreground=b),w&&(E.background=w),f.push(E)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(p=this.themeData.encodedTokensColors),this._tokenTheme=_.TokenTheme.createFromRawTokenTheme(f,p)}return this._tokenTheme}getTokenStyleMetadata(f,p,b){const E=this.tokenTheme._match([f].concat(p).join(".")).metadata,I=m.TokenMetadata.getForeground(E),N=m.TokenMetadata.getFontStyle(E);return{foreground:I,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}}function c(g){return g===e.VS_LIGHT_THEME_NAME||g===e.VS_DARK_THEME_NAME||g===e.HC_BLACK_THEME_NAME||g===e.HC_LIGHT_THEME_NAME}function o(g){switch(g){case e.VS_LIGHT_THEME_NAME:return v.vs;case e.VS_DARK_THEME_NAME:return v.vs_dark;case e.HC_BLACK_THEME_NAME:return v.hc_black;case e.HC_LIGHT_THEME_NAME:return v.hc_light}}function d(g){const f=o(g);return new l(g,f)}class r extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new a.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,d(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,d(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,d(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,d(e.HC_LIGHT_THEME_NAME));const f=(0,a.getIconsStyleSheet)(this);this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()}),(0,k.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(f){return L.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=L.createStyleSheet(void 0,f=>{f.className="monaco-colors",f.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(f){const p=L.createStyleSheet(f,b=>{b.className="monaco-colors",b.textContent=this._allCSS});return this._styleElements.push(p),{dispose:()=>{for(let b=0;b<this._styleElements.length;b++)if(this._styleElements[b]===p){this._styleElements.splice(b,1);return}}}}defineTheme(f,p){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!c(p.base)&&!c(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new l(f,p)),c(f)&&this._knownThemes.forEach(b=>{b.base===f&&b.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let p;this._knownThemes.has(f)?p=this._knownThemes.get(f):p=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(p)}_updateActualTheme(f){!f||this._theme===f||(this._theme=f,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const f=window.matchMedia("(forced-colors: active)").matches;if(f!==(0,t.isHighContrast)(this._theme.type)){let p;(0,t.isDark)(this._theme.type)?p=f?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:p=f?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(p))}}}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const f=[],p={},b={addRule:I=>{p[I]||(f.push(I),p[I]=!0)}};h.getThemingParticipants().forEach(I=>I(this._theme,b,this._environment));const w=[];for(const I of u.getColors()){const N=this._theme.getColor(I.id,!0);N&&w.push(`${(0,s.asCssVariableName)(I.id)}: ${N.toString()};`)}b.addRule(`.monaco-editor, .monaco-diff-editor { ${w.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();b.addRule((0,_.generateTokensCSSForColorMap)(E)),this._themeCSS=f.join(`
`),this._updateCSS(),S.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=r}),define(ee[865],te([1,0,16,131,93,88,363]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class m extends L.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:y.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(v,C){const s=v.get(k.IStandaloneThemeService),n=s.getColorTheme();(0,D.isHighContrast)(n.type)?(s.setTheme(this._originalThemeName||((0,D.isDark)(n.type)?S.VS_DARK_THEME_NAME:S.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(s.setTheme((0,D.isDark)(n.type)?S.HC_BLACK_THEME_NAME:S.HC_LIGHT_THEME_NAME),this._originalThemeName=n.themeName)}}(0,L.registerEditorAction)(m)}),define(ee[160],te([1,0,7,43,129,319,41,217,2,17,715,30,738,15,57,8,34,46,87,23,27,88,20,32,105,86,473]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function b(A,T,O,P){const x=A.getActions(T),z=L.ModifierKeyEmitter.getInstance(),q=z.keyStatus.altKey||(v.isWindows||v.isLinux)&&z.keyStatus.shiftKey;E(x,O,q,P?B=>B===P:B=>B==="navigation")}e.createAndFillInContextMenuActions=b;function w(A,T,O,P,x,z){const q=A.getActions(T);E(q,O,!1,typeof P=="string"?$=>$===P:P,x,z)}e.createAndFillInActionBarActions=w;function E(A,T,O,P=q=>q==="navigation",x=()=>!1,z=!1){let q,B;Array.isArray(T)?(q=T,B=T):(q=T.primary,B=T.secondary);const $=new Set;for(const[X,ne]of A){let oe;P(X)?(oe=q,oe.length>0&&z&&oe.push(new S.Separator)):(oe=B,oe.length>0&&oe.push(new S.Separator));for(let Y of ne){O&&(Y=Y instanceof s.MenuItemAction&&Y.alt?Y.alt:Y);const U=oe.push(Y);Y instanceof S.SubmenuAction&&$.add({group:X,action:Y,index:U-1})}}for(const{group:X,action:ne,index:oe}of $){const Y=P(X)?q:B,U=ne.actions;U.length<=1&&x(ne,X,Y.length)&&Y.splice(oe,1,...U)}}let I=class extends y.ActionViewItem{constructor(T,O,P,x,z,q,B,$){super(void 0,T,{icon:!!(T.class||T.item.icon),label:!T.class&&!T.item.icon,draggable:O?.draggable,keybinding:O?.keybinding,hoverDelegate:O?.hoverDelegate}),this._keybindingService=P,this._notificationService=x,this._contextKeyService=z,this._themeService=q,this._contextMenuService=B,this._accessibilityService=$,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new _.MutableDisposable),this._altKey=L.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(T){return Se(this,void 0,void 0,function*(){T.preventDefault(),T.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(O){this._notificationService.error(O)}})}render(T){if(super.render(T),T.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let O=!1;const P=()=>{var x;const z=!!(!((x=this._menuItemAction.alt)===null||x===void 0)&&x.enabled)&&(!this._accessibilityService.isMotionReduced()||O)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&O);z!==this._wantsAltCommand&&(this._wantsAltCommand=z,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(P)),this._register((0,L.addDisposableListener)(T,"mouseleave",x=>{O=!1,P()})),this._register((0,L.addDisposableListener)(T,"mouseenter",x=>{O=!0,P()})),P()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var T;const O=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),P=O&&O.getLabel(),x=this._commandAction.tooltip||this._commandAction.label;let z=P?(0,C.localize)(0,null,x,P):x;if(!this._wantsAltCommand&&(!((T=this._menuItemAction.alt)===null||T===void 0)&&T.enabled)){const q=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,B=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),$=B&&B.getLabel(),X=$?(0,C.localize)(1,null,q,$):q;z=(0,C.localize)(2,null,z,m.UILabelProvider.modifierLabels[v.OS].altKey,X)}return z}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(T){this._itemClassDispose.value=void 0;const{element:O,label:P}=this;if(!O||!P)return;const x=this._commandAction.checked&&(0,n.isICommandActionToggleInfo)(T.toggled)&&T.toggled.icon?T.toggled.icon:T.icon;if(x)if(o.ThemeIcon.isThemeIcon(x)){const z=o.ThemeIcon.asClassNameArray(x);P.classList.add(...z),this._itemClassDispose.value=(0,_.toDisposable)(()=>{P.classList.remove(...z)})}else{const z=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(x.dark):(0,L.asCSSUrl)(x.light),q=(0,L.$)("span");q.style.webkitMask=q.style.mask=`${z} no-repeat 50% 50%`,q.style.background="var(--vscode-icon-foreground)",q.style.display="inline-block",q.style.width="100%",q.style.height="100%",P.appendChild(q),P.classList.add("icon"),this._itemClassDispose.value=(0,_.combinedDisposable)((0,_.toDisposable)(()=>{P.classList.remove("icon"),(0,L.reset)(P)}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=Ie([ge(2,u.IKeybindingService),ge(3,h.INotificationService),ge(4,i.IContextKeyService),ge(5,c.IThemeService),ge(6,t.IContextMenuService),ge(7,p.IAccessibilityService)],I);let N=class extends D.DropdownMenuActionViewItem{constructor(T,O,P,x,z){var q,B,$;const X=Object.assign(Object.assign({},O),{menuAsChild:(q=O?.menuAsChild)!==null&&q!==void 0?q:!1,classNames:(B=O?.classNames)!==null&&B!==void 0?B:o.ThemeIcon.isThemeIcon(T.item.icon)?o.ThemeIcon.asClassName(T.item.icon):void 0,keybindingProvider:($=O?.keybindingProvider)!==null&&$!==void 0?$:ne=>P.lookupKeybinding(ne.id)});super(T,{getActions:()=>T.actions},x,X),this._keybindingService=P,this._contextMenuService=x,this._themeService=z}render(T){super.render(T),(0,r.assertType)(this.element),T.classList.add("menu-entry");const O=this._action,{icon:P}=O.item;if(P&&!o.ThemeIcon.isThemeIcon(P)){this.element.classList.add("icon");const x=()=>{this.element&&(this.element.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(P.dark):(0,L.asCSSUrl)(P.light))};x(),this._register(this._themeService.onDidColorThemeChange(()=>{x()}))}}};e.SubmenuEntryActionViewItem=N,e.SubmenuEntryActionViewItem=N=Ie([ge(2,u.IKeybindingService),ge(3,t.IContextMenuService),ge(4,c.IThemeService)],N);let R=class extends y.BaseActionViewItem{constructor(T,O,P,x,z,q,B,$){var X,ne,oe;super(null,T),this._keybindingService=P,this._notificationService=x,this._contextMenuService=z,this._menuService=q,this._instaService=B,this._storageService=$,this._container=null,this._options=O,this._storageKey=`${T.item.submenu.id}_lastActionId`;let Y;const U=O?.persistLastActionId?$.get(this._storageKey,1):void 0;U&&(Y=T.actions.find(V=>U===V.id)),Y||(Y=T.actions[0]),this._defaultAction=this._instaService.createInstance(I,Y,{keybinding:this._getDefaultActionKeybindingLabel(Y)});const W=Object.assign(Object.assign({keybindingProvider:V=>this._keybindingService.lookupKeybinding(V.id)},O),{menuAsChild:(X=O?.menuAsChild)!==null&&X!==void 0?X:!0,classNames:(ne=O?.classNames)!==null&&ne!==void 0?ne:["codicon","codicon-chevron-down"],actionRunner:(oe=O?.actionRunner)!==null&&oe!==void 0?oe:new S.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(T,T.actions,this._contextMenuService,W),this._dropdown.actionRunner.onDidRun(V=>{V.action instanceof s.MenuItemAction&&this.update(V.action)})}update(T){var O;!((O=this._options)===null||O===void 0)&&O.persistLastActionId&&this._storageService.store(this._storageKey,T.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,T,{keybinding:this._getDefaultActionKeybindingLabel(T)}),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(P,x){return Se(this,void 0,void 0,function*(){yield P.run(void 0)})}},this._container&&this._defaultAction.render((0,L.prepend)(this._container,(0,L.$)(".action-container")))}_getDefaultActionKeybindingLabel(T){var O;let P;if(!((O=this._options)===null||O===void 0)&&O.renderKeybindingWithDefaultActionLabel){const x=this._keybindingService.lookupKeybinding(T.id);x&&(P=`(${x.getLabel()})`)}return P}setActionContext(T){super.setActionContext(T),this._defaultAction.setActionContext(T),this._dropdown.setActionContext(T)}render(T){this._container=T,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const O=(0,L.$)(".action-container");this._defaultAction.render((0,L.append)(this._container,O)),this._register((0,L.addDisposableListener)(O,L.EventType.KEY_DOWN,x=>{const z=new k.StandardKeyboardEvent(x);z.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),z.stopPropagation())}));const P=(0,L.$)(".dropdown-action-container");this._dropdown.render((0,L.append)(this._container,P)),this._register((0,L.addDisposableListener)(P,L.EventType.KEY_DOWN,x=>{var z;const q=new k.StandardKeyboardEvent(x);q.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(z=this._defaultAction.element)===null||z===void 0||z.focus(),q.stopPropagation())}))}focus(T){T?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(T){T?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=R,e.DropdownWithDefaultActionViewItem=R=Ie([ge(2,u.IKeybindingService),ge(3,h.INotificationService),ge(4,t.IContextMenuService),ge(5,s.IMenuService),ge(6,a.IInstantiationService),ge(7,l.IStorageService)],R);let F=class extends y.SelectActionViewItem{constructor(T,O){super(null,T,T.actions.map(P=>({text:P.id===S.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":P.label,isDisabled:!P.enabled})),0,O,f.defaultSelectBoxStyles,{ariaLabel:T.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,T.actions.findIndex(P=>P.checked)))}render(T){super.render(T),T.style.borderColor=(0,g.asCssVariable)(g.selectBorder)}runAction(T,O){const P=this.action.actions[O];P&&this.actionRunner.run(P)}};F=Ie([ge(1,t.IContextViewService)],F);function M(A,T,O){return T instanceof s.MenuItemAction?A.createInstance(I,T,O):T instanceof s.SubmenuItemAction?T.item.isSelection?A.createInstance(F,T):T.item.rememberDefaultAction?A.createInstance(R,T,Object.assign(Object.assign({},O),{persistLastActionId:!0})):A.createInstance(N,T,O):void 0}e.createActionViewItem=M}),define(ee[253],te([1,0,7,129,223,41,14,13,26,2,40,17,27,12,28,215,679,160,817,30,25,15,57,8,34,75,76,452]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let E=class extends v.Disposable{constructor(O,P,x){super(),this.editor=O,this.model=P,this.instantiationService=x,this.alwaysShowToolbar=(0,C.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,C.derived)(this,z=>{var q,B,$;const X=(q=this.model.read(z))===null||q===void 0?void 0:q.ghostText.read(z);if(!this.alwaysShowToolbar.read(z)||!X||X.parts.length===0)return this.sessionPosition=void 0,null;const ne=X.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==X.lineNumber&&(this.sessionPosition=void 0);const oe=new i.Position(X.lineNumber,Math.min(ne,($=(B=this.sessionPosition)===null||B===void 0?void 0:B.column)!==null&&$!==void 0?$:Number.MAX_SAFE_INTEGER));return this.sessionPosition=oe,oe}),this._register((0,C.autorunWithStore)((z,q)=>{const B=this.model.read(z);if(!B||!this.alwaysShowToolbar.read(z))return;const $=q.add(this.instantiationService.createInstance(R,this.editor,!0,this.position,B.selectedInlineCompletionIndex,B.inlineCompletionsCount,B.selectedInlineCompletion.map(X=>{var ne;return(ne=X?.inlineCompletion.source.inlineCompletions.commands)!==null&&ne!==void 0?ne:[]})));O.addContentWidget($),q.add((0,v.toDisposable)(()=>O.removeContentWidget($))),q.add((0,C.autorun)(X=>{this.position.read(X)&&B.lastTriggerKind.read(X)!==t.InlineCompletionTriggerKind.Explicit&&B.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=E,e.InlineCompletionsHintsWidget=E=Ie([ge(2,g.IInstantiationService)],E);const I=(0,b.registerIcon)("inline-suggestion-hints-next",_.Codicon.chevronRight,(0,u.localize)(0,null)),N=(0,b.registerIcon)("inline-suggestion-hints-previous",_.Codicon.chevronLeft,(0,u.localize)(1,null));let R=w=class extends v.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(O,P,x){const z=new D.Action(O,P,x,!0,()=>this._commandService.executeCommand(O)),q=this.keybindingService.lookupKeybinding(O,this._contextKeyService);let B=P;return q&&(B=(0,u.localize)(2,null,P,q.getLabel())),z.tooltip=B,z}constructor(O,P,x,z,q,B,$,X,ne,oe,Y){super(),this.editor=O,this.withBorder=P,this._position=x,this._currentSuggestionIdx=z,this._suggestionCount=q,this._extraCommands=B,this._commandService=$,this.keybindingService=ne,this._contextKeyService=oe,this._menuService=Y,this.id=`InlineSuggestionHintsContentWidget${w.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,L.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,L.h)("div@toolBar")]),this.previousAction=this.createCommandAction(a.showPreviousInlineSuggestionActionId,(0,u.localize)(3,null),n.ThemeIcon.asClassName(N)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(a.showNextInlineSuggestionActionId,(0,u.localize)(4,null),n.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(c.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new m.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new m.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(X.createInstance(A,this.nodes.toolBar,c.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:U=>U.startsWith("primary")},actionViewItemProvider:(U,W)=>{if(U instanceof c.MenuItemAction)return X.createInstance(M,U,void 0);if(U===this.availableSuggestionCountAction){const V=new F(void 0,U,{label:!0,icon:!1});return V.setClass("availableSuggestionCount"),V}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(U=>{w._dropDownVisible=U})),this._register((0,C.autorun)(U=>{this._position.read(U),this.editor.layoutContentWidget(this)})),this._register((0,C.autorun)(U=>{const W=this._suggestionCount.read(U),V=this._currentSuggestionIdx.read(U);W!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${V+1}/${W}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),W!==void 0&&W>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,C.autorun)(U=>{const W=this._extraCommands.read(U);if((0,S.equals)(this.lastCommands,W))return;this.lastCommands=W;const V=W.map(Z=>({class:void 0,id:Z.id,enabled:!0,tooltip:Z.tooltip||"",label:Z.title,run:ie=>this._commandService.executeCommand(Z.id)}));for(const[Z,ie]of this.inlineCompletionsActionsMenus.getActions())for(const le of ie)le instanceof c.MenuItemAction&&V.push(le);V.length>0&&V.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(V)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=R,R._dropDownVisible=!1,R.id=0,e.InlineSuggestionHintsContentWidget=R=w=Ie([ge(6,o.ICommandService),ge(7,g.IInstantiationService),ge(8,f.IKeybindingService),ge(9,d.IContextKeyService),ge(10,c.IMenuService)],R);class F extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(O){this._className=O}render(O){super.render(O),this._className&&O.classList.add(this._className)}}class M extends h.MenuEntryActionViewItem{updateLabel(){const O=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!O)return super.updateLabel();if(this.label){const P=(0,L.h)("div.keybinding").root;new y.KeybindingLabel(P,s.OS,Object.assign({disableTitle:!0},y.unthemedKeybindingLabelOptions)).set(O),this.label.textContent=this._action.label,this.label.appendChild(P),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let A=class extends l.WorkbenchToolBar{constructor(O,P,x,z,q,B,$,X){super(O,Object.assign({resetMenu:P},x),z,q,B,$,X),this.menuId=P,this.options2=x,this.menuService=z,this.contextKeyService=q,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var O,P,x,z,q,B,$;const X=[],ne=[];(0,h.createAndFillInActionBarActions)(this.menu,(O=this.options2)===null||O===void 0?void 0:O.menuOptions,{primary:X,secondary:ne},(x=(P=this.options2)===null||P===void 0?void 0:P.toolbarOptions)===null||x===void 0?void 0:x.primaryGroup,(q=(z=this.options2)===null||z===void 0?void 0:z.toolbarOptions)===null||q===void 0?void 0:q.shouldInlineSubmenu,($=(B=this.options2)===null||B===void 0?void 0:B.toolbarOptions)===null||$===void 0?void 0:$.useSeparatorsInPrimaryActions),ne.push(...this.additionalActions),X.unshift(...this.prependedPrimaryActions),this.setActions(X,ne)}setPrependedPrimaryActions(O){(0,S.equals)(this.prependedPrimaryActions,O,(P,x)=>P===x)||(this.prependedPrimaryActions=O,this.updateToolbar())}setAdditionalSecondaryActions(O){(0,S.equals)(this.additionalActions,O,(P,x)=>P===x)||(this.additionalActions=O,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=A,e.CustomizedMenuWorkbenchToolBar=A=Ie([ge(3,c.IMenuService),ge(4,d.IContextKeyService),ge(5,r.IContextMenuService),ge(6,f.IKeybindingService),ge(7,p.ITelemetryService)],A)}),define(ee[866],te([1,0,7,72,2,703,160,30,15,8]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class C extends S.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,C.symbolPrintEnter(i)))}static symbolPrintEnter(i){var t;return(t=i.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let s=class{constructor(i,t,a,u,h){this._menuId=t,this._menuService=u,this._contextKeyService=h,this._menuDisposables=new y.DisposableStore,this.element=L.append(i,L.$(".suggest-status-bar"));const l=c=>c instanceof m.MenuItemAction?a.createInstance(C,c,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:l}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:l}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const a=[],u=[];for(const[h,l]of i.getActions())h==="left"?a.push(...l):u.push(...l);this._leftActions.clear(),this._leftActions.push(a),this._rightActions.clear(),this._rightActions.push(u)};this._menuDisposables.add(i.onDidChange(()=>t())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=s,e.SuggestWidgetStatus=s=Ie([ge(2,v.IInstantiationService),ge(3,m.IMenuService),ge(4,_.IContextKeyService)],s)}),define(ee[867],te([1,0,7,41,6,2,160,30,15,34,46,75,829,57]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new n.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(h,l,c,o,d,r){super(),this.telemetryService=h,this.notificationService=l,this.contextViewService=c,this.keybindingService=o,this.menuService=d,this.contextKeyService=r,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y.Emitter),this._onDidHideContextMenu=this._store.add(new y.Emitter)}configure(h){this.contextMenuHandler.configure(h)}showContextMenu(h){h=a.transform(h,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},h),{onHide:l=>{var c;(c=h.onHide)===null||c===void 0||c.call(h,l),this._onDidHideContextMenu.fire()}})),L.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=Ie([ge(0,s.ITelemetryService),ge(1,C.INotificationService),ge(2,i.IContextViewService),ge(3,v.IKeybindingService),ge(4,m.IMenuService),ge(5,_.IContextKeyService)],t);var a;(function(u){function h(c){return c&&c.menuId instanceof m.MenuId}function l(c,o,d){if(!h(c))return c;const{menuId:r,menuActionOptions:g,contextKeyService:f}=c;return Object.assign(Object.assign({},c),{getActions:()=>{const p=[];if(r){const b=o.createMenu(r,f??d);(0,S.createAndFillInContextMenuActions)(b,g,p),b.dispose()}return c.getActions?k.Separator.join(c.getActions(),p):p}})}u.transform=l})(a||(e.ContextMenuMenuDelegate=a={}))}),define(ee[868],te([1,0,19,6,15,8,132,191,55,786,105,32,23,840]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends n.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(v.QuickAccessController))),this._quickAccess}constructor(u,h,l,c){super(l),this.instantiationService=u,this.contextKeyService=h,this.layoutService=c,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(u=this.layoutService,h){const l={idPrefix:"quickInput_",container:u.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(d=>{d.get(_.IOpenerService).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>u.focus(),createList:(o,d,r,g,f)=>this.instantiationService.createInstance(m.WorkbenchList,o,d,r,g,f),styles:this.computeStyles()},c=this._register(new i.QuickInputController(Object.assign(Object.assign({},l),h),this.themeService));return c.layout(u.dimension,u.offset.quickPickTop),this._register(u.onDidLayout(o=>c.layout(o,u.offset.quickPickTop))),this._register(c.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(c.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),c}setContextKey(u){let h;u&&(h=this.contexts.get(u),h||(h=new y.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,h))),!(h&&h.get())&&(this.resetContextKeys(),h?.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,h={},l=L.CancellationToken.None){return this.controller.pick(u,h,l)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,s.asCssVariable)(s.quickInputBackground),quickInputForeground:(0,s.asCssVariable)(s.quickInputForeground),quickInputTitleBackground:(0,s.asCssVariable)(s.quickInputTitleBackground),widgetBorder:(0,s.asCssVariable)(s.widgetBorder),widgetShadow:(0,s.asCssVariable)(s.widgetShadow)},inputBox:C.defaultInputBoxStyles,toggle:C.defaultToggleStyles,countBadge:C.defaultCountBadgeStyles,button:C.defaultButtonStyles,progressBar:C.defaultProgressBarStyles,keybindingLabel:C.defaultKeybindingLabelStyles,list:(0,C.getListStyles)({listBackground:s.quickInputBackground,listFocusBackground:s.quickInputListFocusBackground,listFocusForeground:s.quickInputListFocusForeground,listInactiveFocusForeground:s.quickInputListFocusForeground,listInactiveSelectionIconForeground:s.quickInputListFocusIconForeground,listInactiveFocusBackground:s.quickInputListFocusBackground,listFocusOutline:s.activeContrastBorder,listInactiveFocusOutline:s.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,s.asCssVariable)(s.pickerGroupBorder),pickerGroupForeground:(0,s.asCssVariable)(s.pickerGroupForeground)}}}};e.QuickInputService=t,e.QuickInputService=t=Ie([ge(0,D.IInstantiationService),ge(1,y.IContextKeyService),ge(2,n.IThemeService),ge(3,S.ILayoutService)],t)}),define(ee[869],te([1,0,16,23,19,8,15,341,33,868,97,471]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let s=class extends v.QuickInputService{constructor(u,h,l,c,o){super(h,l,c,new m.EditorScopedLayoutService(u.getContainerDomNode(),o)),this.host=void 0;const d=i.get(u);if(d){const r=d.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return r.getDomNode()},get dimension(){return u.getLayoutInfo()},get onDidLayout(){return u.onDidLayoutChange},focus:()=>u.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};s=Ie([ge(1,D.IInstantiationService),ge(2,S.IContextKeyService),ge(3,k.IThemeService),ge(4,_.ICodeEditorService)],s);let n=class{get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let h=this.mapEditorToService.get(u);if(!h){const l=h=this.instantiationService.createInstance(s,u);this.mapEditorToService.set(u,h),(0,C.once)(u.onDidDispose)(()=>{l.dispose(),this.mapEditorToService.delete(u)})}return h}get quickAccess(){return this.activeService.quickAccess}constructor(u,h){this.instantiationService=u,this.codeEditorService=h,this.mapEditorToService=new Map}pick(u,h={},l=y.CancellationToken.None){return this.activeService.pick(u,h,l)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=n,e.StandaloneQuickInputService=n=Ie([ge(0,D.IInstantiationService),ge(1,_.ICodeEditorService)],n);class i{static get(u){return u.getContribution(i.ID)}constructor(u){this.editor=u,this.widget=new t(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=i,i.ID="editor.controller.quickInput";class t{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return t.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=t,t.ID="editor.contrib.quickInputWidget",(0,L.registerEditorContribution)(i.ID,i,4)}),define(ee[192],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,L.createDecorator)("undoRedoService");class k{constructor(m,_){this.resource=m,this.elements=_}}e.ResourceEditStackSnapshot=k;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=y,y._ID=0,y.None=new y;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(ee[39],te([1,0,14,36,9,6,2,10,21,122,202,64,12,5,24,174,42,31,48,597,852,332,289,510,511,323,598,180,623,110,192]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function F(K){const H=new b.PieceTreeTextBufferBuilder;return H.acceptChunk(K),H.finish()}e.createTextBufferFactory=F;function M(K){const H=new b.PieceTreeTextBufferBuilder;let Q;for(;typeof(Q=K.read())=="string";)H.acceptChunk(Q);return H.finish()}e.createTextBufferFactoryFromSnapshot=M;function A(K,H){let Q;return typeof K=="string"?Q=F(K):l.isITextSnapshot(K)?Q=M(K):Q=K,Q.create(H)}e.createTextBuffer=A;let T=0;const O=999,P=1e4;class x{constructor(H){this._source=H,this._eos=!1}read(){if(this._eos)return null;const H=[];let Q=0,j=0;do{const re=this._source.read();if(re===null)return this._eos=!0,Q===0?null:H.join("");if(re.length>0&&(H[Q++]=re,j+=re.length),j>=64*1024)return H.join("")}while(!0)}}const z=()=>{throw new Error("Invalid change accessor")};let q=R=class extends S.Disposable{static resolveOptions(H,Q){if(Q.detectIndentation){const j=(0,g.guessIndentation)(H,Q.tabSize,Q.insertSpaces);return new l.TextModelResolvedOptions({tabSize:j.tabSize,indentSize:"tabSize",insertSpaces:j.insertSpaces,trimAutoWhitespace:Q.trimAutoWhitespace,defaultEOL:Q.defaultEOL,bracketPairColorizationOptions:Q.bracketPairColorizationOptions})}return new l.TextModelResolvedOptions(Q)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(H){return this._eventEmitter.slowEvent(Q=>H(Q.contentChangedEvent))}onDidChangeContentOrInjectedText(H){return(0,S.combinedDisposable)(this._eventEmitter.fastEvent(Q=>H(Q)),this._onDidChangeInjectedText.event(Q=>H(Q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(H,Q,j,re=null,se,ue,me){super(),this._undoRedoService=se,this._languageService=ue,this._languageConfigurationService=me,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new de(Ne=>this.handleBeforeFireDecorationsChangedEvent(Ne))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new ce),this._languageSelectionListener=this._register(new S.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new ae,T++,this.id="$model"+T,this.isForSimpleWidget=j.isForSimpleWidget,typeof re>"u"||re===null?this._associatedResource=_.URI.parse("inmemory://model/"+T):this._associatedResource=re,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Ce}=A(H,j.defaultEOL);this._buffer=ve,this._bufferDisposable=Ce,this._options=R.resolveOptions(this._buffer,j);const we=typeof Q=="string"?Q:Q.languageId;typeof Q!="string"&&(this._languageSelectionListener.value=Q.onDidChange(()=>this._setLanguage(Q.languageId))),this._bracketPairs=this._register(new c.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new r.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new o.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,we,this._attachedViews);const Le=this._buffer.getLineCount(),Ee=this._buffer.getValueLengthInRange(new i.Range(1,1,Le,this._buffer.getLineLength(Le)+1),0);j.largeFileOptimizations?this._isTooLargeForTokenization=Ee>R.LARGE_FILE_SIZE_THRESHOLD||Le>R.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ee>R._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=m.singleLetterHash(T),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ne,this._commandManager=new d.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(we)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const H=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);H.dispose(),this._buffer=H,this._bufferDisposable=S.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(H,Q){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(Q),this._bracketPairs.handleDidChangeContent(Q),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(H,Q)))}setValue(H){if(this._assertNotDisposed(),H==null)throw(0,y.illegalArgument)();const{textBuffer:Q,disposable:j}=A(H,this._options.defaultEOL);this._setValueFromTextBuffer(Q,j)}_createContentChanged2(H,Q,j,re,se,ue,me,ve){return{changes:[{range:H,rangeOffset:Q,rangeLength:j,text:re}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:se,isRedoing:ue,isFlush:me}}_setValueFromTextBuffer(H,Q){this._assertNotDisposed();const j=this.getFullModelRange(),re=this.getValueLengthInRange(j),se=this.getLineCount(),ue=this.getLineMaxColumn(se);this._buffer=H,this._bufferDisposable.dispose(),this._bufferDisposable=Q,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new ne,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,se,ue),0,re,this.getValue(),!1,!1,!0,!1))}setEOL(H){this._assertNotDisposed();const Q=H===1?`\r
`:`
`;if(this._buffer.getEOL()===Q)return;const j=this.getFullModelRange(),re=this.getValueLengthInRange(j),se=this.getLineCount(),ue=this.getLineMaxColumn(se);this._onBeforeEOLChange(),this._buffer.setEOL(Q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,se,ue),0,re,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const H=this.getVersionId(),Q=this._decorationsTree.collectNodesPostOrder();for(let j=0,re=Q.length;j<re;j++){const se=Q[j],ue=se.range,me=se.cachedAbsoluteStart-se.start,ve=this._buffer.getOffsetAt(ue.startLineNumber,ue.startColumn),Ce=this._buffer.getOffsetAt(ue.endLineNumber,ue.endColumn);se.cachedAbsoluteStart=ve,se.cachedAbsoluteEnd=Ce,se.cachedVersionId=H,se.start=ve-me,se.end=Ce-me,(0,f.recomputeMaxEnd)(se)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(H){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(H)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let H=0,Q=0;const j=this._buffer.getLineCount();for(let re=1;re<=j;re++){const se=this._buffer.getLineLength(re);se>=P?Q+=se:H+=se}return Q>H}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(H){this._assertNotDisposed();const Q=typeof H.tabSize<"u"?H.tabSize:this._options.tabSize,j=typeof H.indentSize<"u"?H.indentSize:this._options.originalIndentSize,re=typeof H.insertSpaces<"u"?H.insertSpaces:this._options.insertSpaces,se=typeof H.trimAutoWhitespace<"u"?H.trimAutoWhitespace:this._options.trimAutoWhitespace,ue=typeof H.bracketColorizationOptions<"u"?H.bracketColorizationOptions:this._options.bracketPairColorizationOptions,me=new l.TextModelResolvedOptions({tabSize:Q,indentSize:j,insertSpaces:re,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:se,bracketPairColorizationOptions:ue});if(this._options.equals(me))return;const ve=this._options.createChangeEvent(me);this._options=me,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(H,Q){this._assertNotDisposed();const j=(0,g.guessIndentation)(this._buffer,Q,H);this.updateOptions({insertSpaces:j.insertSpaces,tabSize:j.tabSize,indentSize:j.tabSize})}normalizeIndentation(H){return this._assertNotDisposed(),(0,C.normalizeIndentation)(H,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(H=null){const Q=this.findMatches(m.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(H,Q.map(j=>({range:j.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(H){this._assertNotDisposed();const Q=this._validatePosition(H.lineNumber,H.column,0);return this._buffer.getOffsetAt(Q.lineNumber,Q.column)}getPositionAt(H){this._assertNotDisposed();const Q=Math.min(this._buffer.getLength(),Math.max(0,H));return this._buffer.getPositionAt(Q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(H){this._versionId=H}_overwriteAlternativeVersionId(H){this._alternativeVersionId=H}_overwriteInitialUndoRedoSnapshot(H){this._initialUndoRedoSnapshot=H}getValue(H,Q=!1){this._assertNotDisposed();const j=this.getFullModelRange(),re=this.getValueInRange(j,H);return Q?this._buffer.getBOM()+re:re}createSnapshot(H=!1){return new x(this._buffer.createSnapshot(H))}getValueLength(H,Q=!1){this._assertNotDisposed();const j=this.getFullModelRange(),re=this.getValueLengthInRange(j,H);return Q?this._buffer.getBOM().length+re:re}getValueInRange(H,Q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(H),Q)}getValueLengthInRange(H,Q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(H),Q)}getCharacterCountInRange(H,Q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(H),Q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(H)}getLineLength(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(H)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(H){return this._assertNotDisposed(),1}getLineMaxColumn(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(H)+1}getLineFirstNonWhitespaceColumn(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(H)}getLineLastNonWhitespaceColumn(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(H)}_validateRangeRelaxedNoAllocations(H){const Q=this._buffer.getLineCount(),j=H.startLineNumber,re=H.startColumn;let se=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),ue=Math.floor(typeof re=="number"&&!isNaN(re)?re:1);if(se<1)se=1,ue=1;else if(se>Q)se=Q,ue=this.getLineMaxColumn(se);else if(ue<=1)ue=1;else{const Le=this.getLineMaxColumn(se);ue>=Le&&(ue=Le)}const me=H.endLineNumber,ve=H.endColumn;let Ce=Math.floor(typeof me=="number"&&!isNaN(me)?me:1),we=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ce<1)Ce=1,we=1;else if(Ce>Q)Ce=Q,we=this.getLineMaxColumn(Ce);else if(we<=1)we=1;else{const Le=this.getLineMaxColumn(Ce);we>=Le&&(we=Le)}return j===se&&re===ue&&me===Ce&&ve===we&&H instanceof i.Range&&!(H instanceof t.Selection)?H:new i.Range(se,ue,Ce,we)}_isValidPosition(H,Q,j){if(typeof H!="number"||typeof Q!="number"||isNaN(H)||isNaN(Q)||H<1||Q<1||(H|0)!==H||(Q|0)!==Q)return!1;const re=this._buffer.getLineCount();if(H>re)return!1;if(Q===1)return!0;const se=this.getLineMaxColumn(H);if(Q>se)return!1;if(j===1){const ue=this._buffer.getLineCharCode(H,Q-2);if(m.isHighSurrogate(ue))return!1}return!0}_validatePosition(H,Q,j){const re=Math.floor(typeof H=="number"&&!isNaN(H)?H:1),se=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),ue=this._buffer.getLineCount();if(re<1)return new n.Position(1,1);if(re>ue)return new n.Position(ue,this.getLineMaxColumn(ue));if(se<=1)return new n.Position(re,1);const me=this.getLineMaxColumn(re);if(se>=me)return new n.Position(re,me);if(j===1){const ve=this._buffer.getLineCharCode(re,se-2);if(m.isHighSurrogate(ve))return new n.Position(re,se-1)}return new n.Position(re,se)}validatePosition(H){return this._assertNotDisposed(),H instanceof n.Position&&this._isValidPosition(H.lineNumber,H.column,1)?H:this._validatePosition(H.lineNumber,H.column,1)}_isValidRange(H,Q){const j=H.startLineNumber,re=H.startColumn,se=H.endLineNumber,ue=H.endColumn;if(!this._isValidPosition(j,re,0)||!this._isValidPosition(se,ue,0))return!1;if(Q===1){const me=re>1?this._buffer.getLineCharCode(j,re-2):0,ve=ue>1&&ue<=this._buffer.getLineLength(se)?this._buffer.getLineCharCode(se,ue-2):0,Ce=m.isHighSurrogate(me),we=m.isHighSurrogate(ve);return!Ce&&!we}return!0}validateRange(H){if(this._assertNotDisposed(),H instanceof i.Range&&!(H instanceof t.Selection)&&this._isValidRange(H,1))return H;const j=this._validatePosition(H.startLineNumber,H.startColumn,0),re=this._validatePosition(H.endLineNumber,H.endColumn,0),se=j.lineNumber,ue=j.column,me=re.lineNumber,ve=re.column;{const Ce=ue>1?this._buffer.getLineCharCode(se,ue-2):0,we=ve>1&&ve<=this._buffer.getLineLength(me)?this._buffer.getLineCharCode(me,ve-2):0,Le=m.isHighSurrogate(Ce),Ee=m.isHighSurrogate(we);return!Le&&!Ee?new i.Range(se,ue,me,ve):se===me&&ue===ve?new i.Range(se,ue-1,me,ve-1):Le&&Ee?new i.Range(se,ue-1,me,ve+1):Le?new i.Range(se,ue-1,me,ve):new i.Range(se,ue,me,ve+1)}return new i.Range(se,ue,me,ve)}modifyPosition(H,Q){this._assertNotDisposed();const j=this.getOffsetAt(H)+Q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,j)))}getFullModelRange(){this._assertNotDisposed();const H=this.getLineCount();return new i.Range(1,1,H,this.getLineMaxColumn(H))}findMatchesLineByLine(H,Q,j,re){return this._buffer.findMatchesLineByLine(H,Q,j,re)}findMatches(H,Q,j,re,se,ue,me=O){this._assertNotDisposed();let ve=null;Q!==null&&(Array.isArray(Q)||(Q=[Q]),Q.every(Le=>i.Range.isIRange(Le))&&(ve=Q.map(Le=>this.validateRange(Le)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((Le,Ee)=>Le.startLineNumber-Ee.startLineNumber||Le.startColumn-Ee.startColumn);const Ce=[];Ce.push(ve.reduce((Le,Ee)=>i.Range.areIntersecting(Le,Ee)?Le.plusRange(Ee):(Ce.push(Le),Ee)));let we;if(!j&&H.indexOf(`
`)<0){const Ee=new w.SearchParams(H,j,re,se).parseSearchRequest();if(!Ee)return[];we=Ne=>this.findMatchesLineByLine(Ne,Ee,ue,me)}else we=Le=>w.TextModelSearch.findMatches(this,new w.SearchParams(H,j,re,se),Le,ue,me);return Ce.map(we).reduce((Le,Ee)=>Le.concat(Ee),[])}findNextMatch(H,Q,j,re,se,ue){this._assertNotDisposed();const me=this.validatePosition(Q);if(!j&&H.indexOf(`
`)<0){const Ce=new w.SearchParams(H,j,re,se).parseSearchRequest();if(!Ce)return null;const we=this.getLineCount();let Le=new i.Range(me.lineNumber,me.column,we,this.getLineMaxColumn(we)),Ee=this.findMatchesLineByLine(Le,Ce,ue,1);return w.TextModelSearch.findNextMatch(this,new w.SearchParams(H,j,re,se),me,ue),Ee.length>0||(Le=new i.Range(1,1,me.lineNumber,this.getLineMaxColumn(me.lineNumber)),Ee=this.findMatchesLineByLine(Le,Ce,ue,1),Ee.length>0)?Ee[0]:null}return w.TextModelSearch.findNextMatch(this,new w.SearchParams(H,j,re,se),me,ue)}findPreviousMatch(H,Q,j,re,se,ue){this._assertNotDisposed();const me=this.validatePosition(Q);return w.TextModelSearch.findPreviousMatch(this,new w.SearchParams(H,j,re,se),me,ue)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(H){if((this.getEOL()===`
`?0:1)!==H)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(H){return H instanceof l.ValidAnnotatedEditOperation?H:new l.ValidAnnotatedEditOperation(H.identifier||null,this.validateRange(H.range),H.text,H.forceMoveMarkers||!1,H.isAutoWhitespaceEdit||!1,H._isTracked||!1)}_validateEditOperations(H){const Q=[];for(let j=0,re=H.length;j<re;j++)Q[j]=this._validateEditOperation(H[j]);return Q}pushEditOperations(H,Q,j,re){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(H,this._validateEditOperations(Q),j,re)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(H,Q,j,re){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const se=Q.map(me=>({range:this.validateRange(me.range),text:me.text}));let ue=!0;if(H)for(let me=0,ve=H.length;me<ve;me++){const Ce=H[me];let we=!1;for(let Le=0,Ee=se.length;Le<Ee;Le++){const Ne=se[Le].range,Ae=Ne.startLineNumber>Ce.endLineNumber,Re=Ce.startLineNumber>Ne.endLineNumber;if(!Ae&&!Re){we=!0;break}}if(!we){ue=!1;break}}if(ue)for(let me=0,ve=this._trimAutoWhitespaceLines.length;me<ve;me++){const Ce=this._trimAutoWhitespaceLines[me],we=this.getLineMaxColumn(Ce);let Le=!0;for(let Ee=0,Ne=se.length;Ee<Ne;Ee++){const Ae=se[Ee].range,Re=se[Ee].text;if(!(Ce<Ae.startLineNumber||Ce>Ae.endLineNumber)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===we&&Ae.isEmpty()&&Re&&Re.length>0&&Re.charAt(0)===`
`)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===1&&Ae.isEmpty()&&Re&&Re.length>0&&Re.charAt(Re.length-1)===`
`)){Le=!1;break}}if(Le){const Ee=new i.Range(Ce,1,Ce,we);Q.push(new l.ValidAnnotatedEditOperation(null,Ee,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(H,Q,j,re)}_applyUndo(H,Q,j,re){const se=H.map(ue=>{const me=this.getPositionAt(ue.newPosition),ve=this.getPositionAt(ue.newEnd);return{range:new i.Range(me.lineNumber,me.column,ve.lineNumber,ve.column),text:ue.oldText}});this._applyUndoRedoEdits(se,Q,!0,!1,j,re)}_applyRedo(H,Q,j,re){const se=H.map(ue=>{const me=this.getPositionAt(ue.oldPosition),ve=this.getPositionAt(ue.oldEnd);return{range:new i.Range(me.lineNumber,me.column,ve.lineNumber,ve.column),text:ue.newText}});this._applyUndoRedoEdits(se,Q,!1,!0,j,re)}_applyUndoRedoEdits(H,Q,j,re,se,ue){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=j,this._isRedoing=re,this.applyEdits(H,!1),this.setEOL(Q),this._overwriteAlternativeVersionId(se)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ue),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(H,Q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const j=this._validateEditOperations(H);return this._doApplyEdits(j,Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(H,Q){const j=this._buffer.getLineCount(),re=this._buffer.applyEdits(H,this._options.trimAutoWhitespace,Q),se=this._buffer.getLineCount(),ue=re.changes;if(this._trimAutoWhitespaceLines=re.trimAutoWhitespaceLineNumbers,ue.length!==0){for(let Ce=0,we=ue.length;Ce<we;Ce++){const Le=ue[Ce];this._decorationsTree.acceptReplace(Le.rangeOffset,Le.rangeLength,Le.text.length,Le.forceMoveMarkers)}const me=[];this._increaseVersionId();let ve=j;for(let Ce=0,we=ue.length;Ce<we;Ce++){const Le=ue[Ce],[Ee]=(0,v.countEOL)(Le.text);this._onDidChangeDecorations.fire();const Ne=Le.range.startLineNumber,Ae=Le.range.endLineNumber,Re=Ae-Ne,ye=Ee,De=Math.min(Re,ye),fe=ye-Re,_e=se-ve-fe+Ne,pe=_e,be=_e+ye,ke=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new n.Position(pe,1)),this.getOffsetAt(new n.Position(be,this.getLineMaxColumn(be))),0),Pe=I.LineInjectedText.fromDecorations(ke),Fe=new L.ArrayQueue(Pe);for(let Ue=De;Ue>=0;Ue--){const qe=Ne+Ue,je=_e+Ue;Fe.takeFromEndWhile(Ke=>Ke.lineNumber>je);const Ze=Fe.takeFromEndWhile(Ke=>Ke.lineNumber===je);me.push(new I.ModelRawLineChanged(qe,this.getLineContent(je),Ze))}if(De<Re){const Ue=Ne+De;me.push(new I.ModelRawLinesDeleted(Ue+1,Ae))}if(De<ye){const Ue=new L.ArrayQueue(Pe),qe=Ne+De,je=ye-De,Ze=se-ve-je+qe+1,Ke=[],ot=[];for(let st=0;st<je;st++){const lt=Ze+st;ot[st]=this.getLineContent(lt),Ue.takeWhile(dt=>dt.lineNumber<lt),Ke[st]=Ue.takeWhile(dt=>dt.lineNumber===lt)}me.push(new I.ModelRawLinesInserted(qe+1,Ne+ye,ot,Ke))}ve+=fe}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(me,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ue,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return re.reverseEdits===null?void 0:re.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(H){if(H===null||H.size===0)return;const j=Array.from(H).map(re=>new I.ModelRawLineChanged(re,this.getLineContent(re),this._getInjectedTextInLine(re)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(j))}changeDecorations(H,Q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(Q,H)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(H,Q){const j={addDecoration:(se,ue)=>this._deltaDecorationsImpl(H,[],[{range:se,options:ue}])[0],changeDecoration:(se,ue)=>{this._changeDecorationImpl(se,ue)},changeDecorationOptions:(se,ue)=>{this._changeDecorationOptionsImpl(se,he(ue))},removeDecoration:se=>{this._deltaDecorationsImpl(H,[se],[])},deltaDecorations:(se,ue)=>se.length===0&&ue.length===0?[]:this._deltaDecorationsImpl(H,se,ue)};let re=null;try{re=Q(j)}catch(se){(0,y.onUnexpectedError)(se)}return j.addDecoration=z,j.changeDecoration=z,j.changeDecorationOptions=z,j.removeDecoration=z,j.deltaDecorations=z,re}deltaDecorations(H,Q,j=0){if(this._assertNotDisposed(),H||(H=[]),H.length===0&&Q.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,y.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(j,H,Q)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(H){return this.getDecorationRange(H)}_setTrackedRange(H,Q,j){const re=H?this._decorations[H]:null;if(!re)return Q?this._deltaDecorationsImpl(0,[],[{range:Q,options:le[j]}],!0)[0]:null;if(!Q)return this._decorationsTree.delete(re),delete this._decorations[re.id],null;const se=this._validateRangeRelaxedNoAllocations(Q),ue=this._buffer.getOffsetAt(se.startLineNumber,se.startColumn),me=this._buffer.getOffsetAt(se.endLineNumber,se.endColumn);return this._decorationsTree.delete(re),re.reset(this.getVersionId(),ue,me,se),re.setOptions(le[j]),this._decorationsTree.insert(re),re.id}removeAllDecorationsWithOwnerId(H){if(this._isDisposed)return;const Q=this._decorationsTree.collectNodesFromOwner(H);for(let j=0,re=Q.length;j<re;j++){const se=Q[j];this._decorationsTree.delete(se),delete this._decorations[se.id]}}getDecorationOptions(H){const Q=this._decorations[H];return Q?Q.options:null}getDecorationRange(H){const Q=this._decorations[H];return Q?this._decorationsTree.getNodeRange(this,Q):null}getLineDecorations(H,Q=0,j=!1){return H<1||H>this.getLineCount()?[]:this.getLinesDecorations(H,H,Q,j)}getLinesDecorations(H,Q,j=0,re=!1,se=!1){const ue=this.getLineCount(),me=Math.min(ue,Math.max(1,H)),ve=Math.min(ue,Math.max(1,Q)),Ce=this.getLineMaxColumn(ve),we=new i.Range(me,1,ve,Ce),Le=this._getDecorationsInRange(we,j,re,se);return(0,L.pushMany)(Le,this._decorationProvider.getDecorationsInRange(we,j,re)),Le}getDecorationsInRange(H,Q=0,j=!1,re=!1,se=!1){const ue=this.validateRange(H),me=this._getDecorationsInRange(ue,Q,j,se);return(0,L.pushMany)(me,this._decorationProvider.getDecorationsInRange(ue,Q,j,re)),me}getOverviewRulerDecorations(H=0,Q=!1){return this._decorationsTree.getAll(this,H,Q,!0,!1)}getInjectedTextDecorations(H=0){return this._decorationsTree.getAllInjectedText(this,H)}_getInjectedTextInLine(H){const Q=this._buffer.getOffsetAt(H,1),j=Q+this._buffer.getLineLength(H),re=this._decorationsTree.getInjectedTextInInterval(this,Q,j,0);return I.LineInjectedText.fromDecorations(re).filter(se=>se.lineNumber===H)}getAllDecorations(H=0,Q=!1){let j=this._decorationsTree.getAll(this,H,Q,!1,!1);return j=j.concat(this._decorationProvider.getAllDecorations(H,Q)),j}getAllMarginDecorations(H=0){return this._decorationsTree.getAll(this,H,!1,!1,!0)}_getDecorationsInRange(H,Q,j,re){const se=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),ue=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);return this._decorationsTree.getAllInInterval(this,se,ue,Q,j,re)}getRangeAt(H,Q){return this._buffer.getRangeAt(H,Q-H)}_changeDecorationImpl(H,Q){const j=this._decorations[H];if(!j)return;if(j.options.after){const me=this.getDecorationRange(H);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber)}if(j.options.before){const me=this.getDecorationRange(H);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber)}const re=this._validateRangeRelaxedNoAllocations(Q),se=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),ue=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);this._decorationsTree.delete(j),j.reset(this.getVersionId(),se,ue,re),this._decorationsTree.insert(j),this._onDidChangeDecorations.checkAffectedAndFire(j.options),j.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.endLineNumber),j.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.startLineNumber)}_changeDecorationOptionsImpl(H,Q){const j=this._decorations[H];if(!j)return;const re=!!(j.options.overviewRuler&&j.options.overviewRuler.color),se=!!(Q.overviewRuler&&Q.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(j.options),this._onDidChangeDecorations.checkAffectedAndFire(Q),j.options.after||Q.after){const ue=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber)}if(j.options.before||Q.before){const ue=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber)}re!==se?(this._decorationsTree.delete(j),j.setOptions(Q),this._decorationsTree.insert(j)):j.setOptions(Q)}_deltaDecorationsImpl(H,Q,j,re=!1){const se=this.getVersionId(),ue=Q.length;let me=0;const ve=j.length;let Ce=0;this._onDidChangeDecorations.beginDeferredEmit();try{const we=new Array(ve);for(;me<ue||Ce<ve;){let Le=null;if(me<ue){do Le=this._decorations[Q[me++]];while(!Le&&me<ue);if(Le){if(Le.options.after){const Ee=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(Le.options.before){const Ee=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}this._decorationsTree.delete(Le),re||this._onDidChangeDecorations.checkAffectedAndFire(Le.options)}}if(Ce<ve){if(!Le){const De=++this._lastDecorationId,fe=`${this._instanceId};${De}`;Le=new f.IntervalNode(fe,0,0),this._decorations[fe]=Le}const Ee=j[Ce],Ne=this._validateRangeRelaxedNoAllocations(Ee.range),Ae=he(Ee.options),Re=this._buffer.getOffsetAt(Ne.startLineNumber,Ne.startColumn),ye=this._buffer.getOffsetAt(Ne.endLineNumber,Ne.endColumn);Le.ownerId=H,Le.reset(se,Re,ye,Ne),Le.setOptions(Ae),Le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ne.endLineNumber),Le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ne.startLineNumber),re||this._onDidChangeDecorations.checkAffectedAndFire(Ae),this._decorationsTree.insert(Le),we[Ce]=Le.id,Ce++}else Le&&delete this._decorations[Le.id]}return we}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(H,Q){typeof H=="string"?(this._languageSelectionListener.clear(),this._setLanguage(H,Q)):(this._languageSelectionListener.value=H.onDidChange(()=>this._setLanguage(H.languageId,Q)),this._setLanguage(H.languageId,Q))}_setLanguage(H,Q){this.tokenization.setLanguageId(H,Q),this._languageService.requestRichLanguageFeatures(H)}getLanguageIdAtPosition(H,Q){return this.tokenization.getLanguageIdAtPosition(H,Q)}getWordAtPosition(H){return this._tokenizationTextModelPart.getWordAtPosition(H)}getWordUntilPosition(H){return this._tokenizationTextModelPart.getWordUntilPosition(H)}normalizePosition(H,Q){return H}getLineIndentColumn(H){return B(this.getLineContent(H))+1}};e.TextModel=q,q._MODEL_SYNC_LIMIT=50*1024*1024,q.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,q.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,q.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:a.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:a.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:a.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:a.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:a.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:a.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=q=R=Ie([ge(4,N.IUndoRedoService),ge(5,u.ILanguageService),ge(6,h.ILanguageConfigurationService)],q);function B(K){let H=0;for(const Q of K)if(Q===" "||Q==="	")H++;else break;return H}function $(K){return!!(K.options.overviewRuler&&K.options.overviewRuler.color)}function X(K){return!!K.options.after||!!K.options.before}class ne{constructor(){this._decorationsTree0=new f.IntervalTree,this._decorationsTree1=new f.IntervalTree,this._injectedTextDecorationsTree=new f.IntervalTree}ensureAllNodesHaveRanges(H){this.getAll(H,0,!1,!1,!1)}_ensureNodesHaveRanges(H,Q){for(const j of Q)j.range===null&&(j.range=H.getRangeAt(j.cachedAbsoluteStart,j.cachedAbsoluteEnd));return Q}getAllInInterval(H,Q,j,re,se,ue){const me=H.getVersionId(),ve=this._intervalSearch(Q,j,re,se,me,ue);return this._ensureNodesHaveRanges(H,ve)}_intervalSearch(H,Q,j,re,se,ue){const me=this._decorationsTree0.intervalSearch(H,Q,j,re,se,ue),ve=this._decorationsTree1.intervalSearch(H,Q,j,re,se,ue),Ce=this._injectedTextDecorationsTree.intervalSearch(H,Q,j,re,se,ue);return me.concat(ve).concat(Ce)}getInjectedTextInInterval(H,Q,j,re){const se=H.getVersionId(),ue=this._injectedTextDecorationsTree.intervalSearch(Q,j,re,!1,se,!1);return this._ensureNodesHaveRanges(H,ue).filter(me=>me.options.showIfCollapsed||!me.range.isEmpty())}getAllInjectedText(H,Q){const j=H.getVersionId(),re=this._injectedTextDecorationsTree.search(Q,!1,j,!1);return this._ensureNodesHaveRanges(H,re).filter(se=>se.options.showIfCollapsed||!se.range.isEmpty())}getAll(H,Q,j,re,se){const ue=H.getVersionId(),me=this._search(Q,j,re,ue,se);return this._ensureNodesHaveRanges(H,me)}_search(H,Q,j,re,se){if(j)return this._decorationsTree1.search(H,Q,re,se);{const ue=this._decorationsTree0.search(H,Q,re,se),me=this._decorationsTree1.search(H,Q,re,se),ve=this._injectedTextDecorationsTree.search(H,Q,re,se);return ue.concat(me).concat(ve)}}collectNodesFromOwner(H){const Q=this._decorationsTree0.collectNodesFromOwner(H),j=this._decorationsTree1.collectNodesFromOwner(H),re=this._injectedTextDecorationsTree.collectNodesFromOwner(H);return Q.concat(j).concat(re)}collectNodesPostOrder(){const H=this._decorationsTree0.collectNodesPostOrder(),Q=this._decorationsTree1.collectNodesPostOrder(),j=this._injectedTextDecorationsTree.collectNodesPostOrder();return H.concat(Q).concat(j)}insert(H){X(H)?this._injectedTextDecorationsTree.insert(H):$(H)?this._decorationsTree1.insert(H):this._decorationsTree0.insert(H)}delete(H){X(H)?this._injectedTextDecorationsTree.delete(H):$(H)?this._decorationsTree1.delete(H):this._decorationsTree0.delete(H)}getNodeRange(H,Q){const j=H.getVersionId();return Q.cachedVersionId!==j&&this._resolveNode(Q,j),Q.range===null&&(Q.range=H.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd)),Q.range}_resolveNode(H,Q){X(H)?this._injectedTextDecorationsTree.resolveNode(H,Q):$(H)?this._decorationsTree1.resolveNode(H,Q):this._decorationsTree0.resolveNode(H,Q)}acceptReplace(H,Q,j,re){this._decorationsTree0.acceptReplace(H,Q,j,re),this._decorationsTree1.acceptReplace(H,Q,j,re),this._injectedTextDecorationsTree.acceptReplace(H,Q,j,re)}}function oe(K){return K.replace(/[^a-z0-9\-_]/gi," ")}class Y{constructor(H){this.color=H.color||"",this.darkColor=H.darkColor||""}}class U extends Y{constructor(H){super(H),this._resolvedColor=null,this.position=typeof H.position=="number"?H.position:l.OverviewRulerLane.Center}getColor(H){return this._resolvedColor||(H.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,H):this._resolvedColor=this._resolveColor(this.color,H)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(H,Q){if(typeof H=="string")return H;const j=H?Q.getColor(H.id):null;return j?j.toString():""}}e.ModelDecorationOverviewRulerOptions=U;class W{constructor(H){var Q;this.position=(Q=H?.position)!==null&&Q!==void 0?Q:l.GlyphMarginLane.Left}}e.ModelDecorationGlyphMarginOptions=W;class V extends Y{constructor(H){super(H),this.position=H.position}getColor(H){return this._resolvedColor||(H.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,H):this._resolvedColor=this._resolveColor(this.color,H)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(H,Q){return typeof H=="string"?k.Color.fromHex(H):Q.getColor(H.id)}}e.ModelDecorationMinimapOptions=V;class Z{static from(H){return H instanceof Z?H:new Z(H)}constructor(H){this.content=H.content||"",this.inlineClassName=H.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=H.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=H.attachedData||null,this.cursorStops=H.cursorStops||null}}e.ModelDecorationInjectedTextOptions=Z;class ie{static register(H){return new ie(H)}static createDynamic(H){return new ie(H)}constructor(H){var Q,j,re,se,ue,me;this.description=H.description,this.blockClassName=H.blockClassName?oe(H.blockClassName):null,this.blockDoesNotCollapse=(Q=H.blockDoesNotCollapse)!==null&&Q!==void 0?Q:null,this.blockIsAfterEnd=(j=H.blockIsAfterEnd)!==null&&j!==void 0?j:null,this.blockPadding=(re=H.blockPadding)!==null&&re!==void 0?re:null,this.stickiness=H.stickiness||0,this.zIndex=H.zIndex||0,this.className=H.className?oe(H.className):null,this.shouldFillLineOnLineBreak=(se=H.shouldFillLineOnLineBreak)!==null&&se!==void 0?se:null,this.hoverMessage=H.hoverMessage||null,this.glyphMarginHoverMessage=H.glyphMarginHoverMessage||null,this.isWholeLine=H.isWholeLine||!1,this.showIfCollapsed=H.showIfCollapsed||!1,this.collapseOnReplaceEdit=H.collapseOnReplaceEdit||!1,this.overviewRuler=H.overviewRuler?new U(H.overviewRuler):null,this.minimap=H.minimap?new V(H.minimap):null,this.glyphMargin=H.glyphMarginClassName?new W(H.glyphMargin):null,this.glyphMarginClassName=H.glyphMarginClassName?oe(H.glyphMarginClassName):null,this.linesDecorationsClassName=H.linesDecorationsClassName?oe(H.linesDecorationsClassName):null,this.firstLineDecorationClassName=H.firstLineDecorationClassName?oe(H.firstLineDecorationClassName):null,this.marginClassName=H.marginClassName?oe(H.marginClassName):null,this.inlineClassName=H.inlineClassName?oe(H.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=H.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=H.beforeContentClassName?oe(H.beforeContentClassName):null,this.afterContentClassName=H.afterContentClassName?oe(H.afterContentClassName):null,this.after=H.after?Z.from(H.after):null,this.before=H.before?Z.from(H.before):null,this.hideInCommentTokens=(ue=H.hideInCommentTokens)!==null&&ue!==void 0?ue:!1,this.hideInStringTokens=(me=H.hideInStringTokens)!==null&&me!==void 0?me:!1}}e.ModelDecorationOptions=ie,ie.EMPTY=ie.register({description:"empty"});const le=[ie.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ie.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ie.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ie.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function he(K){return K instanceof ie?K:ie.createDynamic(K)}class de extends S.Disposable{constructor(H){super(),this.handleBeforeFire=H,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var H;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(H=this._affectedInjectedTextLines)===null||H===void 0||H.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(H){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(H)}checkAffectedAndFire(H){this._affectsMinimap||(this._affectsMinimap=!!(H.minimap&&H.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(H.overviewRuler&&H.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!H.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const H={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(H)}}class ce extends S.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(H=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=H;const Q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(Q),this._slowEmitter.fire(Q)}}fire(H){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(H):this._deferredEvent=H;return}this._fastEmitter.fire(H),this._slowEmitter.fire(H)}}class ae{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const H=new J(Q=>{this._onDidChangeVisibleRanges.fire({view:H,state:Q})});return this._views.add(H),H}detachView(H){this._views.delete(H),this._onDidChangeVisibleRanges.fire({view:H,state:void 0})}}e.AttachedViews=ae;class J{constructor(H){this.handleStateChange=H}setVisibleLines(H,Q){const j=H.map(re=>new s.LineRange(re.startLineNumber,re.endLineNumber+1));this.handleStateChange({visibleLineRanges:j,stabilized:Q})}}}),define(ee[364],te([1,0,26,56,27,39,609,76]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrowRevertChange=e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=void 0,e.diffInsertIcon=(0,m.registerIcon)("diff-insert",L.Codicon.add,(0,S.localize)(0,null)),e.diffRemoveIcon=(0,m.registerIcon)("diff-remove",L.Codicon.remove,(0,S.localize)(1,null)),e.diffLineAddDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+y.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+y.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=D.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=D.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),e.arrowRevertChange=D.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new k.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,S.localize)(2,null)),glyphMarginClassName:"arrow-revert-change "+y.ThemeIcon.asClassName(L.Codicon.arrowRight),zIndex:10001})}),define(ee[870],te([1,0,2,40,364,326,101,12,5]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class v extends L.Disposable{constructor(s,n,i){super(),this._editors=s,this._diffModel=n,this._options=i,this._decorations=(0,k.derived)(this,t=>{var a;const u=(a=this._diffModel.read(t))===null||a===void 0?void 0:a.diff.read(t);if(!u)return null;const h=this._diffModel.read(t).movedTextToCompare.read(t),l=this._options.renderIndicators.read(t),c=this._options.showEmptyDecorations.read(t),o=[],d=[];if(!h)for(const g of u.mappings){if(g.lineRangeMapping.original.isEmpty||o.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:l?y.diffLineDeleteDecorationBackgroundWithIndicator:y.diffLineDeleteDecorationBackground}),g.lineRangeMapping.modified.isEmpty||d.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:l?y.diffLineAddDecorationBackgroundWithIndicator:y.diffLineAddDecorationBackground}),g.lineRangeMapping.modified.isEmpty||g.lineRangeMapping.original.isEmpty)g.lineRangeMapping.original.isEmpty||o.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:y.diffWholeLineDeleteDecoration}),g.lineRangeMapping.modified.isEmpty||d.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:y.diffWholeLineAddDecoration});else for(const f of g.lineRangeMapping.innerChanges||[])g.lineRangeMapping.original.contains(f.originalRange.startLineNumber)&&o.push({range:f.originalRange,options:f.originalRange.isEmpty()&&c?y.diffDeleteDecorationEmpty:y.diffDeleteDecoration}),g.lineRangeMapping.modified.contains(f.modifiedRange.startLineNumber)&&d.push({range:f.modifiedRange,options:f.modifiedRange.isEmpty()&&c?y.diffAddDecorationEmpty:y.diffAddDecoration});!g.lineRangeMapping.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(t)&&!h&&d.push({range:_.Range.fromPositions(new m.Position(g.lineRangeMapping.modified.startLineNumber,1)),options:y.arrowRevertChange})}if(h)for(const g of h.changes){const f=g.original.toInclusiveRange();f&&o.push({range:f,options:l?y.diffLineDeleteDecorationBackgroundWithIndicator:y.diffLineDeleteDecorationBackground});const p=g.modified.toInclusiveRange();p&&d.push({range:p,options:l?y.diffLineAddDecorationBackgroundWithIndicator:y.diffLineAddDecorationBackground});for(const b of g.innerChanges||[])o.push({range:b.originalRange,options:y.diffDeleteDecoration}),d.push({range:b.modifiedRange,options:y.diffAddDecoration})}const r=this._diffModel.read(t).activeMovedText.read(t);for(const g of u.movedTexts)o.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(g===r?" currentMove":""),blockPadding:[D.MovedBlocksLinesPart.movedCodeBlockPadding,0,D.MovedBlocksLinesPart.movedCodeBlockPadding,D.MovedBlocksLinesPart.movedCodeBlockPadding]}}),d.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(g===r?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:o,modifiedDecorations:d}}),this._register((0,S.applyObservableDecorations)(this._editors.original,this._decorations.map(t=>t?.originalDecorations||[]))),this._register((0,S.applyObservableDecorations)(this._editors.modified,this._decorations.map(t=>t?.modifiedDecorations||[])))}}e.DiffEditorDecorations=v}),define(ee[871],te([1,0,7,14,13,26,2,40,27,20,69,120,364,351,613,629,101,64,12,82,103,57]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZoneManager=void 0;let r=class extends S.Disposable{constructor(b,w,E,I,N,R,F){super(),this._editors=b,this._diffModel=w,this._options=E,this._diffEditorWidget=I,this._canIgnoreViewZoneUpdateEvent=N,this._clipboardService=R,this._contextMenuService=F,this._originalTopPadding=(0,m.observableValue)(this,0),this._originalScrollOffset=(0,m.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,u.animatedObservable)(this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,m.observableValue)(this,0),this._modifiedScrollOffset=(0,m.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,u.animatedObservable)(this._modifiedScrollOffset,this._store);let M=!1;const A=(0,m.observableValue)("state",0),T=this._register(new y.RunOnceScheduler(()=>{A.set(A.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(oe=>{!M&&!this._canIgnoreViewZoneUpdateEvent()&&T.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(oe=>{!M&&!this._canIgnoreViewZoneUpdateEvent()&&T.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(oe=>{(oe.hasChanged(143)||oe.hasChanged(65))&&T.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(oe=>{(oe.hasChanged(143)||oe.hasChanged(65))&&T.schedule()}));const O=this._diffModel.map(oe=>oe?(0,m.observableFromEvent)(oe.model.original.onDidChangeTokens,()=>oe.model.original.tokenization.backgroundTokenizationState===2):void 0).map((oe,Y)=>oe?.read(Y)),P=new Set,x=new Set,z=(0,m.derived)(oe=>{const Y=this._diffModel.read(oe),U=Y?.diff.read(oe);if(!Y||!U)return null;A.read(oe);const V=this._options.renderSideBySide.read(oe);return g(this._editors.original,this._editors.modified,U.mappings,P,x,V)}),q=(0,m.derived)(oe=>{var Y;const U=(Y=this._diffModel.read(oe))===null||Y===void 0?void 0:Y.movedTextToCompare.read(oe);if(!U)return null;A.read(oe);const W=U.changes.map(V=>new i.DiffMapping(V));return g(this._editors.original,this._editors.modified,W,P,x,!0)});function B(){const oe=document.createElement("div");return oe.className="diagonal-fill",oe}const $=this._register(new S.DisposableStore),X=(0,m.derived)(oe=>{var Y,U,W,V,Z,ie,le,he;$.clear();const de=z.read(oe)||[],ce=[],ae=[],J=this._modifiedTopPadding.read(oe);J>0&&ae.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:J,showInHiddenAreas:!0});const K=this._originalTopPadding.read(oe);K>0&&ce.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:K,showInHiddenAreas:!0});const H=this._options.renderSideBySide.read(oe),Q=H||(Y=this._editors.modified._getViewModel())===null||Y===void 0?void 0:Y.createLineBreaksComputer();if(Q){for(const we of de)if(we.diff)for(let Le=we.originalRange.startLineNumber;Le<we.originalRange.endLineNumberExclusive;Le++)Q?.addRequest(this._editors.original.getModel().getLineContent(Le),null,null)}const j=(U=Q?.finalize())!==null&&U!==void 0?U:[];let re=0;const se=this._editors.modified.getOption(65),ue=(W=this._diffModel.read(oe))===null||W===void 0?void 0:W.movedTextToCompare.read(oe),me=(Z=(V=this._editors.original.getModel())===null||V===void 0?void 0:V.mightContainNonBasicASCII())!==null&&Z!==void 0?Z:!1,ve=(le=(ie=this._editors.original.getModel())===null||ie===void 0?void 0:ie.mightContainRTL())!==null&&le!==void 0?le:!1,Ce=a.RenderOptions.fromEditor(this._editors.modified);for(const we of de)if(we.diff&&!H){if(!we.originalRange.isEmpty){O.read(oe);const Ee=document.createElement("div");Ee.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Ne=new a.LineSource(we.originalRange.mapToLineArray(fe=>this._editors.original.getModel().tokenization.getLineTokens(fe)),we.originalRange.mapToLineArray(fe=>j[re++]),me,ve),Ae=[];for(const fe of we.diff.innerChanges||[])Ae.push(new c.InlineDecoration(fe.originalRange.delta(-(we.diff.original.startLineNumber-1)),n.diffDeleteDecoration.className,0));const Re=(0,a.renderLines)(Ne,Ce,Ae,Ee),ye=document.createElement("div");if(ye.className="inline-deleted-margin-view-zone",(0,C.applyFontInfo)(ye,Ce.fontInfo),this._options.renderIndicators.read(oe))for(let fe=0;fe<Re.heightInLines;fe++){const _e=document.createElement("div");_e.className=`delete-sign ${_.ThemeIcon.asClassName(n.diffRemoveIcon)}`,_e.setAttribute("style",`position:absolute;top:${fe*se}px;width:${Ce.lineDecorationsWidth}px;height:${se}px;right:0;`),ye.appendChild(_e)}let De;$.add(new t.InlineDiffDeletedCodeMargin(()=>(0,v.assertIsDefined)(De),ye,this._editors.modified,we.diff,this._diffEditorWidget,Re.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let fe=0;fe<Re.viewLineCounts.length;fe++){const _e=Re.viewLineCounts[fe];_e>1&&ce.push({afterLineNumber:we.originalRange.startLineNumber+fe,domNode:B(),heightInPx:(_e-1)*se,showInHiddenAreas:!0})}ae.push({afterLineNumber:we.modifiedRange.startLineNumber-1,domNode:Ee,heightInPx:Re.heightInLines*se,minWidthInPx:Re.minWidthInPx,marginDomNode:ye,setZoneId(fe){De=fe},showInHiddenAreas:!0})}const Le=document.createElement("div");Le.className="gutter-delete",ce.push({afterLineNumber:we.originalRange.endLineNumberExclusive-1,domNode:B(),heightInPx:we.modifiedHeightInPx,marginDomNode:Le,showInHiddenAreas:!0})}else{const Le=we.modifiedHeightInPx-we.originalHeightInPx;if(Le>0){if(ue?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(we.originalRange.endLineNumberExclusive-1))continue;ce.push({afterLineNumber:we.originalRange.endLineNumberExclusive-1,domNode:B(),heightInPx:Le,showInHiddenAreas:!0})}else{let Ee=function(){const Ae=document.createElement("div");return Ae.className="arrow-revert-change "+_.ThemeIcon.asClassName(D.Codicon.arrowRight),(0,L.$)("div",{},Ae)};if(ue?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(we.modifiedRange.endLineNumberExclusive-1))continue;let Ne;we.diff&&we.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(oe)&&(Ne=Ee()),ae.push({afterLineNumber:we.modifiedRange.endLineNumberExclusive-1,domNode:B(),heightInPx:-Le,marginDomNode:Ne,showInHiddenAreas:!0})}}for(const we of(he=q.read(oe))!==null&&he!==void 0?he:[]){if(!ue?.lineRangeMapping.original.intersect(we.originalRange)||!ue?.lineRangeMapping.modified.intersect(we.modifiedRange))continue;const Le=we.modifiedHeightInPx-we.originalHeightInPx;Le>0?ce.push({afterLineNumber:we.originalRange.endLineNumberExclusive-1,domNode:B(),heightInPx:Le,showInHiddenAreas:!0}):ae.push({afterLineNumber:we.modifiedRange.endLineNumberExclusive-1,domNode:B(),heightInPx:-Le,showInHiddenAreas:!0})}return{orig:ce,mod:ae}});this._register((0,m.autorunWithStore)(oe=>{const Y=s.StableEditorScrollState.capture(this._editors.modified),U=X.read(oe);M=!0,this._editors.original.changeViewZones(W=>{for(const V of P)W.removeZone(V);P.clear();for(const V of U.orig){const Z=W.addZone(V);V.setZoneId&&V.setZoneId(Z),P.add(Z)}}),this._editors.modified.changeViewZones(W=>{for(const V of x)W.removeZone(V);x.clear();for(const V of U.mod){const Z=W.addZone(V);V.setZoneId&&V.setZoneId(Z),x.add(Z)}}),M=!1,Y.restore(this._editors.modified)})),this._register((0,S.toDisposable)(()=>{this._editors.original.changeViewZones(oe=>{for(const Y of P)oe.removeZone(Y);P.clear()}),this._editors.modified.changeViewZones(oe=>{for(const Y of x)oe.removeZone(Y);x.clear()})}));let ne=!1;this._register(this._editors.original.onDidScrollChange(oe=>{oe.scrollLeftChanged&&!ne&&(ne=!0,this._editors.modified.setScrollLeft(oe.scrollLeft),ne=!1)})),this._register(this._editors.modified.onDidScrollChange(oe=>{oe.scrollLeftChanged&&!ne&&(ne=!0,this._editors.original.setScrollLeft(oe.scrollLeft),ne=!1)})),this._originalScrollTop=(0,m.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,m.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,m.autorun)(oe=>{const Y=this._originalScrollTop.read(oe)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(oe))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(oe));Y!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(Y,1)})),this._register((0,m.autorun)(oe=>{const Y=this._modifiedScrollTop.read(oe)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(oe))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(oe));Y!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(Y,1)})),this._register((0,m.autorun)(oe=>{var Y;const U=(Y=this._diffModel.read(oe))===null||Y===void 0?void 0:Y.movedTextToCompare.read(oe);let W=0;if(U){const V=this._editors.original.getTopForLineNumber(U.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();W=this._editors.modified.getTopForLineNumber(U.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-V}W>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(W,void 0)):W<0?(this._modifiedTopPadding.set(-W,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-W,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+W,void 0,!0)}))}};e.ViewZoneManager=r,e.ViewZoneManager=r=Ie([ge(5,o.IClipboardService),ge(6,d.IContextMenuService)],r);function g(p,b,w,E,I,N){const R=new k.ArrayQueue(f(p,E)),F=new k.ArrayQueue(f(b,I)),M=p.getOption(65),A=b.getOption(65),T=[];let O=0,P=0;function x(z,q){for(;;){let B=R.peek(),$=F.peek();if(B&&B.lineNumber>=z&&(B=void 0),$&&$.lineNumber>=q&&($=void 0),!B&&!$)break;const X=B?B.lineNumber-O:Number.MAX_VALUE,ne=$?$.lineNumber-P:Number.MAX_VALUE;X<ne?(R.dequeue(),$={lineNumber:B.lineNumber-O+P,heightInPx:0}):X>ne?(F.dequeue(),B={lineNumber:$.lineNumber-P+O,heightInPx:0}):(R.dequeue(),F.dequeue()),T.push({originalRange:h.LineRange.ofLength(B.lineNumber,1),modifiedRange:h.LineRange.ofLength($.lineNumber,1),originalHeightInPx:M+B.heightInPx,modifiedHeightInPx:A+$.heightInPx,diff:void 0})}}for(const z of w){let ne=function(oe,Y){var U,W,V,Z;if(oe<X||Y<$)return;if(B)B=!1;else if(oe===X||Y===$)return;const ie=new h.LineRange(X,oe),le=new h.LineRange($,Y);if(ie.isEmpty&&le.isEmpty)return;const he=(W=(U=R.takeWhile(ce=>ce.lineNumber<oe))===null||U===void 0?void 0:U.reduce((ce,ae)=>ce+ae.heightInPx,0))!==null&&W!==void 0?W:0,de=(Z=(V=F.takeWhile(ce=>ce.lineNumber<Y))===null||V===void 0?void 0:V.reduce((ce,ae)=>ce+ae.heightInPx,0))!==null&&Z!==void 0?Z:0;T.push({originalRange:ie,modifiedRange:le,originalHeightInPx:ie.length*M+he,modifiedHeightInPx:le.length*A+de,diff:z.lineRangeMapping}),X=oe,$=Y};const q=z.lineRangeMapping;x(q.original.startLineNumber,q.modified.startLineNumber);let B=!0,$=q.modified.startLineNumber,X=q.original.startLineNumber;if(N)for(const oe of q.innerChanges||[])oe.originalRange.startColumn>1&&oe.modifiedRange.startColumn>1&&ne(oe.originalRange.startLineNumber,oe.modifiedRange.startLineNumber),oe.originalRange.endColumn<p.getModel().getLineMaxColumn(oe.originalRange.endLineNumber)&&ne(oe.originalRange.endLineNumber,oe.modifiedRange.endLineNumber);ne(q.original.endLineNumberExclusive,q.modified.endLineNumberExclusive),O=q.original.endLineNumberExclusive,P=q.modified.endLineNumberExclusive}return x(Number.MAX_VALUE,Number.MAX_VALUE),T}function f(p,b){const w=[],E=[],I=p.getOption(143).wrappingColumn!==-1,N=p._getViewModel().coordinatesConverter,R=p.getOption(65);if(I)for(let M=1;M<=p.getModel().getLineCount();M++){const A=N.getModelLineViewLineCount(M);A>1&&E.push({lineNumber:M,heightInPx:R*(A-1)})}for(const M of p.getWhitespaces()){if(b.has(M.id))continue;const A=M.afterLineNumber===0?0:N.convertViewPositionToModelPosition(new l.Position(M.afterLineNumber,1)).lineNumber;w.push({lineNumber:A,heightInPx:M.height})}return(0,u.joinCombine)(w,E,M=>M.lineNumber,(M,A)=>({lineNumber:M.lineNumber,heightInPx:M.heightInPx+A.heightInPx}))}}),define(ee[872],te([1,0,6,2,17,39,174,74,42,186,29,192,141,332,54,52,31]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ModelService=void 0;function l(f){return f.toString()}function c(f){const p=new n.StringSHA1,b=f.createSnapshot();let w;for(;w=b.read();)p.update(w);return p.digest()}class o{constructor(p,b,w){this.model=p,this._modelEventListeners=new k.DisposableStore,this.model=p,this._modelEventListeners.add(p.onWillDispose(()=>b(p))),this._modelEventListeners.add(p.onDidChangeLanguage(E=>w(p,E)))}dispose(){this._modelEventListeners.dispose()}}const d=y.isLinux||y.isMacintosh?1:2;class r{constructor(p,b,w,E,I,N,R,F){this.uri=p,this.initialUndoRedoSnapshot=b,this.time=w,this.sharesUndoRedoStack=E,this.heapSize=I,this.sha1=N,this.versionId=R,this.alternativeVersionId=F}}let g=h=class extends k.Disposable{constructor(p,b,w,E,I){super(),this._configurationService=p,this._resourcePropertiesService=b,this._undoRedoService=w,this._languageService=E,this._languageConfigurationService=I,this._onModelAdded=this._register(new L.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new L.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new L.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(N=>this._updateModelOptions(N))),this._updateModelOptions(void 0)}static _readModelOptions(p,b){var w;let E=S.EDITOR_MODEL_DEFAULTS.tabSize;if(p.editor&&typeof p.editor.tabSize<"u"){const P=parseInt(p.editor.tabSize,10);isNaN(P)||(E=P),E<1&&(E=1)}let I="tabSize";if(p.editor&&typeof p.editor.indentSize<"u"&&p.editor.indentSize!=="tabSize"){const P=parseInt(p.editor.indentSize,10);isNaN(P)||(I=Math.max(P,1))}let N=S.EDITOR_MODEL_DEFAULTS.insertSpaces;p.editor&&typeof p.editor.insertSpaces<"u"&&(N=p.editor.insertSpaces==="false"?!1:!!p.editor.insertSpaces);let R=d;const F=p.eol;F===`\r
`?R=2:F===`
`&&(R=1);let M=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;p.editor&&typeof p.editor.trimAutoWhitespace<"u"&&(M=p.editor.trimAutoWhitespace==="false"?!1:!!p.editor.trimAutoWhitespace);let A=S.EDITOR_MODEL_DEFAULTS.detectIndentation;p.editor&&typeof p.editor.detectIndentation<"u"&&(A=p.editor.detectIndentation==="false"?!1:!!p.editor.detectIndentation);let T=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;p.editor&&typeof p.editor.largeFileOptimizations<"u"&&(T=p.editor.largeFileOptimizations==="false"?!1:!!p.editor.largeFileOptimizations);let O=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((w=p.editor)===null||w===void 0)&&w.bracketPairColorization&&typeof p.editor.bracketPairColorization=="object"&&(O={enabled:!!p.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!p.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:b,tabSize:E,indentSize:I,insertSpaces:N,detectIndentation:A,defaultEOL:R,trimAutoWhitespace:M,largeFileOptimizations:T,bracketPairColorizationOptions:O}}_getEOL(p,b){if(p)return this._resourcePropertiesService.getEOL(p,b);const w=this._configurationService.getValue("files.eol",{overrideIdentifier:b});return w&&typeof w=="string"&&w!=="auto"?w:y.OS===3||y.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const p=this._configurationService.getValue("files.restoreUndoStack");return typeof p=="boolean"?p:!0}getCreationOptions(p,b,w){const E=typeof p=="string"?p:p.languageId;let I=this._modelCreationOptionsByLanguageAndResource[E+b];if(!I){const N=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:b}),R=this._getEOL(b,E);I=h._readModelOptions({editor:N,eol:R},w),this._modelCreationOptionsByLanguageAndResource[E+b]=I}return I}_updateModelOptions(p){const b=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const w=Object.keys(this._models);for(let E=0,I=w.length;E<I;E++){const N=w[E],R=this._models[N],F=R.model.getLanguageId(),M=R.model.uri;if(p&&!p.affectsConfiguration("editor",{overrideIdentifier:F,resource:M})&&!p.affectsConfiguration("files.eol",{overrideIdentifier:F,resource:M}))continue;const A=b[F+M],T=this.getCreationOptions(F,M,R.model.isForSimpleWidget);h._setModelOptionsForModel(R.model,T,A)}}static _setModelOptionsForModel(p,b,w){w&&w.defaultEOL!==b.defaultEOL&&p.getLineCount()===1&&p.setEOL(b.defaultEOL===1?0:1),!(w&&w.detectIndentation===b.detectIndentation&&w.insertSpaces===b.insertSpaces&&w.tabSize===b.tabSize&&w.indentSize===b.indentSize&&w.trimAutoWhitespace===b.trimAutoWhitespace&&(0,a.equals)(w.bracketPairColorizationOptions,b.bracketPairColorizationOptions))&&(b.detectIndentation?(p.detectIndentation(b.insertSpaces,b.tabSize),p.updateOptions({trimAutoWhitespace:b.trimAutoWhitespace,bracketColorizationOptions:b.bracketPairColorizationOptions})):p.updateOptions({insertSpaces:b.insertSpaces,tabSize:b.tabSize,indentSize:b.indentSize,trimAutoWhitespace:b.trimAutoWhitespace,bracketColorizationOptions:b.bracketPairColorizationOptions}))}_insertDisposedModel(p){this._disposedModels.set(l(p.uri),p),this._disposedModelsHeapSize+=p.heapSize}_removeDisposedModel(p){const b=this._disposedModels.get(l(p));return b&&(this._disposedModelsHeapSize-=b.heapSize),this._disposedModels.delete(l(p)),b}_ensureDisposedModelsHeapSize(p){if(this._disposedModelsHeapSize>p){const b=[];for(this._disposedModels.forEach(w=>{w.sharesUndoRedoStack||b.push(w)}),b.sort((w,E)=>w.time-E.time);b.length>0&&this._disposedModelsHeapSize>p;){const w=b.shift();this._removeDisposedModel(w.uri),w.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(w.initialUndoRedoSnapshot)}}}_createModelData(p,b,w,E){const I=this.getCreationOptions(b,w,E),N=new D.TextModel(p,b,I,w,this._undoRedoService,this._languageService,this._languageConfigurationService);if(w&&this._disposedModels.has(l(w))){const M=this._removeDisposedModel(w),A=this._undoRedoService.getElements(w),T=c(N)===M.sha1;if(T||M.sharesUndoRedoStack){for(const O of A.past)(0,i.isEditStackElement)(O)&&O.matchesResource(w)&&O.setModel(N);for(const O of A.future)(0,i.isEditStackElement)(O)&&O.matchesResource(w)&&O.setModel(N);this._undoRedoService.setElementsValidFlag(w,!0,O=>(0,i.isEditStackElement)(O)&&O.matchesResource(w)),T&&(N._overwriteVersionId(M.versionId),N._overwriteAlternativeVersionId(M.alternativeVersionId),N._overwriteInitialUndoRedoSnapshot(M.initialUndoRedoSnapshot))}else M.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(M.initialUndoRedoSnapshot)}const R=l(N.uri);if(this._models[R])throw new Error("ModelService: Cannot add model because it already exists!");const F=new o(N,M=>this._onWillDispose(M),(M,A)=>this._onDidChangeLanguage(M,A));return this._models[R]=F,F}createModel(p,b,w,E=!1){let I;return b?I=this._createModelData(p,b,w,E):I=this._createModelData(p,m.PLAINTEXT_LANGUAGE_ID,w,E),this._onModelAdded.fire(I.model),I.model}getModels(){const p=[],b=Object.keys(this._models);for(let w=0,E=b.length;w<E;w++){const I=b[w];p.push(this._models[I].model)}return p}getModel(p){const b=l(p),w=this._models[b];return w?w.model:null}_schemaShouldMaintainUndoRedoElements(p){return p.scheme===t.Schemas.file||p.scheme===t.Schemas.vscodeRemote||p.scheme===t.Schemas.vscodeUserData||p.scheme===t.Schemas.vscodeNotebookCell||p.scheme==="fake-fs"}_onWillDispose(p){const b=l(p.uri),w=this._models[b],E=this._undoRedoService.getUriComparisonKey(p.uri)!==p.uri.toString();let I=!1,N=0;if(E||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(p.uri)){const F=this._undoRedoService.getElements(p.uri);if(F.past.length>0||F.future.length>0){for(const M of F.past)(0,i.isEditStackElement)(M)&&M.matchesResource(p.uri)&&(I=!0,N+=M.heapSize(p.uri),M.setModel(p.uri));for(const M of F.future)(0,i.isEditStackElement)(M)&&M.matchesResource(p.uri)&&(I=!0,N+=M.heapSize(p.uri),M.setModel(p.uri))}}const R=h.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(I)if(!E&&N>R){const F=w.model.getInitialUndoRedoSnapshot();F!==null&&this._undoRedoService.restoreSnapshot(F)}else this._ensureDisposedModelsHeapSize(R-N),this._undoRedoService.setElementsValidFlag(p.uri,!1,F=>(0,i.isEditStackElement)(F)&&F.matchesResource(p.uri)),this._insertDisposedModel(new r(p.uri,w.model.getInitialUndoRedoSnapshot(),Date.now(),E,N,c(p),p.getVersionId(),p.getAlternativeVersionId()));else if(!E){const F=w.model.getInitialUndoRedoSnapshot();F!==null&&this._undoRedoService.restoreSnapshot(F)}delete this._models[b],w.dispose(),delete this._modelCreationOptionsByLanguageAndResource[p.getLanguageId()+p.uri],this._onModelRemoved.fire(p)}_onDidChangeLanguage(p,b){const w=b.oldLanguage,E=p.getLanguageId(),I=this.getCreationOptions(w,p.uri,p.isForSimpleWidget),N=this.getCreationOptions(E,p.uri,p.isForSimpleWidget);h._setModelOptionsForModel(p,N,I),this._onModelModeChanged.fire({model:p,oldLanguageId:w})}};e.ModelService=g,g.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=g=h=Ie([ge(0,C.IConfigurationService),ge(1,v.ITextResourcePropertiesService),ge(2,s.IUndoRedoService),ge(3,_.ILanguageService),ge(4,u.ILanguageConfigurationService)],g)}),define(ee[873],te([1,0,14,12,5,211,39,110,213,533,283,82]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class n{constructor(o,d,r,g,f,p,b,w,E,I){this._editorId=o,this.model=d,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=r,this._monospaceLineBreaksComputerFactory=g,this.fontInfo=f,this.tabSize=p,this.wrappingStrategy=b,this.wrappingColumn=w,this.wrappingIndent=E,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new u(this)}_constructLines(o,d){this.modelLineProjections=[],o&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const r=this.model.getLinesContent(),g=this.model.getInjectedTextDecorations(this._editorId),f=r.length,p=this.createLineBreaksComputer(),b=new L.ArrayQueue(m.LineInjectedText.fromDecorations(g));for(let A=0;A<f;A++){const T=b.takeWhile(O=>O.lineNumber===A+1);p.addRequest(r[A],T,d?d[A]:null)}const w=p.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(A=>this.model.getDecorationRange(A)).sort(y.Range.compareRangesUsingStarts);let N=1,R=0,F=-1,M=F+1<I.length?R+1:f+2;for(let A=0;A<f;A++){const T=A+1;T===M&&(F++,N=I[F].startLineNumber,R=I[F].endLineNumber,M=F+1<I.length?R+1:f+2);const O=T>=N&&T<=R,P=(0,v.createModelLineProjection)(w[A],!O);E[A]=P.getViewLineCount(),this.modelLineProjections[A]=P}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new C.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(o=>this.model.getDecorationRange(o))}setHiddenAreas(o){const d=o.map(R=>this.model.validateRange(R)),r=i(d),g=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(y.Range.compareRangesUsingStarts);if(r.length===g.length){let R=!1;for(let F=0;F<r.length;F++)if(!r[F].equalsRange(g[F])){R=!0;break}if(!R)return!1}const f=r.map(R=>({range:R,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,f);const p=r;let b=1,w=0,E=-1,I=E+1<p.length?w+1:this.modelLineProjections.length+2,N=!1;for(let R=0;R<this.modelLineProjections.length;R++){const F=R+1;F===I&&(E++,b=p[E].startLineNumber,w=p[E].endLineNumber,I=E+1<p.length?w+1:this.modelLineProjections.length+2);let M=!1;if(F>=b&&F<=w?this.modelLineProjections[R].isVisible()&&(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!1),M=!0):(N=!0,this.modelLineProjections[R].isVisible()||(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!0),M=!0)),M){const A=this.modelLineProjections[R].getViewLineCount();this.projectedModelLineLineCounts.setValue(R,A)}}return N||this.setHiddenAreas([]),!0}modelPositionIsVisible(o,d){return o<1||o>this.modelLineProjections.length?!1:this.modelLineProjections[o-1].isVisible()}getModelLineViewLineCount(o){return o<1||o>this.modelLineProjections.length?1:this.modelLineProjections[o-1].getViewLineCount()}setTabSize(o){return this.tabSize===o?!1:(this.tabSize=o,this._constructLines(!1,null),!0)}setWrappingSettings(o,d,r,g,f){const p=this.fontInfo.equals(o),b=this.wrappingStrategy===d,w=this.wrappingColumn===r,E=this.wrappingIndent===g,I=this.wordBreak===f;if(p&&b&&w&&E&&I)return!1;const N=p&&b&&!w&&E&&I;this.fontInfo=o,this.wrappingStrategy=d,this.wrappingColumn=r,this.wrappingIndent=g,this.wordBreak=f;let R=null;if(N){R=[];for(let F=0,M=this.modelLineProjections.length;F<M;F++)R[F]=this.modelLineProjections[F].getProjectionData()}return this._constructLines(!1,R),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(o,d,r){if(!o||o<=this._validModelVersionId)return null;const g=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,f=this.projectedModelLineLineCounts.getPrefixSum(r);return this.modelLineProjections.splice(d-1,r-d+1),this.projectedModelLineLineCounts.removeValues(d-1,r-d+1),new _.ViewLinesDeletedEvent(g,f)}onModelLinesInserted(o,d,r,g){if(!o||o<=this._validModelVersionId)return null;const f=d>2&&!this.modelLineProjections[d-2].isVisible(),p=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1;let b=0;const w=[],E=[];for(let I=0,N=g.length;I<N;I++){const R=(0,v.createModelLineProjection)(g[I],!f);w.push(R);const F=R.getViewLineCount();b+=F,E[I]=F}return this.modelLineProjections=this.modelLineProjections.slice(0,d-1).concat(w).concat(this.modelLineProjections.slice(d-1)),this.projectedModelLineLineCounts.insertValues(d-1,E),new _.ViewLinesInsertedEvent(p,p+b-1)}onModelLineChanged(o,d,r){if(o!==null&&o<=this._validModelVersionId)return[!1,null,null,null];const g=d-1,f=this.modelLineProjections[g].getViewLineCount(),p=this.modelLineProjections[g].isVisible(),b=(0,v.createModelLineProjection)(r,p);this.modelLineProjections[g]=b;const w=this.modelLineProjections[g].getViewLineCount();let E=!1,I=0,N=-1,R=0,F=-1,M=0,A=-1;f>w?(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,N=I+w-1,M=N+1,A=M+(f-w)-1,E=!0):f<w?(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,N=I+f-1,R=N+1,F=R+(w-f)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,N=I+w-1),this.projectedModelLineLineCounts.setValue(g,w);const T=I<=N?new _.ViewLinesChangedEvent(I,N-I+1):null,O=R<=F?new _.ViewLinesInsertedEvent(R,F):null,P=M<=A?new _.ViewLinesDeletedEvent(M,A):null;return[E,T,O,P]}acceptVersionId(o){this._validModelVersionId=o,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(o){if(o<1)return 1;const d=this.getViewLineCount();return o>d?d:o|0}getActiveIndentGuide(o,d,r){o=this._toValidViewLineNumber(o),d=this._toValidViewLineNumber(d),r=this._toValidViewLineNumber(r);const g=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),f=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),p=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),b=this.model.guides.getActiveIndentGuide(g.lineNumber,f.lineNumber,p.lineNumber),w=this.convertModelPositionToViewPosition(b.startLineNumber,1),E=this.convertModelPositionToViewPosition(b.endLineNumber,this.model.getLineMaxColumn(b.endLineNumber));return{startLineNumber:w.lineNumber,endLineNumber:E.lineNumber,indent:b.indent}}getViewLineInfo(o){o=this._toValidViewLineNumber(o);const d=this.projectedModelLineLineCounts.getIndexOf(o-1),r=d.index,g=d.remainder;return new t(r+1,g)}getMinColumnOfViewLine(o){return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(o){return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(o){const d=this.modelLineProjections[o.modelLineNumber-1],r=d.getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx),g=d.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,r);return new k.Position(o.modelLineNumber,g)}getModelEndPositionOfViewLine(o){const d=this.modelLineProjections[o.modelLineNumber-1],r=d.getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx),g=d.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,r);return new k.Position(o.modelLineNumber,g)}getViewLineInfosGroupedByModelRanges(o,d){const r=this.getViewLineInfo(o),g=this.getViewLineInfo(d),f=new Array;let p=this.getModelStartPositionOfViewLine(r),b=new Array;for(let w=r.modelLineNumber;w<=g.modelLineNumber;w++){const E=this.modelLineProjections[w-1];if(E.isVisible()){const I=w===r.modelLineNumber?r.modelLineWrappedLineIdx:0,N=w===g.modelLineNumber?g.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let R=I;R<N;R++)b.push(new t(w,R))}if(!E.isVisible()&&p){const I=new k.Position(w-1,this.model.getLineMaxColumn(w-1)+1),N=y.Range.fromPositions(p,I);f.push(new a(N,b)),b=[],p=null}else E.isVisible()&&!p&&(p=new k.Position(w,1))}if(p){const w=y.Range.fromPositions(p,this.getModelEndPositionOfViewLine(g));f.push(new a(w,b))}return f}getViewLinesBracketGuides(o,d,r,g){const f=r?this.convertViewPositionToModelPosition(r.lineNumber,r.column):null,p=[];for(const b of this.getViewLineInfosGroupedByModelRanges(o,d)){const w=b.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(w,b.modelRange.endLineNumber,f,g);for(const I of b.viewLines){const R=E[I.modelLineNumber-w].map(F=>{if(F.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,F.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||F.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,F.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!F.horizontalLine)return F;let M=-1;if(F.column!==-1){const O=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,F.column);if(O.lineNumber===I.modelLineWrappedLineIdx)M=O.column;else if(O.lineNumber<I.modelLineWrappedLineIdx)M=this.getMinColumnOfViewLine(I);else if(O.lineNumber>I.modelLineWrappedLineIdx)return}const A=this.convertModelPositionToViewPosition(I.modelLineNumber,F.horizontalLine.endColumn),T=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,F.horizontalLine.endColumn);return T.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(F.visibleColumn,M,F.className,new D.IndentGuideHorizontalLine(F.horizontalLine.top,A.column),-1,-1):T.lineNumber<I.modelLineWrappedLineIdx||F.visibleColumn!==-1?void 0:new D.IndentGuide(F.visibleColumn,M,F.className,new D.IndentGuideHorizontalLine(F.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});p.push(R.filter(F=>!!F))}}return p}getViewLinesIndentGuides(o,d){o=this._toValidViewLineNumber(o),d=this._toValidViewLineNumber(d);const r=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),g=this.convertViewPositionToModelPosition(d,this.getViewLineMaxColumn(d));let f=[];const p=[],b=[],w=r.lineNumber-1,E=g.lineNumber-1;let I=null;for(let M=w;M<=E;M++){const A=this.modelLineProjections[M];if(A.isVisible()){const T=A.getViewLineNumberOfModelPosition(0,M===w?r.column:1),O=A.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(M+1)),P=O-T+1;let x=0;P>1&&A.getViewLineMinColumn(this.model,M+1,O)===1&&(x=T===0?1:2),p.push(P),b.push(x),I===null&&(I=new k.Position(M+1,0))}else I!==null&&(f=f.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,M)),I=null)}I!==null&&(f=f.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,g.lineNumber)),I=null);const N=d-o+1,R=new Array(N);let F=0;for(let M=0,A=f.length;M<A;M++){let T=f[M];const O=Math.min(N-F,p[M]),P=b[M];let x;P===2?x=0:P===1?x=1:x=O;for(let z=0;z<O;z++)z===x&&(T=0),R[F++]=T}return R}getViewLineContent(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineContent(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineLength(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineLength(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMinColumn(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMaxColumn(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineData(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineData(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLinesData(o,d,r){o=this._toValidViewLineNumber(o),d=this._toValidViewLineNumber(d);const g=this.projectedModelLineLineCounts.getIndexOf(o-1);let f=o;const p=g.index,b=g.remainder,w=[];for(let E=p,I=this.model.getLineCount();E<I;E++){const N=this.modelLineProjections[E];if(!N.isVisible())continue;const R=E===p?b:0;let F=N.getViewLineCount()-R,M=!1;if(f+F>d&&(M=!0,F=d-f+1),N.getViewLinesData(this.model,E+1,R,F,f-o,r,w),f+=F,M)break}return w}validateViewPosition(o,d,r){o=this._toValidViewLineNumber(o);const g=this.projectedModelLineLineCounts.getIndexOf(o-1),f=g.index,p=g.remainder,b=this.modelLineProjections[f],w=b.getViewLineMinColumn(this.model,f+1,p),E=b.getViewLineMaxColumn(this.model,f+1,p);d<w&&(d=w),d>E&&(d=E);const I=b.getModelColumnOfViewPosition(p,d);return this.model.validatePosition(new k.Position(f+1,I)).equals(r)?new k.Position(o,d):this.convertModelPositionToViewPosition(r.lineNumber,r.column)}validateViewRange(o,d){const r=this.validateViewPosition(o.startLineNumber,o.startColumn,d.getStartPosition()),g=this.validateViewPosition(o.endLineNumber,o.endColumn,d.getEndPosition());return new y.Range(r.lineNumber,r.column,g.lineNumber,g.column)}convertViewPositionToModelPosition(o,d){const r=this.getViewLineInfo(o),g=this.modelLineProjections[r.modelLineNumber-1].getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,d);return this.model.validatePosition(new k.Position(r.modelLineNumber,g))}convertViewRangeToModelRange(o){const d=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),r=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);return new y.Range(d.lineNumber,d.column,r.lineNumber,r.column)}convertModelPositionToViewPosition(o,d,r=2,g=!1,f=!1){const p=this.model.validatePosition(new k.Position(o,d)),b=p.lineNumber,w=p.column;let E=b-1,I=!1;if(f)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,I=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,I=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new k.Position(g?0:1,1);const N=1+this.projectedModelLineLineCounts.getPrefixSum(E);let R;return I?f?R=this.modelLineProjections[E].getViewPositionOfModelPosition(N,1,r):R=this.modelLineProjections[E].getViewPositionOfModelPosition(N,this.model.getLineMaxColumn(E+1),r):R=this.modelLineProjections[b-1].getViewPositionOfModelPosition(N,w,r),R}convertModelRangeToViewRange(o,d=0){if(o.isEmpty()){const r=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,d);return y.Range.fromPositions(r)}else{const r=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,1),g=this.convertModelPositionToViewPosition(o.endLineNumber,o.endColumn,0);return new y.Range(r.lineNumber,r.column,g.lineNumber,g.column)}}getViewLineNumberOfModelPosition(o,d){let r=o-1;if(this.modelLineProjections[r].isVisible()){const f=1+this.projectedModelLineLineCounts.getPrefixSum(r);return this.modelLineProjections[r].getViewLineNumberOfModelPosition(f,d)}for(;r>0&&!this.modelLineProjections[r].isVisible();)r--;if(r===0&&!this.modelLineProjections[r].isVisible())return 1;const g=1+this.projectedModelLineLineCounts.getPrefixSum(r);return this.modelLineProjections[r].getViewLineNumberOfModelPosition(g,this.model.getLineMaxColumn(r+1))}getDecorationsInRange(o,d,r,g,f){const p=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),b=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);if(b.lineNumber-p.lineNumber<=o.endLineNumber-o.startLineNumber)return this.model.getDecorationsInRange(new y.Range(p.lineNumber,1,b.lineNumber,b.column),d,r,g,f);let w=[];const E=p.lineNumber-1,I=b.lineNumber-1;let N=null;for(let A=E;A<=I;A++)if(this.modelLineProjections[A].isVisible())N===null&&(N=new k.Position(A+1,A===E?p.column:1));else if(N!==null){const O=this.model.getLineMaxColumn(A);w=w.concat(this.model.getDecorationsInRange(new y.Range(N.lineNumber,N.column,A,O),d,r,g)),N=null}N!==null&&(w=w.concat(this.model.getDecorationsInRange(new y.Range(N.lineNumber,N.column,b.lineNumber,b.column),d,r,g)),N=null),w.sort((A,T)=>{const O=y.Range.compareRangesUsingStarts(A.range,T.range);return O===0?A.id<T.id?-1:A.id>T.id?1:0:O});const R=[];let F=0,M=null;for(const A of w){const T=A.id;M!==T&&(M=T,R[F++]=A)}return R}getInjectedTextAt(o){const d=this.getViewLineInfo(o.lineNumber);return this.modelLineProjections[d.modelLineNumber-1].getInjectedTextAt(d.modelLineWrappedLineIdx,o.column)}normalizePosition(o,d){const r=this.getViewLineInfo(o.lineNumber);return this.modelLineProjections[r.modelLineNumber-1].normalizePosition(r.modelLineWrappedLineIdx,o,d)}getLineIndentColumn(o){const d=this.getViewLineInfo(o);return d.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(d.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=n;function i(c){if(c.length===0)return[];const o=c.slice();o.sort(y.Range.compareRangesUsingStarts);const d=[];let r=o[0].startLineNumber,g=o[0].endLineNumber;for(let f=1,p=o.length;f<p;f++){const b=o[f];b.startLineNumber>g+1?(d.push(new y.Range(r,1,g,1)),r=b.startLineNumber,g=b.endLineNumber):b.endLineNumber>g&&(g=b.endLineNumber)}return d.push(new y.Range(r,1,g,1)),d}class t{constructor(o,d){this.modelLineNumber=o,this.modelLineWrappedLineIdx=d}}class a{constructor(o,d){this.modelRange=o,this.viewLines=d}}class u{constructor(o){this._lines=o}convertViewPositionToModelPosition(o){return this._lines.convertViewPositionToModelPosition(o.lineNumber,o.column)}convertViewRangeToModelRange(o){return this._lines.convertViewRangeToModelRange(o)}validateViewPosition(o,d){return this._lines.validateViewPosition(o.lineNumber,o.column,d)}validateViewRange(o,d){return this._lines.validateViewRange(o,d)}convertModelPositionToViewPosition(o,d,r,g){return this._lines.convertModelPositionToViewPosition(o.lineNumber,o.column,d,r,g)}convertModelRangeToViewRange(o,d){return this._lines.convertModelRangeToViewRange(o,d)}modelPositionIsVisible(o){return this._lines.modelPositionIsVisible(o.lineNumber,o.column)}getModelLineViewLineCount(o){return this._lines.getModelLineViewLineCount(o)}getViewLineNumberOfModelPosition(o,d){return this._lines.getViewLineNumberOfModelPosition(o,d)}}class h{constructor(o){this.model=o}dispose(){}createCoordinatesConverter(){return new l(this)}getHiddenAreas(){return[]}setHiddenAreas(o){return!1}setTabSize(o){return!1}setWrappingSettings(o,d,r,g){return!1}createLineBreaksComputer(){const o=[];return{addRequest:(d,r,g)=>{o.push(null)},finalize:()=>o}}onModelFlushed(){}onModelLinesDeleted(o,d,r){return new _.ViewLinesDeletedEvent(d,r)}onModelLinesInserted(o,d,r,g){return new _.ViewLinesInsertedEvent(d,r)}onModelLineChanged(o,d,r){return[!1,new _.ViewLinesChangedEvent(d,1),null,null]}acceptVersionId(o){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(o,d,r){return{startLineNumber:o,endLineNumber:o,indent:0}}getViewLinesBracketGuides(o,d,r){return new Array(d-o+1).fill([])}getViewLinesIndentGuides(o,d){const r=d-o+1,g=new Array(r);for(let f=0;f<r;f++)g[f]=0;return g}getViewLineContent(o){return this.model.getLineContent(o)}getViewLineLength(o){return this.model.getLineLength(o)}getViewLineMinColumn(o){return this.model.getLineMinColumn(o)}getViewLineMaxColumn(o){return this.model.getLineMaxColumn(o)}getViewLineData(o){const d=this.model.tokenization.getLineTokens(o),r=d.getLineContent();return new s.ViewLineData(r,!1,1,r.length+1,0,d.inflate(),null)}getViewLinesData(o,d,r){const g=this.model.getLineCount();o=Math.min(Math.max(1,o),g),d=Math.min(Math.max(1,d),g);const f=[];for(let p=o;p<=d;p++){const b=p-o;f[b]=r[b]?this.getViewLineData(p):null}return f}getDecorationsInRange(o,d,r,g,f){return this.model.getDecorationsInRange(o,d,r,g,f)}normalizePosition(o,d){return this.model.normalizePosition(o,d)}getLineIndentColumn(o){return this.model.getLineIndentColumn(o)}getInjectedTextAt(o){return null}}e.ViewModelLinesFromModelAsIs=h;class l{constructor(o){this._lines=o}_validPosition(o){return this._lines.model.validatePosition(o)}_validRange(o){return this._lines.model.validateRange(o)}convertViewPositionToModelPosition(o){return this._validPosition(o)}convertViewRangeToModelRange(o){return this._validRange(o)}validateViewPosition(o,d){return this._validPosition(d)}validateViewRange(o,d){return this._validRange(d)}convertModelPositionToViewPosition(o){return this._validPosition(o)}convertModelRangeToViewRange(o){return this._validRange(o)}modelPositionIsVisible(o){const d=this._lines.model.getLineCount();return!(o.lineNumber<1||o.lineNumber>d)}getModelLineViewLineCount(o){return 1}getViewLineNumberOfModelPosition(o,d){return o}}}),define(ee[874],te([1,0,14,13,36,2,17,10,38,772,71,12,5,110,28,74,329,213,537,331,82,328,214,873]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class p extends D.Disposable{constructor(M,A,T,O,P,x,z,q,B){if(super(),this.languageConfigurationService=z,this._themeService=q,this._attachedView=B,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=M,this._configuration=A,this.model=T,this._eventDispatcher=new r.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=b.create(this.model),f&&this.model.isTooLargeForTokenization())this._lines=new g.ViewModelLinesFromModelAsIs(this.model);else{const $=this._configuration.options,X=$.get(49),ne=$.get(136),oe=$.get(143),Y=$.get(135),U=$.get(127);this._lines=new g.ViewModelLinesFromProjectedModel(this._editorId,this.model,O,P,X,this.model.getOptions().tabSize,ne,oe.wrappingColumn,Y,U)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new v.CursorsController(T,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new l.ViewLayout(this._configuration,this.getLineCount(),x)),this._register(this.viewLayout.onDidScroll($=>{$.scrollTopChanged&&this._handleVisibleLinesChanged(),$.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new h.ViewScrollChangedEvent($)),this._eventDispatcher.emitOutgoingEvent(new r.ScrollChangedEvent($.oldScrollWidth,$.oldScrollLeft,$.oldScrollHeight,$.oldScrollTop,$.scrollWidth,$.scrollLeft,$.scrollHeight,$.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange($=>{this._eventDispatcher.emitOutgoingEvent($)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast($=>{try{const X=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(X,$)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(c.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange($=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new h.ViewThemeChangedEvent($))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),A=new n.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(A)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new h.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new r.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new s.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),A=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new R(A,this._viewportStart.startLineDelta)}return new R(null,0)}_onConfigurationChanged(M,A){const T=this._captureStableViewport(),O=this._configuration.options,P=O.get(49),x=O.get(136),z=O.get(143),q=O.get(135),B=O.get(127);this._lines.setWrappingSettings(P,x,z.wrappingColumn,q,B)&&(M.emitViewEvent(new h.ViewFlushedEvent),M.emitViewEvent(new h.ViewLineMappingChangedEvent),M.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),A.hasChanged(89)&&(this._decorations.reset(),M.emitViewEvent(new h.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new h.ViewConfigurationChangedEvent(A)),this.viewLayout.onConfigurationChanged(A),T.recoverViewportStart(this.coordinatesConverter,this.viewLayout),C.CursorConfiguration.shouldRecreate(A)&&(this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const T=this._eventDispatcher.beginEmitViewEvents();let O=!1,P=!1;const x=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,z=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(const X of x)switch(X.changeType){case 4:{for(let ne=0;ne<X.detail.length;ne++){const oe=X.detail[ne];let Y=X.injectedTexts[ne];Y&&(Y=Y.filter(U=>!U.ownerId||U.ownerId===this._editorId)),q.addRequest(oe,Y,null)}break}case 2:{let ne=null;X.injectedText&&(ne=X.injectedText.filter(oe=>!oe.ownerId||oe.ownerId===this._editorId)),q.addRequest(X.detail,ne,null);break}}const B=q.finalize(),$=new L.ArrayQueue(B);for(const X of x)switch(X.changeType){case 1:{this._lines.onModelFlushed(),T.emitViewEvent(new h.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break}case 3:{const ne=this._lines.onModelLinesDeleted(z,X.fromLineNumber,X.toLineNumber);ne!==null&&(T.emitViewEvent(ne),this.viewLayout.onLinesDeleted(ne.fromLineNumber,ne.toLineNumber)),O=!0;break}case 4:{const ne=$.takeCount(X.detail.length),oe=this._lines.onModelLinesInserted(z,X.fromLineNumber,X.toLineNumber,ne);oe!==null&&(T.emitViewEvent(oe),this.viewLayout.onLinesInserted(oe.fromLineNumber,oe.toLineNumber)),O=!0;break}case 2:{const ne=$.dequeue(),[oe,Y,U,W]=this._lines.onModelLineChanged(z,X.lineNumber,ne);P=oe,Y&&T.emitViewEvent(Y),U&&(T.emitViewEvent(U),this.viewLayout.onLinesInserted(U.fromLineNumber,U.toLineNumber)),W&&(T.emitViewEvent(W),this.viewLayout.onLinesDeleted(W.fromLineNumber,W.toLineNumber));break}case 5:break}z!==null&&this._lines.acceptVersionId(z),this.viewLayout.onHeightMaybeChanged(),!O&&P&&(T.emitViewEvent(new h.ViewLineMappingChangedEvent),T.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const A=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&A){const T=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(T){const O=this.coordinatesConverter.convertModelPositionToViewPosition(T.getStartPosition()),P=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:P+this._viewportStart.startLineDelta},1)}}try{const T=this._eventDispatcher.beginEmitViewEvents();M instanceof i.InternalModelContentChangeEvent&&T.emitOutgoingEvent(new r.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(T,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const A=[];for(let T=0,O=M.ranges.length;T<O;T++){const P=M.ranges[T],x=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(P.fromLineNumber,1)).lineNumber,z=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(P.toLineNumber,this.model.getLineMaxColumn(P.toLineNumber))).lineNumber;A[T]={fromLineNumber:x,toLineNumber:z}}this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensChangedEvent(A)),this._eventDispatcher.emitOutgoingEvent(new r.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewLanguageConfigurationEvent),this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new r.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new r.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const A=this._eventDispatcher.beginEmitViewEvents();A.emitViewEvent(new h.ViewFlushedEvent),A.emitViewEvent(new h.ViewLineMappingChangedEvent),A.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(A),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new r.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new h.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new r.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,A){this.hiddenAreasModel.setHiddenAreas(A,M);const T=this.hiddenAreasModel.getMergedRanges();if(T===this.previousHiddenAreas)return;this.previousHiddenAreas=T;const O=this._captureStableViewport();let P=!1;try{const x=this._eventDispatcher.beginEmitViewEvents();P=this._lines.setHiddenAreas(T),P&&(x.emitViewEvent(new h.ViewFlushedEvent),x.emitViewEvent(new h.ViewLineMappingChangedEvent),x.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),O.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),P&&this._eventDispatcher.emitOutgoingEvent(new r.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(142),A=this._configuration.options.get(65),T=Math.max(20,Math.round(M.height/A)),O=this.viewLayout.getLinesViewportData(),P=Math.max(1,O.completelyVisibleStartLineNumber-T),x=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+T);return this._toModelVisibleRanges(new n.Range(P,this.getLineMinColumn(P),x,this.getLineMaxColumn(x)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const A=this.coordinatesConverter.convertViewRangeToModelRange(M),T=this._lines.getHiddenAreas();if(T.length===0)return[A];const O=[];let P=0,x=A.startLineNumber,z=A.startColumn;const q=A.endLineNumber,B=A.endColumn;for(let $=0,X=T.length;$<X;$++){const ne=T[$].startLineNumber,oe=T[$].endLineNumber;oe<x||ne>q||(x<ne&&(O[P++]=new n.Range(x,z,ne-1,this.model.getLineMaxColumn(ne-1))),x=oe+1,z=1)}return(x<q||x===q&&z<B)&&(O[P++]=new n.Range(x,z,q,B)),O}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),A=M.completelyVisibleStartLineNumber,T=M.completelyVisibleEndLineNumber;return new n.Range(A,this.getLineMinColumn(A),T,this.getLineMaxColumn(T))}getCompletelyVisibleViewRangeAtScrollTop(M){const A=this.viewLayout.getLinesViewportDataAtScrollTop(M),T=A.completelyVisibleStartLineNumber,O=A.completelyVisibleEndLineNumber;return new n.Range(T,this.getLineMinColumn(T),O,this.getLineMaxColumn(O))}saveState(){const M=this.viewLayout.saveState(),A=M.scrollTop,T=this.viewLayout.getLineNumberAtVerticalOffset(A),O=this.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(T,this.getLineMinColumn(T))),P=this.viewLayout.getVerticalOffsetForLineNumber(T)-A;return{scrollLeft:M.scrollLeft,firstPosition:O,firstPositionDeltaTop:P}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const A=this.model.validatePosition(M.firstPosition),T=this.coordinatesConverter.convertModelPositionToViewPosition(A),O=this.viewLayout.getVerticalOffsetForLineNumber(T.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:O}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,A,T){this._viewportStart.update(this,M)}getActiveIndentGuide(M,A,T){return this._lines.getActiveIndentGuide(M,A,T)}getLinesIndentGuides(M,A){return this._lines.getViewLinesIndentGuides(M,A)}getBracketGuidesInRangeByLine(M,A,T,O){return this._lines.getViewLinesBracketGuides(M,A,T,O)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const A=m.firstNonWhitespaceIndex(this.getLineContent(M));return A===-1?0:A+1}getLineLastNonWhitespaceColumn(M){const A=m.lastNonWhitespaceIndex(this.getLineContent(M));return A===-1?0:A+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,A){const O=this._decorations.getDecorationsViewportData(M).inlineDecorations[A-M.startLineNumber];return this._getViewLineRenderingData(A,O)}getViewLineRenderingData(M){const A=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,A)}_getViewLineRenderingData(M,A){const T=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),P=this.getTabSize(),x=this._lines.getViewLineData(M);return x.inlineDecorations&&(A=[...A,...x.inlineDecorations.map(z=>z.toInlineDecoration(M))]),new o.ViewLineRenderingData(x.minColumn,x.maxColumn,x.content,x.continuesWithWrappedLine,T,O,x.tokens,A,P,x.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,A,T){const O=this._lines.getViewLinesData(M,A,T);return new o.MinimapLinesRenderingData(this.getTabSize(),O)}getAllOverviewRulerDecorations(M){const A=this.model.getOverviewRulerDecorations(this._editorId,(0,_.filterValidationDecorations)(this._configuration.options)),T=new w;for(const O of A){const P=O.options,x=P.overviewRuler;if(!x)continue;const z=x.position;if(z===0)continue;const q=x.getColor(M.value),B=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),$=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);T.accept(q,P.zIndex,B,$,z)}return T.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const A of M){const T=A.options.overviewRuler;T?.invalidateCachedColor();const O=A.options.minimap;O?.invalidateCachedColor()}}getValueInRange(M,A){const T=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(T,A)}getValueLengthInRange(M,A){const T=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(T,A)}modifyPosition(M,A){const T=this.coordinatesConverter.convertViewPositionToModelPosition(M);return this.model.modifyPosition(T,A)}deduceModelPositionRelativeToViewPosition(M,A,T){const O=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(A<0?A-=T:A+=T);const x=this.model.getOffsetAt(O)+A;return this.model.getPositionAt(x)}getPlainTextToCopy(M,A,T){const O=T?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(n.Range.compareRangesUsingStarts);let P=!1,x=!1;for(const q of M)q.isEmpty()?P=!0:x=!0;if(!x){if(!A)return"";const q=M.map($=>$.startLineNumber);let B="";for(let $=0;$<q.length;$++)$>0&&q[$-1]===q[$]||(B+=this.model.getLineContent(q[$])+O);return B}if(P&&A){const q=[];let B=0;for(const $ of M){const X=$.startLineNumber;$.isEmpty()?X!==B&&q.push(this.model.getLineContent(X)):q.push(this.model.getValueInRange($,T?2:0)),B=X}return q.length===1?q[0]:q}const z=[];for(const q of M)q.isEmpty()||z.push(this.model.getValueInRange(q,T?2:0));return z.length===1?z[0]:z}getRichTextToCopy(M,A){const T=this.model.getLanguageId();if(T===a.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let O=M[0];if(O.isEmpty()){if(!A)return null;const $=O.startLineNumber;O=new n.Range($,this.model.getLineMinColumn($),$,this.model.getLineMaxColumn($))}const P=this._configuration.options.get(49),x=this._getColorMap(),q=/[:;\\\/<>]/.test(P.fontFamily)||P.fontFamily===_.EDITOR_FONT_DEFAULTS.fontFamily;let B;return q?B=_.EDITOR_FONT_DEFAULTS.fontFamily:(B=P.fontFamily,B=B.replace(/"/g,"'"),/[,']/.test(B)||/[+ ]/.test(B)&&(B=`'${B}'`),B=`${B}, ${_.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:T,html:`<div style="color: ${x[1]};background-color: ${x[2]};font-family: ${B};font-weight: ${P.fontWeight};font-size: ${P.fontSize}px;line-height: ${P.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(O,x)+"</div>"}}_getHTMLToCopy(M,A){const T=M.startLineNumber,O=M.startColumn,P=M.endLineNumber,x=M.endColumn,z=this.getTabSize();let q="";for(let B=T;B<=P;B++){const $=this.model.tokenization.getLineTokens(B),X=$.getLineContent(),ne=B===T?O-1:0,oe=B===P?x-1:X.length;X===""?q+="<br>":q+=(0,u.tokenizeLineToHTML)(X,$.inflate(),A,ne,oe,z,S.isWindows)}return q}_getColorMap(){const M=t.TokenizationRegistry.getColorMap(),A=["#000000"];if(M)for(let T=1,O=M.length;T<O;T++)A[T]=y.Color.Format.CSS.formatHex(M[T]);return A}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,A,T){return this._withViewEventsCollector(O=>this._cursor.setStates(O,M,A,T))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,A,T=0){this._withViewEventsCollector(O=>this._cursor.setSelections(O,M,A,T))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(A=>this._cursor.restoreState(A,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new r.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,A,T){this._executeCursorEdit(O=>this._cursor.executeEdits(O,M,A,T))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(A=>this._cursor.endComposition(A,M))}type(M,A){this._executeCursorEdit(T=>this._cursor.type(T,M,A))}compositionType(M,A,T,O,P){this._executeCursorEdit(x=>this._cursor.compositionType(x,M,A,T,O,P))}paste(M,A,T,O){this._executeCursorEdit(P=>this._cursor.paste(P,M,A,T,O))}cut(M){this._executeCursorEdit(A=>this._cursor.cut(A,M))}executeCommand(M,A){this._executeCursorEdit(T=>this._cursor.executeCommand(T,M,A))}executeCommands(M,A){this._executeCursorEdit(T=>this._cursor.executeCommands(T,M,A))}revealPrimaryCursor(M,A,T=!1){this._withViewEventsCollector(O=>this._cursor.revealPrimary(O,M,T,0,A,0))}revealTopMostCursor(M){const A=this._cursor.getTopMostViewPosition(),T=new n.Range(A.lineNumber,A.column,A.lineNumber,A.column);this._withViewEventsCollector(O=>O.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,T,null,0,!0,0)))}revealBottomMostCursor(M){const A=this._cursor.getBottomMostViewPosition(),T=new n.Range(A.lineNumber,A.column,A.lineNumber,A.column);this._withViewEventsCollector(O=>O.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,T,null,0,!0,0)))}revealRange(M,A,T,O,P){this._withViewEventsCollector(x=>x.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,T,null,O,A,P)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new h.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new r.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const A=this._eventDispatcher.beginEmitViewEvents();return M(A)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(M,A){return this._lines.normalizePosition(M,A)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=p;class b{static create(M){const A=M._setTrackedRange(null,new n.Range(1,1,1,1),1);return new b(M,1,!1,A,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,A,T,O,P){this._model=M,this._viewLineNumber=A,this._isValid=T,this._modelTrackedRange=O,this._startLineDelta=P}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,A){const T=M.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(A,M.getLineMinColumn(A))),O=M.model._setTrackedRange(this._modelTrackedRange,new n.Range(T.lineNumber,T.column,T.lineNumber,T.column),1),P=M.viewLayout.getVerticalOffsetForLineNumber(A),x=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=A,this._isValid=!0,this._modelTrackedRange=O,this._startLineDelta=x-P}invalidate(){this._isValid=!1}}class w{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,A,T,O,P){const x=this._asMap[M];if(x){const z=x.data,q=z[z.length-3],B=z[z.length-1];if(q===P&&B+1>=T){O>B&&(z[z.length-1]=O);return}z.push(P,T,O)}else{const z=new o.OverviewRulerDecorationsGroup(M,A,[P,T,O]);this._asMap[M]=z,this.asArray.push(z)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,A){const T=this.hiddenAreas.get(M);T&&N(T,A)||(this.hiddenAreas.set(M,A),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((A,T)=>I(A,T),[]);return N(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function I(F,M){const A=[];let T=0,O=0;for(;T<F.length&&O<M.length;){const P=F[T],x=M[O];if(P.endLineNumber<x.startLineNumber-1)A.push(F[T++]);else if(x.endLineNumber<P.startLineNumber-1)A.push(M[O++]);else{const z=Math.min(P.startLineNumber,x.startLineNumber),q=Math.max(P.endLineNumber,x.endLineNumber);A.push(new n.Range(z,1,q,1)),T++,O++}}for(;T<F.length;)A.push(F[T++]);for(;O<M.length;)A.push(M[O++]);return A}function N(F,M){if(F.length!==M.length)return!1;for(let A=0;A<F.length;A++)if(!F[A].equalsRange(M[A]))return!1;return!0}class R{constructor(M,A){this.viewportStartModelPosition=M,this.startLineDelta=A}recoverViewportStart(M,A){if(!this.viewportStartModelPosition)return;const T=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),O=A.getVerticalOffsetForLineNumber(T.lineNumber);A.setScrollPosition({scrollTop:O+this.startLineDelta},1)}}}),define(ee[193],te([1,0,605,7,9,6,2,54,754,16,33,851,272,38,80,12,5,24,279,175,22,39,77,32,874,25,15,8,187,46,23,86,534,592,177,31,69,18,782,201,790,436]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N,R,F,M,A,T,O,P,x,z){"use strict";var q;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let B=0;class ${constructor(J,K,H,Q,j,re){this.model=J,this.viewModel=K,this.view=H,this.hasRealView=Q,this.listenersToRemove=j,this.attachedView=re}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let X=q=class extends S.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(J,K,H,Q,j,re,se,ue,me,ve,Ce,we){var Le;super(),this.languageConfigurationService=Ce,this._deliveryQueue=(0,D.createEventDeliveryQueue)(),this._contributions=this._register(new x.CodeEditorContributions),this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new oe(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new oe(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new oe(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new oe(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new oe(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new oe(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),j.willCreateCodeEditor();const Ee=Object.assign({},K);this._domElement=J,this._overflowWidgetsDomNode=Ee.overflowWidgetsDomNode,delete Ee.overflowWidgetsDomNode,this._id=++B,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=H.telemetryData,this._configuration=this._register(this._createConfiguration(H.isSimpleWidget||!1,Ee,ve)),this._register(this._configuration.onDidChange(Re=>{this._onDidChangeConfiguration.fire(Re);const ye=this._configuration.options;if(Re.hasChanged(142)){const De=ye.get(142);this._onDidLayoutChange.fire(De)}})),this._contextKeyService=this._register(se.createScoped(this._domElement)),this._notificationService=me,this._codeEditorService=j,this._commandService=re,this._themeService=ue,this._register(new Y(this,this._contextKeyService)),this._register(new U(this,this._contextKeyService,we)),this._instantiationService=Q.createChild(new E.ServiceCollection([b.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new W(J),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Ne;Array.isArray(H.contributions)?Ne=H.contributions:Ne=v.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Ne,this._instantiationService);for(const Re of v.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Re.id)){(0,y.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Re.id}`));continue}const ye=new l.InternalEditorAction(Re.id,Re.label,Re.alias,(Le=Re.precondition)!==null&&Le!==void 0?Le:void 0,()=>this._instantiationService.invokeFunction(De=>Promise.resolve(Re.runEditorCommand(De,this,null))),this._contextKeyService);this._actions.set(ye.id,ye)}const Ae=()=>!this._configuration.options.get(89)&&this._configuration.options.get(35).enabled;this._register(new k.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:Re=>{if(!Ae())return;const ye=this.getTargetAtClientPoint(Re.clientX,Re.clientY);ye?.position&&this.showDropIndicatorAt(ye.position)},onDrop:Re=>Se(this,void 0,void 0,function*(){if(!Ae()||(this.removeDropIndicator(),!Re.dataTransfer))return;const ye=this.getTargetAtClientPoint(Re.clientX,Re.clientY);ye?.position&&this._onDropIntoEditor.fire({position:ye.position,event:Re})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(J){var K;(K=this._modelData)===null||K===void 0||K.view.writeScreenReaderContent(J)}_createConfiguration(J,K,H){return new _.EditorConfiguration(J,K,this._domElement,H)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(J){return this._instantiationService.invokeFunction(J)}updateOptions(J){this._configuration.updateOptions(J||{})}getOptions(){return this._configuration.options}getOption(J){return this._configuration.options.get(J)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(J){return this._modelData?A.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(128),J):null}getValue(J=null){if(!this._modelData)return"";const K=!!(J&&J.preserveBOM);let H=0;return J&&J.lineEnding&&J.lineEnding===`
`?H=1:J&&J.lineEnding&&J.lineEnding===`\r
`&&(H=2),this._modelData.model.getValue(H,K)}setValue(J){this._modelData&&this._modelData.model.setValue(J)}getModel(){return this._modelData?this._modelData.model:null}setModel(J=null){const K=J;if(this._modelData===null&&K===null||this._modelData&&this._modelData.model===K)return;const H=this.hasTextFocus(),Q=this._detachModel();this._attachModel(K),H&&this.hasModel()&&this.focus();const j={oldModelUrl:Q?Q.uri:null,newModelUrl:K?K.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(j),this._postDetachModelCleanup(Q),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const J in this._decorationTypeSubtypes){const K=this._decorationTypeSubtypes[J];for(const H in K)this._removeDecorationType(J+"-"+H)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(J,K,H,Q){const j=J.model.validatePosition({lineNumber:K,column:H}),re=J.viewModel.coordinatesConverter.convertModelPositionToViewPosition(j);return J.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(re.lineNumber,Q)}getTopForLineNumber(J,K=!1){return this._modelData?q._getVerticalOffsetForPosition(this._modelData,J,1,K):-1}getTopForPosition(J,K){return this._modelData?q._getVerticalOffsetForPosition(this._modelData,J,K,!1):-1}static _getVerticalOffsetForPosition(J,K,H,Q=!1){const j=J.model.validatePosition({lineNumber:K,column:H}),re=J.viewModel.coordinatesConverter.convertModelPositionToViewPosition(j);return J.viewModel.viewLayout.getVerticalOffsetForLineNumber(re.lineNumber,Q)}getBottomForLineNumber(J,K=!1){return this._modelData?q._getVerticalOffsetAfterPosition(this._modelData,J,1,K):-1}setHiddenAreas(J,K){var H;(H=this._modelData)===null||H===void 0||H.viewModel.setHiddenAreas(J.map(Q=>u.Range.lift(Q)),K)}getVisibleColumnFromPosition(J){if(!this._modelData)return J.column;const K=this._modelData.model.validatePosition(J),H=this._modelData.model.getOptions().tabSize;return t.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(K.lineNumber),K.column,H)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(J,K="api"){if(this._modelData){if(!a.Position.isIPosition(J))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(K,[{selectionStartLineNumber:J.lineNumber,selectionStartColumn:J.column,positionLineNumber:J.lineNumber,positionColumn:J.column}])}}_sendRevealRange(J,K,H,Q){if(!this._modelData)return;if(!u.Range.isIRange(J))throw new Error("Invalid arguments");const j=this._modelData.model.validateRange(J),re=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(j);this._modelData.viewModel.revealRange("api",H,re,K,Q)}revealLine(J,K=0){this._revealLine(J,0,K)}revealLineInCenter(J,K=0){this._revealLine(J,1,K)}revealLineInCenterIfOutsideViewport(J,K=0){this._revealLine(J,2,K)}revealLineNearTop(J,K=0){this._revealLine(J,5,K)}_revealLine(J,K,H){if(typeof J!="number")throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(J,1,J,1),K,!1,H)}revealPosition(J,K=0){this._revealPosition(J,0,!0,K)}revealPositionInCenter(J,K=0){this._revealPosition(J,1,!0,K)}revealPositionInCenterIfOutsideViewport(J,K=0){this._revealPosition(J,2,!0,K)}revealPositionNearTop(J,K=0){this._revealPosition(J,5,!0,K)}_revealPosition(J,K,H,Q){if(!a.Position.isIPosition(J))throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(J.lineNumber,J.column,J.lineNumber,J.column),K,H,Q)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(J,K="api"){const H=h.Selection.isISelection(J),Q=u.Range.isIRange(J);if(!H&&!Q)throw new Error("Invalid arguments");if(H)this._setSelectionImpl(J,K);else if(Q){const j={selectionStartLineNumber:J.startLineNumber,selectionStartColumn:J.startColumn,positionLineNumber:J.endLineNumber,positionColumn:J.endColumn};this._setSelectionImpl(j,K)}}_setSelectionImpl(J,K){if(!this._modelData)return;const H=new h.Selection(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn);this._modelData.viewModel.setSelections(K,[H])}revealLines(J,K,H=0){this._revealLines(J,K,0,H)}revealLinesInCenter(J,K,H=0){this._revealLines(J,K,1,H)}revealLinesInCenterIfOutsideViewport(J,K,H=0){this._revealLines(J,K,2,H)}revealLinesNearTop(J,K,H=0){this._revealLines(J,K,5,H)}_revealLines(J,K,H,Q){if(typeof J!="number"||typeof K!="number")throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(J,1,K,1),H,!1,Q)}revealRange(J,K=0,H=!1,Q=!0){this._revealRange(J,H?1:0,Q,K)}revealRangeInCenter(J,K=0){this._revealRange(J,1,!0,K)}revealRangeInCenterIfOutsideViewport(J,K=0){this._revealRange(J,2,!0,K)}revealRangeNearTop(J,K=0){this._revealRange(J,5,!0,K)}revealRangeNearTopIfOutsideViewport(J,K=0){this._revealRange(J,6,!0,K)}revealRangeAtTop(J,K=0){this._revealRange(J,3,!0,K)}_revealRange(J,K,H,Q){if(!u.Range.isIRange(J))throw new Error("Invalid arguments");this._sendRevealRange(u.Range.lift(J),K,H,Q)}setSelections(J,K="api",H=0){if(this._modelData){if(!J||J.length===0)throw new Error("Invalid arguments");for(let Q=0,j=J.length;Q<j;Q++)if(!h.Selection.isISelection(J[Q]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(K,J,H)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(J,K=1){if(this._modelData){if(typeof J!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:J},K)}}setScrollTop(J,K=1){if(this._modelData){if(typeof J!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:J},K)}}setScrollPosition(J,K=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(J,K)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const J=this._contributions.saveViewState(),K=this._modelData.viewModel.saveCursorState(),H=this._modelData.viewModel.saveState();return{cursorState:K,viewState:H,contributionsState:J}}restoreViewState(J){if(!this._modelData||!this._modelData.hasRealView)return;const K=J;if(K&&K.cursorState&&K.viewState){const H=K.cursorState;Array.isArray(H)?H.length>0&&this._modelData.viewModel.restoreCursorState(H):this._modelData.viewModel.restoreCursorState([H]),this._contributions.restoreViewState(K.contributionsState||{});const Q=this._modelData.viewModel.reduceRestoreState(K.viewState);this._modelData.view.restoreState(Q)}}handleInitialized(){var J;(J=this._getViewModel())===null||J===void 0||J.visibleLinesStabilized()}getContribution(J){return this._contributions.get(J)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let J=this.getActions();return J=J.filter(K=>K.isSupported()),J}getAction(J){return this._actions.get(J)||null}trigger(J,K,H){switch(H=H||{},K){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(J);return;case"type":{const j=H;this._type(J,j.text||"");return}case"replacePreviousChar":{const j=H;this._compositionType(J,j.text||"",j.replaceCharCnt||0,0,0);return}case"compositionType":{const j=H;this._compositionType(J,j.text||"",j.replacePrevCharCnt||0,j.replaceNextCharCnt||0,j.positionDelta||0);return}case"paste":{const j=H;this._paste(J,j.text||"",j.pasteOnNewLine||!1,j.multicursorText||null,j.mode||null);return}case"cut":this._cut(J);return}const Q=this.getAction(K);if(Q){Promise.resolve(Q.run(H)).then(void 0,y.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(J,K,H)||this._triggerCommand(K,H))}_triggerCommand(J,K){this._commandService.executeCommand(J,K)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(J){this._modelData&&(this._modelData.viewModel.endComposition(J),this._onDidCompositionEnd.fire())}_type(J,K){!this._modelData||K.length===0||(J==="keyboard"&&this._onWillType.fire(K),this._modelData.viewModel.type(K,J),J==="keyboard"&&this._onDidType.fire(K))}_compositionType(J,K,H,Q,j){this._modelData&&this._modelData.viewModel.compositionType(K,H,Q,j,J)}_paste(J,K,H,Q,j){if(!this._modelData||K.length===0)return;const re=this._modelData.viewModel,se=re.getSelection().getStartPosition();re.paste(K,H,Q,J);const ue=re.getSelection().getStartPosition();J==="keyboard"&&this._onDidPaste.fire({range:new u.Range(se.lineNumber,se.column,ue.lineNumber,ue.column),languageId:j})}_cut(J){this._modelData&&this._modelData.viewModel.cut(J)}_triggerEditorCommand(J,K,H){const Q=v.EditorExtensionsRegistry.getEditorCommand(K);return Q?(H=H||{},H.source=J,this._instantiationService.invokeFunction(j=>{Promise.resolve(Q.runEditorCommand(j,this,H)).then(void 0,y.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(89)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(89)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(J,K,H){if(!this._modelData||this._configuration.options.get(89))return!1;let Q;return H?Array.isArray(H)?Q=()=>H:Q=H:Q=()=>null,this._modelData.viewModel.executeEdits(J,K,Q),!0}executeCommand(J,K){this._modelData&&this._modelData.viewModel.executeCommand(K,J)}executeCommands(J,K){this._modelData&&this._modelData.viewModel.executeCommands(K,J)}createDecorationsCollection(J){return new V(this,J)}changeDecorations(J){return this._modelData?this._modelData.model.changeDecorations(J,this._id):null}getLineDecorations(J){return this._modelData?this._modelData.model.getLineDecorations(J,this._id,(0,i.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(J){return this._modelData?this._modelData.model.getDecorationsInRange(J,this._id,(0,i.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(J,K){return this._modelData?J.length===0&&K.length===0?J:this._modelData.model.deltaDecorations(J,K,this._id):[]}removeDecorations(J){!this._modelData||J.length===0||this._modelData.model.changeDecorations(K=>{K.deltaDecorations(J,[])})}removeDecorationsByType(J){const K=this._decorationTypeKeysToIds[J];K&&this.deltaDecorations(K,[]),this._decorationTypeKeysToIds.hasOwnProperty(J)&&delete this._decorationTypeKeysToIds[J],this._decorationTypeSubtypes.hasOwnProperty(J)&&delete this._decorationTypeSubtypes[J]}getLayoutInfo(){return this._configuration.options.get(142)}createOverviewRuler(J){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(J)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(J)}delegateScrollFromMouseWheelEvent(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(J)}layout(J){this._configuration.observeContainer(J),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(J){const K={widget:J,position:J.getPosition()};this._contentWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[J.getId()]=K,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(K)}layoutContentWidget(J){const K=J.getId();if(this._contentWidgets.hasOwnProperty(K)){const H=this._contentWidgets[K];H.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(H)}}removeContentWidget(J){const K=J.getId();if(this._contentWidgets.hasOwnProperty(K)){const H=this._contentWidgets[K];delete this._contentWidgets[K],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(H)}}addOverlayWidget(J){const K={widget:J,position:J.getPosition()};this._overlayWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[J.getId()]=K,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(K)}layoutOverlayWidget(J){const K=J.getId();if(this._overlayWidgets.hasOwnProperty(K)){const H=this._overlayWidgets[K];H.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(H)}}removeOverlayWidget(J){const K=J.getId();if(this._overlayWidgets.hasOwnProperty(K)){const H=this._overlayWidgets[K];delete this._overlayWidgets[K],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(H)}}addGlyphMarginWidget(J){const K={widget:J,position:J.getPosition()};this._glyphMarginWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[J.getId()]=K,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(K)}layoutGlyphMarginWidget(J){const K=J.getId();if(this._glyphMarginWidgets.hasOwnProperty(K)){const H=this._glyphMarginWidgets[K];H.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(H)}}removeGlyphMarginWidget(J){const K=J.getId();if(this._glyphMarginWidgets.hasOwnProperty(K)){const H=this._glyphMarginWidgets[K];delete this._glyphMarginWidgets[K],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(H)}}changeViewZones(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(J)}getTargetAtClientPoint(J,K){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(J,K)}getScrolledVisiblePosition(J){if(!this._modelData||!this._modelData.hasRealView)return null;const K=this._modelData.model.validatePosition(J),H=this._configuration.options,Q=H.get(142),j=q._getVerticalOffsetForPosition(this._modelData,K.lineNumber,K.column)-this.getScrollTop(),re=this._modelData.view.getOffsetForColumn(K.lineNumber,K.column)+Q.glyphMarginWidth+Q.lineNumbersWidth+Q.decorationsWidth-this.getScrollLeft();return{top:j,left:re,height:H.get(65)}}getOffsetForColumn(J,K){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(J,K)}render(J=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,J)}setAriaOptions(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(J)}applyFontInfo(J){(0,O.applyFontInfo)(J,this._configuration.options.get(49))}setBanner(J,K){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=J,this._configuration.setReservedHeight(J?K:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(J){if(!J){this._modelData=null;return}const K=[];this._domElement.setAttribute("data-mode-id",J.getLanguageId()),this._configuration.setIsDominatedByLongLines(J.isDominatedByLongLines()),this._configuration.setModelLineCount(J.getLineCount());const H=J.onBeforeAttached(),Q=new f.ViewModel(this._id,this._configuration,J,M.DOMLineBreaksComputerFactory.create(),F.MonospaceLineBreaksComputerFactory.create(this._configuration.options),se=>k.scheduleAtNextAnimationFrame(se),this.languageConfigurationService,this._themeService,H);K.push(J.onWillDispose(()=>this.setModel(null))),K.push(Q.onEvent(se=>{switch(se.kind){case 0:this._onDidContentSizeChange.fire(se);break;case 1:this._editorTextFocus.setValue(se.hasFocus);break;case 2:this._onDidScrollChange.fire(se);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(se.reachedMaxCursorCount){const Ce=this.getOption(78),we=L.localize(0,null,Ce);this._notificationService.prompt(I.Severity.Warning,we,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:L.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ue=[];for(let Ce=0,we=se.selections.length;Ce<we;Ce++)ue[Ce]=se.selections[Ce].getPosition();const me={position:ue[0],secondaryPositions:ue.slice(1),reason:se.reason,source:se.source};this._onDidChangeCursorPosition.fire(me);const ve={selection:se.selections[0],secondarySelections:se.selections.slice(1),modelVersionId:se.modelVersionId,oldSelections:se.oldSelections,oldModelVersionId:se.oldModelVersionId,source:se.source,reason:se.reason};this._onDidChangeCursorSelection.fire(ve);break}case 7:this._onDidChangeModelDecorations.fire(se.event);break;case 8:this._domElement.setAttribute("data-mode-id",J.getLanguageId()),this._onDidChangeModelLanguage.fire(se.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(se.event);break;case 10:this._onDidChangeModelContent.fire(se.event);break;case 11:this._onDidChangeModelOptions.fire(se.event);break;case 12:this._onDidChangeModelTokens.fire(se.event);break}}));const[j,re]=this._createView(Q);if(re){this._domElement.appendChild(j.domNode.domNode);let se=Object.keys(this._contentWidgets);for(let ue=0,me=se.length;ue<me;ue++){const ve=se[ue];j.addContentWidget(this._contentWidgets[ve])}se=Object.keys(this._overlayWidgets);for(let ue=0,me=se.length;ue<me;ue++){const ve=se[ue];j.addOverlayWidget(this._overlayWidgets[ve])}se=Object.keys(this._glyphMarginWidgets);for(let ue=0,me=se.length;ue<me;ue++){const ve=se[ue];j.addGlyphMarginWidget(this._glyphMarginWidgets[ve])}j.render(!1,!0),j.domNode.domNode.setAttribute("data-uri",J.uri.toString())}this._modelData=new $(J,Q,j,re,K,H)}_createView(J){let K;this.isSimpleWidget?K={paste:(j,re,se,ue)=>{this._paste("keyboard",j,re,se,ue)},type:j=>{this._type("keyboard",j)},compositionType:(j,re,se,ue)=>{this._compositionType("keyboard",j,re,se,ue)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:K={paste:(j,re,se,ue)=>{const me={text:j,pasteOnNewLine:re,multicursorText:se,mode:ue};this._commandService.executeCommand("paste",me)},type:j=>{const re={text:j};this._commandService.executeCommand("type",re)},compositionType:(j,re,se,ue)=>{if(se||ue){const me={text:j,replacePrevCharCnt:re,replaceNextCharCnt:se,positionDelta:ue};this._commandService.executeCommand("compositionType",me)}else{const me={text:j,replaceCharCnt:re};this._commandService.executeCommand("replacePreviousChar",me)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const H=new n.ViewUserInputEvents(J.coordinatesConverter);return H.onKeyDown=j=>this._onKeyDown.fire(j),H.onKeyUp=j=>this._onKeyUp.fire(j),H.onContextMenu=j=>this._onContextMenu.fire(j),H.onMouseMove=j=>this._onMouseMove.fire(j),H.onMouseLeave=j=>this._onMouseLeave.fire(j),H.onMouseDown=j=>this._onMouseDown.fire(j),H.onMouseUp=j=>this._onMouseUp.fire(j),H.onMouseDrag=j=>this._onMouseDrag.fire(j),H.onMouseDrop=j=>this._onMouseDrop.fire(j),H.onMouseDropCanceled=j=>this._onMouseDropCanceled.fire(j),H.onMouseWheel=j=>this._onMouseWheel.fire(j),[new s.View(K,this._configuration,this._themeService.getColorTheme(),J,H,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(J){J?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const J=this._modelData.model,K=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),K&&this._domElement.contains(K)&&this._domElement.removeChild(K),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),J}_removeDecorationType(J){this._codeEditorService.removeDecorationType(J)}hasModel(){return this._modelData!==null}showDropIndicatorAt(J){const K=[{range:new u.Range(J.lineNumber,J.column,J.lineNumber,J.column),options:q.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(K),this.revealPosition(J,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(J,K){this._contextKeyService.createKey(J,K)}};e.CodeEditorWidget=X,X.dropIntoEditorDecorationOptions=d.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=X=q=Ie([ge(3,w.IInstantiationService),ge(4,C.ICodeEditorService),ge(5,p.ICommandService),ge(6,b.IContextKeyService),ge(7,N.IThemeService),ge(8,I.INotificationService),ge(9,R.IAccessibilityService),ge(10,T.ILanguageConfigurationService),ge(11,P.ILanguageFeaturesService)],X);class ne extends S.Disposable{constructor(J){super(),this._emitterOptions=J,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){const K=J?2:1;this._value!==K&&(this._value=K,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=ne;class oe extends D.Emitter{constructor(J,K){super({deliveryQueue:K}),this._contributions=J}fire(J){this._contributions.onBeforeInteractionEvent(),super.fire(J)}}class Y extends S.Disposable{constructor(J,K){super(),this._editor=J,K.createKey("editorId",J.getId()),this._editorSimpleInput=o.EditorContextKeys.editorSimpleInput.bindTo(K),this._editorFocus=o.EditorContextKeys.focus.bindTo(K),this._textInputFocus=o.EditorContextKeys.textInputFocus.bindTo(K),this._editorTextFocus=o.EditorContextKeys.editorTextFocus.bindTo(K),this._editorTabMovesFocus=o.EditorContextKeys.tabMovesFocus.bindTo(K),this._editorReadonly=o.EditorContextKeys.readOnly.bindTo(K),this._inDiffEditor=o.EditorContextKeys.inDiffEditor.bindTo(K),this._editorColumnSelection=o.EditorContextKeys.columnSelection.bindTo(K),this._hasMultipleSelections=o.EditorContextKeys.hasMultipleSelections.bindTo(K),this._hasNonEmptySelection=o.EditorContextKeys.hasNonEmptySelection.bindTo(K),this._canUndo=o.EditorContextKeys.canUndo.bindTo(K),this._canRedo=o.EditorContextKeys.canRedo.bindTo(K),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(z.TabFocus.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(z.TabFocus.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const J=this._editor.getOptions();this._editorTabMovesFocus.set(z.TabFocus.getTabFocusMode("editorFocus")),this._editorReadonly.set(J.get(89)),this._inDiffEditor.set(J.get(60)),this._editorColumnSelection.set(J.get(21))}_updateFromSelection(){const J=this._editor.getSelections();J?(this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(K=>!K.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const J=this._editor.getModel();this._canUndo.set(!!(J&&J.canUndo())),this._canRedo.set(!!(J&&J.canRedo()))}}class U extends S.Disposable{constructor(J,K,H){super(),this._editor=J,this._contextKeyService=K,this._languageFeaturesService=H,this._langId=o.EditorContextKeys.languageId.bindTo(K),this._hasCompletionItemProvider=o.EditorContextKeys.hasCompletionItemProvider.bindTo(K),this._hasCodeActionsProvider=o.EditorContextKeys.hasCodeActionsProvider.bindTo(K),this._hasCodeLensProvider=o.EditorContextKeys.hasCodeLensProvider.bindTo(K),this._hasDefinitionProvider=o.EditorContextKeys.hasDefinitionProvider.bindTo(K),this._hasDeclarationProvider=o.EditorContextKeys.hasDeclarationProvider.bindTo(K),this._hasImplementationProvider=o.EditorContextKeys.hasImplementationProvider.bindTo(K),this._hasTypeDefinitionProvider=o.EditorContextKeys.hasTypeDefinitionProvider.bindTo(K),this._hasHoverProvider=o.EditorContextKeys.hasHoverProvider.bindTo(K),this._hasDocumentHighlightProvider=o.EditorContextKeys.hasDocumentHighlightProvider.bindTo(K),this._hasDocumentSymbolProvider=o.EditorContextKeys.hasDocumentSymbolProvider.bindTo(K),this._hasReferenceProvider=o.EditorContextKeys.hasReferenceProvider.bindTo(K),this._hasRenameProvider=o.EditorContextKeys.hasRenameProvider.bindTo(K),this._hasSignatureHelpProvider=o.EditorContextKeys.hasSignatureHelpProvider.bindTo(K),this._hasInlayHintsProvider=o.EditorContextKeys.hasInlayHintsProvider.bindTo(K),this._hasDocumentFormattingProvider=o.EditorContextKeys.hasDocumentFormattingProvider.bindTo(K),this._hasDocumentSelectionFormattingProvider=o.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(K),this._hasMultipleDocumentFormattingProvider=o.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(K),this._hasMultipleDocumentSelectionFormattingProvider=o.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(K),this._isInWalkThrough=o.EditorContextKeys.isInWalkThroughSnippet.bindTo(K);const Q=()=>this._update();this._register(J.onDidChangeModel(Q)),this._register(J.onDidChangeModelLanguage(Q)),this._register(H.completionProvider.onDidChange(Q)),this._register(H.codeActionProvider.onDidChange(Q)),this._register(H.codeLensProvider.onDidChange(Q)),this._register(H.definitionProvider.onDidChange(Q)),this._register(H.declarationProvider.onDidChange(Q)),this._register(H.implementationProvider.onDidChange(Q)),this._register(H.typeDefinitionProvider.onDidChange(Q)),this._register(H.hoverProvider.onDidChange(Q)),this._register(H.documentHighlightProvider.onDidChange(Q)),this._register(H.documentSymbolProvider.onDidChange(Q)),this._register(H.referenceProvider.onDidChange(Q)),this._register(H.renameProvider.onDidChange(Q)),this._register(H.documentFormattingEditProvider.onDidChange(Q)),this._register(H.documentRangeFormattingEditProvider.onDidChange(Q)),this._register(H.signatureHelpProvider.onDidChange(Q)),this._register(H.inlayHintsProvider.onDidChange(Q)),Q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(J)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(J)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(J)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(J)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(J)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(J)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(J)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(J)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(J)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(J)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(J)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(J)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(J)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(J)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(J)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(J).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===m.Schemas.walkThroughSnippet)})}}e.EditorModeContext=U;class W extends S.Disposable{constructor(J){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(J)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class V{get length(){return this._decorationIds.length}constructor(J,K){this._editor=J,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(K)&&K.length>0&&this.set(K)}onDidChange(J,K,H){return this._editor.onDidChangeModelDecorations(Q=>{this._isChangingDecorations||J.call(K,Q)},H)}getRange(J){return!this._editor.hasModel()||J>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[J])}getRanges(){if(!this._editor.hasModel())return[];const J=this._editor.getModel(),K=[];for(const H of this._decorationIds){const Q=J.getDecorationRange(H);Q&&K.push(Q)}return K}has(J){return this._decorationIds.includes(J.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(J){try{this._isChangingDecorations=!0,this._editor.changeDecorations(K=>{this._decorationIds=K.deltaDecorations(this._decorationIds,J)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const Z=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ie=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function le(ae){return Z+encodeURIComponent(ae.toString())+ie}const he=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),de=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ce(ae){return he+encodeURIComponent(ae.toString())+de}(0,N.registerThemingParticipant)((ae,J)=>{const K=ae.getColor(g.editorErrorForeground);K&&J.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${le(K)}") repeat-x bottom left; }`);const H=ae.getColor(g.editorWarningForeground);H&&J.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${le(H)}") repeat-x bottom left; }`);const Q=ae.getColor(g.editorInfoForeground);Q&&J.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${le(Q)}") repeat-x bottom left; }`);const j=ae.getColor(g.editorHintForeground);j&&J.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ce(j)}") no-repeat bottom left; }`);const re=ae.getColor(r.editorUnnecessaryCodeOpacity);re&&J.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${re.rgba.a}; }`)})}),define(ee[365],te([1,0,7,9,6,2,40,16,33,193,830,870,591,745,871,326,359,101,175,22,156,15,8,187,85,483,844,618,351,435,822]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget2=void 0;let I=class extends p.DelegatingEditor{constructor(F,M,A,T,O,P,x,z){var q;super(),this._domElement=F,this._parentContextKeyService=T,this._parentInstantiationService=O,this._audioCueService=x,this._editorProgressService=z,this.elements=(0,L.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,L.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,L.$)("span",{},"No Changes")]),(0,L.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register((0,S.disposableObservableValue)("diffModel",void 0)),this.onDidChangeModel=y.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new g.ServiceCollection([d.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,S.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,S.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,S.derived)(this,Y=>this._options.onlyShowAccessibleDiffViewer.read(Y)?!0:this._accessibleDiffViewerShouldBeVisible.read(Y)),this.movedBlocksLinesPart=(0,S.observableValue)(this,void 0),this._layoutInfo=(0,S.derived)(this,Y=>{var U,W,V;const Z=this._rootSizeObserver.width.read(Y),ie=this._rootSizeObserver.height.read(Y),le=(U=this._sash.read(Y))===null||U===void 0?void 0:U.sashLeft.read(Y),he=le??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),de=Z-he-(this._options.renderOverviewRuler.read(Y)?u.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ce=(V=(W=this.movedBlocksLinesPart.read(Y))===null||W===void 0?void 0:W.width.read(Y))!==null&&V!==void 0?V:0,ae=he-ce;return this.elements.original.style.width=ae+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=de+"px",this.elements.modified.style.left=he+"px",this._editors.original.layout({width:ae,height:ie}),this._editors.modified.layout({width:de,height:ie}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((Y,U)=>Y?.diff.read(U)),this.onDidUpdateDiff=y.Event.fromObservableLight(this._diffValue),P.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._contextKeyService.createKey("diffEditorVersion",2),this._domElement.appendChild(this.elements.root),this._register((0,D.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new h.ObservableElementSizeObserver(this.elements.root,M.dimension)),this._rootSizeObserver.setAutomaticLayout((q=M.automaticLayout)!==null&&q!==void 0?q:!1),this._options=new w.DiffEditorOptions(M,this._rootSizeObserver.width),this._contextKeyService.createKey(c.EditorContextKeys.isEmbeddedDiffEditor.key,!1);const B=c.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register((0,S.autorun)(Y=>{B.set(this._options.isInEmbeddedEditor.read(Y))}));const $=c.EditorContextKeys.comparingMovedCode.bindTo(this._contextKeyService);this._register((0,S.autorun)(Y=>{var U;$.set(!!(!((U=this._diffModel.read(Y))===null||U===void 0)&&U.movedTextToCompare.read(Y)))}));const X=c.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register((0,S.autorun)(Y=>{X.set(this._options.couldShowInlineViewBecauseOfSize.read(Y))})),this._editors=this._register(this._instantiationService.createInstance(b.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,A,(Y,U,W,V)=>this._createInnerEditor(Y,U,W,V))),this._sash=(0,S.derivedWithStore)(this,(Y,U)=>{const W=this._options.renderSideBySide.read(Y);if(this.elements.root.classList.toggle("side-by-side",W),!W)return;const V=U.add(new n.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((Z,ie)=>Z-(this._options.renderOverviewRuler.read(ie)?u.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return U.add((0,S.autorun)(Z=>{const ie=this._boundarySashes.read(Z);ie&&V.setBoundarySashes(ie)})),V}),this._register((0,S.recomputeInitiallyAndOnChange)(this._sash)),this._register((0,S.autorunWithStore)((Y,U)=>{this.unchangedRangesFeature=U.add(this._instantiationService.createInstance((0,h.readHotReloadableExport)(i.HideUnchangedRegionsFeature,Y),this._editors,this._diffModel,this._options))})),this._register((0,S.autorunWithStore)((Y,U)=>{U.add(new((0,h.readHotReloadableExport)(s.DiffEditorDecorations,Y))(this._editors,this._diffModel,this._options))})),this._register((0,S.autorunWithStore)((Y,U)=>{U.add(this._instantiationService.createInstance((0,h.readHotReloadableExport)(t.ViewZoneManager,Y),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register((0,S.autorunWithStore)((Y,U)=>{U.add(this._instantiationService.createInstance((0,h.readHotReloadableExport)(u.OverviewRulerPart,Y),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(W=>W.modifiedEditor),this._options))})),this._register((0,S.autorunWithStore)((Y,U)=>{this._accessibleDiffViewer=U.add(this._register(this._instantiationService.createInstance((0,h.readHotReloadableExport)(C.AccessibleDiffViewer,Y),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(W,V)=>this._accessibleDiffViewerShouldBeVisible.set(W,V),this._options.onlyShowAccessibleDiffViewer.map(W=>!W),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((W,V)=>{var Z;return(Z=W?.diff.read(V))===null||Z===void 0?void 0:Z.mappings.map(ie=>ie.lineRangeMapping)}),this._editors)))}));const ne=this._accessibleDiffViewerVisible.map(Y=>Y?"hidden":"visible");this._register((0,h.applyStyle)(this.elements.modified,{visibility:ne})),this._register((0,h.applyStyle)(this.elements.original,{visibility:ne})),this._createDiffEditorContributions(),P.addDiffEditor(this),this._register((0,S.recomputeInitiallyAndOnChange)(this._layoutInfo)),this._register((0,S.autorunWithStore)((Y,U)=>{this.movedBlocksLinesPart.set(U.add(new((0,h.readHotReloadableExport)(a.MovedBlocksLinesPart,Y))(this.elements.root,this._diffModel,this._layoutInfo.map(W=>W.originalEditor),this._layoutInfo.map(W=>W.modifiedEditor),this._editors)),void 0)})),this._register((0,h.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((Y,U)=>Y.originalEditor.width+(this._options.renderSideBySide.read(U)?0:Y.modifiedEditor.width)),visibility:(0,S.derived)(Y=>{var U,W;return this._options.hideUnchangedRegions.read(Y)&&((W=(U=this._diffModel.read(Y))===null||U===void 0?void 0:U.diff.read(Y))===null||W===void 0?void 0:W.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.modified.onMouseDown(Y=>{var U,W;if(!Y.event.rightButton&&Y.target.position&&(!((U=Y.target.element)===null||U===void 0)&&U.className.includes("arrow-revert-change"))){const V=Y.target.position.lineNumber,Z=Y.target,ie=this._diffModel.get();if(!ie)return;const le=(W=ie.diff.get())===null||W===void 0?void 0:W.mappings;if(!le)return;const he=le.find(de=>Z?.detail.afterLineNumber===de.lineRangeMapping.modified.startLineNumber-1||de.lineRangeMapping.modified.startLineNumber===V);if(!he)return;this.revert(he.lineRangeMapping),Y.event.stopPropagation()}})),this._register(y.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,Y=>{var U,W;if(Y?.reason===3){const V=(W=(U=this._diffModel.get())===null||U===void 0?void 0:U.diff.get())===null||W===void 0?void 0:W.mappings.find(Z=>Z.lineRangeMapping.modified.contains(Y.position.lineNumber));V?.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(o.AudioCue.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):V?.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(o.AudioCue.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):V&&this._audioCueService.playAudioCue(o.AudioCue.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const oe=this._diffModel.map((Y,U)=>Y?.isDiffUpToDate.read(U));this._register((0,S.autorunWithStore)((Y,U)=>{if(oe.read(Y)===!1){const W=this._editorProgressService.show(!0,1e3);U.add((0,D.toDisposable)(()=>W.done()))}}))}_createInnerEditor(F,M,A,T){return F.createInstance(v.CodeEditorWidget,M,A,T)}_createDiffEditorContributions(){const F=m.EditorExtensionsRegistry.getDiffEditorContributions();for(const M of F)try{this._register(this._instantiationService.createInstance(M.ctor,this))}catch(A){(0,k.onUnexpectedError)(A)}}get _targetEditor(){return this._editors.modified}getEditorType(){return l.EditorType.IDiffEditor}layout(F){this._rootSizeObserver.observe(F)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var F;const M=this._editors.original.saveViewState(),A=this._editors.modified.saveViewState();return{original:M,modified:A,modelState:(F=this._diffModel.get())===null||F===void 0?void 0:F.serializeState()}}restoreViewState(F){var M;if(F&&F.original&&F.modified){const A=F;this._editors.original.restoreViewState(A.original),this._editors.modified.restoreViewState(A.modified),A.modelState&&((M=this._diffModel.get())===null||M===void 0||M.restoreSerializedState(A.modelState))}}createViewModel(F){return this._instantiationService.createInstance(E.DiffEditorViewModel,F,this._options,this)}getModel(){var F,M;return(M=(F=this._diffModel.get())===null||F===void 0?void 0:F.model)!==null&&M!==void 0?M:null}setModel(F){!F&&this._diffModel.get()&&this._accessibleDiffViewer.close();const M=F?"model"in F?F:this.createViewModel(F):void 0;this._editors.original.setModel(M?M.model.original:null),this._editors.modified.setModel(M?M.model.modified:null),(0,S.transaction)(A=>{this._diffModel.set(M,A)})}updateOptions(F){this._options.updateOptions(F)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var F;const M=(F=this._diffModel.get())===null||F===void 0?void 0:F.diff.get();return M?N(M):null}revert(F){var M;const A=(M=this._diffModel.get())===null||M===void 0?void 0:M.model;if(!A)return;const T=F.innerChanges?F.innerChanges.map(O=>({range:O.modifiedRange,text:A.original.getValueInRange(O.originalRange)})):[{range:F.modified.toExclusiveRange(),text:A.original.getValueInRange(F.original.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",T)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}};e.DiffEditorWidget2=I,e.DiffEditorWidget2=I=Ie([ge(3,d.IContextKeyService),ge(4,r.IInstantiationService),ge(5,_.ICodeEditorService),ge(6,o.IAudioCueService),ge(7,f.IEditorProgressService)],I);function N(R){return R.mappings.map(F=>{const M=F.lineRangeMapping;let A,T,O,P,x=M.innerChanges;return M.original.isEmpty?(A=M.original.startLineNumber-1,T=0,x=void 0):(A=M.original.startLineNumber,T=M.original.endLineNumberExclusive-1),M.modified.isEmpty?(O=M.modified.startLineNumber-1,P=0,x=void 0):(O=M.modified.startLineNumber,P=M.modified.endLineNumberExclusive-1),{originalStartLineNumber:A,originalEndLineNumber:T,modifiedStartLineNumber:O,modifiedEndLineNumber:P,charChanges:x?.map(z=>({originalStartLineNumber:z.originalRange.startLineNumber,originalStartColumn:z.originalRange.startColumn,originalEndLineNumber:z.originalRange.endLineNumber,originalEndColumn:z.originalRange.endColumn,modifiedStartLineNumber:z.modifiedRange.startLineNumber,modifiedStartColumn:z.modifiedRange.startColumn,modifiedEndLineNumber:z.modifiedRange.endLineNumber,modifiedEndColumn:z.modifiedRange.endColumn}))}})}}),define(ee[161],te([1,0,52,33,193,31,18,86,25,15,8,46,23]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends y.CodeEditorWidget{constructor(a,u,h,l,c,o,d,r,g,f,p,b,w){super(a,Object.assign(Object.assign({},l.getRawOptions()),{overflowWidgetsDomNode:l.getOverflowWidgetsDomNode()}),h,c,o,d,r,g,f,p,b,w),this._parentEditor=l,this._overwriteOptions=u,super.updateOptions(this._overwriteOptions),this._register(l.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){L.mixin(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i,e.EmbeddedCodeEditorWidget=i=Ie([ge(4,C.IInstantiationService),ge(5,k.ICodeEditorService),ge(6,_.ICommandService),ge(7,v.IContextKeyService),ge(8,n.IThemeService),ge(9,s.INotificationService),ge(10,m.IAccessibilityService),ge(11,D.ILanguageConfigurationService),ge(12,S.ILanguageFeaturesService)],i)}),define(ee[875],te([1,0,13,2,16,12,5,24,22,48,39,631,30,32,23,438]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const a=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},s.localize(0,null));class u extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:s.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(r,g){var f;(f=o.get(g))===null||f===void 0||f.jumpToBracket()}}class h extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:s.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(r,g,f){var p;let b=!0;f&&f.selectBrackets===!1&&(b=!1),(p=o.get(g))===null||p===void 0||p.selectToBracket(b)}}class l extends y.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:s.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(r,g){var f;(f=o.get(g))===null||f===void 0||f.removeBrackets(this.id)}}class c{constructor(r,g,f){this.position=r,this.brackets=g,this.options=f}}class o extends k.Disposable{static get(r){return r.getContribution(o.ID)}constructor(r){super(),this._editor=r,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new L.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(70),this._updateBracketsSoon.schedule(),this._register(r.onDidChangeCursorPosition(g=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeModelContent(g=>{this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeModel(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeModelLanguageConfiguration(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeConfiguration(g=>{g.hasChanged(70)&&(this._matchBrackets=this._editor.getOption(70),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(r.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(r.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const r=this._editor.getModel(),g=this._editor.getSelections().map(f=>{const p=f.getStartPosition(),b=r.bracketPairs.matchBracket(p);let w=null;if(b)b[0].containsPosition(p)&&!b[1].containsPosition(p)?w=b[1].getStartPosition():b[1].containsPosition(p)&&(w=b[0].getStartPosition());else{const E=r.bracketPairs.findEnclosingBrackets(p);if(E)w=E[1].getStartPosition();else{const I=r.bracketPairs.findNextBracket(p);I&&I.range&&(w=I.range.getStartPosition())}}return w?new m.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new m.Selection(p.lineNumber,p.column,p.lineNumber,p.column)});this._editor.setSelections(g),this._editor.revealRange(g[0])}selectToBracket(r){if(!this._editor.hasModel())return;const g=this._editor.getModel(),f=[];this._editor.getSelections().forEach(p=>{const b=p.getStartPosition();let w=g.bracketPairs.matchBracket(b);if(!w&&(w=g.bracketPairs.findEnclosingBrackets(b),!w)){const N=g.bracketPairs.findNextBracket(b);N&&N.range&&(w=g.bracketPairs.matchBracket(N.range.getStartPosition()))}let E=null,I=null;if(w){w.sort(S.Range.compareRangesUsingStarts);const[N,R]=w;if(E=r?N.getStartPosition():N.getEndPosition(),I=r?R.getEndPosition():R.getStartPosition(),R.containsPosition(b)){const F=E;E=I,I=F}}E&&I&&f.push(new m.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),f.length>0&&(this._editor.setSelections(f),this._editor.revealRange(f[0]))}removeBrackets(r){if(!this._editor.hasModel())return;const g=this._editor.getModel();this._editor.getSelections().forEach(f=>{const p=f.getPosition();let b=g.bracketPairs.matchBracket(p);b||(b=g.bracketPairs.findEnclosingBrackets(p)),b&&(this._editor.pushUndoStop(),this._editor.executeEdits(r,[{range:b[0],text:""},{range:b[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const r=[];let g=0;for(const f of this._lastBracketsData){const p=f.brackets;p&&(r[g++]={range:p[0],options:f.options},r[g++]={range:p[1],options:f.options})}this._decorations.set(r)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const r=this._editor.getSelections();if(r.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getModel(),f=g.getVersionId();let p=[];this._lastVersionId===f&&(p=this._lastBracketsData);const b=[];let w=0;for(let F=0,M=r.length;F<M;F++){const A=r[F];A.isEmpty()&&(b[w++]=A.getStartPosition())}b.length>1&&b.sort(D.Position.compare);const E=[];let I=0,N=0;const R=p.length;for(let F=0,M=b.length;F<M;F++){const A=b[F];for(;N<R&&p[N].position.isBefore(A);)N++;if(N<R&&p[N].position.equals(A))E[I++]=p[N];else{let T=g.bracketPairs.matchBracket(A,20),O=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!T&&this._matchBrackets==="always"&&(T=g.bracketPairs.findEnclosingBrackets(A,20),O=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new c(A,T,O)}}this._lastBracketsData=E,this._lastVersionId=f}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(a),position:v.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,y.registerEditorContribution)(o.ID,o,1),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(l),n.MenuRegistry.appendMenuItem(n.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s.localize(4,null)},order:2})}),define(ee[876],te([1,0,7,128,5,39,440]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(n,i,t){this.afterColumn=1073741824,this.afterLineNumber=n,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(n){this._lastHeight===void 0?this._lastHeight=n:this._lastHeight!==n&&(this._lastHeight=n,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class m{constructor(n,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${m._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(n,i){this._commands.clear();const t=[];let a=!1;for(let u=0;u<n.length;u++){const h=n[u];if(h&&(a=!0,h.command)){const l=(0,k.renderLabelWithIcons)(h.command.title.trim());h.command.id?(t.push(L.$("a",{id:String(u),title:h.command.tooltip,role:"button"},...l)),this._commands.set(String(u),h.command)):t.push(L.$("span",{title:h.command.tooltip},...l)),u+1<n.length&&t.push(L.$("span",void 0,"\xA0|\xA0"))}}a?(L.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.reset(this._domNode,L.$("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}m._idPool=0;class _{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(n,i){this._addDecorations.push(n),this._addDecorationsCallbacks.push(i)}removeDecoration(n){this._removeDecorations.push(n)}commit(n){const i=n.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,a=i.length;t<a;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=_;const v=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class C{constructor(n,i,t,a,u,h){this._isDisposed=!1,this._editor=i,this._data=n,this._decorationIds=[];let l;const c=[];this._data.forEach((o,d)=>{o.symbol.command&&c.push(o.symbol),t.addDecoration({range:o.symbol.range,options:v},r=>this._decorationIds[d]=r),l?l=y.Range.plusRange(l,o.symbol.range):l=y.Range.lift(o.symbol.range)}),this._viewZone=new S(l.startLineNumber-1,u,h),this._viewZoneId=a.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new m(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(n,i){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((n,i)=>{const t=this._editor.getModel().getDecorationRange(n),a=this._data[i].symbol;return!!(t&&y.Range.isEmpty(a.range)===t.isEmpty())})}updateCodeLensSymbols(n,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=n,this._data.forEach((t,a)=>{i.addDecoration({range:t.symbol.range,options:v},u=>this._decorationIds[a]=u)})}updateHeight(n,i){this._viewZone.heightInPx=n,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(n){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=n.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(n){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!0);for(let i=0;i<this._data.length;i++){const t=n[i];if(t){const{symbol:a}=this._data[i];a.command=t.command||a.command}}}getCommand(n){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(n)}getLineNumber(){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return n?n.startLineNumber:-1}update(n){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,n.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=C}),define(ee[877],te([1,0,13,9,2,120,16,38,22,335,788,876,641,25,46,67,73,18]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let l=class{constructor(o,d,r,g,f,p){this._editor=o,this._languageFeaturesService=d,this._commandService=g,this._notificationService=f,this._codeLensCache=p,this._disposables=new y.DisposableStore,this._localToDispose=new y.DisposableStore,this._lenses=[],this._oldCodeLensModels=new y.DisposableStore,this._provideCodeLensDebounce=r.for(d.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=r.for(d.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new L.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(49)||b.hasChanged(18)||b.hasChanged(17))&&this._updateLensStyle(),b.hasChanged(16)&&this._onModelChange()})),this._disposables.add(d.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var o;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_getLayoutInfo(){const o=Math.max(1.3,this._editor.getOption(65)/this._editor.getOption(51));let d=this._editor.getOption(18);return(!d||d<5)&&(d=this._editor.getOption(51)*.9|0),{fontSize:d,codeLensHeight:d*o|0}}_updateLensStyle(){const{codeLensHeight:o,fontSize:d}=this._getLayoutInfo(),r=this._editor.getOption(17),g=this._editor.getOption(49),{style:f}=this._editor.getContainerDomNode();f.setProperty("--vscode-editorCodeLens-lineHeight",`${o}px`),f.setProperty("--vscode-editorCodeLens-fontSize",`${d}px`),f.setProperty("--vscode-editorCodeLens-fontFeatureSettings",g.fontFeatureSettings),r&&(f.setProperty("--vscode-editorCodeLens-fontFamily",r),f.setProperty("--vscode-editorCodeLens-fontFamilyDefault",m.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(p=>{for(const b of this._lenses)b.updateHeight(o,p)})}_localDispose(){var o,d,r;(o=this._getCodeLensModelPromise)===null||o===void 0||o.cancel(),this._getCodeLensModelPromise=void 0,(d=this._resolveCodeLensesPromise)===null||d===void 0||d.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(r=this._currentCodeLensModel)===null||r===void 0||r.dispose()}_onModelChange(){this._localDispose();const o=this._editor.getModel();if(!o||!this._editor.getOption(16))return;const d=this._codeLensCache.get(o);if(d&&this._renderCodeLensSymbols(d),!this._languageFeaturesService.codeLensProvider.has(o)){d&&this._localToDispose.add((0,L.disposableTimeout)(()=>{const g=this._codeLensCache.get(o);d===g&&(this._codeLensCache.delete(o),this._onModelChange())},30*1e3));return}for(const g of this._languageFeaturesService.codeLensProvider.all(o))if(typeof g.onDidChange=="function"){const f=g.onDidChange(()=>r.schedule());this._localToDispose.add(f)}const r=new L.RunOnceScheduler(()=>{var g;const f=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=(0,L.createCancelablePromise)(p=>(0,v.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,o,p)),this._getCodeLensModelPromise.then(p=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=p,this._codeLensCache.put(o,p);const b=this._provideCodeLensDebounce.update(o,Date.now()-f);r.delay=b,this._renderCodeLensSymbols(p),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(o));this._localToDispose.add(r),this._localToDispose.add((0,y.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var g;this._editor.changeDecorations(f=>{this._editor.changeViewZones(p=>{const b=[];let w=-1;this._lenses.forEach(I=>{!I.isValid()||w===I.getLineNumber()?b.push(I):(I.update(p),w=I.getLineNumber())});const E=new s.CodeLensHelper;b.forEach(I=>{I.dispose(E,p),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(f)})}),r.schedule(),this._resolveCodeLensesScheduler.cancel(),(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{r.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{r.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,y.toDisposable)(()=>{if(this._editor.getModel()){const g=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(f=>{this._editor.changeViewZones(p=>{this._disposeAllLenses(f,p)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type!==9)return;let f=g.target.element;if(f?.tagName==="SPAN"&&(f=f.parentElement),f?.tagName==="A")for(const p of this._lenses){const b=p.getCommand(f);if(b){this._commandService.executeCommand(b.id,...b.arguments||[]).catch(w=>this._notificationService.error(w));break}}})),r.schedule()}_disposeAllLenses(o,d){const r=new s.CodeLensHelper;for(const g of this._lenses)g.dispose(r,d);o&&r.commit(o),this._lenses.length=0}_renderCodeLensSymbols(o){if(!this._editor.hasModel())return;const d=this._editor.getModel().getLineCount(),r=[];let g;for(const b of o.lenses){const w=b.symbol.range.startLineNumber;w<1||w>d||(g&&g[g.length-1].symbol.range.startLineNumber===w?g.push(b):(g=[b],r.push(g)))}if(!r.length&&!this._lenses.length)return;const f=D.StableEditorScrollState.capture(this._editor),p=this._getLayoutInfo();this._editor.changeDecorations(b=>{this._editor.changeViewZones(w=>{const E=new s.CodeLensHelper;let I=0,N=0;for(;N<r.length&&I<this._lenses.length;){const R=r[N][0].symbol.range.startLineNumber,F=this._lenses[I].getLineNumber();F<R?(this._lenses[I].dispose(E,w),this._lenses.splice(I,1)):F===R?(this._lenses[I].updateCodeLensSymbols(r[N],E),N++,I++):(this._lenses.splice(I,0,new s.CodeLensWidget(r[N],this._editor,E,w,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,N++)}for(;I<this._lenses.length;)this._lenses[I].dispose(E,w),this._lenses.splice(I,1);for(;N<r.length;)this._lenses.push(new s.CodeLensWidget(r[N],this._editor,E,w,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),N++;E.commit(b)})}),f.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var o;(o=this._resolveCodeLensesPromise)===null||o===void 0||o.cancel(),this._resolveCodeLensesPromise=void 0;const d=this._editor.getModel();if(!d)return;const r=[],g=[];if(this._lenses.forEach(b=>{const w=b.computeIfNecessary(d);w&&(r.push(w),g.push(b))}),r.length===0)return;const f=Date.now(),p=(0,L.createCancelablePromise)(b=>{const w=r.map((E,I)=>{const N=new Array(E.length),R=E.map((F,M)=>!F.symbol.command&&typeof F.provider.resolveCodeLens=="function"?Promise.resolve(F.provider.resolveCodeLens(d,F.symbol,b)).then(A=>{N[M]=A},k.onUnexpectedExternalError):(N[M]=F.symbol,Promise.resolve(void 0)));return Promise.all(R).then(()=>{!b.isCancellationRequested&&!g[I].isDisposed()&&g[I].updateCommands(N)})});return Promise.all(w)});this._resolveCodeLensesPromise=p,this._resolveCodeLensesPromise.then(()=>{const b=this._resolveCodeLensesDebounce.update(d,Date.now()-f);this._resolveCodeLensesScheduler.delay=b,this._currentCodeLensModel&&this._codeLensCache.put(d,this._currentCodeLensModel),this._oldCodeLensModels.clear(),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},b=>{(0,k.onUnexpectedError)(b),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){var o;return Se(this,void 0,void 0,function*(){return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((o=this._currentCodeLensModel)===null||o===void 0)&&o.isDisposed?void 0:this._currentCodeLensModel})}};e.CodeLensContribution=l,l.ID="css.editor.codeLens",e.CodeLensContribution=l=Ie([ge(1,h.ILanguageFeaturesService),ge(2,u.ILanguageFeatureDebounceService),ge(3,i.ICommandService),ge(4,t.INotificationService),ge(5,C.ICodeLensCache)],l),(0,S.registerEditorContribution)(l.ID,l,1),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:_.EditorContextKeys.hasCodeLensProvider,label:(0,n.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(o,d){return Se(this,void 0,void 0,function*(){if(!d.hasModel())return;const r=o.get(a.IQuickInputService),g=o.get(i.ICommandService),f=o.get(t.INotificationService),p=d.getSelection().positionLineNumber,b=d.getContribution(l.ID);if(!b)return;const w=yield b.getModel();if(!w)return;const E=[];for(const R of w.lenses)R.symbol.command&&R.symbol.range.startLineNumber===p&&E.push({label:R.symbol.command.title,command:R.symbol.command});if(E.length===0)return;const I=yield r.pick(E,{canPickMany:!1,placeHolder:(0,n.localize)(1,null)});if(!I)return;let N=I.command;if(w.isDisposed){const R=yield b.getModel(),F=R?.lenses.find(M=>{var A;return M.symbol.range.startLineNumber===p&&((A=M.symbol.command)===null||A===void 0?void 0:A.title)===N.title});if(!F||!F.symbol.command)return;N=F.symbol.command}try{yield g.executeCommand(N.id,...N.arguments||[])}catch(R){f.error(R)}})}})}),define(ee[366],te([1,0,13,36,9,6,2,58,10,159,16,5,39,73,18,346,29]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let l=h=class extends S.Disposable{constructor(d,r,g,f){super(),this._editor=d,this._configurationService=r,this._languageFeaturesService=g,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new v.DynamicCssRules(this._editor),this._decoratorLimitReporter=new c,this._colorDecorationClassRefs=this._register(new S.DisposableStore),this._debounceInformation=f.for(g.colorProvider,"Document Colors",{min:h.RECOMPUTE_TIME}),this._register(d.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(d.onDidChangeModelLanguage(()=>this.updateColors())),this._register(g.colorProvider.onDidChange(()=>this.updateColors())),this._register(d.onDidChangeConfiguration(p=>{const b=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144);const w=b!==this._isColorDecoratorsEnabled||p.hasChanged(20),E=p.hasChanged(144);(w||E)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144),this.updateColors()}isEnabled(){const d=this._editor.getModel();if(!d)return!1;const r=d.getLanguageId(),g=this._configurationService.getValue(r);if(g&&typeof g=="object"){const f=g.colorDecorators;if(f&&f.enable!==void 0&&!f.enable)return f.enable}return this._editor.getOption(19)}static get(d){return d.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const d=this._editor.getModel();!d||!this._languageFeaturesService.colorProvider.has(d)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new L.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(d)))})),this.beginCompute())}beginCompute(){return Se(this,void 0,void 0,function*(){this._computePromise=(0,L.createCancelablePromise)(d=>Se(this,void 0,void 0,function*(){const r=this._editor.getModel();if(!r)return[];const g=new m.StopWatch(!1),f=yield(0,a.getColors)(this._languageFeaturesService.colorProvider,r,d,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(r,g.elapsed()),f}));try{const d=yield this._computePromise;this.updateDecorations(d),this.updateColorDecorators(d),this._computePromise=null}catch(d){(0,y.onUnexpectedError)(d)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(d){const r=d.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:n.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(g=>{this._decorationsIds=g.deltaDecorations(this._decorationsIds,r),this._colorDatas=new Map,this._decorationsIds.forEach((f,p)=>this._colorDatas.set(f,d[p]))})}updateColorDecorators(d){this._colorDecorationClassRefs.clear();const r=[],g=this._editor.getOption(20);for(let p=0;p<d.length&&r.length<g;p++){const{red:b,green:w,blue:E,alpha:I}=d[p].colorInfo.color,N=new k.RGBA(Math.round(b*255),Math.round(w*255),Math.round(E*255),I),R=`rgba(${N.r}, ${N.g}, ${N.b}, ${N.a})`,F=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:R}));r.push({range:{startLineNumber:d[p].colorInfo.range.startLineNumber,startColumn:d[p].colorInfo.range.startColumn,endLineNumber:d[p].colorInfo.range.endLineNumber,endColumn:d[p].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:_.noBreakWhitespace,inlineClassName:`${F.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const f=g<d.length?g:!1;this._decoratorLimitReporter.update(d.length,f),this._colorDecoratorIds.set(r)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(d){const r=this._editor.getModel();if(!r)return null;const g=r.getDecorationsInRange(s.Range.fromPositions(d,d)).filter(f=>this._colorDatas.has(f.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecoration(d){return this._colorDecoratorIds.has(d)}};e.ColorDetector=l,l.ID="editor.contrib.colorDetector",l.RECOMPUTE_TIME=1e3,e.ColorDetector=l=h=Ie([ge(1,u.IConfigurationService),ge(2,t.ILanguageFeaturesService),ge(3,i.ILanguageFeatureDebounceService)],l);class c{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(d,r){(d!==this._computed||r!==this._limited)&&(this._computed=d,this._limited=r,this._onDidChange.fire())}}e.DecoratorLimitReporter=c,(0,C.registerEditorContribution)(l.ID,l,1)}),define(ee[367],te([1,0,13,19,36,2,5,346,366,539,831,23,7]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(r,g,f,p){this.owner=r,this.range=g,this.model=f,this.provider=p,this.forceShowAtRange=!0}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}}e.ColorHover=i;let t=class{constructor(r,g){this._editor=r,this._themeService=g,this.hoverOrdinal=2}computeSync(r,g){return[]}computeAsync(r,g,f){return L.AsyncIterableObject.fromPromise(this._computeAsync(r,g,f))}_computeAsync(r,g,f){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const p=_.ColorDetector.get(this._editor);if(!p)return[];for(const b of g){if(!p.isColorDecoration(b))continue;const w=p.getColorData(b.range.getStartPosition());if(w)return[yield h(this,this._editor.getModel(),w.colorInfo,w.provider)]}return[]})}renderHoverParts(r,g){return l(this,this._editor,this._themeService,g,r)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=Ie([ge(1,s.IThemeService)],t);class a{constructor(r,g,f,p){this.owner=r,this.range=g,this.model=f,this.provider=p}}e.StandaloneColorPickerHover=a;let u=class{constructor(r,g){this._editor=r,this._themeService=g,this._color=null}createColorHover(r,g,f){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!_.ColorDetector.get(this._editor))return null;const b=yield(0,m.getColors)(f,this._editor.getModel(),k.CancellationToken.None);let w=null,E=null;for(const F of b){const M=F.colorInfo;S.Range.containsRange(M.range,r.range)&&(w=M,E=F.provider)}const I=w??r,N=E??g,R=!!w;return{colorHover:yield h(this,this._editor.getModel(),I,N),foundInEditor:R}})}updateEditorModel(r){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const g=r.model;let f=new S.Range(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);this._color&&(yield o(this._editor.getModel(),g,this._color,f,r),f=c(this._editor,f,g))})}renderHoverParts(r,g){return l(this,this._editor,this._themeService,g,r)}set color(r){this._color=r}get color(){return this._color}};e.StandaloneColorPickerParticipant=u,e.StandaloneColorPickerParticipant=u=Ie([ge(1,s.IThemeService)],u);function h(d,r,g,f){return Se(this,void 0,void 0,function*(){const p=r.getValueInRange(g.range),{red:b,green:w,blue:E,alpha:I}=g.color,N=new y.RGBA(Math.round(b*255),Math.round(w*255),Math.round(E*255),I),R=new y.Color(N),F=yield(0,m.getColorPresentations)(r,g,f,k.CancellationToken.None),M=new v.ColorPickerModel(R,[],0);return M.colorPresentations=F||[],M.guessColorPresentation(R,p),d instanceof t?new i(d,S.Range.lift(g.range),M,f):new a(d,S.Range.lift(g.range),M,f)})}function l(d,r,g,f,p){if(f.length===0||!r.hasModel())return D.Disposable.None;if(p.setMinimumDimensions){const M=r.getOption(65)+8;p.setMinimumDimensions(new n.Dimension(302,M))}const b=new D.DisposableStore,w=f[0],E=r.getModel(),I=w.model,N=b.add(new C.ColorPickerWidget(p.fragment,I,r.getOption(140),g,d instanceof u));p.setColorPicker(N);let R=!1,F=new S.Range(w.range.startLineNumber,w.range.startColumn,w.range.endLineNumber,w.range.endColumn);if(d instanceof u){const M=f[0].model.color;d.color=M,o(E,I,M,F,w),b.add(I.onColorFlushed(A=>{d.color=A}))}else b.add(I.onColorFlushed(M=>Se(this,void 0,void 0,function*(){yield o(E,I,M,F,w),R=!0,F=c(r,F,I,p)})));return b.add(I.onDidChangeColor(M=>{o(E,I,M,F,w)})),b.add(r.onDidChangeModelContent(M=>{R?R=!1:(p.hide(),r.focus())})),b}function c(d,r,g,f){let p,b;if(g.presentation.textEdit){p=[g.presentation.textEdit],b=new S.Range(g.presentation.textEdit.range.startLineNumber,g.presentation.textEdit.range.startColumn,g.presentation.textEdit.range.endLineNumber,g.presentation.textEdit.range.endColumn);const w=d.getModel()._setTrackedRange(null,b,3);d.pushUndoStop(),d.executeEdits("colorpicker",p),b=d.getModel()._getTrackedRange(w)||b}else p=[{range:r,text:g.presentation.label,forceMoveMarkers:!1}],b=r.setEndPosition(r.endLineNumber,r.startColumn+g.presentation.label.length),d.pushUndoStop(),d.executeEdits("colorpicker",p);return g.presentation.additionalTextEdits&&(p=[...g.presentation.additionalTextEdits],d.executeEdits("colorpicker",p),f&&f.hide()),d.pushUndoStop(),b}function o(d,r,g,f,p){return Se(this,void 0,void 0,function*(){const b=yield(0,m.getColorPresentations)(d,{range:f,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},p.provider,k.CancellationToken.None);r.colorPresentations=b||[]})}}),define(ee[878],te([1,0,2,17,16,12,5,24,39,541,441]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(n){return k.isMacintosh?n.altKey:n.ctrlKey}class s extends L.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(34)||this._editor.getOption(21)||(C(i)&&(this._modifierPressed=!0),this._mouseDown&&C(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(34)||this._editor.getOption(21)||(C(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const t=i.target;if(this._dragSelection===null){const u=(this._editor.getSelections()||[]).filter(h=>t.position&&h.containsPosition(t.position));if(u.length===1)this._dragSelection=u[0];else return}C(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const t=new D.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let a=null;if(i.event.shiftKey){const u=this._editor.getSelection();if(u){const{selectionStartLineNumber:h,selectionStartColumn:l}=u;a=[new m.Selection(h,l,t.lineNumber,t.column)]}}else a=(this._editor.getSelections()||[]).map(u=>u.containsPosition(t)?new m.Selection(t.lineNumber,t.column,t.lineNumber,t.column):u);this._editor.setSelections(a||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(C(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new v.DragAndDropCommand(this._dragSelection,t,C(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new S.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:s._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,s._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,y.registerEditorContribution)(s.ID,s,2)}),define(ee[879],te([1,0,5,48,39,32,23]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(v){this._editor=v,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const v=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(v.length)return v}return null}getStartPosition(){return this._startPosition}setStartPosition(v){this._startPosition=v,this.setCurrentFindMatch(null)}_getDecorationIndex(v){const C=this._decorations.indexOf(v);return C>=0?C+1:1}getDecorationRangeAt(v){const C=v<this._decorations.length?this._decorations[v]:null;return C?this._editor.getModel().getDecorationRange(C):null}getCurrentMatchesPosition(v){const C=this._editor.getModel().getDecorationsInRange(v);for(const s of C){const n=s.options;if(n===m._FIND_MATCH_DECORATION||n===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(v){let C=null,s=0;if(v)for(let n=0,i=this._decorations.length;n<i;n++){const t=this._editor.getModel().getDecorationRange(this._decorations[n]);if(v.equalsRange(t)){C=this._decorations[n],s=n+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,n.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let i=this._editor.getModel().getDecorationRange(C);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const t=i.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(t);i=new L.Range(i.startLineNumber,i.startColumn,t,a)}this._rangeHighlightDecorationId=n.addDecoration(i,m._RANGE_HIGHLIGHT_DECORATION)}}),s}set(v,C){this._editor.changeDecorations(s=>{let n=m._FIND_MATCH_DECORATION;const i=[];if(v.length>1e3){n=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),h=this._editor.getLayoutInfo().height/a,l=Math.max(2,Math.ceil(3/h));let c=v[0].range.startLineNumber,o=v[0].range.endLineNumber;for(let d=1,r=v.length;d<r;d++){const g=v[d].range;o+l>=g.startLineNumber?g.endLineNumber>o&&(o=g.endLineNumber):(i.push({range:new L.Range(c,1,o,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),c=g.startLineNumber,o=g.endLineNumber)}i.push({range:new L.Range(c,1,o,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(v.length);for(let a=0,u=v.length;a<u;a++)t[a]={range:v[a].range,options:n};this._decorations=s.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>s.removeDecoration(a)),this._findScopeDecorationIds=[]),C?.length&&(this._findScopeDecorationIds=C.map(a=>s.addDecoration(a,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(v){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){const s=this._decorations[C],n=this._editor.getModel().getDecorationRange(s);if(!(!n||n.endLineNumber>v.lineNumber)){if(n.endLineNumber<v.lineNumber)return n;if(!(n.endColumn>v.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(v){if(this._decorations.length===0)return null;for(let C=0,s=this._decorations.length;C<s;C++){const n=this._decorations[C],i=this._editor.getModel().getDecorationRange(n);if(!(!i||i.startLineNumber<v.lineNumber)){if(i.startLineNumber>v.lineNumber)return i;if(!(i.startColumn<v.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let v=[];return v=v.concat(this._decorations),v=v.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&v.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&v.push(this._rangeHighlightDecorationId),v}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=y.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=y.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ee[194],te([1,0,78,13,2,123,12,5,24,180,879,542,543,15]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class a{constructor(h,l){this._toDispose=new y.DisposableStore,this._editor=h,this._state=l,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new C.FindDecorations(h),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(c=>{(c.reason===3||c.reason===5||c.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(c=>{this._ignoreModelContentChanged||(c.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(c=>this._onStateChanged(c))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,y.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(h){this._isDisposed||this._editor.hasModel()&&(h.searchString||h.isReplaceRevealed||h.isRegex||h.wholeWord||h.matchCase||h.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor)},t)):h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor))}static _getSearchRange(h,l){return l||h.getFullModelRange()}research(h,l){let c=null;typeof l<"u"?l!==null&&(Array.isArray(l)?c=l:c=[l]):c=this._decorations.getFindScopes(),c!==null&&(c=c.map(g=>{if(g.startLineNumber!==g.endLineNumber){let f=g.endLineNumber;return g.endColumn===1&&(f=f-1),new m.Range(g.startLineNumber,1,f,this._editor.getModel().getLineMaxColumn(f))}return g}));const o=this._findMatches(c,!1,e.MATCHES_LIMIT);this._decorations.set(o,c);const d=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(d);if(r===0&&o.length>0){const g=(0,L.findFirstIdxMonotonousOrArrLen)(o.map(f=>f.range),f=>m.Range.compareRangesUsingStarts(f,d)>=0);r=g>0?g-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),h&&this._editor.getOption(40).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const h=this._decorations.getFindScope();return h&&this._editor.revealRangeInCenterIfOutsideViewport(h,0),!0}return!1}_setCurrentFindMatch(h){const l=this._decorations.setCurrentFindMatch(h);this._state.changeMatchInfo(l,this._decorations.getCount(),h),this._editor.setSelection(h),this._editor.revealRangeInCenterIfOutsideViewport(h,0)}_prevSearchPosition(h){const l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:c,column:o}=h;const d=this._editor.getModel();return l||o===1?(c===1?c=d.getLineCount():c--,o=d.getLineMaxColumn(c)):o--,new S.Position(c,o)}_moveToPrevMatch(h,l=!1){if(!this._state.canNavigateBack()){const b=this._decorations.matchAfterPosition(h);b&&this._setCurrentFindMatch(b);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let b=this._decorations.matchBeforePosition(h);b&&b.isEmpty()&&b.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),b=this._decorations.matchBeforePosition(h)),b&&this._setCurrentFindMatch(b);return}if(this._cannotFind())return;const c=this._decorations.getFindScope(),o=a._getSearchRange(this._editor.getModel(),c);o.getEndPosition().isBefore(h)&&(h=o.getEndPosition()),h.isBefore(o.getStartPosition())&&(h=o.getEndPosition());const{lineNumber:d,column:r}=h,g=this._editor.getModel();let f=new S.Position(d,r),p=g.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1);if(p&&p.range.isEmpty()&&p.range.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),p=g.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1)),!!p){if(!l&&!o.containsRange(p.range))return this._moveToPrevMatch(p.range.getStartPosition(),!0);this._setCurrentFindMatch(p.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(h){const l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:c,column:o}=h;const d=this._editor.getModel();return l||o===d.getLineMaxColumn(c)?(c===d.getLineCount()?c=1:c++,o=1):o++,new S.Position(c,o)}_moveToNextMatch(h){if(!this._state.canNavigateForward()){const c=this._decorations.matchBeforePosition(h);c&&this._setCurrentFindMatch(c);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let c=this._decorations.matchAfterPosition(h);c&&c.isEmpty()&&c.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),c=this._decorations.matchAfterPosition(h)),c&&this._setCurrentFindMatch(c);return}const l=this._getNextMatch(h,!1,!0);l&&this._setCurrentFindMatch(l.range)}_getNextMatch(h,l,c,o=!1){if(this._cannotFind())return null;const d=this._decorations.getFindScope(),r=a._getSearchRange(this._editor.getModel(),d);r.getEndPosition().isBefore(h)&&(h=r.getStartPosition()),h.isBefore(r.getStartPosition())&&(h=r.getStartPosition());const{lineNumber:g,column:f}=h,p=this._editor.getModel();let b=new S.Position(g,f),w=p.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,l);return c&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(b)&&(b=this._nextSearchPosition(b),w=p.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,l)),w?!o&&!r.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),l,c,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(h){const l=this._decorations.getDecorationRangeAt(h);l&&this._setCurrentFindMatch(l)}moveToMatch(h){this._moveToMatch(h)}_getReplacePattern(){return this._state.isRegex?(0,n.parseReplaceString)(this._state.replaceString):n.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const h=this._getReplacePattern(),l=this._editor.getSelection(),c=this._getNextMatch(l.getStartPosition(),!0,!1);if(c)if(l.equalsRange(c.range)){const o=h.buildReplaceString(c.matches,this._state.preserveCase),d=new D.ReplaceCommand(l,o);this._executeEditorCommand("replace",d),this._decorations.setStartPosition(new S.Position(l.startLineNumber,l.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(c.range)}_findMatches(h,l,c){const o=(h||[null]).map(d=>a._getSearchRange(this._editor.getModel(),d));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,l,c)}replaceAll(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();h===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(h),this.research(!1)}_largeReplaceAll(){const l=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null).parseSearchRequest();if(!l)return;let c=l.regex;if(!c.multiline){let w="mu";c.ignoreCase&&(w+="i"),c.global&&(w+="g"),c=new RegExp(c.source,w)}const o=this._editor.getModel(),d=o.getValue(1),r=o.getFullModelRange(),g=this._getReplacePattern();let f;const p=this._state.preserveCase;g.hasReplacementPatterns||p?f=d.replace(c,function(){return g.buildReplaceString(arguments,p)}):f=d.replace(c,g.buildReplaceString(null,p));const b=new D.ReplaceCommandThatPreservesSelection(r,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",b)}_regularReplaceAll(h){const l=this._getReplacePattern(),c=this._findMatches(h,l.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let r=0,g=c.length;r<g;r++)o[r]=l.buildReplaceString(c[r].matches,this._state.preserveCase);const d=new s.ReplaceAllCommand(this._editor.getSelection(),c.map(r=>r.range),o);this._executeEditorCommand("replaceAll",d)}selectAllMatches(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();let c=this._findMatches(h,!1,1073741824).map(d=>new _.Selection(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn));const o=this._editor.getSelection();for(let d=0,r=c.length;d<r;d++)if(c[d].equalsRange(o)){c=[o].concat(c.slice(0,d)).concat(c.slice(d+1));break}this._editor.setSelections(c)}_executeEditorCommand(h,l){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(h,l),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=a}),define(ee[880],te([1,0,7,316,83,13,194,32,443]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class _ extends y.Widget{constructor(C,s,n){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=C,this._state=s,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const i={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)};this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},i))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord},i))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex},i))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(t=>{let a=!1;t.isRegex&&(this.regex.checked=this._state.isRegex,a=!0),t.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,a=!0),t.matchCase&&(this.caseSensitive.checked=this._state.matchCase,a=!0),!this._state.isRevealed&&a&&this._revealTemporarily()})),this._register(L.addDisposableListener(this._domNode,L.EventType.MOUSE_LEAVE,t=>this._onMouseLeave())),this._register(L.addDisposableListener(this._domNode,"mouseover",t=>this._onMouseOver()))}_keybindingLabelFor(C){const s=this._keybindingService.lookupKeybinding(C);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=_,_.ID="editor.contrib.findOptionsWidget"}),define(ee[881],te([1,0,6,2,5,194]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(_,v){return _===1?!0:_===2?!1:v}class m extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new L.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(v,C,s){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;C===0&&(v=0),v>C&&(v=C),this._matchesPosition!==v&&(this._matchesPosition=v,n.matchesPosition=!0,i=!0),this._matchesCount!==C&&(this._matchesCount=C,n.matchesCount=!0,i=!0),typeof s<"u"&&(y.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,n.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(n)}change(v,C,s=!0){var n;const i={moveCursor:C,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const a=this.isRegex,u=this.wholeWord,h=this.matchCase,l=this.preserveCase;typeof v.searchString<"u"&&this._searchString!==v.searchString&&(this._searchString=v.searchString,i.searchString=!0,t=!0),typeof v.replaceString<"u"&&this._replaceString!==v.replaceString&&(this._replaceString=v.replaceString,i.replaceString=!0,t=!0),typeof v.isRevealed<"u"&&this._isRevealed!==v.isRevealed&&(this._isRevealed=v.isRevealed,i.isRevealed=!0,t=!0),typeof v.isReplaceRevealed<"u"&&this._isReplaceRevealed!==v.isReplaceRevealed&&(this._isReplaceRevealed=v.isReplaceRevealed,i.isReplaceRevealed=!0,t=!0),typeof v.isRegex<"u"&&(this._isRegex=v.isRegex),typeof v.wholeWord<"u"&&(this._wholeWord=v.wholeWord),typeof v.matchCase<"u"&&(this._matchCase=v.matchCase),typeof v.preserveCase<"u"&&(this._preserveCase=v.preserveCase),typeof v.searchScope<"u"&&(!((n=v.searchScope)===null||n===void 0)&&n.every(c=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(d=>!y.Range.equalsRange(d,c))})||(this._searchScope=v.searchScope,i.searchScope=!0,t=!0)),typeof v.loop<"u"&&this._loop!==v.loop&&(this._loop=v.loop,i.loop=!0,t=!0),typeof v.isSearching<"u"&&this._isSearching!==v.isSearching&&(this._isSearching=v.isSearching,i.isSearching=!0,t=!0),typeof v.filters<"u"&&(this._filters?this._filters.update(v.filters):this._filters=v.filters,i.filters=!0,t=!0),this._isRegexOverride=typeof v.isRegexOverride<"u"?v.isRegexOverride:0,this._wholeWordOverride=typeof v.wholeWordOverride<"u"?v.wholeWordOverride:0,this._matchCaseOverride=typeof v.matchCaseOverride<"u"?v.matchCaseOverride:0,this._preserveCaseOverride=typeof v.preserveCaseOverride<"u"?v.preserveCaseOverride:0,a!==this.isRegex&&(t=!0,i.isRegex=!0),u!==this.wholeWord&&(t=!0,i.wholeWord=!0),h!==this.matchCase&&(t=!0,i.matchCase=!0),l!==this.preserveCase&&(t=!0,i.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=m}),define(ee[882],te([1,0,7,49,153,152,83,13,26,9,2,17,10,5,194,654,349,743,32,76,23,27,88,20,105,444]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const p=(0,c.registerIcon)("find-selection",_.Codicon.selection,a.localize(0,null)),b=(0,c.registerIcon)("find-collapsed",_.Codicon.chevronRight,a.localize(1,null)),w=(0,c.registerIcon)("find-expanded",_.Codicon.chevronDown,a.localize(2,null));e.findReplaceIcon=(0,c.registerIcon)("find-replace",_.Codicon.replace,a.localize(3,null)),e.findReplaceAllIcon=(0,c.registerIcon)("find-replace-all",_.Codicon.replaceAll,a.localize(4,null)),e.findPreviousMatchIcon=(0,c.registerIcon)("find-previous-match",_.Codicon.arrowUp,a.localize(5,null)),e.findNextMatchIcon=(0,c.registerIcon)("find-next-match",_.Codicon.arrowDown,a.localize(6,null));const E=a.localize(7,null),I=a.localize(8,null),N=a.localize(9,null),R=a.localize(10,null),F=a.localize(11,null),M=a.localize(12,null),A=a.localize(13,null),T=a.localize(14,null),O=a.localize(15,null),P=a.localize(16,null),x=a.localize(17,null),z=a.localize(18,null),q=a.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=a.localize(20,null),e.NLS_NO_RESULTS=a.localize(21,null);const B=419,X=275-54;let ne=69;const oe=33,Y="ctrlEnterReplaceAll.windows.donotask",U=s.isMacintosh?256:2048;class W{constructor(de){this.afterLineNumber=de,this.heightInPx=oe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=W;function V(he,de,ce){const ae=!!de.match(/\n/);if(ce&&ae&&ce.selectionStart>0){he.stopPropagation();return}}function Z(he,de,ce){const ae=!!de.match(/\n/);if(ce&&ae&&ce.selectionEnd<ce.value.length){he.stopPropagation();return}}class ie extends S.Widget{constructor(de,ce,ae,J,K,H,Q,j,re){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=de,this._controller=ce,this._state=ae,this._contextViewProvider=J,this._keybindingService=K,this._contextKeyService=H,this._storageService=j,this._notificationService=re,this._ctrlEnterReplaceAllWarningPrompted=!!j.getBoolean(Y,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.Delayer(500),this._register((0,C.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(se=>this._onStateChanged(se))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(se=>{if(se.hasChanged(89)&&(this._codeEditor.getOption(89)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),se.hasChanged(142)&&this._tryUpdateWidgetWidth(),se.hasChanged(2)&&this.updateAccessibilitySupport(),se.hasChanged(40)){const ue=this._codeEditor.getOption(40).loop;this._state.change({loop:ue},!1);const me=this._codeEditor.getOption(40).addExtraSpaceOnTop;me&&!this._viewZone&&(this._viewZone=new W(0),this._showViewZone()),!me&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Se(this,void 0,void 0,function*(){if(this._isVisible){const se=yield this._controller.getGlobalBufferTerm();se&&se!==this._state.searchString&&(this._state.change({searchString:se},!1),this._findInput.select())}}))),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(H),this._findFocusTracker=this._register(L.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(H),this._replaceFocusTracker=this._register(L.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(40).addExtraSpaceOnTop&&(this._viewZone=new W(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(se=>{if(se.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ie.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(de){if(de.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(de.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),de.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),de.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(89)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(de.isRevealed||de.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),de.isRegex&&this._findInput.setRegex(this._state.isRegex),de.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),de.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),de.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),de.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),de.searchString||de.matchesCount||de.matchesPosition){const ce=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ce),this._updateMatchesCount(),this._updateButtons()}(de.searchString||de.currentMatch)&&this._layoutViewZone(),de.updateHistory&&this._delayedUpdateHistory(),de.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,v.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=ne+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=q:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let de;if(this._state.matchesCount>0){let ce=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(ce+="+");let ae=String(this._state.matchesPosition);ae==="0"&&(ae="?"),de=n.format(e.NLS_MATCHES_LOCATION,ae,ce)}else de=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(de)),(0,k.alert)(this._getAriaLabel(de,this._state.currentMatch,this._state.searchString)),ne=Math.max(ne,this._matchesCount.clientWidth)}_getAriaLabel(de,ce,ae){if(de===e.NLS_NO_RESULTS)return ae===""?a.localize(22,null,de):a.localize(23,null,de,ae);if(ce){const J=a.localize(24,null,de,ae,ce.startLineNumber+":"+ce.startColumn),K=this._codeEditor.getModel();return K&&ce.startLineNumber<=K.getLineCount()&&ce.startLineNumber>=1?`${K.getLineContent(ce.startLineNumber)}, ${J}`:J}return a.localize(25,null,de,ae)}_updateToggleSelectionFindButton(){const de=this._codeEditor.getSelection(),ce=de?de.startLineNumber!==de.endLineNumber||de.startColumn!==de.endColumn:!1,ae=this._toggleSelectionFind.checked;this._isVisible&&(ae||ce)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const de=this._state.searchString.length>0,ce=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&de&&ce&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&de&&ce&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ae=!this._codeEditor.getOption(89);this._toggleReplaceBtn.setEnabled(this._isVisible&&ae)}_reveal(){if(this._revealTimeouts.forEach(de=>{clearTimeout(de)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const de=this._codeEditor.getSelection();switch(this._codeEditor.getOption(40).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ae=!!de&&de.startLineNumber!==de.endLineNumber;this._toggleSelectionFind.checked=ae;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ce=!0;if(this._codeEditor.getOption(40).seedSearchStringFromSelection&&de){const ae=this._codeEditor.getDomNode();if(ae){const J=L.getDomNodePagePosition(ae),K=this._codeEditor.getScrolledVisiblePosition(de.getStartPosition()),H=J.left+(K?K.left:0),Q=K?K.top:0;if(this._viewZone&&Q<this._viewZone.heightInPx){de.endLineNumber>de.startLineNumber&&(ce=!1);const j=L.getTopLeftOffset(this._domNode).left;H>j&&(ce=!1);const re=this._codeEditor.getScrolledVisiblePosition(de.getEndPosition());J.left+(re?re.left:0)>j&&(ce=!1)}}}this._showViewZone(ce)}}_hide(de){this._revealTimeouts.forEach(ce=>{clearTimeout(ce)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),de&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(de){if(!this._codeEditor.getOption(40).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ae=this._viewZone;this._viewZoneId!==void 0||!ae||this._codeEditor.changeViewZones(J=>{ae.heightInPx=this._getHeight(),this._viewZoneId=J.addZone(ae),this._codeEditor.setScrollTop(de||this._codeEditor.getScrollTop()+ae.heightInPx)})}_showViewZone(de=!0){if(!this._isVisible||!this._codeEditor.getOption(40).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new W(0));const ae=this._viewZone;this._codeEditor.changeViewZones(J=>{if(this._viewZoneId!==void 0){const K=this._getHeight();if(K===ae.heightInPx)return;const H=K-ae.heightInPx;ae.heightInPx=K,J.layoutZone(this._viewZoneId),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+H);return}else{let K=this._getHeight();if(K-=this._codeEditor.getOption(82).top,K<=0)return;ae.heightInPx=K,this._viewZoneId=J.addZone(ae),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+K)}})}_removeViewZone(){this._codeEditor.changeViewZones(de=>{this._viewZoneId!==void 0&&(de.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!L.isInDOM(this._domNode))return;const de=this._codeEditor.getLayoutInfo();if(de.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ae=de.width,J=de.minimap.minimapWidth;let K=!1,H=!1,Q=!1;if(this._resized&&L.getTotalWidth(this._domNode)>B){this._domNode.style.maxWidth=`${ae-28-J-15}px`,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode);return}if(B+28+J>=ae&&(H=!0),B+28+J-ne>=ae&&(Q=!0),B+28+J-ne>=ae+50&&(K=!0),this._domNode.classList.toggle("collapsed-find-widget",K),this._domNode.classList.toggle("narrow-find-widget",Q),this._domNode.classList.toggle("reduced-find-widget",H),!Q&&!K&&(this._domNode.style.maxWidth=`${ae-28-J-15}px`),this._findInput.layout({collapsedFindWidget:K,narrowFindWidget:Q,reducedFindWidget:H}),this._resized){const j=this._findInput.inputBox.element.clientWidth;j>0&&(this._replaceInput.width=j)}else this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode))}_getHeight(){let de=0;return de+=4,de+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(de+=4,de+=this._replaceInput.inputBox.height+2),de+=4,de}_tryUpdateHeight(){const de=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===de?!1:(this._cachedHeight=de,this._domNode.style.height=`${de}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const de=this._codeEditor.getSelections();de.map(ce=>{ce.endColumn===1&&ce.endLineNumber>ce.startLineNumber&&(ce=ce.setEndPosition(ce.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ce.endLineNumber-1)));const ae=this._state.currentMatch;return ce.startLineNumber!==ce.endLineNumber&&!i.Range.equalsRange(ce,ae)?ce:null}).filter(ce=>!!ce),de.length&&this._state.change({searchScope:de},!0)}}_onFindInputMouseDown(de){de.middleButton&&de.stopPropagation()}_onFindInputKeyDown(de){if(de.equals(U|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return V(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(de.equals(18))return Z(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(de){if(de.equals(U|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(a.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Y,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(1026)){this._findInput.focus(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return V(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(de.equals(18))return Z(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(de){return 0}_keybindingLabelFor(de){const ce=this._keybindingService.lookupKeybinding(de);return ce?` (${ce.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new u.ContextScopedFindInput(null,this._contextViewProvider,{width:X,label:I,placeholder:N,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:j=>{if(j.length===0||!this._findInput.getRegex())return null;try{return new RegExp(j,"gu"),null}catch(re){return{content:re.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:f.defaultInputBoxStyles,toggleStyles:f.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(j=>this._onFindInputKeyDown(j))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(j=>{j.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),j.preventDefault())})),this._register(this._findInput.onRegexKeyDown(j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),j.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(j=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(j=>this._onFindInputMouseDown(j))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new le({label:R+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,v.onUnexpectedError)}})),this._nextBtn=this._register(new le({label:F+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,v.onUnexpectedError)}}));const ae=document.createElement("div");ae.className="find-part",ae.appendChild(this._findInput.domNode);const J=document.createElement("div");J.className="find-actions",ae.appendChild(J),J.appendChild(this._matchesCount),J.appendChild(this._prevBtn.domNode),J.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Toggle({icon:p,title:M+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,l.asCssVariable)(l.inputActiveOptionBackground),inputActiveOptionBorder:(0,l.asCssVariable)(l.inputActiveOptionBorder),inputActiveOptionForeground:(0,l.asCssVariable)(l.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const j=this._codeEditor.getSelections();j.map(re=>(re.endColumn===1&&re.endLineNumber>re.startLineNumber&&(re=re.setEndPosition(re.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(re.endLineNumber-1))),re.isEmpty()?null:re)).filter(re=>!!re),j.length&&this._state.change({searchScope:j},!0)}}else this._state.change({searchScope:null},!0)})),J.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new le({label:A+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:c.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),j.preventDefault())}})),this._replaceInput=this._register(new u.ContextScopedReplaceInput(null,void 0,{label:T,placeholder:O,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:f.defaultInputBoxStyles,toggleStyles:f.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(j=>this._onReplaceInputKeyDown(j))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(j=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(j=>{j.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),j.preventDefault())})),this._replaceBtn=this._register(new le({label:P+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:j=>{j.equals(1026)&&(this._closeBtn.focus(),j.preventDefault())}})),this._replaceAllBtn=this._register(new le({label:x+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const K=document.createElement("div");K.className="replace-part",K.appendChild(this._replaceInput.domNode);const H=document.createElement("div");H.className="replace-actions",K.appendChild(H),H.appendChild(this._replaceBtn.domNode),H.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new le({label:z,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${B}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ae),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(K),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Q=B;this._register(this._resizeSash.onDidStart(()=>{Q=L.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(j=>{this._resized=!0;const re=Q+j.startX-j.currentX;if(re<B)return;const se=parseFloat(L.getComputedStyle(this._domNode).maxWidth)||0;re>se||(this._domNode.style.width=`${re}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const j=L.getTotalWidth(this._domNode);if(j<B)return;let re=B;if(!this._resized||j===B){const se=this._codeEditor.getLayoutInfo();re=se.width-28-se.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${re}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const de=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(de!==2)}}e.FindWidget=ie,ie.ID="editor.contrib.findWidget";class le extends S.Widget{constructor(de){super(),this._opts=de;let ce="button";this._opts.className&&(ce=ce+" "+this._opts.className),this._opts.icon&&(ce=ce+" "+d.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ce,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ae=>{this._opts.onTrigger(),ae.preventDefault()}),this.onkeydown(this._domNode,ae=>{var J,K;if(ae.equals(10)||ae.equals(3)){this._opts.onTrigger(),ae.preventDefault();return}(K=(J=this._opts).onKeyDown)===null||K===void 0||K.call(J,ae)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(de){this._domNode.classList.toggle("disabled",!de),this._domNode.setAttribute("aria-disabled",String(!de)),this._domNode.tabIndex=de?0:-1}setExpanded(de){this._domNode.setAttribute("aria-expanded",String(!!de)),de?(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(b)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(b)))}}e.SimpleButton=le,(0,o.registerThemingParticipant)((he,de)=>{const ce=(we,Le)=>{Le&&de.addRule(`.monaco-editor ${we} { background-color: ${Le}; }`)};ce(".findMatch",he.getColor(l.editorFindMatchHighlight)),ce(".currentFindMatch",he.getColor(l.editorFindMatch)),ce(".findScope",he.getColor(l.editorFindRangeHighlight));const ae=he.getColor(l.editorWidgetBackground);ce(".find-widget",ae);const J=he.getColor(l.widgetShadow);J&&de.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${J}; }`);const K=he.getColor(l.widgetBorder);K&&de.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${K}; border-right: 1px solid ${K}; border-bottom: 1px solid ${K}; }`);const H=he.getColor(l.editorFindMatchHighlightBorder);H&&de.addRule(`.monaco-editor .findMatch { border: 1px ${(0,r.isHighContrast)(he.type)?"dotted":"solid"} ${H}; box-sizing: border-box; }`);const Q=he.getColor(l.editorFindMatchBorder);Q&&de.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Q}; padding: 1px; box-sizing: border-box; }`);const j=he.getColor(l.editorFindRangeHighlightBorder);j&&de.addRule(`.monaco-editor .findScope { border: 1px ${(0,r.isHighContrast)(he.type)?"dashed":"solid"} ${j}; }`);const re=he.getColor(l.contrastBorder);re&&de.addRule(`.monaco-editor .find-widget { border: 1px solid ${re}; }`);const se=he.getColor(l.editorWidgetForeground);se&&de.addRule(`.monaco-editor .find-widget { color: ${se}; }`);const ue=he.getColor(l.errorForeground);ue&&de.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ue}; }`);const me=he.getColor(l.editorWidgetResizeBorder);if(me)de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${me}; }`);else{const we=he.getColor(l.editorWidgetBorder);we&&de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${we}; }`)}const ve=he.getColor(l.toolbarHoverBackground);ve&&de.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${ve} !important;
		}
	`);const Ce=he.getColor(l.focusBorder);Ce&&de.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Ce}; }`)})}),define(ee[368],te([1,0,13,2,10,16,77,22,48,194,880,881,882,653,30,103,15,57,34,46,67,87,23]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const f=524288;function p(z,q="single",B=!1){if(!z.hasModel())return null;const $=z.getSelection();if(q==="single"&&$.startLineNumber===$.endLineNumber||q==="multiple"){if($.isEmpty()){const X=z.getConfiguredWordAtPosition($.getStartPosition());if(X&&B===!1)return X.word}else if(z.getModel().getValueLengthInRange($)<f)return z.getModel().getValueInRange($)}return null}e.getSelectionSearchString=p;let b=g=class extends k.Disposable{get editor(){return this._editor}static get(q){return q.getContribution(g.ID)}constructor(q,B,$,X){super(),this._editor=q,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(B),this._contextKeyService=B,this._storageService=$,this._clipboardService=X,this._updateHistoryDelayer=new L.Delayer(500),this._state=this._register(new s.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(ne=>this._onStateChanged(ne))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const ne=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),ne&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(40).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(q){this.saveQueryState(q),q.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),q.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(q){q.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),q.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),q.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),q.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const q=this._editor.getSelections();q.map(B=>(B.endColumn===1&&B.endLineNumber>B.startLineNumber&&(B=B.setEndPosition(B.endLineNumber-1,this._editor.getModel().getLineMaxColumn(B.endLineNumber-1))),B.isEmpty()?null:B)).filter(B=>!!B),q.length&&this._state.change({searchScope:q},!0)}}setSearchString(q){this._state.isRegex&&(q=y.escapeRegExpCharacters(q)),this._state.change({searchString:q},!1)}highlightFindOptions(q=!1){}_start(q,B){return Se(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const $=Object.assign(Object.assign({},B),{isRevealed:!0});if(q.seedSearchStringFromSelection==="single"){const X=p(this._editor,q.seedSearchStringFromSelection,q.seedSearchStringFromNonEmptySelection);X&&(this._state.isRegex?$.searchString=y.escapeRegExpCharacters(X):$.searchString=X)}else if(q.seedSearchStringFromSelection==="multiple"&&!q.updateSearchScope){const X=p(this._editor,q.seedSearchStringFromSelection);X&&($.searchString=X)}if(!$.searchString&&q.seedSearchStringFromGlobalClipboard){const X=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;X&&($.searchString=X)}if(q.forceRevealReplace||$.isReplaceRevealed?$.isReplaceRevealed=!0:this._findWidgetVisible.get()||($.isReplaceRevealed=!1),q.updateSearchScope){const X=this._editor.getSelections();X.some(ne=>!ne.isEmpty())&&($.searchScope=X)}$.loop=q.loop,this._state.change($,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))})}start(q,B){return this._start(q,B)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(q){return this._model?(this._model.moveToMatch(q),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Se(this,void 0,void 0,function*(){return this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(q){this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(q)}};e.CommonFindController=b,b.ID="editor.contrib.findController",e.CommonFindController=b=g=Ie([ge(1,u.IContextKeyService),ge(2,d.IStorageService),ge(3,a.IClipboardService)],b);let w=class extends b{constructor(q,B,$,X,ne,oe,Y,U){super(q,$,Y,U),this._contextViewService=B,this._keybindingService=X,this._themeService=ne,this._notificationService=oe,this._widget=null,this._findOptionsWidget=null}_start(q,B){const $=Object.create(null,{_start:{get:()=>super._start}});return Se(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const X=this._editor.getSelection();let ne=!1;switch(this._editor.getOption(40).autoFindInSelection){case"always":ne=!0;break;case"never":ne=!1;break;case"multiline":{ne=!!X&&X.startLineNumber!==X.endLineNumber;break}default:break}q.updateSearchScope=q.updateSearchScope||ne,yield $._start.call(this,q,B),this._widget&&(q.shouldFocus===2?this._widget.focusReplaceInput():q.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(q=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!q?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new n.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=w,e.FindController=w=Ie([ge(1,h.IContextViewService),ge(2,u.IContextKeyService),ge(3,l.IKeybindingService),ge(4,r.IThemeService),ge(5,c.INotificationService),ge(6,d.IStorageService),ge(7,a.IClipboardService)],w),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:u.ContextKeyExpr.or(m.EditorContextKeys.focus,u.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(z,q,B)=>{const $=b.get(q);return $?$.start({forceRevealReplace:!1,seedSearchStringFromSelection:q.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:q.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:q.getOption(40).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(40).loop}):!1});const E={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class I extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:E})}run(q,B,$){return Se(this,void 0,void 0,function*(){const X=b.get(B);if(X){const ne=$?{searchString:$.searchString,replaceString:$.replaceString,isReplaceRevealed:$.replaceString!==void 0,isRegex:$.isRegex,wholeWord:$.matchWholeWord,matchCase:$.isCaseSensitive,preserveCase:$.preserveCase}:{};yield X.start({forceRevealReplace:!1,seedSearchStringFromSelection:X.getState().searchString.length===0&&B.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:B.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:$?.findInSelection||!1,loop:B.getOption(40).loop},ne),X.setGlobalBufferTerm(X.getState().searchString)}})}}e.StartFindWithArgsAction=I;class N extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(q,B){return Se(this,void 0,void 0,function*(){const $=b.get(B);$&&(yield $.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:B.getOption(40).loop}),$.setGlobalBufferTerm($.getState().searchString))})}}e.StartFindWithSelectionAction=N;class R extends D.EditorAction{run(q,B){return Se(this,void 0,void 0,function*(){const $=b.get(B);$&&!this._run($)&&(yield $.start({forceRevealReplace:!1,seedSearchStringFromSelection:$.getState().searchString.length===0&&B.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:B.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:B.getOption(40).loop}),this._run($))})}}e.MatchFindAction=R;class F extends R{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(q){return q.moveToNextMatch()?(q.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=F;class M extends R{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(q){return q.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class A extends D.EditorAction{constructor(){super({id:v.FIND_IDS.GoToMatchFindAction,label:i.localize(10,null),alias:"Go to Match...",precondition:v.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(q,B,$){const X=b.get(B);if(!X)return;const ne=X.getState().matchesCount;if(ne<1){q.get(c.INotificationService).notify({severity:c.Severity.Warning,message:i.localize(11,null)});return}const Y=q.get(o.IQuickInputService).createInputBox();Y.placeholder=i.localize(12,null,ne);const U=V=>{const Z=parseInt(V);if(isNaN(Z))return;const ie=X.getState().matchesCount;if(Z>0&&Z<=ie)return Z-1;if(Z<0&&Z>=-ie)return ie+Z},W=V=>{const Z=U(V);if(typeof Z=="number"){Y.validationMessage=void 0,X.goToMatch(Z);const ie=X.getState().currentMatch;ie&&this.addDecorations(B,ie)}else Y.validationMessage=i.localize(13,null,X.getState().matchesCount),this.clearDecorations(B)};Y.onDidChangeValue(V=>{W(V)}),Y.onDidAccept(()=>{const V=U(Y.value);typeof V=="number"?(X.goToMatch(V),Y.hide()):Y.validationMessage=i.localize(14,null,X.getState().matchesCount)}),Y.onDidHide(()=>{this.clearDecorations(B),Y.dispose()}),Y.show()}clearDecorations(q){q.changeDecorations(B=>{this._highlightDecorations=B.deltaDecorations(this._highlightDecorations,[])})}addDecorations(q,B){q.changeDecorations($=>{this._highlightDecorations=$.deltaDecorations(this._highlightDecorations,[{range:B,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:B,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,r.themeColorFromId)(S.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=A;class T extends D.EditorAction{run(q,B){return Se(this,void 0,void 0,function*(){const $=b.get(B);if(!$)return;const X=p(B,"single",!1);X&&$.setSearchString(X),this._run($)||(yield $.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:B.getOption(40).loop}),this._run($))})}}e.SelectionMatchFindAction=T;class O extends T{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(15,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}_run(q){return q.moveToNextMatch()}}e.NextSelectionMatchFindAction=O;class P extends T{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(16,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}_run(q){return q.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=P,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:i.localize(17,null),alias:"Replace",precondition:u.ContextKeyExpr.or(m.EditorContextKeys.focus,u.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(18,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(z,q,B)=>{if(!q.hasModel()||q.getOption(89))return!1;const $=b.get(q);if(!$)return!1;const X=q.getSelection(),ne=$.isFindInputFocused(),oe=!X.isEmpty()&&X.startLineNumber===X.endLineNumber&&q.getOption(40).seedSearchStringFromSelection!=="never"&&!ne,Y=ne||oe?2:1;return $.start({forceRevealReplace:!0,seedSearchStringFromSelection:oe?"single":"none",seedSearchStringFromNonEmptySelection:q.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:q.getOption(40).seedSearchStringFromSelection!=="never",shouldFocus:Y,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(40).loop})}),(0,D.registerEditorContribution)(b.ID,w,0),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(F),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(O),(0,D.registerEditorAction)(P);const x=D.EditorCommand.bindToContribution(b.get);(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,u.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:z=>z.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:z=>z.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:z=>z.toggleRegex(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:z=>z.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:z=>z.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replace(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replace(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replaceAll(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replaceAll(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(ee[369],te([1,0,26,48,39,656,32,76,23,27]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const C=(0,S.registerColor)("editor.foldBackground",{light:(0,S.transparent)(S.editorSelectionBackground,.3),dark:(0,S.transparent)(S.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,S.registerColor)("editorGutter.foldingControlForeground",{dark:S.iconForeground,light:S.iconForeground,hcDark:S.iconForeground,hcLight:S.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,m.registerIcon)("folding-expanded",L.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,m.registerIcon)("folding-collapsed",L.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,m.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,m.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const s={color:(0,_.themeColorFromId)(C),position:k.MinimapPosition.Inline};class n{constructor(t){this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(t,a,u){return a?n.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?t?this.showFoldingHighlights?n.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:n.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:n.NO_CONTROLS_EXPANDED_RANGE_DECORATION:t?u?this.showFoldingHighlights?n.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?n.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?u?n.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:u?n.MANUALLY_EXPANDED_VISUAL_DECORATION:n.EXPANDED_VISUAL_DECORATION}changeDecorations(t){return this.editor.changeDecorations(t)}removeDecorations(t){this.editor.removeDecorations(t)}}e.FoldingDecorationProvider=n,n.COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),n.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),n.MANUALLY_COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),n.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),n.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),n.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0}),n.EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+v.ThemeIcon.asClassName(e.foldingExpandedIcon)}),n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingExpandedIcon)}),n.MANUALLY_EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+v.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),n.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),n.NO_CONTROLS_EXPANDED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),n.HIDDEN_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ee[254],te([1,0,13,19,9,61,2,10,20,120,16,22,28,31,294,544,295,655,15,369,181,296,46,73,58,18,6,25,21,50,29,445]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const F=new l.RawContextKey("foldingEnabled",!1);let M=R=class extends S.Disposable{static get(ae){return ae.getContribution(R.ID)}static getFoldingRangeProviders(ae,J){var K,H;const Q=ae.foldingRangeProvider.ordered(J);return(H=(K=R._foldingRangeSelector)===null||K===void 0?void 0:K.call(R,Q,J))!==null&&H!==void 0?H:Q}constructor(ae,J,K,H,Q,j){super(),this.contextKeyService=J,this.languageConfigurationService=K,this.languageFeaturesService=j,this.localToDispose=this._register(new S.DisposableStore),this.editor=ae,this._foldingLimitReporter=new A(ae);const re=this.editor.getOptions();this._isEnabled=re.get(42),this._useFoldingProviders=re.get(43)!=="indentation",this._unfoldOnClickAfterEndOfLine=re.get(47),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=re.get(45),this.updateDebounceInfo=Q.for(j.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new c.FoldingDecorationProvider(ae),this.foldingDecorationProvider.showFoldingControls=re.get(108),this.foldingDecorationProvider.showFoldingHighlights=re.get(44),this.foldingEnabled=F.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(se=>{if(se.hasChanged(42)&&(this._isEnabled=this.editor.getOptions().get(42),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),se.hasChanged(46)&&this.onModelChanged(),se.hasChanged(108)||se.hasChanged(44)){const ue=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=ue.get(108),this.foldingDecorationProvider.showFoldingHighlights=ue.get(44),this.triggerFoldingModelChanged()}se.hasChanged(43)&&(this._useFoldingProviders=this.editor.getOptions().get(43)!=="indentation",this.onFoldingStrategyChanged()),se.hasChanged(47)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(47)),se.hasChanged(45)&&(this._foldingImportsByDefault=this.editor.getOptions().get(45))})),this.onModelChanged()}saveViewState(){const ae=this.editor.getModel();if(!ae||!this._isEnabled||ae.isTooLargeForTokenization())return{};if(this.foldingModel){const J=this.foldingModel.getMemento(),K=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:J,lineCount:ae.getLineCount(),provider:K,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ae){const J=this.editor.getModel();if(!(!J||!this._isEnabled||J.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ae&&(this._currentModelHasFoldedImports=!!ae.foldedImports,ae.collapsedRegions&&ae.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ae.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ae=this.editor.getModel();!this._isEnabled||!ae||ae.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(ae,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(J=>this.onHiddenRangesChanges(J))),this.updateScheduler=new L.Delayer(this.updateDebounceInfo.get(ae)),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(J=>this.onDidChangeModelContent(J))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(J=>this.onEditorMouseDown(J))),this.localToDispose.add(this.editor.onMouseUp(J=>this.onEditorMouseUp(J))),this.localToDispose.add({dispose:()=>{var J,K;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(J=this.updateScheduler)===null||J===void 0||J.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(K=this.rangeProvider)===null||K===void 0||K.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ae;(ae=this.rangeProvider)===null||ae===void 0||ae.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ae){if(this.rangeProvider)return this.rangeProvider;const J=new u.IndentRangeProvider(ae,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=J,this._useFoldingProviders&&this.foldingModel){const K=R.getFoldingRangeProviders(this.languageFeaturesService,ae);K.length>0&&(this.rangeProvider=new d.SyntaxRangeProvider(ae,K,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,J))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ae){var J;(J=this.hiddenRangeModel)===null||J===void 0||J.notifyChangeModelContent(ae),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ae=this.foldingModel;if(!ae)return null;const J=new f.StopWatch,K=this.getRangeProvider(ae.textModel),H=this.foldingRegionPromise=(0,L.createCancelablePromise)(Q=>K.compute(Q));return H.then(Q=>{if(Q&&H===this.foldingRegionPromise){let j;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const me=Q.setCollapsedAllOfType(n.FoldingRangeKind.Imports.value,!0);me&&(j=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=me)}const re=this.editor.getSelections(),se=re?re.map(me=>me.startLineNumber):[];ae.update(Q,se),j?.restore(this.editor);const ue=this.updateDebounceInfo.update(ae.textModel,J.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ue)}return ae})}).then(void 0,ae=>((0,y.onUnexpectedError)(ae),null)))}onHiddenRangesChanges(ae){if(this.hiddenRangeModel&&ae.length&&!this._restoringViewState){const J=this.editor.getSelections();J&&this.hiddenRangeModel.adjustSelections(J)&&this.editor.setSelections(J)}this.editor.setHiddenAreas(ae,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ae=this.getFoldingModel();ae&&ae.then(J=>{if(J){const K=this.editor.getSelections();if(K&&K.length>0){const H=[];for(const Q of K){const j=Q.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(j)&&H.push(...J.getAllRegionsAtLine(j,re=>re.isCollapsed&&j>re.startLineNumber))}H.length&&(J.toggleCollapseState(H),this.reveal(K[0].getPosition()))}}}).then(void 0,y.onUnexpectedError)}onEditorMouseDown(ae){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ae.target||!ae.target.range||!ae.event.leftButton&&!ae.event.middleButton)return;const J=ae.target.range;let K=!1;switch(ae.target.type){case 4:{const H=ae.target.detail,Q=ae.target.element.offsetLeft;if(H.offsetX-Q<4)return;K=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ae.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const H=this.editor.getModel();if(H&&J.startColumn===H.getLineMaxColumn(J.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:J.startLineNumber,iconClicked:K}}onEditorMouseUp(ae){const J=this.foldingModel;if(!J||!this.mouseDownInfo||!ae.target)return;const K=this.mouseDownInfo.lineNumber,H=this.mouseDownInfo.iconClicked,Q=ae.target.range;if(!Q||Q.startLineNumber!==K)return;if(H){if(ae.target.type!==4)return}else{const re=this.editor.getModel();if(!re||Q.startColumn!==re.getLineMaxColumn(K))return}const j=J.getRegionAtLine(K);if(j&&j.startLineNumber===K){const re=j.isCollapsed;if(H||re){const se=ae.event.altKey;let ue=[];if(se){const me=Ce=>!Ce.containedBy(j)&&!j.containedBy(Ce),ve=J.getRegionsInside(null,me);for(const Ce of ve)Ce.isCollapsed&&ue.push(Ce);ue.length===0&&(ue=ve)}else{const me=ae.event.middleButton||ae.event.shiftKey;if(me)for(const ve of J.getRegionsInside(j))ve.isCollapsed===re&&ue.push(ve);(re||!me||ue.length===0)&&ue.push(j)}J.toggleCollapseState(ue),this.reveal({lineNumber:K,column:1})}}}reveal(ae){this.editor.revealPositionInCenterIfOutsideViewport(ae,0)}};e.FoldingController=M,M.ID="editor.contrib.folding",e.FoldingController=M=R=Ie([ge(1,l.IContextKeyService),ge(2,i.ILanguageConfigurationService),ge(3,r.INotificationService),ge(4,g.ILanguageFeatureDebounceService),ge(5,p.ILanguageFeaturesService)],M);class A{constructor(ae){this.editor=ae,this._onDidChange=new b.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(46)}update(ae,J){(ae!==this._computed||J!==this._limited)&&(this._computed=ae,this._limited=J,this._onDidChange.fire())}}e.RangesLimitReporter=A;class T extends C.EditorAction{runEditorCommand(ae,J,K){const H=ae.get(i.ILanguageConfigurationService),Q=M.get(J);if(!Q)return;const j=Q.getFoldingModel();if(j)return this.reportTelemetry(ae,J),j.then(re=>{if(re){this.invoke(Q,re,J,K,H);const se=J.getSelection();se&&Q.reveal(se.getStartPosition())}})}getSelectedLines(ae){const J=ae.getSelections();return J?J.map(K=>K.startLineNumber):[]}getLineNumbers(ae,J){return ae&&ae.selectionLines?ae.selectionLines.map(K=>K+1):this.getSelectedLines(J)}run(ae,J){}}function O(ce){if(!_.isUndefined(ce)){if(!_.isObject(ce))return!1;const ae=ce;if(!_.isUndefined(ae.levels)&&!_.isNumber(ae.levels)||!_.isUndefined(ae.direction)&&!_.isString(ae.direction)||!_.isUndefined(ae.selectionLines)&&(!Array.isArray(ae.selectionLines)||!ae.selectionLines.every(_.isNumber)))return!1}return!0}class P extends T{constructor(){super({id:"editor.unfold",label:h.localize(0,null),alias:"Unfold",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:O,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,J,K,H){const Q=H&&H.levels||1,j=this.getLineNumbers(H,K);H&&H.direction==="up"?(0,t.setCollapseStateLevelsUp)(J,!1,Q,j):(0,t.setCollapseStateLevelsDown)(J,!1,Q,j)}}class x extends T{constructor(){super({id:"editor.unfoldRecursively",label:h.localize(1,null),alias:"Unfold Recursively",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(ae,J,K,H){(0,t.setCollapseStateLevelsDown)(J,!1,Number.MAX_VALUE,this.getSelectedLines(K))}}class z extends T{constructor(){super({id:"editor.fold",label:h.localize(2,null),alias:"Fold",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:O,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,J,K,H){const Q=this.getLineNumbers(H,K),j=H&&H.levels,re=H&&H.direction;typeof j!="number"&&typeof re!="string"?(0,t.setCollapseStateUp)(J,!0,Q):re==="up"?(0,t.setCollapseStateLevelsUp)(J,!0,j||1,Q):(0,t.setCollapseStateLevelsDown)(J,!0,j||1,Q)}}class q extends T{constructor(){super({id:"editor.toggleFold",label:h.localize(3,null),alias:"Toggle Fold",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);(0,t.toggleCollapseState)(J,1,H)}}class B extends T{constructor(){super({id:"editor.foldRecursively",label:h.localize(4,null),alias:"Fold Recursively",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);(0,t.setCollapseStateLevelsDown)(J,!0,Number.MAX_VALUE,H)}}class $ extends T{constructor(){super({id:"editor.foldAllBlockComments",label:h.localize(5,null),alias:"Fold All Block Comments",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(ae,J,K,H,Q){if(J.regions.hasTypes())(0,t.setCollapseStateForType)(J,n.FoldingRangeKind.Comment.value,!0);else{const j=K.getModel();if(!j)return;const re=Q.getLanguageConfiguration(j.getLanguageId()).comments;if(re&&re.blockCommentStartToken){const se=new RegExp("^\\s*"+(0,m.escapeRegExpCharacters)(re.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(J,se,!0)}}}}class X extends T{constructor(){super({id:"editor.foldAllMarkerRegions",label:h.localize(6,null),alias:"Fold All Regions",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(ae,J,K,H,Q){if(J.regions.hasTypes())(0,t.setCollapseStateForType)(J,n.FoldingRangeKind.Region.value,!0);else{const j=K.getModel();if(!j)return;const re=Q.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(re&&re.markers&&re.markers.start){const se=new RegExp(re.markers.start);(0,t.setCollapseStateForMatchingLines)(J,se,!0)}}}}class ne extends T{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:h.localize(7,null),alias:"Unfold All Regions",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(ae,J,K,H,Q){if(J.regions.hasTypes())(0,t.setCollapseStateForType)(J,n.FoldingRangeKind.Region.value,!1);else{const j=K.getModel();if(!j)return;const re=Q.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(re&&re.markers&&re.markers.start){const se=new RegExp(re.markers.start);(0,t.setCollapseStateForMatchingLines)(J,se,!1)}}}}class oe extends T{constructor(){super({id:"editor.foldAllExcept",label:h.localize(8,null),alias:"Fold All Except Selected",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);(0,t.setCollapseStateForRest)(J,!0,H)}}class Y extends T{constructor(){super({id:"editor.unfoldAllExcept",label:h.localize(9,null),alias:"Unfold All Except Selected",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);(0,t.setCollapseStateForRest)(J,!1,H)}}class U extends T{constructor(){super({id:"editor.foldAll",label:h.localize(10,null),alias:"Fold All",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(ae,J,K){(0,t.setCollapseStateLevelsDown)(J,!0)}}class W extends T{constructor(){super({id:"editor.unfoldAll",label:h.localize(11,null),alias:"Unfold All",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(ae,J,K){(0,t.setCollapseStateLevelsDown)(J,!1)}}class V extends T{getFoldingLevel(){return parseInt(this.id.substr(V.ID_PREFIX.length))}invoke(ae,J,K){(0,t.setCollapseStateAtLevel)(J,this.getFoldingLevel(),!0,this.getSelectedLines(K))}}V.ID_PREFIX="editor.foldLevel",V.ID=ce=>V.ID_PREFIX+ce;class Z extends T{constructor(){super({id:"editor.gotoParentFold",label:h.localize(12,null),alias:"Go to Parent Fold",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);if(H.length>0){const Q=(0,t.getParentFoldLine)(H[0],J);Q!==null&&K.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class ie extends T{constructor(){super({id:"editor.gotoPreviousFold",label:h.localize(13,null),alias:"Go to Previous Folding Range",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);if(H.length>0){const Q=(0,t.getPreviousFoldLine)(H[0],J);Q!==null&&K.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class le extends T{constructor(){super({id:"editor.gotoNextFold",label:h.localize(14,null),alias:"Go to Next Folding Range",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,J,K){const H=this.getSelectedLines(K);if(H.length>0){const Q=(0,t.getNextFoldLine)(H[0],J);Q!==null&&K.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class he extends T{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:h.localize(15,null),alias:"Create Folding Range from Selection",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(ae,J,K){var H;const Q=[],j=K.getSelections();if(j){for(const re of j){let se=re.endLineNumber;re.endColumn===1&&--se,se>re.startLineNumber&&(Q.push({startLineNumber:re.startLineNumber,endLineNumber:se,type:void 0,isCollapsed:!0,source:1}),K.setSelection({startLineNumber:re.startLineNumber,startColumn:1,endLineNumber:re.startLineNumber,endColumn:1}))}if(Q.length>0){Q.sort((se,ue)=>se.startLineNumber-ue.startLineNumber);const re=o.FoldingRegions.sanitizeAndMerge(J.regions,Q,(H=K.getModel())===null||H===void 0?void 0:H.getLineCount());J.updatePost(o.FoldingRegions.fromFoldRanges(re))}}}}class de extends T{constructor(){super({id:"editor.removeManualFoldingRanges",label:h.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(ae,J,K){const H=K.getSelections();if(H){const Q=[];for(const j of H){const{startLineNumber:re,endLineNumber:se}=j;Q.push(se>=re?{startLineNumber:re,endLineNumber:se}:{endLineNumber:se,startLineNumber:re})}J.removeManualRanges(Q),ae.triggerFoldingModelChanged()}}}(0,C.registerEditorContribution)(M.ID,M,0),(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(x),(0,C.registerEditorAction)(z),(0,C.registerEditorAction)(B),(0,C.registerEditorAction)(U),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)($),(0,C.registerEditorAction)(X),(0,C.registerEditorAction)(ne),(0,C.registerEditorAction)(oe),(0,C.registerEditorAction)(Y),(0,C.registerEditorAction)(q),(0,C.registerEditorAction)(Z),(0,C.registerEditorAction)(ie),(0,C.registerEditorAction)(le),(0,C.registerEditorAction)(he),(0,C.registerEditorAction)(de);for(let ce=1;ce<=7;ce++)(0,C.registerInstantiatedEditorAction)(new V({id:V.ID(ce),label:h.localize(17,null,ce),alias:`Fold Level ${ce}`,precondition:F,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+ce),weight:100}}));w.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",function(ce,...ae){return Se(this,void 0,void 0,function*(){const[J]=ae;if(!(J instanceof E.URI))throw(0,y.illegalArgument)();const K=ce.get(p.ILanguageFeaturesService),H=ce.get(I.IModelService).getModel(J);if(!H)throw(0,y.illegalArgument)();const Q=ce.get(N.IConfigurationService);if(!Q.getValue("editor.folding",{resource:J}))return[];const j=ce.get(i.ILanguageConfigurationService),re=Q.getValue("editor.foldingStrategy",{resource:J}),se={get limit(){return Q.getValue("editor.foldingMaximumRegions",{resource:J})},update:(we,Le)=>{}},ue=new u.IndentRangeProvider(H,j,se);let me=ue;if(re!=="indentation"){const we=M.getFoldingRangeProviders(K,H);we.length&&(me=new d.SyntaxRangeProvider(H,we,()=>{},se,ue))}const ve=yield me.compute(k.CancellationToken.None),Ce=[];try{if(ve)for(let we=0;we<ve.length;we++){const Le=ve.getType(we);Ce.push({start:ve.getStartLineNumber(we),end:ve.getEndLineNumber(we),kind:Le?n.FoldingRangeKind.fromValue(Le):void 0})}return Ce}finally{me.dispose()}})})}),define(ee[370],te([1,0,7,314,14,2,12,5,39,28,324,100,8,34,13,22,15,600,29,86]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c){"use strict";var o,d;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const r=L.$;let g=o=class extends D.Disposable{constructor(T,O,P){super(),this._editor=T,this._instantiationService=O,this._keybindingService=P,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(N,this._editor)),this._participants=[];for(const x of s.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(x,this._editor));this._participants.sort((x,z)=>x.hoverOrdinal-z.hoverOrdinal),this._computer=new F(this._editor,this._participants),this._hoverOperation=this._register(new C.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(x=>{if(!this._computer.anchor)return;const z=x.hasLoadingMessage?this._addLoadingMessage(x.value):x.value;this._withResult(new f(this._computer.anchor,z,x.isComplete))})),this._register(L.addStandardDisposableListener(this._widget.getDomNode(),"keydown",x=>{x.equals(9)&&this.hide()})),this._register(v.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(T){if(this._widget.isResizing)return!0;const O=[];for(const x of this._participants)if(x.suggestHoverAnchor){const z=x.suggestHoverAnchor(T);z&&O.push(z)}const P=T.target;if(P.type===6&&O.push(new s.HoverRangeAnchor(0,P.range,T.event.posx,T.event.posy)),P.type===7){const x=this._editor.getOption(49).typicalHalfwidthCharacterWidth/2;!P.detail.isAfterLines&&typeof P.detail.horizontalDistanceToText=="number"&&P.detail.horizontalDistanceToText<x&&O.push(new s.HoverRangeAnchor(0,P.range,T.event.posx,T.event.posy))}return O.length===0?this._startShowingOrUpdateHover(null,0,0,!1,T):(O.sort((x,z)=>z.priority-x.priority),this._startShowingOrUpdateHover(O[0],0,0,!1,T))}startShowingAtRange(T,O,P,x){this._startShowingOrUpdateHover(new s.HoverRangeAnchor(0,T,void 0,void 0),O,P,x,null)}_startShowingOrUpdateHover(T,O,P,x,z){return!this._widget.position||!this._currentResult?T?(this._startHoverOperationIfNecessary(T,O,P,x,!1),!0):!1:this._editor.getOption(59).sticky&&z&&this._widget.isMouseGettingCloser(z.event.posx,z.event.posy)?(T&&this._startHoverOperationIfNecessary(T,O,P,x,!0),!0):T?T&&this._currentResult.anchor.equals(T)?!0:T.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(T)),this._startHoverOperationIfNecessary(T,O,P,x,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(T,O,P,x,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(T,O,P,x,z){this._computer.anchor&&this._computer.anchor.equals(T)||(this._hoverOperation.cancel(),this._computer.anchor=T,this._computer.shouldFocus=x,this._computer.source=P,this._computer.insistOnKeepingHoverVisible=z,this._hoverOperation.start(O))}_setCurrentResult(T){this._currentResult!==T&&(T&&T.messages.length===0&&(T=null),this._currentResult=T,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(T){return T?this._widget.getDomNode().contains(T):!1}_addLoadingMessage(T){if(this._computer.anchor){for(const O of this._participants)if(O.createLoadingMessage){const P=O.createLoadingMessage(this._computer.anchor);if(P)return T.slice(0).concat([P])}}return T}_withResult(T){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!T.isComplete||this._computer.insistOnKeepingHoverVisible&&T.messages.length===0)||this._setCurrentResult(T)}_renderMessages(T,O){const{showAtPosition:P,showAtSecondaryPosition:x,highlightRange:z}=o.computeHoverRanges(this._editor,T.range,O),q=new D.DisposableStore,B=q.add(new R(this._keybindingService)),$=document.createDocumentFragment();let X=null;const ne={fragment:$,statusBar:B,setColorPicker:Y=>X=Y,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:Y=>this._widget.setMinimumDimensions(Y),hide:()=>this.hide()};for(const Y of this._participants){const U=O.filter(W=>W.owner===Y);U.length>0&&q.add(Y.renderHoverParts(ne,U))}const oe=O.some(Y=>Y.isBeforeContent);if(B.hasContent&&$.appendChild(B.hoverElement),$.hasChildNodes()){if(z){const Y=this._editor.createDecorationsCollection();Y.set([{range:z,options:o._DECORATION_OPTIONS}]),q.add((0,D.toDisposable)(()=>{Y.clear()}))}this._widget.showAt($,new b(X,P,x,this._editor.getOption(59).above,this._computer.shouldFocus,this._computer.source,oe,T.initialMousePosX,T.initialMousePosY,q))}else q.dispose()}static computeHoverRanges(T,O,P){let x=1;if(T.hasModel()){const X=T._getViewModel(),ne=X.coordinatesConverter,oe=ne.convertModelRangeToViewRange(O),Y=new S.Position(oe.startLineNumber,X.getLineMinColumn(oe.startLineNumber));x=ne.convertViewPositionToModelPosition(Y).column}const z=O.startLineNumber;let q=O.startColumn,B=P[0].range,$=null;for(const X of P)B=m.Range.plusRange(B,X.range),X.range.startLineNumber===z&&X.range.endLineNumber===z&&(q=Math.max(Math.min(q,X.range.startColumn),x)),X.forceShowAtRange&&($=X.range);return{showAtPosition:$?$.getStartPosition():new S.Position(z,O.startColumn),showAtSecondaryPosition:$?$.getStartPosition():new S.Position(z,q),highlightRange:B}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};e.ContentHoverController=g,g._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=g=o=Ie([ge(1,n.IInstantiationService),ge(2,i.IKeybindingService)],g);class f{constructor(T,O,P){this.anchor=T,this.messages=O,this.isComplete=P}filter(T){const O=this.messages.filter(P=>P.isValidForHoverAnchor(T));return O.length===this.messages.length?this:new p(this,this.anchor,O,this.isComplete)}}class p extends f{constructor(T,O,P,x){super(O,P,x),this.original=T}filter(T){return this.original.filter(T)}}class b{constructor(T,O,P,x,z,q,B,$,X,ne){this.colorPicker=T,this.showAtPosition=O,this.showAtSecondaryPosition=P,this.preferAbove=x,this.stoleFocus=z,this.source=q,this.isBeforeContent=B,this.initialMousePosX=$,this.initialMousePosY=X,this.disposables=ne,this.closestMouseDistance=void 0}}const w=30,E=10,I=6;let N=d=class extends h.ResizableContentWidget{get isColorPickerVisible(){var T;return!!(!((T=this._visibleData)===null||T===void 0)&&T.colorPicker)}get isVisibleFromKeyboard(){var T;return((T=this._visibleData)===null||T===void 0?void 0:T.source)===1}get isVisible(){var T;return(T=this._hoverVisibleKey.get())!==null&&T!==void 0?T:!1}get isFocused(){var T;return(T=this._hoverFocusedKey.get())!==null&&T!==void 0?T:!1}constructor(T,O,P,x,z){const q=T.getOption(65)+8,B=150,$=new L.Dimension(B,q);super(T,$),this._configurationService=P,this._accessibilityService=x,this._keybindingService=z,this._hover=this._register(new k.HoverWidget),this._minimumSize=$,this._hoverVisibleKey=a.EditorContextKeys.hoverVisible.bindTo(O),this._hoverFocusedKey=a.EditorContextKeys.hoverFocused.bindTo(O),L.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(ne=>{ne.hasChanged(49)&&this._updateFont()}));const X=this._register(L.trackFocus(this._resizableNode.domNode));this._register(X.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(X.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var T;super.dispose(),(T=this._visibleData)===null||T===void 0||T.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return d.ID}static _applyDimensions(T,O,P){const x=typeof O=="number"?`${O}px`:O,z=typeof P=="number"?`${P}px`:P;T.style.width=x,T.style.height=z}_setContentsDomNodeDimensions(T,O){const P=this._hover.contentsDomNode;return d._applyDimensions(P,T,O)}_setContainerDomNodeDimensions(T,O){const P=this._hover.containerDomNode;return d._applyDimensions(P,T,O)}_setHoverWidgetDimensions(T,O){this._setContentsDomNodeDimensions(T,O),this._setContainerDomNodeDimensions(T,O),this._layoutContentWidget()}static _applyMaxDimensions(T,O,P){const x=typeof O=="number"?`${O}px`:O,z=typeof P=="number"?`${P}px`:P;T.style.maxWidth=x,T.style.maxHeight=z}_setHoverWidgetMaxDimensions(T,O){d._applyMaxDimensions(this._hover.contentsDomNode,T,O),d._applyMaxDimensions(this._hover.containerDomNode,T,O),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof T=="number"?`${T}px`:T),this._layoutContentWidget()}_hasHorizontalScrollbar(){const T=this._hover.scrollbar.getScrollDimensions();return T.scrollWidth>T.width}_adjustContentsBottomPadding(){const T=this._hover.contentsDomNode,O=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;T.style.paddingBottom!==O&&(T.style.paddingBottom=O)}_setAdjustedHoverWidgetDimensions(T){this._setHoverWidgetMaxDimensions("none","none");const O=T.width,P=T.height;this._setHoverWidgetDimensions(O,P),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(O,P-E))}_updateResizableNodeMaxDimensions(){var T,O;const P=(T=this._findMaximumRenderingWidth())!==null&&T!==void 0?T:1/0,x=(O=this._findMaximumRenderingHeight())!==null&&O!==void 0?O:1/0;this._resizableNode.maxSize=new L.Dimension(P,x),this._setHoverWidgetMaxDimensions(P,x)}_resize(T){var O,P;d._lastDimensions=new L.Dimension(T.width,T.height),this._setAdjustedHoverWidgetDimensions(T),this._resizableNode.layout(T.height,T.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(P=(O=this._visibleData)===null||O===void 0?void 0:O.colorPicker)===null||P===void 0||P.layout()}_findAvailableSpaceVertically(){var T;const O=(T=this._visibleData)===null||T===void 0?void 0:T.showAtPosition;if(O)return this._positionPreference===1?this._availableVerticalSpaceAbove(O):this._availableVerticalSpaceBelow(O)}_findMaximumRenderingHeight(){const T=this._findAvailableSpaceVertically();if(!T)return;let O=I;return Array.from(this._hover.contentsDomNode.children).forEach(P=>{O+=P.clientHeight}),this._hasHorizontalScrollbar()&&(O+=E),Math.min(T,O)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const T=Array.from(this._hover.contentsDomNode.children).some(O=>O.scrollWidth>O.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),T}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const T=this._isHoverTextOverflowing(),O=typeof this._contentWidth>"u"?0:this._contentWidth-2;return T||this._hover.containerDomNode.clientWidth<O?L.getClientArea(document.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(T,O){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=T,this._visibleData.initialMousePosY=O,!1;const P=L.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=M(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,P.left,P.top,P.width,P.height));const x=M(T,O,P.left,P.top,P.width,P.height);return x>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,x),!0)}_setHoverData(T){var O;(O=this._visibleData)===null||O===void 0||O.disposables.dispose(),this._visibleData=T,this._hoverVisibleKey.set(!!T),this._hover.containerDomNode.classList.toggle("hidden",!T)}_layout(){const{fontSize:T,lineHeight:O}=this._editor.getOption(49),P=this._hover.contentsDomNode;P.style.fontSize=`${T}px`,P.style.lineHeight=`${O/T}`,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(O=>this._editor.applyFontInfo(O))}_updateContent(T){const O=this._hover.contentsDomNode;O.style.paddingBottom="",O.textContent="",O.appendChild(T)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const T=Math.max(this._editor.getLayoutInfo().height/4,250,d._lastDimensions.height),O=Math.max(this._editor.getLayoutInfo().width*.66,500,d._lastDimensions.width);this._setHoverWidgetMaxDimensions(O,T)}_render(T,O){this._setHoverData(O),this._updateFont(),this._updateContent(T),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var T;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(T=this._positionPreference)!==null&&T!==void 0?T:1]}:null}showAt(T,O){var P,x,z,q;if(!this._editor||!this._editor.hasModel())return;this._render(T,O);const B=L.getTotalHeight(this._hover.containerDomNode),$=O.showAtPosition;this._positionPreference=(P=this._findPositionPreference(B,$))!==null&&P!==void 0?P:1,this.onContentsChanged(),O.stoleFocus&&this._hover.containerDomNode.focus(),(x=O.colorPicker)===null||x===void 0||x.layout();const X=(0,k.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(q=(z=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||z===void 0?void 0:z.getAriaLabel())!==null&&q!==void 0?q:"");X&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+X)}hide(){if(!this._visibleData)return;const T=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new L.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),T&&this._editor.focus()}_removeConstraintsRenderNormally(){const T=this._editor.getLayoutInfo();this._resizableNode.layout(T.height,T.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(T){var O;const P=this._hover.containerDomNode,x=this._hover.contentsDomNode,z=(O=this._findMaximumRenderingHeight())!==null&&O!==void 0?O:1/0;this._setContainerDomNodeDimensions(L.getTotalWidth(P),Math.min(z,T)),this._setContentsDomNodeDimensions(L.getTotalWidth(x),Math.min(z,T-E))}setMinimumDimensions(T){this._minimumSize=new L.Dimension(Math.max(this._minimumSize.width,T.width),Math.max(this._minimumSize.height,T.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const T=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new L.Dimension(T,this._minimumSize.height)}onContentsChanged(){var T;this._removeConstraintsRenderNormally();const O=this._hover.containerDomNode;let P=L.getTotalHeight(O),x=L.getTotalWidth(O);if(this._resizableNode.layout(P,x),this._setHoverWidgetDimensions(x,P),P=L.getTotalHeight(O),x=L.getTotalWidth(O),this._contentWidth=x,this._updateMinimumWidth(),this._resizableNode.layout(P,x),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(P)),!((T=this._visibleData)===null||T===void 0)&&T.showAtPosition){const z=L.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(z,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const T=this._hover.scrollbar.getScrollPosition().scrollTop,O=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:T-O.lineHeight})}scrollDown(){const T=this._hover.scrollbar.getScrollPosition().scrollTop,O=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:T+O.lineHeight})}scrollLeft(){const T=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:T-w})}scrollRight(){const T=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:T+w})}pageUp(){const T=this._hover.scrollbar.getScrollPosition().scrollTop,O=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:T-O})}pageDown(){const T=this._hover.scrollbar.getScrollPosition().scrollTop,O=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:T+O})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=N,N.ID="editor.contrib.resizableContentHoverWidget",N._lastDimensions=new L.Dimension(0,0),e.ContentHoverWidget=N=d=Ie([ge(1,u.IContextKeyService),ge(2,l.IConfigurationService),ge(3,c.IAccessibilityService),ge(4,i.IKeybindingService)],N);let R=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(T){super(),this._keybindingService=T,this._hasContent=!1,this.hoverElement=r("div.hover-row.status-bar"),this.actionsElement=L.append(this.hoverElement,r("div.actions"))}addAction(T){const O=this._keybindingService.lookupKeybinding(T.commandId),P=O?O.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,T,P))}append(T){const O=L.append(this.actionsElement,T);return this._hasContent=!0,O}};e.EditorHoverStatusBar=R,e.EditorHoverStatusBar=R=Ie([ge(0,i.IKeybindingService)],R);class F{get anchor(){return this._anchor}set anchor(T){this._anchor=T}get shouldFocus(){return this._shouldFocus}set shouldFocus(T){this._shouldFocus=T}get source(){return this._source}set source(T){this._source=T}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(T){this._insistOnKeepingHoverVisible=T}constructor(T,O){this._editor=T,this._participants=O,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(T,O){if(O.type!==1&&!O.supportsMarkerHover)return[];const P=T.getModel(),x=O.range.startLineNumber;if(x>P.getLineCount())return[];const z=P.getLineMaxColumn(x);return T.getLineDecorations(x).filter(q=>{if(q.options.isWholeLine)return!0;const B=q.range.startLineNumber===x?q.range.startColumn:1,$=q.range.endLineNumber===x?q.range.endColumn:z;if(q.options.showIfCollapsed){if(B>O.range.startColumn+1||O.range.endColumn-1>$)return!1}else if(B>O.range.startColumn||O.range.endColumn>$)return!1;return!0})}computeAsync(T){const O=this._anchor;if(!this._editor.hasModel()||!O)return t.AsyncIterableObject.EMPTY;const P=F._getLineDecorations(this._editor,O);return t.AsyncIterableObject.merge(this._participants.map(x=>x.computeAsync?x.computeAsync(O,P,T):t.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const T=F._getLineDecorations(this._editor,this._anchor);let O=[];for(const P of this._participants)O=O.concat(P.computeSync(this._anchor,T));return(0,y.coalesce)(O)}}function M(A,T,O,P,x,z){const q=O+x/2,B=P+z/2,$=Math.max(Math.abs(A-q)-x/2,0),X=Math.max(Math.abs(T-B)-z/2,0);return Math.sqrt($*$+X*X)}}),define(ee[883],te([1,0,2,367,8,370,34,6,18,16,22,15,50,31,345,7,200]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u,h;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let l=u=class extends L.Disposable{constructor(f,p,b,w,E,I,N){super(),this._editor=f,this._modelService=b,this._keybindingService=w,this._instantiationService=E,this._languageFeatureService=I,this._languageConfigurationService=N,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=C.EditorContextKeys.standaloneColorPickerVisible.bindTo(p),this._standaloneColorPickerFocused=C.EditorContextKeys.standaloneColorPickerFocused.bindTo(p)}showOrFocus(){var f;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(f=this._standaloneColorPickerWidget)===null||f===void 0||f.focus():this._standaloneColorPickerWidget=new d(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var f;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(f=this._standaloneColorPickerWidget)===null||f===void 0||f.hide(),this._editor.focus()}insertColor(){var f;(f=this._standaloneColorPickerWidget)===null||f===void 0||f.updateEditor(),this.hide()}static get(f){return f.getContribution(u.ID)}};e.StandaloneColorPickerController=l,l.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=l=u=Ie([ge(1,s.IContextKeyService),ge(2,n.IModelService),ge(3,S.IKeybindingService),ge(4,y.IInstantiationService),ge(5,_.ILanguageFeaturesService),ge(6,i.ILanguageConfigurationService)],l),(0,v.registerEditorContribution)(l.ID,l,1);const c=8,o=22;let d=h=class extends L.Disposable{constructor(f,p,b,w,E,I,N,R){var F;super(),this._editor=f,this._standaloneColorPickerVisible=p,this._standaloneColorPickerFocused=b,this._modelService=E,this._keybindingService=I,this._languageFeaturesService=N,this._languageConfigurationService=R,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new m.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=w.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(F=this._editor._getViewModel())===null||F===void 0?void 0:F.getPrimaryCursorState().modelState.position;const M=this._editor.getSelection(),A=M?{startLineNumber:M.startLineNumber,startColumn:M.startColumn,endLineNumber:M.endLineNumber,endColumn:M.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},T=this._register(a.trackFocus(this._body));this._register(T.onDidBlur(O=>{this.hide()})),this._register(T.onDidFocus(O=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(O=>{var P;const x=(P=O.target.element)===null||P===void 0?void 0:P.classList;x&&x.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(O=>{this._render(O.value,O.foundInEditor)})),this._start(A),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return h.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const f=this._editor.getOption(59).above;return{position:this._position,secondaryPosition:this._position,preference:f?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(f){return Se(this,void 0,void 0,function*(){const p=yield this._computeAsync(f);p&&this._onResult.fire(new r(p.result,p.foundInEditor))})}_computeAsync(f){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const p={range:f,color:{red:0,green:0,blue:0,alpha:1}},b=yield this._standaloneColorPickerParticipant.createColorHover(p,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return b?{result:b.colorHover,foundInEditor:b.foundInEditor}:null})}_render(f,p){const b=document.createDocumentFragment(),w=this._register(new D.EditorHoverStatusBar(this._keybindingService));let E;const I={fragment:b,statusBar:w,setColorPicker:x=>E=x,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=f,this._register(this._standaloneColorPickerParticipant.renderHoverParts(I,[f])),E===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(b),E.layout();const N=E.body,R=N.saturationBox.domNode.clientWidth,F=N.domNode.clientWidth-R-o-c,M=E.body.enterButton;M?.onClicked(()=>{this.updateEditor(),this.hide()});const A=E.header,T=A.pickedColorNode;T.style.width=R+c+"px";const O=A.originalColorNode;O.style.width=F+"px";const P=E.header.closeButton;P?.onClicked(()=>{this.hide()}),p&&(M&&(M.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(f.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=d,d.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=d=h=Ie([ge(3,y.IInstantiationService),ge(4,n.IModelService),ge(5,S.IKeybindingService),ge(6,_.ILanguageFeaturesService),ge(7,i.ILanguageConfigurationService)],d);class r{constructor(f,p){this.value=f,this.foundInEditor=p}}}),define(ee[884],te([1,0,16,643,883,22,30,200]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class m extends L.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:S.MenuId.CommandPalette}]})}runEditorCommand(s,n){var i;(i=y.StandaloneColorPickerController.get(n))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=m;class _ extends L.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(2,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(s,n){var i;(i=y.StandaloneColorPickerController.get(n))===null||i===void 0||i.hide()}}class v extends L.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(3,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(s,n){var i;(i=y.StandaloneColorPickerController.get(n))===null||i===void 0||i.insertColor()}}(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(v),(0,S.registerAction2)(m)}),define(ee[885],te([1,0,13,9,104,16,5,24,22,39,115,672,545,450]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let t=i=class{static get(l){return l.getContribution(i.ID)}constructor(l,c){this.editor=l,this.editorWorkerService=c,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(l,c){var o;(o=this.currentRequest)===null||o===void 0||o.cancel();const d=this.editor.getSelection(),r=this.editor.getModel();if(!r||!d)return;let g=d;if(g.startLineNumber!==g.endLineNumber)return;const f=new y.EditorState(this.editor,5),p=r.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,L.createCancelablePromise)(b=>this.editorWorkerService.navigateValueSet(p,g,c)),this.currentRequest.then(b=>{var w;if(!b||!b.range||!b.value||!f.validate(this.editor))return;const E=S.Range.lift(b.range);let I=b.range;const N=b.value.length-(g.endColumn-g.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+b.value.length},N>1&&(g=new m.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn+N-1));const R=new n.InPlaceReplaceCommand(E,g,b.value);this.editor.pushUndoStop(),this.editor.executeCommand(l,R),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:i.DECORATION}]),(w=this.decorationRemover)===null||w===void 0||w.cancel(),this.decorationRemover=(0,L.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=v.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=i=Ie([ge(1,C.IEditorWorkerService)],t);class a extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.localize(0,null),alias:"Replace with Previous Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(l,c){const o=t.get(c);return o?o.run(this.id,!1):Promise.resolve(void 0)}}class u extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.localize(1,null),alias:"Replace with Next Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(l,c){const o=t.get(c);return o?o.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(a),(0,D.registerEditorAction)(u)}),define(ee[255],te([1,0,7,13,26,2,10,27,5,39,8,453]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const s=v.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class n extends D.Disposable{constructor(a,u,h,l,c){super(),this.typeId=a,this.editor=u,this.range=h,this.delegate=c,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(l),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(a){this.domNode=L.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=a;const u=L.$("span.icon");this.domNode.append(u),u.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.loading),"codicon-modifier-spin");const h=()=>{const l=this.editor.getOption(65);this.domNode.style.height=`${l}px`,this.domNode.style.width=`${Math.ceil(.8*l)}px`};h(),this._register(this.editor.onDidChangeConfiguration(l=>{(l.hasChanged(51)||l.hasChanged(65))&&h()})),this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,l=>{this.delegate.cancel()}))}getId(){return n.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}n.baseId="editor.widget.inlineProgressWidget";let i=class extends D.Disposable{constructor(a,u,h){super(),this.id=a,this._editor=u,this._instantiationService=h,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=u.createDecorationsCollection()}showWhile(a,u,h){return Se(this,void 0,void 0,function*(){const l=this._operationIdPool++;this._currentOperation=l,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const c=_.Range.fromPositions(a);this._currentDecorations.set([{range:c,options:s}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(n,this.id,this._editor,c,u,h))},this._showDelay);try{return yield h}finally{this._currentOperation===l&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i,e.InlineProgressManager=i=Ie([ge(2,C.IInstantiationService)],i)}),define(ee[886],te([1,0,7,14,13,171,2,107,17,170,184,344,130,5,18,334,104,255,648,103,15,8,85,67,338]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new o.RawContextKey("pasteWidgetVisible",!1,(0,l.localize)(0,null));const b="application/vnd.code.copyMetadata";let w=p=class extends S.Disposable{static get(N){return N.getContribution(p.ID)}constructor(N,R,F,M,A,T,O){super(),this._bulkEditService=F,this._clipboardService=M,this._languageFeaturesService=A,this._quickInputService=T,this._progressService=O,this._editor=N;const P=N.getContainerDomNode();this._register((0,L.addDisposableListener)(P,"copy",x=>this.handleCopy(x))),this._register((0,L.addDisposableListener)(P,"cut",x=>this.handleCopy(x))),this._register((0,L.addDisposableListener)(P,"paste",x=>this.handlePaste(x),!0)),this._pasteProgressManager=this._register(new h.InlineProgressManager("pasteIntoEditor",N,R)),this._postPasteWidgetManager=this._register(R.createInstance(f.PostEditWidgetManager,"pasteIntoEditor",N,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,l.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(N){this._editor.focus();try{this._pasteAsActionContext={preferredId:N},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(83).enabled&&!this._editor.getOption(89)}handleCopy(N){var R,F;if(!this._editor.hasTextFocus()||(_.isWeb&&this._clipboardService.writeResources([]),!N.clipboardData||!this.isPasteAsEnabled()))return;const M=this._editor.getModel(),A=this._editor.getSelections();if(!M||!A?.length)return;const T=this._editor.getOption(36);let O=A;const P=A.length===1&&A[0].isEmpty();if(P){if(!T)return;O=[new i.Range(O[0].startLineNumber,1,O[0].startLineNumber,1+M.getLineLength(O[0].startLineNumber))]}const x=(R=this._editor._getViewModel())===null||R===void 0?void 0:R.getPlainTextToCopy(A,T,_.isWindows),q={multicursorText:Array.isArray(x)?x:null,pasteOnNewLine:P,mode:null},B=this._languageFeaturesService.documentPasteEditProvider.ordered(M).filter(Y=>!!Y.prepareDocumentPaste);if(!B.length){this.setCopyMetadata(N.clipboardData,{defaultPastePayload:q});return}const $=(0,s.toVSDataTransfer)(N.clipboardData),X=B.flatMap(Y=>{var U;return(U=Y.copyMimeTypes)!==null&&U!==void 0?U:[]}),ne=(0,v.generateUuid)();this.setCopyMetadata(N.clipboardData,{id:ne,providerCopyMimeTypes:X,defaultPastePayload:q});const oe=(0,y.createCancelablePromise)(Y=>Se(this,void 0,void 0,function*(){const U=(0,k.coalesce)(yield Promise.all(B.map(W=>Se(this,void 0,void 0,function*(){try{return yield W.prepareDocumentPaste(M,O,$,Y)}catch(V){console.error(V);return}}))));U.reverse();for(const W of U)for(const[V,Z]of W)$.replace(V,Z);return $}));(F=this._currentCopyOperation)===null||F===void 0||F.dataTransferPromise.cancel(),this._currentCopyOperation={handle:ne,dataTransferPromise:oe}}handlePaste(N){var R,F;return Se(this,void 0,void 0,function*(){if(!N.clipboardData||!this._editor.hasTextFocus())return;(R=this._currentPasteOperation)===null||R===void 0||R.cancel(),this._currentPasteOperation=void 0;const M=this._editor.getModel(),A=this._editor.getSelections();if(!A?.length||!M||!this.isPasteAsEnabled())return;const T=this.fetchCopyMetadata(N),O=(0,s.toExternalVSDataTransfer)(N.clipboardData);O.delete(b);const P=[...N.clipboardData.types,...(F=T?.providerCopyMimeTypes)!==null&&F!==void 0?F:[],m.Mimes.uriList],x=this._languageFeaturesService.documentPasteEditProvider.ordered(M).filter(z=>{var q;return(q=z.pasteMimeTypes)===null||q===void 0?void 0:q.some(B=>(0,D.matchesMimeType)(B,P))});x.length&&(N.preventDefault(),N.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,x,A,O,T):this.doPasteInline(x,A,O,T))})}doPasteInline(N,R,F,M){const A=(0,y.createCancelablePromise)(T=>Se(this,void 0,void 0,function*(){const O=this._editor;if(!O.hasModel())return;const P=O.getModel(),x=new u.EditorStateCancellationTokenSource(O,3,void 0,T);try{if(yield this.mergeInDataFromCopy(F,M,x.token),x.token.isCancellationRequested)return;const z=N.filter(B=>E(B,F));if(!z.length||z.length===1&&z[0].id==="text"){yield this.applyDefaultPasteHandler(F,M,x.token);return}const q=yield this.getPasteEdits(z,F,P,R,x.token);if(x.token.isCancellationRequested)return;if(q.length===1&&q[0].providerId==="text"){yield this.applyDefaultPasteHandler(F,M,x.token);return}if(q.length){const B=O.getOption(83).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(R,{activeEditIndex:0,allEdits:q},B,x.token)}yield this.applyDefaultPasteHandler(F,M,x.token)}finally{x.dispose(),this._currentPasteOperation===A&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(R[0].getEndPosition(),(0,l.localize)(2,null),A),this._currentPasteOperation=A}showPasteAsPick(N,R,F,M,A){const T=(0,y.createCancelablePromise)(O=>Se(this,void 0,void 0,function*(){const P=this._editor;if(!P.hasModel())return;const x=P.getModel(),z=new u.EditorStateCancellationTokenSource(P,3,void 0,O);try{if(yield this.mergeInDataFromCopy(M,A,z.token),z.token.isCancellationRequested)return;let q=R.filter(ne=>E(ne,M));N&&(q=q.filter(ne=>ne.id===N));const B=yield this.getPasteEdits(q,M,x,F,z.token);if(z.token.isCancellationRequested||!B.length)return;let $;if(N)$=B.at(0);else{const ne=yield this._quickInputService.pick(B.map(oe=>({label:oe.label,description:oe.providerId,detail:oe.detail,edit:oe})),{placeHolder:(0,l.localize)(3,null)});$=ne?.edit}if(!$)return;const X=(0,a.createCombinedWorkspaceEdit)(x.uri,F,$);yield this._bulkEditService.apply(X,{editor:this._editor})}finally{z.dispose(),this._currentPasteOperation===T&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,l.localize)(4,null)},()=>T)}setCopyMetadata(N,R){N.setData(b,JSON.stringify(R))}fetchCopyMetadata(N){var R;if(!N.clipboardData)return;const F=N.clipboardData.getData(b);if(F)try{return JSON.parse(F)}catch{return}const[M,A]=C.ClipboardEventUtils.getTextData(N.clipboardData);if(A)return{defaultPastePayload:{mode:A.mode,multicursorText:(R=A.multicursorText)!==null&&R!==void 0?R:null,pasteOnNewLine:!!A.isFromEmptySelection}}}mergeInDataFromCopy(N,R,F){var M;return Se(this,void 0,void 0,function*(){if(R?.id&&((M=this._currentCopyOperation)===null||M===void 0?void 0:M.handle)===R.id){const A=yield this._currentCopyOperation.dataTransferPromise;if(F.isCancellationRequested)return;for(const[T,O]of A)N.replace(T,O)}if(!N.has(m.Mimes.uriList)){const A=yield this._clipboardService.readResources();if(F.isCancellationRequested)return;A.length&&N.append(m.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(A)))}})}getPasteEdits(N,R,F,M,A){return Se(this,void 0,void 0,function*(){const T=yield(0,y.raceCancellation)(Promise.all(N.map(P=>Se(this,void 0,void 0,function*(){var x;try{const z=yield(x=P.provideDocumentPasteEdits)===null||x===void 0?void 0:x.call(P,F,M,R,A);if(z)return Object.assign(Object.assign({},z),{providerId:P.id})}catch(z){console.error(z)}}))),A),O=(0,k.coalesce)(T??[]);return(0,a.sortEditsByYieldTo)(O),O})}applyDefaultPasteHandler(N,R,F){var M,A,T;return Se(this,void 0,void 0,function*(){const O=(M=N.get(m.Mimes.text))!==null&&M!==void 0?M:N.get("text");if(!O)return;const P=yield O.asString();if(F.isCancellationRequested)return;const x={text:P,pasteOnNewLine:(A=R?.defaultPastePayload.pasteOnNewLine)!==null&&A!==void 0?A:!1,multicursorText:(T=R?.defaultPastePayload.multicursorText)!==null&&T!==void 0?T:null,mode:null};this._editor.trigger("keyboard","paste",x)})}};e.CopyPasteController=w,w.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=w=p=Ie([ge(1,d.IInstantiationService),ge(2,n.IBulkEditService),ge(3,c.IClipboardService),ge(4,t.ILanguageFeaturesService),ge(5,g.IQuickInputService),ge(6,r.IProgressService)],w);function E(I,N){var R;return!!(!((R=I.pasteMimeTypes)===null||R===void 0)&&R.some(F=>N.matches(F)))}}),define(ee[887],te([1,0,14,13,171,2,344,5,18,287,747,104,255,651,29,15,343,8,334,338]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new a.RawContextKey("dropWidgetVisible",!1,(0,i.localize)(0,null));let d=o=class extends D.Disposable{static get(g){return g.getContribution(o.ID)}constructor(g,f,p,b,w){super(),this._configService=p,this._languageFeaturesService=b,this._treeViewsDragAndDropService=w,this.treeItemsTransfer=u.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(f.createInstance(n.InlineProgressManager,"dropIntoEditor",g)),this._postDropWidgetManager=this._register(f.createInstance(c.PostEditWidgetManager,"dropIntoEditor",g,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,i.localize)(1,null)})),this._register(g.onDropIntoEditor(E=>this.onDropIntoEditor(g,E.position,E.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(g,f,p){var b;return Se(this,void 0,void 0,function*(){if(!p.dataTransfer||!g.hasModel())return;(b=this._currentOperation)===null||b===void 0||b.cancel(),g.focus(),g.setPosition(f);const w=(0,k.createCancelablePromise)(E=>Se(this,void 0,void 0,function*(){const I=new s.EditorStateCancellationTokenSource(g,1,void 0,E);try{const N=yield this.extractDataTransferData(p);if(N.size===0||I.token.isCancellationRequested)return;const R=g.getModel();if(!R)return;const F=this._languageFeaturesService.documentOnDropEditProvider.ordered(R).filter(A=>A.dropMimeTypes?A.dropMimeTypes.some(T=>N.matches(T)):!0),M=yield this.getDropEdits(F,R,f,N,I);if(I.token.isCancellationRequested)return;if(M.length){const A=this.getInitialActiveEditIndex(R,M),T=g.getOption(35).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([m.Range.fromPositions(f)],{activeEditIndex:A,allEdits:M},T,E)}}finally{I.dispose(),this._currentOperation===w&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(f,(0,i.localize)(2,null),w),this._currentOperation=w})}getDropEdits(g,f,p,b,w){return Se(this,void 0,void 0,function*(){const E=yield(0,k.raceCancellation)(Promise.all(g.map(N=>Se(this,void 0,void 0,function*(){try{const R=yield N.provideDocumentOnDropEdits(f,p,b,w.token);if(R)return Object.assign(Object.assign({},R),{providerId:N.id})}catch(R){console.error(R)}}))),w.token),I=(0,L.coalesce)(E??[]);return(0,l.sortEditsByYieldTo)(I)})}getInitialActiveEditIndex(g,f){const p=this._configService.getValue(e.defaultProviderConfig,{resource:g.uri});for(const[b,w]of Object.entries(p)){const E=f.findIndex(I=>w===I.providerId&&I.handledMimeType&&(0,y.matchesMimeType)(b,[I.handledMimeType]));if(E>=0)return E}return 0}extractDataTransferData(g){return Se(this,void 0,void 0,function*(){if(!g.dataTransfer)return new y.VSDataTransfer;const f=(0,S.toExternalVSDataTransfer)(g.dataTransfer);if(this.treeItemsTransfer.hasData(v.DraggedTreeItemsIdentifier.prototype)){const p=this.treeItemsTransfer.getData(v.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(p))for(const b of p){const w=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(b.identifier);if(w)for(const[E,I]of w)f.replace(E,I)}}return f})}};e.DropIntoEditorController=d,d.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=d=o=Ie([ge(1,h.IInstantiationService),ge(2,t.IConfigurationService),ge(3,_.ILanguageFeaturesService),ge(4,C.ITreeViewsDnDService)],d)}),define(ee[888],te([1,0,14,13,19,36,9,6,2,10,21,16,33,12,5,22,39,31,682,15,18,32,73,58,454]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new c.RawContextKey("LinkedEditingInputVisible",!1);const p="linked-editing-decoration";let b=f=class extends _.Disposable{static get(R){return R.getContribution(f.ID)}constructor(R,F,M,A,T){super(),this.languageConfigurationService=A,this._syncRangesToken=0,this._localToDispose=this._register(new _.DisposableStore),this._editor=R,this._providers=M.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(F),this._debounceInformation=T.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new _.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(O=>{(O.hasChanged(68)||O.hasChanged(91))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(R){const F=this._editor.getModel(),M=F!==null&&(this._editor.getOption(68)||this._editor.getOption(91))&&this._providers.has(F);if(M===this._enabled&&!R||(this._enabled=M,this.clearRanges(),this._localToDispose.clear(),!M||F===null))return;this._localToDispose.add(m.Event.runAndSubscribe(F.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition()}));const A=new k.Delayer(this._debounceInformation.get(F)),T=()=>{var x;this._rangeUpdateTriggerPromise=A.trigger(()=>this.updateRanges(),(x=this._debounceDuration)!==null&&x!==void 0?x:this._debounceInformation.get(F))},O=new k.Delayer(0),P=x=>{this._rangeSyncTriggerPromise=O.trigger(()=>this._syncRanges(x))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{T()})),this._localToDispose.add(this._editor.onDidChangeModelContent(x=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const z=this._currentDecorations.getRange(0);if(z&&x.changes.every(q=>z.intersectRanges(q.range))){P(this._syncRangesToken);return}}T()})),this._localToDispose.add({dispose:()=>{A.dispose(),O.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._syncRangesToken||this._currentDecorations.length===0)return;const F=this._editor.getModel(),M=this._currentDecorations.getRange(0);if(!M||M.startLineNumber!==M.endLineNumber)return this.clearRanges();const A=F.getValueInRange(M);if(this._currentWordPattern){const O=A.match(this._currentWordPattern);if((O?O[0].length:0)!==A.length)return this.clearRanges()}const T=[];for(let O=1,P=this._currentDecorations.length;O<P;O++){const x=this._currentDecorations.getRange(O);if(x)if(x.startLineNumber!==x.endLineNumber)T.push({range:x,text:A});else{let z=F.getValueInRange(x),q=A,B=x.startColumn,$=x.endColumn;const X=v.commonPrefixLength(z,q);B+=X,z=z.substr(X),q=q.substr(X);const ne=v.commonSuffixLength(z,q);$-=ne,z=z.substr(0,z.length-ne),q=q.substr(0,q.length-ne),(B!==$||q.length!==0)&&T.push({range:new t.Range(x.startLineNumber,B,x.endLineNumber,$),text:q})}}if(T.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const O=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",T),this._editor._getViewModel().setPrevEditOperationType(O)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const F=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1){this.clearRanges();return}const M=this._editor.getModel(),A=M.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===A){if(F.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const O=this._currentDecorations.getRange(0);if(O&&O.containsPosition(F))return}}this.clearRanges(),this._currentRequestPosition=F,this._currentRequestModelVersion=A;const T=(0,k.createCancelablePromise)(O=>Se(this,void 0,void 0,function*(){try{const P=new g.StopWatch(!1),x=yield I(this._providers,M,F,O);if(this._debounceInformation.update(M,P.elapsed()),T!==this._currentRequest||(this._currentRequest=null,A!==M.getVersionId()))return;let z=[];x?.ranges&&(z=x.ranges),this._currentWordPattern=x?.wordPattern||this._languageWordPattern;let q=!1;for(let $=0,X=z.length;$<X;$++)if(t.Range.containsPosition(z[$],F)){if(q=!0,$!==0){const ne=z[$];z.splice($,1),z.unshift(ne)}break}if(!q){this.clearRanges();return}const B=z.map($=>({range:$,options:f.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(B),this._syncRangesToken++}catch(P){(0,S.isCancellationError)(P)||(0,S.onUnexpectedError)(P),(this._currentRequest===T||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=T,T})}};e.LinkedEditingContribution=b,b.ID="editor.contrib.linkedEditing",b.DECORATION=u.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:p}),e.LinkedEditingContribution=b=f=Ie([ge(1,c.IContextKeyService),ge(2,o.ILanguageFeaturesService),ge(3,h.ILanguageConfigurationService),ge(4,r.ILanguageFeatureDebounceService)],b);class w extends s.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:l.localize(0,null),alias:"Start Linked Editing",precondition:c.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(R,F){const M=R.get(n.ICodeEditorService),[A,T]=Array.isArray(F)&&F||[void 0,void 0];return C.URI.isUri(A)&&i.Position.isIPosition(T)?M.openCodeEditor({resource:A},M.getActiveCodeEditor()).then(O=>{O&&(O.setPosition(T),O.invokeWithinContext(P=>(this.reportTelemetry(P,O),this.run(P,O))))},S.onUnexpectedError):super.runCommand(R,F)}run(R,F){const M=b.get(F);return M?Promise.resolve(M.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=w;const E=s.EditorCommand.bindToContribution(b.get);(0,s.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:N=>N.clearRanges(),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function I(N,R,F,M){const A=N.ordered(R);return(0,k.first)(A.map(T=>()=>Se(this,void 0,void 0,function*(){try{return yield T.provideLinkedEditingRanges(R,F,M)}catch(O){(0,S.onUnexpectedExternalError)(O);return}})),T=>!!T&&L.isNonEmptyArray(T?.ranges))}e.editorLinkedEditingBackground=(0,d.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},l.localize(1,null)),(0,s.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(N,R,F)=>{const{linkedEditingRangeProvider:M}=N.get(o.ILanguageFeaturesService);return I(M,R,F,y.CancellationToken.None)}),(0,s.registerEditorContribution)(b.ID,b,1),(0,s.registerEditorAction)(w)}),define(ee[889],te([1,0,13,19,9,56,2,54,17,44,58,21,16,39,73,18,185,749,683,46,55,455]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let r=d=class extends S.Disposable{static get(E){return E.getContribution(d.ID)}constructor(E,I,N,R,F){super(),this.editor=E,this.openerService=I,this.notificationService=N,this.languageFeaturesService=R,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=F.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new L.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const M=this._register(new u.ClickLinkGesture(E));this._register(M.onMouseMoveOrRelevantKeyDown(([A,T])=>{this._onEditorMouseMove(A,T)})),this._register(M.onExecute(A=>{this.onEditorMouseUp(A)})),this._register(M.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this._register(E.onDidChangeConfiguration(A=>{A.hasChanged(69)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(E.onDidChangeModelContent(A=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(E.onDidChangeModel(A=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(E.onDidChangeModelLanguage(A=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(A=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return Se(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(69))return;const E=this.editor.getModel();if(this.providers.has(E)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,L.createCancelablePromise)(I=>(0,h.getLinks)(this.providers,E,I));try{const I=new C.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(E,I.elapsed()),E.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,y.onUnexpectedError)(I)}finally{this.computePromise=null}}})}updateDecorations(E){const I=this.editor.getOption(76)==="altKey",N=[],R=Object.keys(this.currentOccurrences);for(const M of R){const A=this.currentOccurrences[M];N.push(A.decorationId)}const F=[];if(E)for(const M of E)F.push(f.decoration(M,I));this.editor.changeDecorations(M=>{const A=M.deltaDecorations(N,F);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let T=0,O=A.length;T<O;T++){const P=new f(E[T],A[T]);this.currentOccurrences[P.decorationId]=P}})}_onEditorMouseMove(E,I){const N=this.editor.getOption(76)==="altKey";if(this.isEnabled(E,I)){this.cleanUpActiveLinkDecoration();const R=this.getLinkOccurrence(E.target.position);R&&this.editor.changeDecorations(F=>{R.activate(F,N),this.activeLinkDecorationId=R.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const E=this.editor.getOption(76)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(N=>{I.deactivate(N,E)}),this.activeLinkDecorationId=null}}onEditorMouseUp(E){if(!this.isEnabled(E))return;const I=this.getLinkOccurrence(E.target.position);I&&this.openLinkOccurrence(I,E.hasSideBySideModifier,!0)}openLinkOccurrence(E,I,N=!1){if(!this.openerService)return;const{link:R}=E;R.resolve(k.CancellationToken.None).then(F=>{if(typeof F=="string"&&this.editor.hasModel()){const M=this.editor.getModel().uri;if(M.scheme===m.Schemas.file&&F.startsWith(`${m.Schemas.file}:`)){const A=s.URI.parse(F);if(A.scheme===m.Schemas.file){const T=v.originalFSPath(A);let O=null;T.startsWith("/./")?O=`.${T.substr(1)}`:T.startsWith("//./")&&(O=`.${T.substr(2)}`),O&&(F=v.joinPath(M,O))}}}return this.openerService.open(F,{openToSide:I,fromUserGesture:N,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},F=>{const M=F instanceof Error?F.message:F;M==="invalid"?this.notificationService.warn(l.localize(0,null,R.url.toString())):M==="missing"?this.notificationService.warn(l.localize(1,null)):(0,y.onUnexpectedError)(F)})}getLinkOccurrence(E){if(!this.editor.hasModel()||!E)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:E.lineNumber,endColumn:E.column},0,!0);for(const N of I){const R=this.currentOccurrences[N.id];if(R)return R}return null}isEnabled(E,I){return!!(E.target.type===6&&(E.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var E;this.computeLinks.cancel(),this.activeLinksList&&((E=this.activeLinksList)===null||E===void 0||E.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=r,r.ID="editor.linkDetector",e.LinkDetector=r=d=Ie([ge(1,o.IOpenerService),ge(2,c.INotificationService),ge(3,a.ILanguageFeaturesService),ge(4,t.ILanguageFeatureDebounceService)],r);const g={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class f{static decoration(E,I){return{range:E.range,options:f._getOptions(E,I,!1)}}static _getOptions(E,I,N){const R=Object.assign({},N?g.active:g.general);return R.hoverMessage=p(E,I),R}constructor(E,I){this.link=E,this.decorationId=I}activate(E,I){E.changeDecorationOptions(this.decorationId,f._getOptions(this.link,I,!0))}deactivate(E,I){E.changeDecorationOptions(this.decorationId,f._getOptions(this.link,I,!1))}}function p(w,E){const I=w.url&&/^command:/i.test(w.url.toString()),N=w.tooltip?w.tooltip:I?l.localize(2,null):l.localize(3,null),R=E?_.isMacintosh?l.localize(4,null):l.localize(5,null):_.isMacintosh?l.localize(6,null):l.localize(7,null);if(w.url){let F="";if(/^command:/i.test(w.url.toString())){const A=w.url.toString().match(/^command:([^?#]+)/);if(A){const T=A[1];F=l.localize(8,null,T)}}return new D.MarkdownString("",!0).appendLink(w.url.toString(!0).replace(/ /g,"%20"),N,F).appendMarkdown(` (${R})`)}else return new D.MarkdownString().appendText(`${N} (${R})`)}class b extends n.EditorAction{constructor(){super({id:"editor.action.openLink",label:l.localize(9,null),alias:"Open Link",precondition:void 0})}run(E,I){const N=r.get(I);if(!N||!I.hasModel())return;const R=I.getSelections();for(const F of R){const M=N.getLinkOccurrence(F.getEndPosition());M&&N.openLinkOccurrence(M,!1)}}}(0,n.registerEditorContribution)(r.ID,r,1),(0,n.registerEditorAction)(b)}),define(ee[890],te([1,0,2,18,188,13,254,296,295,31,9,302,47]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var i;(function(d){d.OUTLINE_MODEL="outlineModel",d.FOLDING_PROVIDER_MODEL="foldingProviderModel",d.INDENTATION_MODEL="indentationModel"})(i||(i={}));var t;(function(d){d[d.VALID=0]="VALID",d[d.INVALID=1]="INVALID",d[d.CANCELED=2]="CANCELED"})(t||(t={}));let a=class extends L.Disposable{constructor(r,g,f,p){super(),this._editor=r,this._languageConfigurationService=g,this._languageFeaturesService=f,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new D.Delayer(300)),this._updateOperation=this._register(new L.DisposableStore);const b=new h(f),w=new o(this._editor,f),E=new c(this._editor,g);switch(p){case i.OUTLINE_MODEL:this._modelProviders.push(b),this._modelProviders.push(w),this._modelProviders.push(E);break;case i.FOLDING_PROVIDER_MODEL:this._modelProviders.push(w),this._modelProviders.push(E);break;case i.INDENTATION_MODEL:this._modelProviders.push(E);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(r,g,f){return Se(this,void 0,void 0,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>Se(this,void 0,void 0,function*(){for(const p of this._modelProviders){const{statusPromise:b,modelPromise:w}=p.computeStickyModel(r,g,f);this._modelPromise=w;const E=yield b;if(this._modelPromise!==w)return null;switch(E){case t.CANCELED:return this._updateOperation.clear(),null;case t.VALID:return p.stickyModel}}return null})).catch(p=>((0,C.onUnexpectedError)(p),null))})}};e.StickyModelProvider=a,e.StickyModelProvider=a=Ie([ge(1,v.ILanguageConfigurationService),ge(2,k.ILanguageFeaturesService)],a);class u{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,t.INVALID}computeStickyModel(r,g,f){if(f.isCancellationRequested||!this.isProviderValid(r))return{statusPromise:this._invalid(),modelPromise:null};const p=(0,D.createCancelablePromise)(b=>this.createModelFromProvider(r,g,b));return{statusPromise:p.then(b=>this.isModelValid(b)?f.isCancellationRequested?t.CANCELED:(this._stickyModel=this.createStickyModel(r,g,f,b),t.VALID):this._invalid()).then(void 0,b=>((0,C.onUnexpectedError)(b),t.CANCELED)),modelPromise:p}}isModelValid(r){return!0}isProviderValid(r){return!0}}let h=class extends u{constructor(r){super(),this._languageFeaturesService=r}createModelFromProvider(r,g,f){return y.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,r,f)}createStickyModel(r,g,f,p){var b;const{stickyOutlineElement:w,providerID:E}=this._stickyModelFromOutlineModel(p,(b=this._stickyModel)===null||b===void 0?void 0:b.outlineProviderId);return new s.StickyModel(r.uri,g,w,E)}isModelValid(r){return r&&r.children.size>0}_stickyModelFromOutlineModel(r,g){let f;if(n.Iterable.first(r.children.values())instanceof y.OutlineGroup){const E=n.Iterable.find(r.children.values(),I=>I.id===g);if(E)f=E.children;else{let I="",N=-1,R;for(const[F,M]of r.children.entries()){const A=this._findSumOfRangesOfGroup(M);A>N&&(R=M,N=A,I=M.id)}g=I,f=R.children}}else f=r.children;const p=[],b=Array.from(f.values()).sort((E,I)=>{const N=new s.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),R=new s.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber);return this._comparator(N,R)});for(const E of b)p.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new s.StickyElement(void 0,p,void 0),providerID:g}}_stickyModelFromOutlineElement(r,g){const f=[];for(const b of r.children.values())if(b.symbol.selectionRange.startLineNumber!==b.symbol.range.endLineNumber)if(b.symbol.selectionRange.startLineNumber!==g)f.push(this._stickyModelFromOutlineElement(b,b.symbol.selectionRange.startLineNumber));else for(const w of b.children.values())f.push(this._stickyModelFromOutlineElement(w,b.symbol.selectionRange.startLineNumber));f.sort((b,w)=>this._comparator(b.range,w.range));const p=new s.StickyRange(r.symbol.selectionRange.startLineNumber,r.symbol.range.endLineNumber);return new s.StickyElement(p,f,void 0)}_comparator(r,g){return r.startLineNumber!==g.startLineNumber?r.startLineNumber-g.startLineNumber:g.endLineNumber-r.endLineNumber}_findSumOfRangesOfGroup(r){let g=0;for(const f of r.children.values())g+=this._findSumOfRangesOfGroup(f);return r instanceof y.OutlineElement?g+r.symbol.range.endLineNumber-r.symbol.selectionRange.startLineNumber:g}};h=Ie([ge(0,k.ILanguageFeaturesService)],h);class l extends u{constructor(r){super(),this._foldingLimitReporter=new S.RangesLimitReporter(r)}createStickyModel(r,g,f,p){const b=this._fromFoldingRegions(p);return new s.StickyModel(r.uri,g,b,void 0)}isModelValid(r){return r!==null}_fromFoldingRegions(r){const g=r.length,f=[],p=new s.StickyElement(void 0,[],void 0);for(let b=0;b<g;b++){const w=r.getParentIndex(b);let E;w!==-1?E=f[w]:E=p;const I=new s.StickyElement(new s.StickyRange(r.getStartLineNumber(b),r.getEndLineNumber(b)+1),[],E);E.children.push(I),f.push(I)}return p}}let c=class extends l{constructor(r,g){super(r),this._languageConfigurationService=g}createModelFromProvider(r,g,f){return new _.IndentRangeProvider(r,this._languageConfigurationService,this._foldingLimitReporter).compute(f)}};c=Ie([ge(1,v.ILanguageConfigurationService)],c);let o=class extends l{constructor(r,g){super(r),this._languageFeaturesService=g}isProviderValid(r){return S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,r).length>0}createModelFromProvider(r,g,f){const p=S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,r);return new m.SyntaxRangeProvider(r,p,()=>this.createModelFromProvider(r,g,f),this._foldingLimitReporter,void 0).compute(f)}};o=Ie([ge(1,k.ILanguageFeaturesService)],o)}),define(ee[891],te([1,0,2,18,19,13,14,6,31,890]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class C{constructor(i,t,a){this.startLineNumber=i,this.endLineNumber=t,this.nestingDepth=a}}e.StickyLineCandidate=C;let s=class extends L.Disposable{constructor(i,t,a){super(),this._languageFeaturesService=t,this._languageConfigurationService=a,this._onDidChangeStickyScroll=this._register(new m.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=i,this._sessionStore=this._register(new L.DisposableStore),this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(113)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(113),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new v.StickyModelProvider(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var i;return(i=this._model)===null||i===void 0?void 0:i.version}update(){var i;return Se(this,void 0,void 0,function*(){(i=this._cts)===null||i===void 0||i.dispose(!0),this._cts=new y.CancellationTokenSource,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(i){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider){this._model=null;return}const t=this._editor.getModel(),a=t.getVersionId(),u=yield this._stickyModelProvider.update(t,a,i);i.isCancellationRequested||(this._model=u)})}updateIndex(i){return i===-1?i=0:i<0&&(i=-i-2),i}getCandidateStickyLinesIntersectingFromStickyModel(i,t,a,u,h){if(t.children.length===0)return;let l=h;const c=[];for(let r=0;r<t.children.length;r++){const g=t.children[r];g.range&&c.push(g.range.startLineNumber)}const o=this.updateIndex((0,S.binarySearch)(c,i.startLineNumber,(r,g)=>r-g)),d=this.updateIndex((0,S.binarySearch)(c,i.startLineNumber+u,(r,g)=>r-g));for(let r=o;r<=d;r++){const g=t.children[r];if(!g)return;if(g.range){const f=g.range.startLineNumber,p=g.range.endLineNumber;i.startLineNumber<=p+1&&f-1<=i.endLineNumber&&f!==l&&(l=f,a.push(new C(f,p-1,u+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,a,u+1,f))}else this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,a,u,h)}}getCandidateStickyLinesIntersecting(i){var t,a;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let u=[];this.getCandidateStickyLinesIntersectingFromStickyModel(i,this._model.element,u,0,-1);const h=(a=this._editor._getViewModel())===null||a===void 0?void 0:a.getHiddenAreas();if(h)for(const l of h)u=u.filter(c=>!(c.startLineNumber>=l.startLineNumber&&c.endLineNumber<=l.endLineNumber+1));return u}};e.StickyLineCandidateProvider=s,e.StickyLineCandidateProvider=s=Ie([ge(1,k.ILanguageFeaturesService),ge(2,_.ILanguageConfigurationService)],s)}),define(ee[892],te([1,0,7,89,2,27,251,161,12,102,149,114,254,369,294,462]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class a{constructor(r,g,f,p=null){this.startLineNumbers=r,this.endLineNumbers=g,this.lastLineRelativePosition=f,this.showEndForLine=p}}e.StickyScrollWidgetState=a;const u=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:d=>d}),h="data-sticky-line-index";class l extends y.Disposable{constructor(r){super(),this._editor=r,this._foldingIconStore=new y.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(65),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",r instanceof m.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const g=()=>{this._linesDomNode.style.left=this._editor.getOption(113).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(f=>{f.hasChanged(113)&&g(),f.hasChanged(65)&&(this._lineHeight=this._editor.getOption(65))})),this._register(this._editor.onDidScrollChange(f=>{f.scrollLeftChanged&&g(),f.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{g(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),g(),this._register(this._editor.onDidLayoutChange(f=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getCurrentLines(){return this._lineNumbers}setState(r){if(this._clearStickyWidget(),!r||!this._editor._getViewModel())return;if(r.startLineNumbers.length*this._lineHeight+r.lastLineRelativePosition>0){this._lastLineRelativePosition=r.lastLineRelativePosition;const f=[...r.startLineNumbers];r.showEndForLine!==null&&(f[r.showEndForLine]=r.endLineNumbers[r.showEndForLine]),this._lineNumbers=f}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode()}_updateWidgetWidth(){const r=this._editor.getLayoutInfo(),f=this._editor.getOption(71).side==="left"?r.contentLeft-r.minimap.minimapCanvasOuterWidth:r.contentLeft;this._lineNumbersDomNode.style.width=`${f}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-r.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${r.width-r.minimap.minimapCanvasOuterWidth-r.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),L.clearNode(this._lineNumbersDomNode),L.clearNode(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(r){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${r?.5:0}s`)}_setFoldingIconsVisibility(r){for(const g of this._stickyLines){const f=g.foldingIcon;f&&f.setVisible(r?!0:f.isCollapsed)}}_renderRootNode(){var r;return Se(this,void 0,void 0,function*(){const g=yield(r=n.FoldingController.get(this._editor))===null||r===void 0?void 0:r.getFoldingModel(),f=this._editor.getLayoutInfo();for(const[w,E]of this._lineNumbers.entries()){const I=this._renderChildNode(w,E,f,g);this._linesDomNode.appendChild(I.lineDomNode),this._lineNumbersDomNode.appendChild(I.lineNumberDomNode),this._stickyLines.push(I)}g&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const p=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(p===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${p}px`,this._linesDomNodeScrollable.style.height=`${p}px`,this._rootDomNode.style.height=`${p}px`,this._editor.getOption(71).side==="left"?this._rootDomNode.style.marginLeft=f.minimap.minimapCanvasOuterWidth+"px":this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(108)==="mouseover"&&(this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_ENTER,g=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(r,g,f,p){const b=this._editor._getViewModel(),w=b.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(g,1)).lineNumber,E=b.getViewLineRenderingData(w),I=this._editor.getOption(71).side,N=this._editor.getOption(66);let R;try{R=C.LineDecoration.filter(E.inlineDecorations,w,E.minColumn,E.maxColumn)}catch{R=[]}const F=new s.RenderLineInput(!0,!0,E.content,E.continuesWithWrappedLine,E.isBasicASCII,E.containsRTL,0,E.tokens,R,E.tabSize,E.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new v.StringBuilder(2e3),A=(0,s.renderViewLine)(F,M);let T;u?T=u.createHTML(M.build()):T=M.build();const O=document.createElement("span");O.className="sticky-line-content",O.classList.add(`stickyLine${g}`),O.style.lineHeight=`${this._lineHeight}px`,O.innerHTML=T;const P=document.createElement("span");P.className="sticky-line-number",P.style.lineHeight=`${this._lineHeight}px`;const x=I==="left"?f.contentLeft-f.minimap.minimapCanvasOuterWidth:f.contentLeft;P.style.width=`${x}px`;const z=document.createElement("span");N.renderType===1||N.renderType===3&&g%10===0?z.innerText=g.toString():N.renderType===2&&(z.innerText=Math.abs(g-this._editor.getPosition().lineNumber).toString()),z.className="sticky-line-number-inner",z.style.lineHeight=`${this._lineHeight}px`,z.style.width=`${f.lineNumbersWidth}px`,z.style.float="left",I==="left"?z.style.paddingLeft=`${f.lineNumbersLeft-f.minimap.minimapCanvasOuterWidth}px`:I==="right"&&(z.style.paddingLeft=`${f.lineNumbersLeft}px`),P.appendChild(z);const q=this._renderFoldingIconForLine(P,p,r,g);this._editor.applyFontInfo(O),this._editor.applyFontInfo(z),O.setAttribute("role","listitem"),O.setAttribute(h,String(r)),O.tabIndex=0,P.style.lineHeight=`${this._lineHeight}px`,O.style.lineHeight=`${this._lineHeight}px`,P.style.height=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`;const B=r===this._lineNumbers.length-1,$="0",X="1";O.style.zIndex=B?$:X,P.style.zIndex=B?$:X;const ne=`${r*this._lineHeight+this._lastLineRelativePosition+(q?.isCollapsed?1:0)}px`,oe=`${r*this._lineHeight}px`;return O.style.top=B?ne:oe,P.style.top=B?ne:oe,new c(g,O,P,q,A.characterMapping)}_renderFoldingIconForLine(r,g,f,p){const b=this._editor.getOption(108);if(!g||b==="never")return;const w=g.regions,E=w.findRange(p),I=w.getStartLineNumber(E);if(!(p===I))return;const R=w.isCollapsed(E),F=new o(R,this._lineHeight);return r.append(F.domNode),F.setVisible(this._isOnGlyphMargin?!0:R||b==="always"),this._foldingIconStore.add(L.addDisposableListener(F.domNode,L.EventType.CLICK,()=>{(0,t.toggleCollapseState)(g,Number.MAX_VALUE,[p]),F.isCollapsed=!R;const M=(R?this._editor.getTopForLineNumber(I):this._editor.getTopForLineNumber(w.getEndLineNumber(E)))-this._lineHeight*f+1;this._editor.setScrollTop(M)})),F}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const r of this._stickyLines)r.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=r.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(r){0<=r&&r<this._stickyLines.length&&this._stickyLines[r].lineDomNode.focus()}getEditorPositionFromNode(r){if(!r||r.children.length>0)return null;const g=this._getRenderedStickyLineFromChildDomNode(r);if(!g)return null;const f=(0,S.getColumnOfNodeOffset)(g.characterMapping,r,0);return new _.Position(g.lineNumber,f)}getLineNumberFromChildDomNode(r){var g,f;return(f=(g=this._getRenderedStickyLineFromChildDomNode(r))===null||g===void 0?void 0:g.lineNumber)!==null&&f!==void 0?f:null}_getRenderedStickyLineFromChildDomNode(r){const g=this.getStickyLineIndexFromChildDomNode(r);return g===null||g<0||g>=this._stickyLines.length?null:this._stickyLines[g]}getStickyLineIndexFromChildDomNode(r){for(;r&&r!==this._rootDomNode;){const g=r.getAttribute(h);if(g)return parseInt(g,10);r=r.parentElement}return null}}e.StickyScrollWidget=l;class c{constructor(r,g,f,p,b){this.lineNumber=r,this.lineDomNode=g,this.lineNumberDomNode=f,this.foldingIcon=p,this.characterMapping=b}}class o{constructor(r,g){this.isCollapsed=r,this.dimension=g,this.domNode=document.createElement("div"),this.domNode.style.width=`${g}px`,this.domNode.style.height=`${g}px`,this.domNode.className=D.ThemeIcon.asClassName(r?i.foldingCollapsedIcon:i.foldingExpandedIcon)}setVisible(r){this.domNode.style.cursor=r?"pointer":"default",this.domNode.style.opacity=r?"1":"0"}}}),define(ee[893],te([1,0,7,113,13,9,6,2,139,10,161,866,700,15,8,87,32,88,23,224,133,347,861,105,49,172,463,249]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,u.registerColor)("editorSuggestWidget.background",{dark:u.editorWidgetBackground,light:u.editorWidgetBackground,hcDark:u.editorWidgetBackground,hcLight:u.editorWidgetBackground},n.localize(0,null)),(0,u.registerColor)("editorSuggestWidget.border",{dark:u.editorWidgetBorder,light:u.editorWidgetBorder,hcDark:u.editorWidgetBorder,hcLight:u.editorWidgetBorder},n.localize(1,null));const b=(0,u.registerColor)("editorSuggestWidget.foreground",{dark:u.editorForeground,light:u.editorForeground,hcDark:u.editorForeground,hcLight:u.editorForeground},n.localize(2,null));(0,u.registerColor)("editorSuggestWidget.selectedForeground",{dark:u.quickInputListFocusForeground,light:u.quickInputListFocusForeground,hcDark:u.quickInputListFocusForeground,hcLight:u.quickInputListFocusForeground},n.localize(3,null)),(0,u.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:u.quickInputListFocusIconForeground,light:u.quickInputListFocusIconForeground,hcDark:u.quickInputListFocusIconForeground,hcLight:u.quickInputListFocusIconForeground},n.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,u.registerColor)("editorSuggestWidget.selectedBackground",{dark:u.quickInputListFocusBackground,light:u.quickInputListFocusBackground,hcDark:u.quickInputListFocusBackground,hcLight:u.quickInputListFocusBackground},n.localize(5,null)),(0,u.registerColor)("editorSuggestWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hcDark:u.listHighlightForeground,hcLight:u.listHighlightForeground},n.localize(6,null)),(0,u.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:u.listFocusHighlightForeground,light:u.listFocusHighlightForeground,hcDark:u.listFocusHighlightForeground,hcLight:u.listFocusHighlightForeground},n.localize(7,null)),(0,u.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,u.transparent)(b,.5),light:(0,u.transparent)(b,.5),hcDark:(0,u.transparent)(b,.5),hcLight:(0,u.transparent)(b,.5)},n.localize(8,null));class w{constructor(R,F){this._service=R,this._key=`suggestWidget.size/${F.getEditorType()}/${F instanceof C.EmbeddedCodeEditorWidget}`}restore(){var R;const F=(R=this._service.get(this._key,0))!==null&&R!==void 0?R:"";try{const M=JSON.parse(F);if(L.Dimension.is(M))return L.Dimension.lift(M)}catch{}}store(R){this._service.store(this._key,JSON.stringify(R),0,1)}reset(){this._service.remove(this._key,0)}}let E=p=class{constructor(R,F,M,A,T){this.editor=R,this._storageService=F,this._state=0,this._isAuto=!1,this._pendingLayout=new m.MutableDisposable,this._pendingShowDetails=new m.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new y.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new S.PauseableEmitter,this._onDidFocus=new S.PauseableEmitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new c.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new I(this,R),this._persistedSize=new w(F,R);class O{constructor(X,ne,oe=!1,Y=!1){this.persistedSize=X,this.currentSize=ne,this.persistHeight=oe,this.persistWidth=Y}}let P;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),P=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize($=>{var X,ne,oe,Y;if(this._resize($.dimension.width,$.dimension.height),P&&(P.persistHeight=P.persistHeight||!!$.north||!!$.south,P.persistWidth=P.persistWidth||!!$.east||!!$.west),!!$.done){if(P){const{itemHeight:U,defaultSize:W}=this.getLayoutInfo(),V=Math.round(U/2);let{width:Z,height:ie}=this.element.size;(!P.persistHeight||Math.abs(P.currentSize.height-ie)<=V)&&(ie=(ne=(X=P.persistedSize)===null||X===void 0?void 0:X.height)!==null&&ne!==void 0?ne:W.height),(!P.persistWidth||Math.abs(P.currentSize.width-Z)<=V)&&(Z=(Y=(oe=P.persistedSize)===null||oe===void 0?void 0:oe.width)!==null&&Y!==void 0?Y:W.width),this._persistedSize.store(new L.Dimension(Z,ie))}this._contentWidget.unlockPreference(),P=void 0}})),this._messageElement=L.append(this.element.domNode,L.$(".message")),this._listElement=L.append(this.element.domNode,L.$(".tree"));const x=this._disposables.add(T.createInstance(d.SuggestDetailsWidget,this.editor));x.onDidClose(this.toggleDetails,this,this._disposables),this._details=new d.SuggestDetailsOverlay(x,this.editor);const z=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(116).showIcons);z();const q=T.createInstance(r.ItemRenderer,this.editor);this._disposables.add(q),this._disposables.add(q.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:$=>this.getLayoutInfo().itemHeight,getTemplateId:$=>"suggestion"},[q],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>n.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:$=>{let X=$.textLabel;if(typeof $.completion.label!="string"){const{detail:U,description:W}=$.completion.label;U&&W?X=n.localize(12,null,X,U,W):U?X=n.localize(13,null,X,U):W&&(X=n.localize(14,null,X,W))}if(!$.isResolved||!this._isDetailsVisible())return X;const{documentation:ne,detail:oe}=$.completion,Y=v.format("{0}{1}",oe||"",ne?typeof ne=="string"?ne:ne.value:"");return n.localize(15,null,X,Y)}}}),this._list.style((0,g.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:u.activeContrastBorder})),this._status=T.createInstance(s.SuggestWidgetStatus,this.element.domNode,o.suggestWidgetStatusbarMenu);const B=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(116).showStatusBar);B(),this._disposables.add(A.onDidColorThemeChange($=>this._onThemeChange($))),this._onThemeChange(A.getColorTheme()),this._disposables.add(this._list.onMouseDown($=>this._onListMouseDownOrTap($))),this._disposables.add(this._list.onTap($=>this._onListMouseDownOrTap($))),this._disposables.add(this._list.onDidChangeSelection($=>this._onListSelection($))),this._disposables.add(this._list.onDidChangeFocus($=>this._onListFocus($))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration($=>{$.hasChanged(116)&&(B(),z())})),this._ctxSuggestWidgetVisible=o.Context.Visible.bindTo(M),this._ctxSuggestWidgetDetailsVisible=o.Context.DetailsVisible.bindTo(M),this._ctxSuggestWidgetMultipleSuggestions=o.Context.MultipleSuggestions.bindTo(M),this._ctxSuggestWidgetHasFocusedSuggestion=o.Context.HasFocusedSuggestion.bindTo(M),this._disposables.add(L.addStandardDisposableListener(this._details.widget.domNode,"keydown",$=>{this._onDetailsKeydown.fire($)})),this._disposables.add(this.editor.onMouseDown($=>this._onEditorMouseDown($)))}dispose(){var R;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(R){this._details.widget.domNode.contains(R.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(R.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(R){typeof R.element>"u"||typeof R.index>"u"||(R.browserEvent.preventDefault(),R.browserEvent.stopPropagation(),this._select(R.element,R.index))}_onListSelection(R){R.elements.length&&this._select(R.elements[0],R.indexes[0])}_select(R,F){const M=this._completionModel;M&&(this._onDidSelect.fire({item:R,index:F,model:M}),this.editor.focus())}_onThemeChange(R){this._details.widget.borderWidth=(0,h.isHighContrast)(R.type)?2:1}_onListFocus(R){var F;if(this._ignoreFocusEvents)return;if(!R.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const M=R.elements[0],A=R.indexes[0];M!==this._focusedItem&&((F=this._currentSuggestionDetails)===null||F===void 0||F.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=M,this._list.reveal(A),this._currentSuggestionDetails=(0,y.createCancelablePromise)(T=>Se(this,void 0,void 0,function*(){const O=(0,y.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),P=T.onCancellationRequested(()=>O.dispose());try{return yield M.resolve(T)}finally{O.dispose(),P.dispose()}})),this._currentSuggestionDetails.then(()=>{A>=this._list.length||M!==this._list.element(A)||(this._ignoreFocusEvents=!0,this._list.splice(A,1,[M]),this._list.setFocus([A]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,r.getAriaId)(A)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:M,index:A,model:this._completionModel})}_setState(R){if(this._state!==R)switch(this._state=R,this.element.domNode.classList.toggle("frozen",R===4),this.element.domNode.classList.remove("message"),R){case 0:L.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=p.LOADING_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,f.status)(p.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=p.NO_SUGGESTIONS_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,f.status)(p.NO_SUGGESTIONS_MESSAGE);break;case 3:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 4:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 5:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(R,F){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!R,this._isAuto||(this._loadingTimeout=(0,y.disposableTimeout)(()=>this._setState(1),F)))}showSuggestions(R,F,M,A,T){var O,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(O=this._loadingTimeout)===null||O===void 0||O.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==R&&(this._completionModel=R),M&&this._state!==2&&this._state!==0){this._setState(4);return}const x=this._completionModel.items.length,z=x===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(x>1),z){this._setState(A?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(M?4:3),this._list.reveal(F,0),this._list.setFocus(T?[]:[F])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,d.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(R){this._pendingShowDetails.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingShowDetails.clear(),this._details.show(),R?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var R;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const F=this._persistedSize.restore(),M=Math.ceil(this.getLayoutInfo().itemHeight*4.3);F&&F.height<M&&this._persistedSize.store(F.with(void 0,M))}isFrozen(){return this._state===4}_afterRender(R){if(R===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(R){var F,M,A;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const T=L.getClientArea(document.body),O=this.getLayoutInfo();R||(R=O.defaultSize);let P=R.height,x=R.width;if(this._status.element.style.height=`${O.itemHeight}px`,this._state===2||this._state===1)P=O.itemHeight+O.borderHeight,x=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new L.Dimension(x,P),this._contentWidget.setPreference(2);else{const z=T.width-O.borderHeight-2*O.horizontalPadding;x>z&&(x=z);const q=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:x,B=O.statusBarHeight+this._list.contentHeight+O.borderHeight,$=O.itemHeight+O.statusBarHeight,X=L.getDomNodePagePosition(this.editor.getDomNode()),ne=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),oe=X.top+ne.top+ne.height,Y=Math.min(T.height-oe-O.verticalPadding,B),U=X.top+ne.top-O.verticalPadding,W=Math.min(U,B);let V=Math.min(Math.max(W,Y)+O.borderHeight,B);P===((F=this._cappedHeight)===null||F===void 0?void 0:F.capped)&&(P=this._cappedHeight.wanted),P<$&&(P=$),P>V&&(P=V);const Z=150;P>Y||this._forceRenderingAbove&&U>Z?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),V=W):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),V=Y),this.element.preferredSize=new L.Dimension(q,O.defaultSize.height),this.element.maxSize=new L.Dimension(z,V),this.element.minSize=new L.Dimension(220,$),this._cappedHeight=P===B?{wanted:(A=(M=this._cappedHeight)===null||M===void 0?void 0:M.wanted)!==null&&A!==void 0?A:R.height,capped:P}:void 0}this._resize(x,P)}_resize(R,F){const{width:M,height:A}=this.element.maxSize;R=Math.min(M,R),F=Math.min(A,F);const{statusBarHeight:T}=this.getLayoutInfo();this._list.layout(F-T,R),this._listElement.style.height=`${F-T}px`,this.element.layout(F,R),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var R;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((R=this._contentWidget.getPosition())===null||R===void 0?void 0:R.preference[0])===2)}getLayoutInfo(){const R=this.editor.getOption(49),F=(0,_.clamp)(this.editor.getOption(118)||R.lineHeight,8,1e3),M=!this.editor.getOption(116).showStatusBar||this._state===2||this._state===1?0:F,A=this._details.widget.borderWidth,T=2*A;return{itemHeight:F,statusBarHeight:M,borderWidth:A,borderHeight:T,typicalHalfwidthCharacterWidth:R.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new L.Dimension(430,M+12*F+T)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(R){this._storageService.store("expandSuggestionDocs",R,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=E,E.LOADING_MESSAGE=n.localize(9,null),E.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),e.SuggestWidget=E=p=Ie([ge(1,a.IStorageService),ge(2,i.IContextKeyService),ge(3,l.IThemeService),ge(4,t.IInstantiationService)],E);class I{constructor(R,F){this._widget=R,this._editor=F,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:R,width:F}=this._widget.element.size,{borderWidth:M,horizontalPadding:A}=this._widget.getLayoutInfo();return new L.Dimension(F+2*M+A,R+2*M)}afterRender(R){this._widget._afterRender(R)}setPreference(R){this._preferenceLocked||(this._preference=R)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(R){this._position=R}}e.SuggestContentWidget=I}),define(ee[371],te([1,0,48,39,28,709,32,23,467]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const _=(0,S.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,S.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,S.registerColor)("editor.wordHighlightTextBackground",{light:_,dark:_,hcDark:_,hcLight:_},D.localize(2,null),!0);const v=(0,S.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(3,null));(0,S.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(4,null)),(0,S.registerColor)("editor.wordHighlightTextBorder",{light:v,dark:v,hcDark:v,hcLight:v},D.localize(5,null));const C=(0,S.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),s=(0,S.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),n=(0,S.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.overviewRulerSelectionHighlightForeground,light:S.overviewRulerSelectionHighlightForeground,hcDark:S.overviewRulerSelectionHighlightForeground,hcLight:S.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.themeColorFromId)(s),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,m.themeColorFromId)(n),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),a=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.themeColorFromId)(S.overviewRulerSelectionHighlightForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),u=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),h=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.themeColorFromId)(C),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}});function l(o){return o===y.DocumentHighlightKind.Write?i:o===y.DocumentHighlightKind.Text?t:h}e.getHighlightDecorationOptions=l;function c(o){return o?u:a}e.getSelectionHighlightDecorationOptions=c,(0,m.registerThemingParticipant)((o,d)=>{const r=o.getColor(S.editorSelectionHighlight);r&&d.addRule(`.monaco-editor .selectionHighlight { background-color: ${r.transparent(.5)}; }`)})}),define(ee[894],te([1,0,49,13,61,2,16,207,5,24,22,368,685,30,15,18,371,8]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function c(B,$){const X=$.filter(ne=>!B.find(oe=>oe.equals(ne)));if(X.length>=1){const ne=X.map(Y=>`line ${Y.viewState.position.lineNumber} column ${Y.viewState.position.column}`).join(", "),oe=X.length===1?n.localize(0,null,ne):n.localize(1,null,ne);(0,L.status)(oe)}}class o extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:n.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(3,null),order:2}})}run($,X,ne){if(!X.hasModel())return;let oe=!0;ne&&ne.logicalLine===!1&&(oe=!1);const Y=X._getViewModel();if(Y.cursorConfig.readOnly)return;Y.model.pushStackElement();const U=Y.getCursorStates();Y.setCursorStates(ne.source,3,m.CursorMoveCommands.addCursorUp(Y,U,oe)),Y.revealTopMostCursor(ne.source),c(U,Y.getCursorStates())}}e.InsertCursorAbove=o;class d extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:n.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(5,null),order:3}})}run($,X,ne){if(!X.hasModel())return;let oe=!0;ne&&ne.logicalLine===!1&&(oe=!1);const Y=X._getViewModel();if(Y.cursorConfig.readOnly)return;Y.model.pushStackElement();const U=Y.getCursorStates();Y.setCursorStates(ne.source,3,m.CursorMoveCommands.addCursorDown(Y,U,oe)),Y.revealBottomMostCursor(ne.source),c(U,Y.getCursorStates())}}e.InsertCursorBelow=d;class r extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(7,null),order:4}})}getCursorsForSelection($,X,ne){if(!$.isEmpty()){for(let oe=$.startLineNumber;oe<$.endLineNumber;oe++){const Y=X.getLineMaxColumn(oe);ne.push(new v.Selection(oe,Y,oe,Y))}$.endColumn>1&&ne.push(new v.Selection($.endLineNumber,$.endColumn,$.endLineNumber,$.endColumn))}}run($,X){if(!X.hasModel())return;const ne=X.getModel(),oe=X.getSelections(),Y=X._getViewModel(),U=Y.getCursorStates(),W=[];oe.forEach(V=>this.getCursorsForSelection(V,ne,W)),W.length>0&&X.setSelections(W),c(U,Y.getCursorStates())}}class g extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:n.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run($,X){if(!X.hasModel())return;const ne=X.getSelections(),oe=X.getModel().getLineCount(),Y=[];for(let V=ne[0].startLineNumber;V<=oe;V++)Y.push(new v.Selection(V,ne[0].startColumn,V,ne[0].endColumn));const U=X._getViewModel(),W=U.getCursorStates();Y.length>0&&X.setSelections(Y),c(W,U.getCursorStates())}}class f extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:n.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run($,X){if(!X.hasModel())return;const ne=X.getSelections(),oe=[];for(let W=ne[0].startLineNumber;W>=1;W--)oe.push(new v.Selection(W,ne[0].startColumn,W,ne[0].endColumn));const Y=X._getViewModel(),U=Y.getCursorStates();oe.length>0&&X.setSelections(oe),c(U,Y.getCursorStates())}}class p{constructor($,X,ne){this.selections=$,this.revealRange=X,this.revealScrollType=ne}}e.MultiCursorSessionResult=p;class b{static create($,X){if(!$.hasModel())return null;const ne=X.getState();if(!$.hasTextFocus()&&ne.isRevealed&&ne.searchString.length>0)return new b($,X,!1,ne.searchString,ne.wholeWord,ne.matchCase,null);let oe=!1,Y,U;const W=$.getSelections();W.length===1&&W[0].isEmpty()?(oe=!0,Y=!0,U=!0):(Y=ne.wholeWord,U=ne.matchCase);const V=$.getSelection();let Z,ie=null;if(V.isEmpty()){const le=$.getConfiguredWordAtPosition(V.getStartPosition());if(!le)return null;Z=le.word,ie=new v.Selection(V.startLineNumber,le.startColumn,V.startLineNumber,le.endColumn)}else Z=$.getModel().getValueInRange(V).replace(/\r\n/g,`
`);return new b($,X,oe,Z,Y,U,ie)}constructor($,X,ne,oe,Y,U,W){this._editor=$,this.findController=X,this.isDisconnectedFromFindController=ne,this.searchText=oe,this.wholeWord=Y,this.matchCase=U,this.currentMatch=W}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const $=this._getNextMatch();if(!$)return null;const X=this._editor.getSelections();return new p(X.concat($),$,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const $=this._getNextMatch();if(!$)return null;const X=this._editor.getSelections();return new p(X.slice(0,X.length-1).concat($),$,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const oe=this.currentMatch;return this.currentMatch=null,oe}this.findController.highlightFindOptions();const $=this._editor.getSelections(),X=$[$.length-1],ne=this._editor.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return ne?new v.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const $=this._getPreviousMatch();if(!$)return null;const X=this._editor.getSelections();return new p(X.concat($),$,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const $=this._getPreviousMatch();if(!$)return null;const X=this._editor.getSelections();return new p(X.slice(0,X.length-1).concat($),$,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const oe=this.currentMatch;return this.currentMatch=null,oe}this.findController.highlightFindOptions();const $=this._editor.getSelections(),X=$[$.length-1],ne=this._editor.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return ne?new v.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}selectAll($){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const X=this._editor.getModel();return $?X.findMatches(this.searchText,$,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824):X.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824)}}e.MultiCursorSession=b;class w extends D.Disposable{static get($){return $.getContribution(w.ID)}constructor($){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=$,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded($){if(!this._session){const X=b.create(this._editor,$);if(!X)return;this._session=X;const ne={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ne.wholeWordOverride=1,ne.matchCaseOverride=1,ne.isRegexOverride=2),$.getState().change(ne,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(oe=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add($.getState().onFindReplaceStateChange(oe=>{(oe.matchCase||oe.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const $={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change($,!1)}this._session=null}_setSelections($){this._ignoreSelectionChange=!0,this._editor.setSelections($),this._ignoreSelectionChange=!1}_expandEmptyToWord($,X){if(!X.isEmpty())return X;const ne=this._editor.getConfiguredWordAtPosition(X.getStartPosition());return ne?new v.Selection(X.startLineNumber,ne.startColumn,X.startLineNumber,ne.endColumn):X}_applySessionResult($){$&&(this._setSelections($.selections),$.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport($.revealRange,$.revealScrollType))}getSession($){return this._session}addSelectionToNextFindMatch($){if(this._editor.hasModel()){if(!this._session){const X=this._editor.getSelections();if(X.length>1){const oe=$.getState().matchCase;if(!P(this._editor.getModel(),X,oe)){const U=this._editor.getModel(),W=[];for(let V=0,Z=X.length;V<Z;V++)W[V]=this._expandEmptyToWord(U,X[V]);this._editor.setSelections(W);return}}}this._beginSessionIfNeeded($),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch($){this._beginSessionIfNeeded($),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch($){this._beginSessionIfNeeded($),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch($){this._beginSessionIfNeeded($),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll($){if(!this._editor.hasModel())return;let X=null;const ne=$.getState();if(ne.isRevealed&&ne.searchString.length>0&&ne.isRegex){const oe=this._editor.getModel();ne.searchScope?X=oe.findMatches(ne.searchString,ne.searchScope,ne.isRegex,ne.matchCase,ne.wholeWord?this._editor.getOption(128):null,!1,1073741824):X=oe.findMatches(ne.searchString,!0,ne.isRegex,ne.matchCase,ne.wholeWord?this._editor.getOption(128):null,!1,1073741824)}else{if(this._beginSessionIfNeeded($),!this._session)return;X=this._session.selectAll(ne.searchScope)}if(X.length>0){const oe=this._editor.getSelection();for(let Y=0,U=X.length;Y<U;Y++){const W=X[Y];if(W.range.intersectRanges(oe)){X[Y]=X[0],X[0]=W;break}}this._setSelections(X.map(Y=>new v.Selection(Y.range.startLineNumber,Y.range.startColumn,Y.range.endLineNumber,Y.range.endColumn)))}}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class E extends S.EditorAction{run($,X){const ne=w.get(X);if(!ne)return;const oe=X._getViewModel();if(oe){const Y=oe.getCursorStates(),U=s.CommonFindController.get(X);if(U)this._run(ne,U);else{const W=$.get(h.IInstantiationService).createInstance(s.CommonFindController,X);this._run(ne,W),W.dispose()}c(Y,oe.getCursorStates())}}}e.MultiCursorSelectionControllerAction=E;class I extends E{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:n.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(11,null),order:5}})}_run($,X){$.addSelectionToNextFindMatch(X)}}e.AddSelectionToNextFindMatchAction=I;class N extends E{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:n.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(13,null),order:6}})}_run($,X){$.addSelectionToPreviousFindMatch(X)}}e.AddSelectionToPreviousFindMatchAction=N;class R extends E{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:n.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:(0,y.KeyChord)(2089,2082),weight:100}})}_run($,X){$.moveSelectionToNextFindMatch(X)}}e.MoveSelectionToNextFindMatchAction=R;class F extends E{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:n.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run($,X){$.moveSelectionToPreviousFindMatch(X)}}e.MoveSelectionToPreviousFindMatchAction=F;class M extends E{constructor(){super({id:"editor.action.selectHighlights",label:n.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(17,null),order:7}})}_run($,X){$.selectAll(X)}}e.SelectHighlightsAction=M;class A extends E{constructor(){super({id:"editor.action.changeAll",label:n.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run($,X){$.selectAll(X)}}e.CompatChangeAll=A;class T{constructor($,X,ne,oe,Y){this._model=$,this._searchText=X,this._matchCase=ne,this._wordSeparators=oe,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Y&&this._model===Y._model&&this._searchText===Y._searchText&&this._matchCase===Y._matchCase&&this._wordSeparators===Y._wordSeparators&&this._modelVersionId===Y._modelVersionId&&(this._cachedFindMatches=Y._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map($=>$.range),this._cachedFindMatches.sort(_.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let O=l=class extends D.Disposable{constructor($,X){super(),this._languageFeaturesService=X,this.editor=$,this._isEnabled=$.getOption(106),this._decorations=$.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register($.onDidChangeConfiguration(oe=>{this._isEnabled=$.getOption(106)})),this._register($.onDidChangeCursorSelection(oe=>{this._isEnabled&&(oe.selection.isEmpty()?oe.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register($.onDidChangeModel(oe=>{this._setState(null)})),this._register($.onDidChangeModelContent(oe=>{this._isEnabled&&this.updateSoon.schedule()}));const ne=s.CommonFindController.get($);ne&&this._register(ne.getState().onFindReplaceStateChange(oe=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(l._createState(this.state,this._isEnabled,this.editor))}static _createState($,X,ne){if(!X||!ne.hasModel())return null;const oe=ne.getSelection();if(oe.startLineNumber!==oe.endLineNumber)return null;const Y=w.get(ne);if(!Y)return null;const U=s.CommonFindController.get(ne);if(!U)return null;let W=Y.getSession(U);if(!W){const ie=ne.getSelections();if(ie.length>1){const he=U.getState().matchCase;if(!P(ne.getModel(),ie,he))return null}W=b.create(ne,U)}if(!W||W.currentMatch||/^[ \t]+$/.test(W.searchText)||W.searchText.length>200)return null;const V=U.getState(),Z=V.matchCase;if(V.isRevealed){let ie=V.searchString;Z||(ie=ie.toLowerCase());let le=W.searchText;if(Z||(le=le.toLowerCase()),ie===le&&W.matchCase===V.matchCase&&W.wholeWord===V.wholeWord&&!V.isRegex)return null}return new T(ne.getModel(),W.searchText,W.matchCase,W.wholeWord?ne.getOption(128):null,$)}_setState($){if(this.state=$,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const X=this.editor.getModel();if(X.isTooLargeForTokenization())return;const ne=this.state.findMatches(),oe=this.editor.getSelections();oe.sort(_.Range.compareRangesUsingStarts);const Y=[];for(let V=0,Z=0,ie=ne.length,le=oe.length;V<ie;){const he=ne[V];if(Z>=le)Y.push(he),V++;else{const de=_.Range.compareRangesUsingStarts(he,oe[Z]);de<0?((oe[Z].isEmpty()||!_.Range.areIntersecting(he,oe[Z]))&&Y.push(he),V++):(de>0||V++,Z++)}}const U=this._languageFeaturesService.documentHighlightProvider.has(X)&&this.editor.getOption(79),W=Y.map(V=>({range:V,options:(0,u.getSelectionHighlightDecorationOptions)(U)}));this._decorations.set(W)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=O,O.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=O=l=Ie([ge(1,a.ILanguageFeaturesService)],O);function P(B,$,X){const ne=x(B,$[0],!X);for(let oe=1,Y=$.length;oe<Y;oe++){const U=$[oe];if(U.isEmpty())return!1;const W=x(B,U,!X);if(ne!==W)return!1}return!0}function x(B,$,X){const ne=B.getValueInRange($);return X?ne.toLowerCase():ne}class z extends S.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:n.localize(19,null),description:{description:n.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run($,X,ne){if(!X.hasModel())return;const oe=X._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const Y=Array.from(oe.getCursorStates()),U=Y.shift();U&&(Y.push(U),oe.setCursorStates(ne.source,3,Y),oe.revealPrimaryCursor(ne.source,!0),c(Y,oe.getCursorStates()))}}e.FocusNextCursor=z;class q extends S.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:n.localize(21,null),description:{description:n.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run($,X,ne){if(!X.hasModel())return;const oe=X._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const Y=Array.from(oe.getCursorStates()),U=Y.pop();U&&(Y.unshift(U),oe.setCursorStates(ne.source,3,Y),oe.revealPrimaryCursor(ne.source,!0),c(Y,oe.getCursorStates()))}}e.FocusPreviousCursor=q,(0,S.registerEditorContribution)(w.ID,w,4),(0,S.registerEditorContribution)(O.ID,O,1),(0,S.registerEditorAction)(o),(0,S.registerEditorAction)(d),(0,S.registerEditorAction)(r),(0,S.registerEditorAction)(I),(0,S.registerEditorAction)(N),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(F),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(g),(0,S.registerEditorAction)(f),(0,S.registerEditorAction)(z),(0,S.registerEditorAction)(q)}),define(ee[895],te([1,0,49,14,13,19,9,2,16,5,22,28,710,15,18,371,47]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=e.getOccurrencesAtPosition=void 0;const l=new i.RawContextKey("hasWordHighlights",!1);function c(N,R,F,M){const A=N.ordered(R);return(0,y.first)(A.map(T=>()=>Promise.resolve(T.provideDocumentHighlights(R,F,M)).then(void 0,S.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=c;class o{constructor(R,F,M){this._model=R,this._selection=F,this._wordSeparators=M,this._wordRange=this._getCurrentWordRange(R,F),this._result=null}get result(){return this._result||(this._result=(0,y.createCancelablePromise)(R=>this._compute(this._model,this._selection,this._wordSeparators,R))),this._result}_getCurrentWordRange(R,F){const M=R.getWordAtPosition(F.getPosition());return M?new v.Range(F.startLineNumber,M.startColumn,F.startLineNumber,M.endColumn):null}isValid(R,F,M){const A=F.startLineNumber,T=F.startColumn,O=F.endColumn,P=this._getCurrentWordRange(R,F);let x=!!(this._wordRange&&this._wordRange.equalsRange(P));for(let z=0,q=M.length;!x&&z<q;z++){const B=M.getRange(z);B&&B.startLineNumber===A&&B.startColumn<=T&&B.endColumn>=O&&(x=!0)}return x}cancel(){this.result.cancel()}}class d extends o{constructor(R,F,M,A){super(R,F,M),this._providers=A}_compute(R,F,M,A){return c(this._providers,R,F.getPosition(),A).then(T=>T||[])}}class r extends o{constructor(R,F,M){super(R,F,M),this._selectionIsEmpty=F.isEmpty()}_compute(R,F,M,A){return(0,y.timeout)(250,A).then(()=>{if(!F.isEmpty())return[];const T=R.getWordAtPosition(F.getPosition());return!T||T.word.length>1e3?[]:R.findMatches(T.word,!0,!1,!0,M,!1).map(P=>({range:P.range,kind:s.DocumentHighlightKind.Text}))})}isValid(R,F,M){const A=F.isEmpty();return this._selectionIsEmpty!==A?!1:super.isValid(R,F,M)}}function g(N,R,F,M){return N.has(R)?new d(R,F,M,N):new r(R,F,M)}(0,_.registerModelAndPositionCommand)("_executeDocumentHighlights",(N,R,F)=>{const M=N.get(t.ILanguageFeaturesService);return c(M.documentHighlightProvider,R,F,D.CancellationToken.None)});class f{constructor(R,F,M,A){this.toUnhook=new m.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=R,this.providers=F,this.linkedHighlighters=M,this._hasWordHighlights=l.bindTo(A),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(79),this.model=this.editor.getModel(),this.toUnhook.add(R.onDidChangeCursorPosition(T=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(T)})),this.toUnhook.add(R.onDidChangeModelContent(T=>{this._stopAll()})),this.toUnhook.add(R.onDidChangeConfiguration(T=>{const O=this.editor.getOption(79);this.occurrencesHighlight!==O&&(this.occurrencesHighlight=O,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(v.Range.compareRangesUsingStarts)}moveNext(){const R=this._getSortedHighlights(),M=(R.findIndex(T=>T.containsPosition(this.editor.getPosition()))+1)%R.length,A=R[M];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(A.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(A);const T=this._getWord();if(T){const O=this.editor.getModel().getLineContent(A.startLineNumber);(0,L.alert)(`${O}, ${M+1} of ${R.length} for '${T.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const R=this._getSortedHighlights(),M=(R.findIndex(T=>T.containsPosition(this.editor.getPosition()))-1+R.length)%R.length,A=R[M];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(A.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(A);const T=this._getWord();if(T){const O=this.editor.getModel().getLineContent(A.startLineNumber);(0,L.alert)(`${O}, ${M+1} of ${R.length} for '${T.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(R){if(!this.occurrencesHighlight){this._stopAll();return}if(R.reason!==3){this._stopAll();return}this._run()}_getWord(){const R=this.editor.getSelection(),F=R.startLineNumber,M=R.startColumn;return this.model.getWordAtPosition({lineNumber:F,column:M})}_run(){const R=this.editor.getSelection();if(R.startLineNumber!==R.endLineNumber){this._stopAll();return}const F=R.startColumn,M=R.endColumn,A=this._getWord();if(!A||A.startColumn>F||A.endColumn<M){this._stopAll();return}const T=this.workerRequest&&this.workerRequest.isValid(this.model,R,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),T)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const O=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=g(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(128)),this.workerRequest.result.then(P=>{O===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=P||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){const R=new Date().getTime(),F=this.lastCursorPositionChangeTime+250;R>=F?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},F-R)}renderDecorations(){this.renderDecorationsTimer=-1;const R=[];for(const F of this.workerRequestValue)F.range&&R.push({range:F.range,options:(0,a.getHighlightDecorationOptions)(F.kind)});this.decorations.set(R),this._hasWordHighlights.set(this.hasDecorations());for(const F of this.linkedHighlighters())F?.editor.getModel()===this.editor.getModel()&&(F._stopAll(),F.decorations.set(R),F._hasWordHighlights.set(F.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let p=h=class extends m.Disposable{static get(R){return R.getContribution(h.ID)}constructor(R,F,M){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const A=()=>{R.hasModel()&&(this.wordHighlighter=new f(R,M.documentHighlightProvider,()=>u.Iterable.map(this.linkedContributions,T=>T.wordHighlighter),F))};this._register(R.onDidChangeModel(T=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),A()})),A()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var R;(R=this.wordHighlighter)===null||R===void 0||R.moveNext()}moveBack(){var R;(R=this.wordHighlighter)===null||R===void 0||R.moveBack()}restoreViewState(R){this.wordHighlighter&&R&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=p,p.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=p=h=Ie([ge(1,i.IContextKeyService),ge(2,t.ILanguageFeaturesService)],p);class b extends _.EditorAction{constructor(R,F){super(F),this._isNext=R}run(R,F){const M=p.get(F);M&&(this._isNext?M.moveNext():M.moveBack())}}class w extends b{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:n.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:l,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class E extends b{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:n.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:l,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class I extends _.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:n.localize(2,null),alias:"Trigger Symbol Highlight",precondition:l.toNegated(),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(R,F,M){const A=p.get(F);A&&A.restoreViewState(!0)}}(0,_.registerEditorContribution)(p.ID,p,0),(0,_.registerEditorAction)(w),(0,_.registerEditorAction)(E),(0,_.registerEditorAction)(I)}),define(ee[896],te([1,0,7,152,36,164,2,52,5,39,468]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const C=new y.Color(new y.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},n="vs.editor.contrib.zoneWidget";class i{constructor(l,c,o,d,r,g,f,p){this.id="",this.domNode=l,this.afterLineNumber=c,this.afterColumn=o,this.heightInLines=d,this.showInHiddenAreas=f,this.ordinal=p,this._onDomNodeTop=r,this._onComputedHeight=g}onDomNodeTop(l){this._onDomNodeTop(l)}onComputedHeight(l){this._onComputedHeight(l)}}class t{constructor(l,c){this._id=l,this._domNode=c}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class a{constructor(l){this._editor=l,this._ruleName=a._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),L.removeCSSRulesContainingSelector(this._ruleName)}set color(l){this._color!==l&&(this._color=l,this._updateStyle())}set height(l){this._height!==l&&(this._height=l,this._updateStyle())}_updateStyle(){L.removeCSSRulesContainingSelector(this._ruleName),L.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(l){l.column===1&&(l={lineNumber:l.lineNumber,column:2}),this._decorations.set([{range:_.Range.fromPositions(l),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}a._IdGenerator=new D.IdGenerator(".arrow-decoration-");class u{constructor(l,c={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=l,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=m.deepClone(c),m.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const d=this._getWidth(o);this.domNode.style.width=d+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(d)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new a(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(l){l.frameColor&&(this.options.frameColor=l.frameColor),l.arrowColor&&(this.options.arrowColor=l.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const l=this.options.frameColor.toString();this.container.style.borderTopColor=l,this.container.style.borderBottomColor=l}if(this._arrow&&this.options.arrowColor){const l=this.options.arrowColor.toString();this._arrow.color=l}}_getWidth(l){return l.width-l.minimap.minimapWidth-l.verticalScrollbarWidth}_getLeft(l){return l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?l.minimap.minimapWidth:0}_onViewZoneTop(l){this.domNode.style.top=l+"px"}_onViewZoneHeight(l){var c;if(this.domNode.style.height=`${l}px`,this.container){const o=l-this._decoratingElementsHeight();this.container.style.height=`${o}px`;const d=this.editor.getLayoutInfo();this._doLayout(o,this._getWidth(d))}(c=this._resizeSash)===null||c===void 0||c.layout()}get position(){const l=this._positionMarkerId.getRange(0);if(l)return l.getStartPosition()}show(l,c){const o=_.Range.isIRange(l)?_.Range.lift(l):_.Range.fromPositions(l);this._isShowing=!0,this._showImpl(o,c),this._isShowing=!1,this._positionMarkerId.set([{range:o,options:v.ModelDecorationOptions.EMPTY}])}hide(){var l;this._viewZone&&(this.editor.changeViewZones(c=>{this._viewZone&&c.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(l=this._arrow)===null||l===void 0||l.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const l=this.editor.getOption(65);let c=0;if(this.options.showArrow){const o=Math.round(l/3);c+=2*o}if(this.options.showFrame){const o=Math.round(l/9);c+=2*o}return c}_showImpl(l,c){const o=l.getStartPosition(),d=this.editor.getLayoutInfo(),r=this._getWidth(d);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(d)+"px";const g=document.createElement("div");g.style.overflow="hidden";const f=this.editor.getOption(65);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/f*.8);c=Math.min(c,I)}let p=0,b=0;if(this._arrow&&this.options.showArrow&&(p=Math.round(f/3),this._arrow.height=p,this._arrow.show(o)),this.options.showFrame&&(b=Math.round(f/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(g,o.lineNumber,o.column,c,N=>this._onViewZoneTop(N),N=>this._onViewZoneHeight(N),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new t(n+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:b;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const w=c*f-this._decoratingElementsHeight();this.container&&(this.container.style.top=p+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,r),this.options.keepEditorSelection||this.editor.setSelection(l);const E=this.editor.getModel();if(E){const I=E.validateRange(new _.Range(l.startLineNumber,1,l.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===E.getLineCount())}}revealRange(l,c){c?this.editor.revealLineNearTop(l.endLineNumber,0):this.editor.revealRange(l,0)}setCssClass(l,c){this.container&&(c&&this.container.classList.remove(c),this.container.classList.add(l))}_onWidth(l){}_doLayout(l,c){}_relayout(l){this._viewZone&&this._viewZone.heightInLines!==l&&this.editor.changeViewZones(c=>{this._viewZone&&(this._viewZone.heightInLines=l,c.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let l;this._disposables.add(this._resizeSash.onDidStart(c=>{this._viewZone&&(l={startY:c.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{l=void 0})),this._disposables.add(this._resizeSash.onDidChange(c=>{if(l){const o=(c.currentY-l.startY)/this.editor.getOption(65),d=o<0?Math.ceil(o):Math.floor(o),r=l.heightInLines+d;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const l=this.editor.getLayoutInfo();return l.width-l.minimap.minimapWidth}}e.ZoneWidget=u}),define(ee[136],te([1,0,7,72,41,26,27,36,6,52,16,33,161,896,688,160,15,45,8,32,459]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,l.createDecorator)("IPeekViewService"),(0,h.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,b){const w=this._widgets.get(p);w&&(w.listener.dispose(),w.widget.dispose());const E=()=>{const I=this._widgets.get(p);I&&I.widget===b&&(I.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:b,listener:b.onDidClose(E)})}},1);var o;(function(p){p.inPeekEditor=new u.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(o||(e.PeekContext=o={}));let d=class{constructor(b,w){b instanceof n.EmbeddedCodeEditorWidget&&o.inPeekEditor.bindTo(w)}dispose(){}};d.ID="editor.contrib.referenceController",d=Ie([ge(1,u.IContextKeyService)],d),(0,C.registerEditorContribution)(d.ID,d,0);function r(p){const b=p.get(s.ICodeEditorService).getFocusedCodeEditor();return b instanceof n.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=r;const g={headerBackgroundColor:m.Color.white,primaryHeadingColor:m.Color.fromHex("#333333"),secondaryHeadingColor:m.Color.fromHex("#6c6c6cb3")};let f=class extends i.ZoneWidget{constructor(b,w,E){super(b,w),this.instantiationService=E,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){const w=this.options;b.headerBackgroundColor&&(w.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(w.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(w.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();const b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=L.$(".head"),this._bodyElement=L.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,w){this._titleElement=L.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),L.addStandardDisposableListener(this._titleElement,"click",N=>this._onTitleClick(N))),L.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=L.$("span.filename"),this._secondaryHeading=L.$("span.dirname"),this._metaHeading=L.$("span.meta"),L.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=L.$(".peekview-actions");L.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(E,I),this._disposables.add(this._actionbarWidget),w||this._actionbarWidget.push(new y.Action("peekview.close",t.localize(1,null),S.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:a.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,w){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("title",b),w?this._secondaryHeading.innerText=w:L.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,L.show(this._metaHeading)):L.hide(this._metaHeading))}_doLayout(b,w){if(!this._isShowing&&b<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(65)*1.2),I=Math.round(b-(E+2));this._doLayoutHead(E,w),this._doLayoutBody(I,w)}_doLayoutHead(b,w){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,w){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};e.PeekViewWidget=f,e.PeekViewWidget=f=Ie([ge(2,l.IInstantiationService)],f),e.peekViewTitleBackground=(0,c.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,c.registerColor)("peekViewTitleLabel.foreground",{dark:m.Color.white,light:m.Color.black,hcDark:m.Color.white,hcLight:c.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,c.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,c.registerColor)("peekView.border",{dark:c.editorInfoForeground,light:c.editorInfoForeground,hcDark:c.contrastBorder,hcLight:c.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,c.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,c.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:m.Color.white,hcLight:c.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,c.registerColor)("peekViewResult.fileForeground",{dark:m.Color.white,light:"#1E1E1E",hcDark:m.Color.white,hcLight:c.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,c.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,c.registerColor)("peekViewResult.selectionForeground",{dark:m.Color.white,light:"#6C6C6C",hcDark:m.Color.white,hcLight:c.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,c.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,c.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,c.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,c.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,c.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,c.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},t.localize(16,null))}),define(ee[897],te([1,0,7,84,14,36,6,2,44,10,5,136,661,160,30,15,8,158,94,55,787,32,23,446]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class f{constructor(P,x,z,q,B){this._openerService=q,this._labelService=B,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new m.DisposableStore,this._editor=x;const $=document.createElement("div");$.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),$.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),$.appendChild(this._relatedBlock),this._disposables.add(L.addStandardDisposableListener(this._relatedBlock,"click",X=>{X.preventDefault();const ne=this._relatedDiagnostics.get(X.target);ne&&z(ne)})),this._scrollable=new k.ScrollableElement($,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),P.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(X=>{$.style.left=`-${X.scrollLeft}px`,$.style.top=`-${X.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,m.dispose)(this._disposables)}update(P){const{source:x,message:z,relatedInformation:q,code:B}=P;let $=(x?.length||0)+2;B&&(typeof B=="string"?$+=B.length:$+=B.value.length);const X=(0,v.splitLines)(z);this._lines=X.length,this._longestLineLength=0;for(const W of X)this._longestLineLength=Math.max(W.length+$,this._longestLineLength);L.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(P)),this._editor.applyFontInfo(this._messageBlock);let ne=this._messageBlock;for(const W of X)ne=document.createElement("div"),ne.innerText=W,W===""&&(ne.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(ne);if(x||B){const W=document.createElement("span");if(W.classList.add("details"),ne.appendChild(W),x){const V=document.createElement("span");V.innerText=x,V.classList.add("source"),W.appendChild(V)}if(B)if(typeof B=="string"){const V=document.createElement("span");V.innerText=`(${B})`,V.classList.add("code"),W.appendChild(V)}else{this._codeLink=L.$("a.code-link"),this._codeLink.setAttribute("href",`${B.target.toString()}`),this._codeLink.onclick=Z=>{this._openerService.open(B.target,{allowCommands:!0}),Z.preventDefault(),Z.stopPropagation()};const V=L.append(this._codeLink,L.$("span"));V.innerText=B.value,W.appendChild(this._codeLink)}}if(L.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,y.isNonEmptyArray)(q)){const W=this._relatedBlock.appendChild(document.createElement("div"));W.style.paddingTop=`${Math.floor(this._editor.getOption(65)*.66)}px`,this._lines+=1;for(const V of q){const Z=document.createElement("div"),ie=document.createElement("a");ie.classList.add("filename"),ie.innerText=`${this._labelService.getUriBasenameLabel(V.resource)}(${V.startLineNumber}, ${V.startColumn}): `,ie.title=this._labelService.getUriLabel(V.resource),this._relatedDiagnostics.set(ie,V);const le=document.createElement("span");le.innerText=V.message,Z.appendChild(ie),Z.appendChild(le),this._lines+=1,W.appendChild(Z)}}const oe=this._editor.getOption(49),Y=Math.ceil(oe.typicalFullwidthCharacterWidth*this._longestLineLength*.75),U=oe.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Y,scrollHeight:U})}layout(P,x){this._scrollable.getDomNode().style.height=`${P}px`,this._scrollable.getDomNode().style.width=`${x}px`,this._scrollable.setScrollDimensions({width:x,height:P})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(P){let x="";switch(P.severity){case l.MarkerSeverity.Error:x=n.localize(0,null);break;case l.MarkerSeverity.Warning:x=n.localize(1,null);break;case l.MarkerSeverity.Info:x=n.localize(2,null);break;case l.MarkerSeverity.Hint:x=n.localize(3,null);break}let z=n.localize(4,null,x,P.startLineNumber+":"+P.startColumn);const q=this._editor.getModel();return q&&P.startLineNumber<=q.getLineCount()&&P.startLineNumber>=1&&(z=`${q.getLineContent(P.startLineNumber)}, ${z}`),z}}let p=g=class extends s.PeekViewWidget{constructor(P,x,z,q,B,$,X){super(P,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},B),this._themeService=x,this._openerService=z,this._menuService=q,this._contextKeyService=$,this._labelService=X,this._callOnDispose=new m.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=l.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(x.getColorTheme()),this._callOnDispose.add(x.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(P){this._backgroundColor=P.getColor(T);let x=I,z=N;this._severity===l.MarkerSeverity.Warning?(x=R,z=F):this._severity===l.MarkerSeverity.Info&&(x=M,z=A);const q=P.getColor(x),B=P.getColor(z);this.style({arrowColor:q,frameColor:q,headerBackgroundColor:B,primaryHeadingColor:P.getColor(s.peekViewTitleForeground),secondaryHeadingColor:P.getColor(s.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(P){super._fillHead(P),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(q=>this.editor.focus()));const x=[],z=this._menuService.createMenu(g.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(z,void 0,x),this._actionbarWidget.push(x,{label:!1,icon:!0,index:0}),z.dispose()}_fillTitleIcon(P){this._icon=L.append(P,L.$(""))}_fillBody(P){this._parentContainer=P,P.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),P.appendChild(this._container),this._message=new f(this._container,this.editor,x=>this._onDidSelectRelatedInformation.fire(x),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(P,x,z){this._container.classList.remove("stale"),this._message.update(P),this._severity=P.severity,this._applyTheme(this._themeService.getColorTheme());const q=C.Range.lift(P),B=this.editor.getPosition(),$=B&&q.containsPosition(B)?B:q.getStartPosition();super.show($,this.computeRequiredHeight());const X=this.editor.getModel();if(X){const ne=z>1?n.localize(5,null,x,z):n.localize(6,null,x,z);this.setTitle((0,_.basename)(X.uri),ne)}this._icon.className=`codicon ${o.SeverityIcon.className(l.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop($,0),this.editor.focus()}updateMarker(P){this._container.classList.remove("stale"),this._message.update(P)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(P,x){super._doLayoutBody(P,x),this._heightInPixel=P,this._message.layout(P,x),this._container.style.height=`${P}px`}_onWidth(P){this._message.layout(this._heightInPixel,P)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=p,p.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=p=g=Ie([ge(1,r.IThemeService),ge(2,c.IOpenerService),ge(3,t.IMenuService),ge(4,u.IInstantiationService),ge(5,a.IContextKeyService),ge(6,h.ILabelService)],p);const b=(0,d.oneOf)(d.editorErrorForeground,d.editorErrorBorder),w=(0,d.oneOf)(d.editorWarningForeground,d.editorWarningBorder),E=(0,d.oneOf)(d.editorInfoForeground,d.editorInfoBorder),I=(0,d.registerColor)("editorMarkerNavigationError.background",{dark:b,light:b,hcDark:d.contrastBorder,hcLight:d.contrastBorder},n.localize(7,null)),N=(0,d.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,d.transparent)(I,.1),light:(0,d.transparent)(I,.1),hcDark:null,hcLight:null},n.localize(8,null)),R=(0,d.registerColor)("editorMarkerNavigationWarning.background",{dark:w,light:w,hcDark:d.contrastBorder,hcLight:d.contrastBorder},n.localize(9,null)),F=(0,d.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,d.transparent)(R,.1),light:(0,d.transparent)(R,.1),hcDark:"#0C141F",hcLight:(0,d.transparent)(R,.2)},n.localize(10,null)),M=(0,d.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hcDark:d.contrastBorder,hcLight:d.contrastBorder},n.localize(11,null)),A=(0,d.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,d.transparent)(M,.1),light:(0,d.transparent)(M,.1),hcDark:null,hcLight:null},n.localize(12,null)),T=(0,d.registerColor)("editorMarkerNavigation.background",{dark:d.editorBackground,light:d.editorBackground,hcDark:d.editorBackground,hcLight:d.editorBackground},n.localize(13,null))}),define(ee[372],te([1,0,26,2,16,33,12,5,22,764,660,30,15,8,76,897]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let h=u=class{static get(b){return b.getContribution(u.ID)}constructor(b,w,E,I,N){this._markerNavigationService=w,this._contextKeyService=E,this._editorService=I,this._instantiationService=N,this._sessionDispoables=new k.DisposableStore,this._editor=b,this._widgetVisible=g.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let w=!1;return this._model&&(w=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),w&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(a.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(E=>{var I,N,R;(!(!((I=this._model)===null||I===void 0)&&I.selected)||!m.Range.containsPosition((N=this._model)===null||N===void 0?void 0:N.selected.marker,E.position))&&((R=this._model)===null||R===void 0||R.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const E=this._model.find(this._editor.getModel().uri,this._widget.position);E?this._widget.updateMarker(E.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(E=>{this._editorService.openCodeEditor({resource:E.resource,options:{pinned:!0,revealIfOpened:!0,selection:m.Range.lift(E).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const w=this._getOrCreateModel(this._editor.getModel().uri);w.resetIndex(),w.move(!0,this._editor.getModel(),new S.Position(b.startLineNumber,b.startColumn)),w.selected&&this._widget.showAtMarker(w.selected.marker,w.selected.index,w.selected.total)}}nagivate(b,w){var E,I;return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const N=this._getOrCreateModel(w?void 0:this._editor.getModel().uri);if(N.move(b,this._editor.getModel(),this._editor.getPosition()),!N.selected)return;if(N.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const R=yield this._editorService.openCodeEditor({resource:N.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:N.selected.marker}},this._editor);R&&((E=u.get(R))===null||E===void 0||E.close(),(I=u.get(R))===null||I===void 0||I.nagivate(b,w))}else this._widget.showAtMarker(N.selected.marker,N.selected.index,N.selected.total)}})}};e.MarkerController=h,h.ID="editor.contrib.markerController",e.MarkerController=h=u=Ie([ge(1,v.IMarkerNavigationService),ge(2,n.IContextKeyService),ge(3,D.ICodeEditorService),ge(4,i.IInstantiationService)],h);class l extends y.EditorAction{constructor(b,w,E){super(E),this._next=b,this._multiFile=w}run(b,w){var E;return Se(this,void 0,void 0,function*(){w.hasModel()&&((E=h.get(w))===null||E===void 0||E.nagivate(this._next,this._multiFile))})}}class c extends l{constructor(){super(!0,!1,{id:c.ID,label:c.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:a.MarkerNavigationWidget.TitleMenu,title:c.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",L.Codicon.arrowDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=c,c.ID="editor.action.marker.next",c.LABEL=C.localize(0,null);class o extends l{constructor(){super(!1,!1,{id:o.ID,label:o.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:a.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",L.Codicon.arrowUp,C.localize(3,null)),group:"navigation",order:2}})}}o.ID="editor.action.marker.prev",o.LABEL=C.localize(2,null);class d extends l{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class r extends l{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}(0,y.registerEditorContribution)(h.ID,h,4),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(r);const g=new n.RawContextKey("markersNavigationVisible",!1),f=y.EditorCommand.bindToContribution(h.get);(0,y.registerEditorCommand)(new f({id:"closeMarkersNavigation",precondition:g,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:_.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ee[898],te([1,0,7,315,36,6,2,54,44,161,5,39,31,74,42,65,824,136,666,8,34,158,191,23,192,155,448]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(R,F){this._editor=R,this._model=F,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const R=this._editor.getModel();if(R){for(const F of this._model.references)if(F.uri.toString()===R.uri.toString()){this._addDecorations(F.parent);return}}}_addDecorations(R){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const F=[],M=[];for(let A=0,T=R.children.length;A<T;A++){const O=R.children[A];this._decorationIgnoreSet.has(O.id)||O.uri.toString()===this._editor.getModel().uri.toString()&&(F.push({range:O.range,options:b.DecorationOptions}),M.push(A))}this._editor.changeDecorations(A=>{const T=A.deltaDecorations([],F);for(let O=0;O<T.length;O++)this._decorations.set(T[O],R.children[M[O]])})}_onDecorationChanged(){const R=[],F=this._editor.getModel();if(F){for(const[M,A]of this._decorations){const T=F.getDecorationRange(M);if(!T)continue;let O=!1;if(!C.Range.equalsRange(T,A.range)){if(C.Range.spansMultipleLines(T))O=!0;else{const P=A.range.endColumn-A.range.startColumn,x=T.endColumn-T.startColumn;P!==x&&(O=!0)}O?(this._decorationIgnoreSet.add(A.id),R.push(M)):A.range=T}}for(let M=0,A=R.length;M<A;M++)this._decorations.delete(R[M]);this._editor.removeDecorations(R)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}b.DecorationOptions=s.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(R){let F,M;try{const A=JSON.parse(R);F=A.ratio,M=A.heightInLines}catch{}return{ratio:F||.7,heightInLines:M||18}}}e.LayoutData=w;class E extends r.WorkbenchAsyncDataTree{}let I=class extends h.PeekViewWidget{constructor(R,F,M,A,T,O,P,x,z,q,B,$){super(R,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},O),this._defaultTreeKeyboardSupport=F,this.layoutData=M,this._textModelResolverService=T,this._instantiationService=O,this._peekViewService=P,this._uriLabel=x,this._undoRedoService=z,this._keybindingService=q,this._languageService=B,this._languageConfigurationService=$,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Dimension(0,0),this._applyTheme(A.getColorTheme()),this._callOnDispose.add(A.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(R,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(R){const F=R.getColor(h.peekViewBorder)||y.Color.transparent;this.style({arrowColor:F,frameColor:F,headerBackgroundColor:R.getColor(h.peekViewTitleBackground)||y.Color.transparent,primaryHeadingColor:R.getColor(h.peekViewTitleForeground),secondaryHeadingColor:R.getColor(h.peekViewTitleInfoForeground)})}show(R){super.show(R,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(R){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"title"})}_fillBody(R){this.setCssClass("reference-zone-widget"),this._messageContainer=L.append(R,L.$("div.messages")),L.hide(this._messageContainer),this._splitView=new k.SplitView(R,{orientation:1}),this._previewContainer=L.append(R,L.$("div.preview.inline"));const F={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,F,{},this.editor),L.hide(this._previewContainer),this._previewNotAvailableMessage=new s.TextModel(l.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,s.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=L.append(R,L.$("div.ref-tree.inline"));const M={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new u.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(u.StringRepresentationProvider),identityProvider:new u.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:h.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.addStandardDisposableListener(this._treeContainer,"keydown",T=>{T.equals(9)&&(this._keybindingService.dispatchEvent(T,T.target),T.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new u.Delegate,[this._instantiationService.createInstance(u.FileReferencesRenderer),this._instantiationService.createInstance(u.OneReferenceRenderer)],this._instantiationService.createInstance(u.DataSource),M),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:T=>{this._preview.layout({height:this._dim.height,width:T})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:T=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${T}px`,this._tree.layout(this._dim.height,T)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const A=(T,O)=>{T instanceof p.OneReference&&(O==="show"&&this._revealReference(T,!1),this._onDidSelectReference.fire({element:T,kind:O,source:"tree"}))};this._tree.onDidOpen(T=>{T.sideBySide?A(T.element,"side"):T.editorOptions.pinned?A(T.element,"goto"):A(T.element,"show")}),L.hide(this._treeContainer)}_onWidth(R){this._dim&&this._doLayoutBody(this._dim.height,R)}_doLayoutBody(R,F){super._doLayoutBody(R,F),this._dim=new L.Dimension(F,R),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(F),this._splitView.resizeView(0,F*this.layoutData.ratio)}setSelection(R){return this._revealReference(R,!0).then(()=>{this._model&&(this._tree.setSelection([R]),this._tree.setFocus([R]))})}setModel(R){return this._disposeOnNewModel.clear(),this._model=R,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=l.localize(1,null),L.show(this._messageContainer),Promise.resolve(void 0)):(L.hide(this._messageContainer),this._decorationsManager=new b(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(R=>this._tree.rerender(R))),this._disposeOnNewModel.add(this._preview.onMouseDown(R=>{const{event:F,target:M}=R;if(F.detail!==2)return;const A=this._getFocusedReference();A&&this._onDidSelectReference.fire({element:{uri:A.uri,range:M.range},kind:F.ctrlKey||F.metaKey||F.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.show(this._treeContainer),L.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[R]=this._tree.getFocus();if(R instanceof p.OneReference)return R;if(R instanceof p.FileReferences&&R.children.length>0)return R.children[0]}revealReference(R){return Se(this,void 0,void 0,function*(){yield this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:"goto",source:"tree"})})}_revealReference(R,F){return Se(this,void 0,void 0,function*(){if(this._revealedReference===R)return;this._revealedReference=R,R.uri.scheme!==m.Schemas.inMemory?this.setTitle((0,_.basenameOrAuthority)(R.uri),this._uriLabel.getUriLabel((0,_.dirname)(R.uri))):this.setTitle(l.localize(2,null));const M=this._textModelResolverService.createModelReference(R.uri);this._tree.getInput()===R.parent?this._tree.reveal(R):(F&&this._tree.reveal(R.parent),yield this._tree.expand(R.parent),this._tree.reveal(R));const A=yield M;if(!this._model){A.dispose();return}(0,S.dispose)(this._previewModelReference);const T=A.object;if(T){const O=this._preview.getModel()===T.textEditorModel?0:1,P=C.Range.lift(R.range).collapseToStart();this._previewModelReference=A,this._preview.setModel(T.textEditorModel),this._preview.setSelection(P),this._preview.revealRangeInCenter(P,O)}else this._preview.setModel(this._previewNotAvailableMessage),A.dispose()})}};e.ReferenceWidget=I,e.ReferenceWidget=I=Ie([ge(3,g.IThemeService),ge(4,a.ITextModelService),ge(5,c.IInstantiationService),ge(6,h.IPeekViewService),ge(7,d.ILabelService),ge(8,f.IUndoRedoService),ge(9,o.IKeybindingService),ge(10,t.ILanguageService),ge(11,n.ILanguageConfigurationService)],I)}),define(ee[373],te([1,0,13,9,61,2,33,12,5,136,664,25,29,15,8,117,191,46,87,155,898]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,C.localize(0,null));let r=d=class{static get(p){return p.getContribution(d.ID)}constructor(p,b,w,E,I,N,R,F){this._defaultTreeKeyboardSupport=p,this._editor=b,this._editorService=E,this._notificationService=I,this._instantiationService=N,this._storageService=R,this._configurationService=F,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(w)}dispose(){var p,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(p=this._widget)===null||p===void 0||p.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(p,b,w){let E;if(this._widget&&(E=this._widget.position),this.closeWidget(),E&&p.containsPosition(E))return;this._peekMode=w,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const I="peekViewLayout",N=o.LayoutData.fromJSON(this._storageService.get(I,0,"{}"));this._widget=this._instantiationService.createInstance(o.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,N),this._widget.setTitle(C.localize(1,null)),this._widget.show(p),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(I,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(F=>{const{element:M,kind:A}=F;if(M)switch(A){case"open":(F.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(M,!1,!1);break;case"side":this.openReference(M,!0,!1);break;case"goto":w?this._gotoReference(M,!0):this.openReference(M,!1,!0);break}}));const R=++this._requestIdPool;b.then(F=>{var M;if(R!==this._requestIdPool||!this._widget){F.dispose();return}return(M=this._model)===null||M===void 0||M.dispose(),this._model=F,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(2,null,this._model.title,this._model.references.length));const A=this._editor.getModel().uri,T=new m.Position(p.startLineNumber,p.startColumn),O=this._model.nearestReference(A,T);if(O)return this._widget.setSelection(O).then(()=>{this._widget&&this._editor.getOption(85)==="editor"&&this._widget.focusOnPreviewEditor()})}})},F=>{this._notificationService.error(F)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const b=this._widget.position;if(!b)return;const w=this._model.nearestReference(this._editor.getModel().uri,b);if(!w)return;const E=this._model.nextOrPreviousReference(w,p),I=this._editor.hasTextFocus(),N=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(E),yield this._gotoReference(E,!1),I?this._editor.focus():this._widget&&N&&this._widget.focusOnPreviewEditor()})}revealReference(p){return Se(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(p))})}closeWidget(p=!0){var b,w;(b=this._widget)===null||b===void 0||b.dispose(),(w=this._model)===null||w===void 0||w.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,p&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(p,b){var w;(w=this._widget)===null||w===void 0||w.hide(),this._ignoreModelChangeEvent=!0;const E=_.Range.lift(p.range).collapseToStart();return this._editorService.openCodeEditor({resource:p.uri,options:{selection:E,selectionSource:"code.jump",pinned:b}},this._editor).then(I=>{var N;if(this._ignoreModelChangeEvent=!1,!I||!this._widget){this.closeWidget();return}if(this._editor===I)this._widget.show(E),this._widget.focusOnReferenceTree();else{const R=d.get(I),F=this._model.clone();this.closeWidget(),I.focus(),R?.toggleWidget(E,(0,L.createCancelablePromise)(M=>Promise.resolve(F)),(N=this._peekMode)!==null&&N!==void 0?N:!1)}},I=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(I)})}openReference(p,b,w){b||this.closeWidget();const{uri:E,range:I}=p;this._editorService.openCodeEditor({resource:E,options:{selection:I,selectionSource:"code.jump",pinned:w}},this._editor,b)}};e.ReferencesController=r,r.ID="editor.contrib.referencesController",e.ReferencesController=r=d=Ie([ge(2,i.IContextKeyService),ge(3,S.ICodeEditorService),ge(4,h.INotificationService),ge(5,t.IInstantiationService),ge(6,l.IStorageService),ge(7,n.IConfigurationService)],r);function g(f,p){const b=(0,v.getOuterEditor)(f);if(!b)return;const w=r.get(b);w&&p(w)}a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,y.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(f){g(f,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(f){g(f,p=>{p.goToNextOrPreviousReference(!0)})}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(f){g(f,p=>{p.goToNextOrPreviousReference(!1)})}}),s.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),s.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),s.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),s.CommandsRegistry.registerCommand("closeReferenceSearch",f=>g(f,p=>p.closeWidget())),a.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(v.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),a.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"))}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,u.WorkbenchListFocusContextKey,u.WorkbenchTreeElementCanCollapse.negate(),u.WorkbenchTreeElementCanExpand.negate()),handler(f){var p;const w=(p=f.get(u.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(w)&&w[0]instanceof c.OneReference&&g(f,E=>E.revealReference(w[0]))}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,u.WorkbenchListFocusContextKey,u.WorkbenchTreeElementCanCollapse.negate(),u.WorkbenchTreeElementCanExpand.negate()),handler(f){var p;const w=(p=f.get(u.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(w)&&w[0]instanceof c.OneReference&&g(f,E=>E.openReference(w[0],!0,!0))}}),s.CommandsRegistry.registerCommand("openReference",f=>{var p;const w=(p=f.get(u.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(w)&&w[0]instanceof c.OneReference&&g(f,E=>E.openReference(w[0],!1,!0))})}),define(ee[256],te([1,0,49,13,61,20,21,104,176,16,33,161,12,5,22,28,373,155,804,190,136,662,30,25,15,8,46,85,247,18,47,238]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N,R){"use strict";var F,M,A,T,O,P,x,z;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,r.MenuRegistry.appendMenuItem(r.MenuId.EditorContext,{submenu:r.MenuId.EditorContextPeek,title:d.localize(0,null),group:"navigation",order:100});class q{static is(V){return!V||typeof V!="object"?!1:!!(V instanceof q||n.Position.isIPosition(V.position)&&V.model)}constructor(V,Z){this.model=V,this.position=Z}}e.SymbolNavigationAnchor=q;class B extends v.EditorAction2{static all(){return B._allSymbolNavigationCommands.values()}static _patchConfig(V){const Z=Object.assign(Object.assign({},V),{f1:!0});if(Z.menu)for(const ie of N.Iterable.wrap(Z.menu))(ie.id===r.MenuId.EditorContext||ie.id===r.MenuId.EditorContextPeek)&&(ie.when=f.ContextKeyExpr.and(V.precondition,ie.when));return Z}constructor(V,Z){super(B._patchConfig(Z)),this.configuration=V,B._allSymbolNavigationCommands.set(Z.id,this)}runEditorCommand(V,Z,ie,le){if(!Z.hasModel())return Promise.resolve(void 0);const he=V.get(b.INotificationService),de=V.get(C.ICodeEditorService),ce=V.get(w.IEditorProgressService),ae=V.get(l.ISymbolNavigationService),J=V.get(I.ILanguageFeaturesService),K=V.get(p.IInstantiationService),H=Z.getModel(),Q=Z.getPosition(),j=q.is(ie)?ie:new q(H,Q),re=new m.EditorStateCancellationTokenSource(Z,5),se=(0,k.raceCancellation)(this._getLocationModel(J,j.model,j.position,re.token),re.token).then(ue=>Se(this,void 0,void 0,function*(){var me;if(!ue||re.token.isCancellationRequested)return;(0,L.alert)(ue.ariaMessage);let ve;if(ue.referenceAt(H.uri,Q)){const we=this._getAlternativeCommand(Z);!B._activeAlternativeCommands.has(we)&&B._allSymbolNavigationCommands.has(we)&&(ve=B._allSymbolNavigationCommands.get(we))}const Ce=ue.references.length;if(Ce===0){if(!this.configuration.muteMessage){const we=H.getWordAtPosition(Q);(me=c.MessageController.get(Z))===null||me===void 0||me.showMessage(this._getNoResultFoundMessage(we),Q)}}else if(Ce===1&&ve)B._activeAlternativeCommands.add(this.desc.id),K.invokeFunction(we=>ve.runEditorCommand(we,Z,ie,le).finally(()=>{B._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(de,ae,Z,ue,le)}),ue=>{he.error(ue)}).finally(()=>{re.dispose()});return ce.showWhile(se,250),se}_onResult(V,Z,ie,le,he){return Se(this,void 0,void 0,function*(){const de=this._getGoToPreference(ie);if(!(ie instanceof s.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||de==="peek"&&le.references.length>1))this._openInPeek(ie,le,he);else{const ce=le.firstReference(),ae=le.references.length>1&&de==="gotoAndPeek",J=yield this._openReference(ie,V,ce,this.configuration.openToSide,!ae);ae&&J?this._openInPeek(J,le,he):le.dispose(),de==="goto"&&Z.put(ce)}})}_openReference(V,Z,ie,le,he){return Se(this,void 0,void 0,function*(){let de;if((0,a.isLocationLink)(ie)&&(de=ie.targetSelectionRange),de||(de=ie.range),!de)return;const ce=yield Z.openCodeEditor({resource:ie.uri,options:{selection:i.Range.collapseToStart(de),selectionRevealType:3,selectionSource:"code.jump"}},V,le);if(ce){if(he){const ae=ce.getModel(),J=ce.createDecorationsCollection([{range:de,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{ce.getModel()===ae&&J.clear()},350)}return ce}})}_openInPeek(V,Z,ie){const le=u.ReferencesController.get(V);le&&V.hasModel()?le.toggleWidget(ie??V.getSelection(),(0,k.createCancelablePromise)(he=>Promise.resolve(Z)),this.configuration.openInPeek):Z.dispose()}}e.SymbolNavigationAction=B,B._allSymbolNavigationCommands=new Map,B._activeAlternativeCommands=new Set;class $ extends B{_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDefinitionsAtPosition)(V.definitionProvider,Z,ie,le),d.localize(1,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(2,null,V.word):d.localize(3,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeDefinitionCommand}_getGoToPreference(V){return V.getOption(57).multipleDefinitions}}e.DefinitionAction=$,(0,r.registerAction2)((F=class extends ${constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:F.id,title:{value:d.localize(4,null),original:"Go to Definition",mnemonicTitle:d.localize(5,null)},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:f.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,R.IsWebContext),primary:2118,weight:100}],menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.1},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),g.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",F.id)}},F.id="editor.action.revealDefinition",F)),(0,r.registerAction2)((M=class extends ${constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:M.id,title:{value:d.localize(6,null),original:"Open Definition to the Side"},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,70),weight:100},{when:f.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,R.IsWebContext),primary:(0,y.KeyChord)(2089,2118),weight:100}]}),g.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",M.id)}},M.id="editor.action.revealDefinitionAside",M)),(0,r.registerAction2)((A=class extends ${constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:A.id,title:{value:d.localize(7,null),original:"Peek Definition"},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:2}}),g.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",A.id)}},A.id="editor.action.peekDefinition",A));class X extends B{_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDeclarationsAtPosition)(V.declarationProvider,Z,ie,le),d.localize(8,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(9,null,V.word):d.localize(10,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeDeclarationCommand}_getGoToPreference(V){return V.getOption(57).multipleDeclarations}}(0,r.registerAction2)((T=class extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:T.id,title:{value:d.localize(11,null),original:"Go to Declaration",mnemonicTitle:d.localize(12,null)},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.3},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(13,null,V.word):d.localize(14,null)}},T.id="editor.action.revealDeclaration",T)),(0,r.registerAction2)(class extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:d.localize(15,null),original:"Peek Declaration"},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ne extends B{_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getTypeDefinitionsAtPosition)(V.typeDefinitionProvider,Z,ie,le),d.localize(16,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(17,null,V.word):d.localize(18,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeTypeDefinitionCommand}_getGoToPreference(V){return V.getOption(57).multipleTypeDefinitions}}(0,r.registerAction2)((O=class extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:O.ID,title:{value:d.localize(19,null),original:"Go to Type Definition",mnemonicTitle:d.localize(20,null)},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.4},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},O.ID="editor.action.goToTypeDefinition",O)),(0,r.registerAction2)((P=class extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:P.ID,title:{value:d.localize(21,null),original:"Peek Type Definition"},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:4}})}},P.ID="editor.action.peekTypeDefinition",P));class oe extends B{_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getImplementationsAtPosition)(V.implementationProvider,Z,ie,le),d.localize(22,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(23,null,V.word):d.localize(24,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeImplementationCommand}_getGoToPreference(V){return V.getOption(57).multipleImplementations}}(0,r.registerAction2)((x=class extends oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:x.ID,title:{value:d.localize(25,null),original:"Go to Implementations",mnemonicTitle:d.localize(26,null)},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.45},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},x.ID="editor.action.goToImplementation",x)),(0,r.registerAction2)((z=class extends oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:z.ID,title:{value:d.localize(27,null),original:"Peek Implementations"},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:5}})}},z.ID="editor.action.peekImplementation",z));class Y extends B{_getNoResultFoundMessage(V){return V?d.localize(28,null,V.word):d.localize(29,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeReferenceCommand}_getGoToPreference(V){return V.getOption(57).multipleReferences}}(0,r.registerAction2)(class extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:d.localize(30,null),original:"Go to References",mnemonicTitle:d.localize(31,null)},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.45},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(V.referenceProvider,Z,ie,!0,le),d.localize(32,null))})}}),(0,r.registerAction2)(class extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:d.localize(33,null),original:"Peek References"},precondition:f.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(V.referenceProvider,Z,ie,!1,le),d.localize(34,null))})}});class U extends B{constructor(V,Z,ie){super(V,{id:"editor.action.goToLocation",title:{value:d.localize(35,null),original:"Go to Any Symbol"},precondition:f.ContextKeyExpr.and(o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=Z,this._gotoMultipleBehaviour=ie}_getLocationModel(V,Z,ie,le){return Se(this,void 0,void 0,function*(){return new h.ReferencesModel(this._references,d.localize(36,null))})}_getNoResultFoundMessage(V){return V&&d.localize(37,null,V.word)||""}_getGoToPreference(V){var Z;return(Z=this._gotoMultipleBehaviour)!==null&&Z!==void 0?Z:V.getOption(57).multipleReferences}_getAlternativeCommand(){return""}}g.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:n.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(W,V,Z,ie,le,he,de)=>Se(void 0,void 0,void 0,function*(){(0,D.assertType)(S.URI.isUri(V)),(0,D.assertType)(n.Position.isIPosition(Z)),(0,D.assertType)(Array.isArray(ie)),(0,D.assertType)(typeof le>"u"||typeof le=="string"),(0,D.assertType)(typeof de>"u"||typeof de=="boolean");const ce=W.get(C.ICodeEditorService),ae=yield ce.openCodeEditor({resource:V},ce.getFocusedCodeEditor());if((0,_.isCodeEditor)(ae))return ae.setPosition(Z),ae.revealPositionInCenterIfOutsideViewport(Z,0),ae.invokeWithinContext(J=>{const K=new class extends U{_getNoResultFoundMessage(H){return he||super._getNoResultFoundMessage(H)}}({muteMessage:!he,openInPeek:!!de,openToSide:!1},ie,le);J.get(p.IInstantiationService).invokeFunction(K.run.bind(K),ae)})})}),g.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:n.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(W,V,Z,ie,le)=>Se(void 0,void 0,void 0,function*(){W.get(g.ICommandService).executeCommand("editor.action.goToLocations",V,Z,ie,le,void 0,!0)})}),g.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(W,V,Z)=>{(0,D.assertType)(S.URI.isUri(V)),(0,D.assertType)(n.Position.isIPosition(Z));const ie=W.get(I.ILanguageFeaturesService),le=W.get(C.ICodeEditorService);return le.openCodeEditor({resource:V},le.getFocusedCodeEditor()).then(he=>{if(!(0,_.isCodeEditor)(he)||!he.hasModel())return;const de=u.ReferencesController.get(he);if(!de)return;const ce=(0,k.createCancelablePromise)(J=>(0,E.getReferencesAtPosition)(ie.referenceProvider,he.getModel(),n.Position.lift(Z),!1,J).then(K=>new h.ReferencesModel(K,d.localize(38,null)))),ae=new i.Range(Z.lineNumber,Z.column,Z.lineNumber,Z.column);return Promise.resolve(de.toggleWidget(ae,ce,!1))})}}),g.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ee[374],te([1,0,13,9,56,2,104,16,5,42,65,185,136,663,15,256,247,18,39,447]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let o=c=class{constructor(r,g,f,p){this.textModelResolverService=g,this.languageService=f,this.languageFeaturesService=p,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=r,this.linkDecorations=this.editor.createDecorationsCollection();const b=new s.ClickLinkGesture(r);this.toUnhook.add(b),this.toUnhook.add(b.onMouseMoveOrRelevantKeyDown(([w,E])=>{this.startFindDefinitionFromMouse(w,E??void 0)})),this.toUnhook.add(b.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).catch(E=>{(0,k.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(b.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(r){return r.getContribution(c.ID)}startFindDefinitionFromCursor(r){return Se(this,void 0,void 0,function*(){yield this.startFindDefinition(r),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(r,g){if(r.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(r,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const f=r.target.position;this.startFindDefinition(f)}startFindDefinition(r){var g;return Se(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const f=r?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(r):null;if(!f){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===f.startColumn&&this.currentWordAtPosition.endColumn===f.endColumn&&this.currentWordAtPosition.word===f.word)return;this.currentWordAtPosition=f;const p=new S.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,L.createCancelablePromise)(E=>this.findDefinition(r,E));let b;try{b=yield this.previousPromise}catch(E){(0,k.onUnexpectedError)(E);return}if(!b||!b.length||!p.validate(this.editor)){this.removeLinkDecorations();return}const w=b[0].originSelectionRange?_.Range.lift(b[0].originSelectionRange):new _.Range(r.lineNumber,f.startColumn,r.lineNumber,f.endColumn);if(b.length>1){let E=w;for(const{originSelectionRange:I}of b)I&&(E=_.Range.plusRange(E,I));this.addDecoration(E,new y.MarkdownString().appendText(i.localize(0,null,b.length)))}else{const E=b[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:N}}=I,{startLineNumber:R}=E.range;if(R<1||R>N.getLineCount()){I.dispose();return}const F=this.getPreviewValue(N,R,E),M=this.languageService.guessLanguageIdByFilepathOrFirstLine(N.uri);this.addDecoration(w,F?new y.MarkdownString().appendCodeblock(M||"",F):void 0),I.dispose()})}})}getPreviewValue(r,g,f){let p=f.range;return p.endLineNumber-p.startLineNumber>=c.MAX_SOURCE_PREVIEW_LINES&&(p=this.getPreviewRangeBasedOnIndentation(r,g)),this.stripIndentationFromPreviewRange(r,g,p)}stripIndentationFromPreviewRange(r,g,f){let b=r.getLineFirstNonWhitespaceColumn(g);for(let E=g+1;E<f.endLineNumber;E++){const I=r.getLineFirstNonWhitespaceColumn(E);b=Math.min(b,I)}return r.getValueInRange(f).replace(new RegExp(`^\\s{${b-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(r,g){const f=r.getLineFirstNonWhitespaceColumn(g),p=Math.min(r.getLineCount(),g+c.MAX_SOURCE_PREVIEW_LINES);let b=g+1;for(;b<p;b++){const w=r.getLineFirstNonWhitespaceColumn(b);if(f===w)break}return new _.Range(g,1,b+1,1)}addDecoration(r,g){const f={range:r,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations.set([f])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(r,g){var f;return this.editor.hasModel()&&r.isLeftClick&&r.isNoneOrSingleMouseDown&&r.target.type===6&&!(((f=r.target.detail.injectedText)===null||f===void 0?void 0:f.options)instanceof l.ModelDecorationInjectedTextOptions)&&(r.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(r,g){const f=this.editor.getModel();return f?(0,u.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,f,r,g):Promise.resolve(null)}gotoDefinition(r,g){return this.editor.setPosition(r),this.editor.invokeWithinContext(f=>{const p=!g&&this.editor.getOption(86)&&!this.isInPeekEditor(f);return new a.DefinitionAction({openToSide:g,openInPeek:p,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(f)})}isInPeekEditor(r){const g=r.get(t.IContextKeyService);return n.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=o,o.ID="editor.contrib.gotodefinitionatposition",o.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=o=c=Ie([ge(1,C.ITextModelService),ge(2,v.ILanguageService),ge(3,h.ILanguageFeaturesService)],o),(0,m.registerEditorContribution)(o.ID,o,2)}),define(ee[899],te([1,0,7,14,13,9,2,44,5,18,234,135,250,112,372,671,94,55,85]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const c=L.$;class o{constructor(f,p,b){this.owner=f,this.range=p,this.marker=b}isValidForHoverAnchor(f){return f.type===1&&this.range.startColumn<=f.range.startColumn&&this.range.endColumn>=f.range.endColumn}}e.MarkerHover=o;const d={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let r=class{constructor(f,p,b,w){this._editor=f,this._markerDecorationsService=p,this._openerService=b,this._languageFeaturesService=w,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(f,p){if(!this._editor.hasModel()||f.type!==1&&!f.supportsMarkerHover)return[];const b=this._editor.getModel(),w=f.range.startLineNumber,E=b.getLineMaxColumn(w),I=[];for(const N of p){const R=N.range.startLineNumber===w?N.range.startColumn:1,F=N.range.endLineNumber===w?N.range.endColumn:E,M=this._markerDecorationsService.getMarker(b.uri,N);if(!M)continue;const A=new _.Range(f.range.startLineNumber,R,f.range.startLineNumber,F);I.push(new o(this,A,M))}return I}renderHoverParts(f,p){if(!p.length)return S.Disposable.None;const b=new S.DisposableStore;p.forEach(E=>f.fragment.appendChild(this.renderMarkerHover(E,b)));const w=p.length===1?p[0]:p.sort((E,I)=>u.MarkerSeverity.compare(E.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(f,w,b),b}renderMarkerHover(f,p){const b=c("div.hover-row"),w=L.append(b,c("div.marker.hover-contents")),{source:E,message:I,code:N,relatedInformation:R}=f.marker;this._editor.applyFontInfo(w);const F=L.append(w,c("span"));if(F.style.whiteSpace="pre-wrap",F.innerText=I,E||N)if(N&&typeof N!="string"){const M=c("span");if(E){const P=L.append(M,c("span"));P.innerText=E}const A=L.append(M,c("a.code-link"));A.setAttribute("href",N.target.toString()),p.add(L.addDisposableListener(A,"click",P=>{this._openerService.open(N.target,{allowCommands:!0}),P.preventDefault(),P.stopPropagation()}));const T=L.append(A,c("span"));T.innerText=N.value;const O=L.append(w,M);O.style.opacity="0.6",O.style.paddingLeft="6px"}else{const M=L.append(w,c("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=E&&N?`${E}(${N})`:E||`(${N})`}if((0,k.isNonEmptyArray)(R))for(const{message:M,resource:A,startLineNumber:T,startColumn:O}of R){const P=L.append(w,c("div"));P.style.marginTop="8px";const x=L.append(P,c("a"));x.innerText=`${(0,m.basename)(A)}(${T}, ${O}): `,x.style.cursor="pointer",p.add(L.addDisposableListener(x,"click",q=>{q.stopPropagation(),q.preventDefault(),this._openerService&&this._openerService.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:T,startColumn:O}}}).catch(D.onUnexpectedError)}));const z=L.append(P,c("span"));z.innerText=M,this._editor.applyFontInfo(z)}return b}renderMarkerStatusbar(f,p,b){if((p.marker.severity===u.MarkerSeverity.Error||p.marker.severity===u.MarkerSeverity.Warning||p.marker.severity===u.MarkerSeverity.Info)&&f.statusBar.addAction({label:a.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var w;f.hide(),(w=t.MarkerController.get(this._editor))===null||w===void 0||w.showAtMarker(p.marker),this._editor.focus()}}),!this._editor.getOption(89)){const w=f.statusBar.append(c("div"));this.recentMarkerCodeActionsInfo&&(u.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===u.IMarkerData.makeKey(p.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=a.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:b.add((0,y.disposableTimeout)(()=>w.textContent=a.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const I=this.getCodeActions(p.marker);b.add((0,S.toDisposable)(()=>I.cancel())),I.then(N=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:p.marker,hasCodeActions:N.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){N.dispose(),w.textContent=a.localize(3,null);return}w.style.display="none";let R=!1;b.add((0,S.toDisposable)(()=>{R||N.dispose()})),f.statusBar.addAction({label:a.localize(4,null),commandId:s.quickFixCommandId,run:F=>{R=!0;const M=n.CodeActionController.get(this._editor),A=L.getDomNodePagePosition(F);f.hide(),M?.showCodeActions(d,N,{x:A.left,y:A.top,width:A.width,height:A.height})}})},D.onUnexpectedError)}}getCodeActions(f){return(0,y.createCancelablePromise)(p=>(0,s.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn),d,l.Progress.None,p))}};e.MarkerHoverParticipant=r,e.MarkerHoverParticipant=r=Ie([ge(1,C.IMarkerDecorationsService),ge(2,h.IOpenerService),ge(3,v.ILanguageFeaturesService)],r)}),define(ee[375],te([1,0,61,2,16,5,22,42,374,370,779,8,55,32,23,100,248,899,253,34,669,449]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;const r=!1;let g=d=class{static get(T){return T.getContribution(d.ID)}constructor(T,O,P,x,z){this._editor=T,this._instantiationService=O,this._openerService=P,this._languageService=x,this._keybindingService=z,this._toUnhook=new k.DisposableStore,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(q=>{q.hasChanged(59)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const T=()=>this._hideWidgets(),O=this._editor.getOption(59);this._isHoverEnabled=O.enabled,this._isHoverSticky=O.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(P=>this._onEditorMouseDown(P))),this._toUnhook.add(this._editor.onMouseUp(P=>this._onEditorMouseUp(P))),this._toUnhook.add(this._editor.onMouseMove(P=>this._onEditorMouseMove(P))),this._toUnhook.add(this._editor.onKeyDown(P=>this._onKeyDown(P)))):(this._toUnhook.add(this._editor.onMouseMove(P=>this._onEditorMouseMove(P))),this._toUnhook.add(this._editor.onKeyDown(P=>this._onKeyDown(P)))),this._toUnhook.add(this._editor.onMouseLeave(P=>this._onEditorMouseLeave(P))),this._toUnhook.add(this._editor.onDidChangeModel(T)),this._toUnhook.add(this._editor.onDidScrollChange(P=>this._onEditorScrollChanged(P)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(T){(T.scrollTopChanged||T.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(T){var O;this._isMouseDown=!0;const P=T.target;if(P.type===9&&P.detail===v.ContentHoverWidget.ID){this._hoverClicked=!0;return}P.type===12&&P.detail===C.MarginHoverWidget.ID||(P.type!==12&&(this._hoverClicked=!1),!((O=this._contentWidget)===null||O===void 0)&&O.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(T){this._isMouseDown=!1}_onEditorMouseLeave(T){var O,P;const x=T.event.browserEvent.relatedTarget;!((O=this._contentWidget)===null||O===void 0)&&O.widget.isResizing||!((P=this._contentWidget)===null||P===void 0)&&P.containsNode(x)||r||this._hideWidgets()}_onEditorMouseMove(T){var O,P,x,z,q,B,$,X,ne,oe,Y;const U=T.target;if(!((O=this._contentWidget)===null||O===void 0)&&O.isFocused||!((P=this._contentWidget)===null||P===void 0)&&P.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&U.type===9&&U.detail===v.ContentHoverWidget.ID||this._isHoverSticky&&(!((x=this._contentWidget)===null||x===void 0)&&x.containsNode((z=T.event.browserEvent.view)===null||z===void 0?void 0:z.document.activeElement))&&!(!((B=(q=T.event.browserEvent.view)===null||q===void 0?void 0:q.getSelection())===null||B===void 0)&&B.isCollapsed)||!this._isHoverSticky&&U.type===9&&U.detail===v.ContentHoverWidget.ID&&(!(($=this._contentWidget)===null||$===void 0)&&$.isColorPickerVisible)||this._isHoverSticky&&U.type===12&&U.detail===C.MarginHoverWidget.ID||this._isHoverSticky&&(!((X=this._contentWidget)===null||X===void 0)&&X.isVisibleFromKeyboard))return;const W=(ne=U.element)===null||ne===void 0?void 0:ne.classList.contains("colorpicker-color-decoration"),V=this._editor.getOption(145);if(W&&(V==="click"&&!this._hoverActivatedByColorDecoratorClick||V==="hover"&&!this._isHoverEnabled&&!r||V==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!W&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(T)){(oe=this._glyphWidget)===null||oe===void 0||oe.hide();return}if(U.type===2&&U.position){(Y=this._contentWidget)===null||Y===void 0||Y.hide(),this._glyphWidget||(this._glyphWidget=new C.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(U.position.lineNumber);return}r||this._hideWidgets()}_onKeyDown(T){var O;if(!this._editor.hasModel())return;const P=this._keybindingService.softDispatch(T,this._editor.getDomNode()),x=P.kind===1||P.kind===2&&P.commandId==="editor.action.showHover"&&((O=this._contentWidget)===null||O===void 0?void 0:O.isVisible);T.keyCode!==5&&T.keyCode!==6&&T.keyCode!==57&&T.keyCode!==4&&!x&&this._hideWidgets()}_hideWidgets(){var T,O,P;r||this._isMouseDown&&this._hoverClicked&&(!((T=this._contentWidget)===null||T===void 0)&&T.isColorPickerVisible)||l.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(O=this._glyphWidget)===null||O===void 0||O.hide(),(P=this._contentWidget)===null||P===void 0||P.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(v.ContentHoverController,this._editor)),this._contentWidget}showContentHover(T,O,P,x,z=!1){this._hoverActivatedByColorDecoratorClick=z,this._getOrCreateContentWidget().startShowingAtRange(T,O,P,x)}focus(){var T;(T=this._contentWidget)===null||T===void 0||T.focus()}scrollUp(){var T;(T=this._contentWidget)===null||T===void 0||T.scrollUp()}scrollDown(){var T;(T=this._contentWidget)===null||T===void 0||T.scrollDown()}scrollLeft(){var T;(T=this._contentWidget)===null||T===void 0||T.scrollLeft()}scrollRight(){var T;(T=this._contentWidget)===null||T===void 0||T.scrollRight()}pageUp(){var T;(T=this._contentWidget)===null||T===void 0||T.pageUp()}pageDown(){var T;(T=this._contentWidget)===null||T===void 0||T.pageDown()}goToTop(){var T;(T=this._contentWidget)===null||T===void 0||T.goToTop()}goToBottom(){var T;(T=this._contentWidget)===null||T===void 0||T.goToBottom()}get isColorPickerVisible(){var T;return(T=this._contentWidget)===null||T===void 0?void 0:T.isColorPickerVisible}get isHoverVisible(){var T;return(T=this._contentWidget)===null||T===void 0?void 0:T.isVisible}dispose(){var T,O;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(T=this._glyphWidget)===null||T===void 0||T.dispose(),(O=this._contentWidget)===null||O===void 0||O.dispose()}};e.ModesHoverController=g,g.ID="editor.contrib.hover",e.ModesHoverController=g=d=Ie([ge(1,s.IInstantiationService),ge(2,n.IOpenerService),ge(3,m.ILanguageService),ge(4,c.IKeybindingService)],g);class f extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:o.localize(0,null),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2087),weight:100}})}run(T,O,P){if(!O.hasModel())return;const x=g.get(O);if(!x)return;const z=O.getPosition(),q=new D.Range(z.lineNumber,z.column,z.lineNumber,z.column),B=O.getOption(2)===2||!!P?.focus;x.isHoverVisible?x.focus():x.showContentHover(q,1,1,B)}}class p extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:o.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(T,O){const P=g.get(O);if(!P)return;const x=O.getPosition();if(!x)return;const z=new D.Range(x.lineNumber,x.column,x.lineNumber,x.column),q=_.GotoDefinitionAtPositionEditorContribution.get(O);if(!q)return;q.startFindDefinitionFromCursor(x).then(()=>{P.showContentHover(z,1,1,!0)})}}class b extends y.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:o.localize(2,null),alias:"Scroll Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(T,O){const P=g.get(O);P&&P.scrollUp()}}class w extends y.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:o.localize(3,null),alias:"Scroll Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(T,O){const P=g.get(O);P&&P.scrollDown()}}class E extends y.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:o.localize(4,null),alias:"Scroll Left Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(T,O){const P=g.get(O);P&&P.scrollLeft()}}class I extends y.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:o.localize(5,null),alias:"Scroll Right Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(T,O){const P=g.get(O);P&&P.scrollRight()}}class N extends y.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:o.localize(6,null),alias:"Page Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(T,O){const P=g.get(O);P&&P.pageUp()}}class R extends y.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:o.localize(7,null),alias:"Page Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(T,O){const P=g.get(O);P&&P.pageDown()}}class F extends y.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:o.localize(8,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(T,O){const P=g.get(O);P&&P.goToTop()}}class M extends y.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:o.localize(9,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(T,O){const P=g.get(O);P&&P.goToBottom()}}(0,y.registerEditorContribution)(g.ID,g,2),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(F),(0,y.registerEditorAction)(M),a.HoverParticipantRegistry.register(u.MarkdownHoverParticipant),a.HoverParticipantRegistry.register(h.MarkerHoverParticipant),(0,t.registerThemingParticipant)((A,T)=>{const O=A.getColor(i.editorHoverBorder);O&&(T.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${O.transparent(.5)}; }`),T.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${O.transparent(.5)}; }`),T.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${O.transparent(.5)}; }`))})}),define(ee[900],te([1,0,2,16,5,366,367,375,100]),function(G,e,L,k,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class v extends L.Disposable{constructor(s){super(),this._editor=s,this._register(s.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(s){const n=this._editor.getOption(145);if(n!=="click"&&n!=="clickAndHover")return;const i=s.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(m.ModesHoverController.ID);if(t&&!t.isColorPickerVisible){const a=new y.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(a,1,0,!1,!0)}}}e.ColorContribution=v,v.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(v.ID,v,2),_.HoverParticipantRegistry.register(S.ColorHoverParticipant)}),define(ee[376],te([1,0,7,41,19,170,5,65,256,136,30,25,15,57,8,46]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function u(l,c,o,d){var r;return Se(this,void 0,void 0,function*(){const g=l.get(m.ITextModelService),f=l.get(i.IContextMenuService),p=l.get(s.ICommandService),b=l.get(t.IInstantiationService),w=l.get(a.INotificationService);if(yield d.item.resolve(y.CancellationToken.None),!d.part.location)return;const E=d.part.location,I=[],N=new Set(C.MenuRegistry.getMenuItems(C.MenuId.EditorContext).map(F=>(0,C.isIMenuItem)(F)?F.command.id:(0,D.generateUuid)()));for(const F of _.SymbolNavigationAction.all())N.has(F.desc.id)&&I.push(new k.Action(F.desc.id,C.MenuItemAction.label(F.desc,{renderShortTitle:!0}),void 0,!0,()=>Se(this,void 0,void 0,function*(){const M=yield g.createModelReference(E.uri);try{const A=new _.SymbolNavigationAnchor(M.object.textEditorModel,S.Range.getStartPosition(E.range)),T=d.item.anchor.range;yield b.invokeFunction(F.runEditorCommand.bind(F),c,A,T)}finally{M.dispose()}})));if(d.part.command){const{command:F}=d.part;I.push(new k.Separator),I.push(new k.Action(F.id,F.title,void 0,!0,()=>Se(this,void 0,void 0,function*(){var M;try{yield p.executeCommand(F.id,...(M=F.arguments)!==null&&M!==void 0?M:[])}catch(A){w.notify({severity:a.Severity.Error,source:d.item.provider.displayName,message:A})}})))}const R=c.getOption(125);f.showContextMenu({domForShadowRoot:R&&(r=c.getDomNode())!==null&&r!==void 0?r:void 0,getAnchor:()=>{const F=L.getDomNodePagePosition(o);return{x:F.left,y:F.top+F.height+8}},getActions:()=>I,onHide:()=>{c.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=u;function h(l,c,o,d){return Se(this,void 0,void 0,function*(){const g=yield l.get(m.ITextModelService).createModelReference(d.uri);yield o.invokeWithinContext(f=>Se(this,void 0,void 0,function*(){const p=c.hasSideBySideModifier,b=f.get(n.IContextKeyService),w=v.PeekContext.inPeekEditor.getValue(b),E=!p&&o.getOption(86)&&!w;return new _.DefinitionAction({openToSide:p,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(f,new _.SymbolNavigationAnchor(g.object.textEditorModel,S.Range.getStartPosition(d.range)),S.Range.lift(d.range))})),g.dispose()})}e.goToDefinitionWithLocation=h}),define(ee[377],te([1,0,7,14,13,19,9,2,63,20,21,159,120,38,70,5,28,48,39,73,18,65,185,325,376,25,45,8,46,32,23]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class F{constructor(){this._entries=new _.LRUCache(50)}get(z){const q=F._key(z);return this._entries.get(q)}set(z,q){const B=F._key(z);this._entries.set(B,q)}static _key(z){return`${z.uri.toString()}/${z.getVersionId()}`}}const M=(0,w.createDecorator)("IInlayHintsCache");(0,b.registerSingleton)(M,F,1);class A{constructor(z,q){this.item=z,this.index=q}get part(){const z=this.item.hint.label;return typeof z=="string"?{label:z}:z[this.index]}}e.RenderedInlayHintLabelPart=A;class T{constructor(z,q){this.part=z,this.hasTriggerModifier=q}}let O=R=class{static get(z){var q;return(q=z.getContribution(R.ID))!==null&&q!==void 0?q:void 0}constructor(z,q,B,$,X,ne,oe){this._editor=z,this._languageFeaturesService=q,this._inlayHintsCache=$,this._commandService=X,this._notificationService=ne,this._instaService=oe,this._disposables=new m.DisposableStore,this._sessionDisposables=new m.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new s.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=B.for(q.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(q.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(z.onDidChangeModel(()=>this._update())),this._disposables.add(z.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(z.onDidChangeConfiguration(Y=>{Y.hasChanged(138)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const z=this._editor.getOption(138);if(z.enabled==="off")return;const q=this._editor.getModel();if(!q||!this._languageFeaturesService.inlayHintsProvider.has(q))return;const B=this._inlayHintsCache.get(q);B&&this._updateHintsDecorators([q.getFullModelRange()],B),this._sessionDisposables.add((0,m.toDisposable)(()=>{q.isDisposed()||this._cacheHintsForFastRestore(q)}));let $;const X=new Set,ne=new y.RunOnceScheduler(()=>Se(this,void 0,void 0,function*(){const oe=Date.now();$?.dispose(!0),$=new D.CancellationTokenSource;const Y=q.onWillDispose(()=>$?.cancel());try{const U=$.token,W=yield g.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,q,this._getHintsRanges(),U);if(ne.delay=this._debounceInfo.update(q,Date.now()-oe),U.isCancellationRequested){W.dispose();return}for(const V of W.provider)typeof V.onDidChangeInlayHints=="function"&&!X.has(V)&&(X.add(V),this._sessionDisposables.add(V.onDidChangeInlayHints(()=>{ne.isScheduled()||ne.schedule()})));this._sessionDisposables.add(W),this._updateHintsDecorators(W.ranges,W.items),this._cacheHintsForFastRestore(q)}catch(U){(0,S.onUnexpectedError)(U)}finally{$.dispose(),Y.dispose()}}),this._debounceInfo.get(q));if(this._sessionDisposables.add(ne),this._sessionDisposables.add((0,m.toDisposable)(()=>$?.dispose(!0))),ne.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(oe=>{(oe.scrollTopChanged||!ne.isScheduled())&&ne.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(oe=>{const Y=Math.max(ne.delay,1250);ne.schedule(Y)})),z.enabled==="on")this._activeRenderMode=0;else{let oe,Y;z.enabled==="onUnlessPressed"?(oe=0,Y=1):(oe=1,Y=0),this._activeRenderMode=oe,this._sessionDisposables.add(L.ModifierKeyEmitter.getInstance().event(U=>{if(!this._editor.hasModel())return;const W=U.altKey&&U.ctrlKey&&!(U.shiftKey||U.metaKey)?Y:oe;if(W!==this._activeRenderMode){this._activeRenderMode=W;const V=this._editor.getModel(),Z=this._copyInlayHintsWithCurrentAnchor(V);this._updateHintsDecorators([V.getFullModelRange()],Z),ne.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ne.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const z=new m.DisposableStore,q=z.add(new r.ClickLinkGesture(this._editor)),B=new m.DisposableStore;return z.add(B),z.add(q.onMouseMoveOrRelevantKeyDown($=>{const[X]=$,ne=this._getInlayHintLabelPart(X),oe=this._editor.getModel();if(!ne||!oe){B.clear();return}const Y=new D.CancellationTokenSource;B.add((0,m.toDisposable)(()=>Y.dispose(!0))),ne.item.resolve(Y.token),this._activeInlayHintPart=ne.part.command||ne.part.location?new T(ne,X.hasTriggerModifier):void 0;const U=oe.validatePosition(ne.item.hint.position).lineNumber,W=new a.Range(U,1,U,oe.getLineMaxColumn(U)),V=this._getInlineHintsForRange(W);this._updateHintsDecorators([W],V),B.add((0,m.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([W],V)}))})),z.add(q.onCancel(()=>B.clear())),z.add(q.onExecute($=>Se(this,void 0,void 0,function*(){const X=this._getInlayHintLabelPart($);if(X){const ne=X.part;ne.location?this._instaService.invokeFunction(f.goToDefinitionWithLocation,$,this._editor,ne.location):u.Command.is(ne.command)&&(yield this._invokeCommand(ne.command,X.item))}}))),z}_getInlineHintsForRange(z){const q=new Set;for(const B of this._decorationsMetadata.values())z.containsRange(B.item.anchor.range)&&q.add(B.item);return Array.from(q)}_installDblClickGesture(z){return this._editor.onMouseUp(q=>Se(this,void 0,void 0,function*(){if(q.event.detail!==2)return;const B=this._getInlayHintLabelPart(q);if(B&&(q.event.preventDefault(),yield B.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(B.item.hint.textEdits))){const $=B.item.hint.textEdits.map(X=>t.EditOperation.replace(a.Range.lift(X.range),X.text));this._editor.executeEdits("inlayHint.default",$),z()}}))}_installContextMenu(){return this._editor.onContextMenu(z=>Se(this,void 0,void 0,function*(){if(!(z.event.target instanceof HTMLElement))return;const q=this._getInlayHintLabelPart(z);q&&(yield this._instaService.invokeFunction(f.showGoToContextMenu,this._editor,z.event.target,q))}))}_getInlayHintLabelPart(z){var q;if(z.target.type!==6)return;const B=(q=z.target.detail.injectedText)===null||q===void 0?void 0:q.options;if(B instanceof l.ModelDecorationInjectedTextOptions&&B?.attachedData instanceof A)return B.attachedData}_invokeCommand(z,q){var B;return Se(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(z.id,...(B=z.arguments)!==null&&B!==void 0?B:[])}catch($){this._notificationService.notify({severity:E.Severity.Error,source:q.provider.displayName,message:$})}})}_cacheHintsForFastRestore(z){const q=this._copyInlayHintsWithCurrentAnchor(z);this._inlayHintsCache.set(z,q)}_copyInlayHintsWithCurrentAnchor(z){const q=new Map;for(const[B,$]of this._decorationsMetadata){if(q.has($.item))continue;const X=z.getDecorationRange(B);if(X){const ne=new g.InlayHintAnchor(X,$.item.anchor.direction),oe=$.item.with({anchor:ne});q.set($.item,oe)}}return Array.from(q.values())}_getHintsRanges(){const q=this._editor.getModel(),B=this._editor.getVisibleRangesPlusViewportAboveBelow(),$=[];for(const X of B.sort(a.Range.compareRangesUsingStarts)){const ne=q.validateRange(new a.Range(X.startLineNumber-30,X.startColumn,X.endLineNumber+30,X.endColumn));$.length===0||!a.Range.areIntersectingOrTouching($[$.length-1],ne)?$.push(ne):$[$.length-1]=a.Range.plusRange($[$.length-1],ne)}return $}_updateHintsDecorators(z,q){var B,$;const X=[],ne=(he,de,ce,ae,J)=>{const K={content:ce,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:de.className,cursorStops:ae,attachedData:J};X.push({item:he,classNameRef:de,decoration:{range:he.anchor.range,options:{description:"InlayHint",showIfCollapsed:he.anchor.range.isEmpty(),collapseOnReplaceEdit:!he.anchor.range.isEmpty(),stickiness:0,[he.anchor.direction]:this._activeRenderMode===0?K:void 0}}})},oe=(he,de)=>{const ce=this._ruleFactory.createClassNameRef({width:`${Y/3|0}px`,display:"inline-block"});ne(he,ce,"\u200A",de?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None)},{fontSize:Y,fontFamily:U,padding:W,isUniform:V}=this._getLayoutInfo(),Z="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Z,U);for(const he of q){he.hint.paddingLeft&&oe(he,!1);const de=typeof he.hint.label=="string"?[{label:he.hint.label}]:he.hint.label;for(let ce=0;ce<de.length;ce++){const ae=de[ce],J=ce===0,K=ce===de.length-1,H={fontSize:`${Y}px`,fontFamily:`var(${Z}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:V?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(he.hint.textEdits)&&(H.cursor="default"),this._fillInColors(H,he.hint),(ae.command||ae.location)&&((B=this._activeInlayHintPart)===null||B===void 0?void 0:B.part.item)===he&&this._activeInlayHintPart.part.index===ce&&(H.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(H.color=(0,N.themeColorFromId)(I.editorActiveLinkForeground),H.cursor="pointer")),W&&(J&&K?(H.padding=`1px ${Math.max(1,Y/4)|0}px`,H.borderRadius=`${Y/4|0}px`):J?(H.padding=`1px 0 1px ${Math.max(1,Y/4)|0}px`,H.borderRadius=`${Y/4|0}px 0 0 ${Y/4|0}px`):K?(H.padding=`1px ${Math.max(1,Y/4)|0}px 1px 0`,H.borderRadius=`0 ${Y/4|0}px ${Y/4|0}px 0`):H.padding="1px 0 1px 0"),ne(he,this._ruleFactory.createClassNameRef(H),P(ae.label),K&&!he.hint.paddingRight?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None,new A(he,ce))}if(he.hint.paddingRight&&oe(he,!0),X.length>R._MAX_DECORATORS)break}const ie=[];for(const he of z)for(const{id:de}of($=this._editor.getDecorationsInRange(he))!==null&&$!==void 0?$:[]){const ce=this._decorationsMetadata.get(de);ce&&(ie.push(de),ce.classNameRef.dispose(),this._decorationsMetadata.delete(de))}const le=n.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(he=>{const de=he.deltaDecorations(ie,X.map(ce=>ce.decoration));for(let ce=0;ce<de.length;ce++){const ae=X[ce];this._decorationsMetadata.set(de[ce],ae)}}),le.restore(this._editor)}_fillInColors(z,q){q.kind===u.InlayHintKind.Parameter?(z.backgroundColor=(0,N.themeColorFromId)(I.editorInlayHintParameterBackground),z.color=(0,N.themeColorFromId)(I.editorInlayHintParameterForeground)):q.kind===u.InlayHintKind.Type?(z.backgroundColor=(0,N.themeColorFromId)(I.editorInlayHintTypeBackground),z.color=(0,N.themeColorFromId)(I.editorInlayHintTypeForeground)):(z.backgroundColor=(0,N.themeColorFromId)(I.editorInlayHintBackground),z.color=(0,N.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const z=this._editor.getOption(138),q=z.padding,B=this._editor.getOption(51),$=this._editor.getOption(48);let X=z.fontSize;(!X||X<5||X>B)&&(X=B);const ne=z.fontFamily||$;return{fontSize:X,fontFamily:ne,padding:q,isUniform:!q&&ne===$&&X===B}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const z of this._decorationsMetadata.values())z.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=O,O.ID="editor.contrib.InlayHints",O._MAX_DECORATORS=1500,e.InlayHintsController=O=R=Ie([ge(1,o.ILanguageFeaturesService),ge(2,c.ILanguageFeatureDebounceService),ge(3,M),ge(4,p.ICommandService),ge(5,E.INotificationService),ge(6,w.IInstantiationService)],O);function P(x){const z="\xA0";return x.replace(/[ \t]/g,z)}p.CommandsRegistry.registerCommand("_executeInlayHintProvider",(x,...z)=>Se(void 0,void 0,void 0,function*(){const[q,B]=z;(0,v.assertType)(C.URI.isUri(q)),(0,v.assertType)(a.Range.isIRange(B));const{inlayHintsProvider:$}=x.get(o.ILanguageFeaturesService),X=yield x.get(d.ITextModelService).createModelReference(q);try{const ne=yield g.InlayHintsFragments.create($,X.object.textEditorModel,[a.Range.lift(B)],D.CancellationToken.None),oe=ne.items.map(Y=>Y.hint);return setTimeout(()=>ne.dispose(),0),oe}finally{X.dispose()}}))});var yt=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],L;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=G[D]&&function(S){return new Promise(function(m,_){S=G[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(v){D({value:v,done:m})},S)}};define(ee[901],te([1,0,13,56,12,39,100,42,65,355,248,377,29,55,18,674,17,325,14]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class c extends S.HoverForeignElementAnchor{constructor(r,g,f,p){super(10,g,r.item.anchor.range,f,p,!0),this.part=r}}let o=class extends C.MarkdownHoverParticipant{constructor(r,g,f,p,b,w){super(r,g,f,p,w),this._resolverService=b,this.hoverOrdinal=6}suggestHoverAnchor(r){var g;if(!s.InlayHintsController.get(this._editor)||r.target.type!==6)return null;const p=(g=r.target.detail.injectedText)===null||g===void 0?void 0:g.options;return p instanceof D.ModelDecorationInjectedTextOptions&&p.attachedData instanceof s.RenderedInlayHintLabelPart?new c(p.attachedData,this,r.event.posx,r.event.posy):null}computeSync(){return[]}computeAsync(r,g,f){return r instanceof c?new L.AsyncIterableObject(p=>Se(this,void 0,void 0,function*(){var b,w,E,I;const{part:N}=r;if(yield N.item.resolve(f),f.isCancellationRequested)return;let R;typeof N.item.hint.tooltip=="string"?R=new k.MarkdownString().appendText(N.item.hint.tooltip):N.item.hint.tooltip&&(R=N.item.hint.tooltip),R&&p.emitOne(new C.MarkdownHover(this,r.range,[R],!1,0)),(0,l.isNonEmptyArray)(N.item.hint.textEdits)&&p.emitOne(new C.MarkdownHover(this,r.range,[new k.MarkdownString().appendText((0,a.localize)(0,null))],!1,10001));let F;if(typeof N.part.tooltip=="string"?F=new k.MarkdownString().appendText(N.part.tooltip):N.part.tooltip&&(F=N.part.tooltip),F&&p.emitOne(new C.MarkdownHover(this,r.range,[F],!1,1)),N.part.location||N.part.command){let P;const z=this._editor.getOption(76)==="altKey"?u.isMacintosh?(0,a.localize)(1,null):(0,a.localize)(2,null):u.isMacintosh?(0,a.localize)(3,null):(0,a.localize)(4,null);N.part.location&&N.part.command?P=new k.MarkdownString().appendText((0,a.localize)(5,null,z)):N.part.location?P=new k.MarkdownString().appendText((0,a.localize)(6,null,z)):N.part.command&&(P=new k.MarkdownString(`[${(0,a.localize)(7,null)}](${(0,h.asCommandLink)(N.part.command)} "${N.part.command.title}") (${z})`,{isTrusted:!0})),P&&p.emitOne(new C.MarkdownHover(this,r.range,[P],!1,1e4))}const M=yield this._resolveInlayHintLabelPartHover(N,f);try{for(var A=!0,T=yt(M),O;O=yield T.next(),b=O.done,!b;A=!0){I=O.value,A=!1;const P=I;p.emitOne(P)}}catch(P){w={error:P}}finally{try{!A&&!b&&(E=T.return)&&(yield E.call(T))}finally{if(w)throw w.error}}})):L.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(r,g){return Se(this,void 0,void 0,function*(){if(!r.part.location)return L.AsyncIterableObject.EMPTY;const{uri:f,range:p}=r.part.location,b=yield this._resolverService.createModelReference(f);try{const w=b.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(w)?(0,v.getHover)(this._languageFeaturesService.hoverProvider,w,new y.Position(p.startLineNumber,p.startColumn),g).filter(E=>!(0,k.isEmptyMarkdownString)(E.hover.contents)).map(E=>new C.MarkdownHover(this,r.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):L.AsyncIterableObject.EMPTY}finally{b.dispose()}})}};e.InlayHintsHover=o,e.InlayHintsHover=o=Ie([ge(1,m.ILanguageService),ge(2,i.IOpenerService),ge(3,n.IConfigurationService),ge(4,_.ITextModelService),ge(5,t.ILanguageFeaturesService)],o)}),define(ee[902],te([1,0,16,100,377,901]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.InlayHintsController.ID,y.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ee[378],te([1,0,2,18,892,891,8,57,30,15,22,185,5,247,376,12,19,31,73,7,302,59]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let g=r=class extends L.Disposable{constructor(p,b,w,E,I,N,R){super(),this._editor=p,this._contextMenuService=b,this._languageFeaturesService=w,this._instaService=E,this._contextKeyService=R,this._sessionStore=new L.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new y.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,w,I),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y.StickyScrollWidgetState([],[],0),this._readConfiguration();const F=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(A=>{(A.hasChanged(113)||A.hasChanged(71)||A.hasChanged(65)||A.hasChanged(108))&&this._readConfiguration()})),this._register(c.addDisposableListener(F,c.EventType.CONTEXT_MENU,A=>Se(this,void 0,void 0,function*(){this._onContextMenu(A)}))),this._stickyScrollFocusedContextKey=C.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=C.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const M=this._register(c.trackFocus(F));this._register(M.onDidBlur(A=>{this._positionRevealed===!1&&F.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(M.onDidFocus(A=>{this.focus()})),this._registerMouseListeners(),this._register(c.addDisposableListener(F,c.EventType.MOUSE_DOWN,A=>{this._onMouseDown=!0}))}static get(p){return p.getContribution(r.ID)}_disposeFocusStickyScrollStore(){var p;this._stickyScrollFocusedContextKey.set(!1),(p=this._focusDisposableStore)===null||p===void 0||p.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new L.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(p){this._focusedStickyElementIndex=p?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const p=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:p[this._focusedStickyElementIndex],column:1})}_revealPosition(p){this._reveaInEditor(p,()=>this._editor.revealPosition(p))}_revealLineInCenterIfOutsideViewport(p){this._reveaInEditor(p,()=>this._editor.revealLineInCenterIfOutsideViewport(p.lineNumber,0))}_reveaInEditor(p,b){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,b(),this._editor.setSelection(n.Range.fromPositions(p)),this._editor.focus()}_registerMouseListeners(){const p=this._register(new L.DisposableStore),b=this._register(new s.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:I=>{const N=this._stickyScrollWidget.getEditorPositionFromNode(I.target.element);return N?N.lineNumber:0}})),w=I=>{if(!this._editor.hasModel()||I.target.type!==12||I.target.detail!==this._stickyScrollWidget.getId())return null;const N=I.target.element;if(!N||N.innerText!==N.innerHTML)return null;const R=this._stickyScrollWidget.getEditorPositionFromNode(N);return R?{range:new n.Range(R.lineNumber,R.column,R.lineNumber,R.column+N.innerText.length),textElement:N}:null},E=this._stickyScrollWidget.getDomNode();this._register(c.addStandardDisposableListener(E,c.EventType.CLICK,I=>{if(I.ctrlKey||I.altKey||I.metaKey||!I.leftButton)return;if(I.shiftKey){const R=this._stickyScrollWidget.getStickyLineIndexFromChildDomNode(I.target);if(R===null)return;const F=new a.Position(this._endLineNumbers[R],1);this._revealLineInCenterIfOutsideViewport(F);return}let N=this._stickyScrollWidget.getEditorPositionFromNode(I.target);if(!N){const R=this._stickyScrollWidget.getLineNumberFromChildDomNode(I.target);if(R===null)return;N=new a.Position(R,1)}this._revealPosition(N)})),this._register(c.addStandardDisposableListener(E,c.EventType.MOUSE_MOVE,I=>{if(I.shiftKey){const N=this._stickyScrollWidget.getStickyLineIndexFromChildDomNode(I.target);if(N===null||this._showEndForLine!==null&&this._showEndForLine===N)return;this._showEndForLine=N,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(c.addDisposableListener(E,c.EventType.MOUSE_LEAVE,I=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(b.onMouseMoveOrRelevantKeyDown(([I,N])=>{const R=w(I);if(!R||!I.hasTriggerModifier||!this._editor.hasModel()){p.clear();return}const{range:F,textElement:M}=R;if(!F.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=F,p.clear();else if(M.style.textDecoration==="underline")return;const A=new u.CancellationTokenSource;p.add((0,L.toDisposable)(()=>A.dispose(!0)));let T;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new a.Position(F.startLineNumber,F.startColumn+1),A.token).then(O=>{if(!A.token.isCancellationRequested)if(O.length!==0){this._candidateDefinitionsLength=O.length;const P=M;T!==P?(p.clear(),T=P,T.style.textDecoration="underline",p.add((0,L.toDisposable)(()=>{T.style.textDecoration="none"}))):T||(T=P,T.style.textDecoration="underline",p.add((0,L.toDisposable)(()=>{T.style.textDecoration="none"})))}else p.clear()})})),this._register(b.onCancel(()=>{p.clear()})),this._register(b.onExecute(I=>Se(this,void 0,void 0,function*(){if(I.target.type!==12||I.target.detail!==this._stickyScrollWidget.getId())return;const N=this._stickyScrollWidget.getEditorPositionFromNode(I.target.element);N&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:N.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,I,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(p){const b=new d.StandardMouseEvent(p);this._contextMenuService.showContextMenu({menuId:_.MenuId.StickyScrollContext,getAnchor:()=>b})}_readConfiguration(){const p=this._editor.getOption(113);if(p.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else p.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(w=>{w.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(w=>this._onTokensChange(w))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(66).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll()}))}_needsUpdate(p){const b=this._stickyScrollWidget.getCurrentLines();for(const w of b)for(const E of p.ranges)if(w>=E.fromLineNumber&&w<=E.toLineNumber)return!0;return!1}_onTokensChange(p){this._needsUpdate(p)&&this._renderStickyScroll()}_onDidResize(){const b=this._editor.getLayoutInfo().height/this._editor.getOption(65);this._maxStickyLines=Math.round(b*.25)}_renderStickyScroll(){const p=this._editor.getModel();if(!p||p.isTooLargeForTokenization()){this._stickyScrollWidget.setState(void 0);return}const b=this._stickyLineCandidateProvider.getVersionId();if(b===void 0||b===p.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const w=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(w)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const p=this._editor.getOption(65),b=Math.min(this._maxStickyLines,this._editor.getOption(113).maxLineCount),w=this._editor.getScrollTop();let E=0;const I=[],N=[],R=this._editor.getVisibleRanges();if(R.length!==0){const F=new o.StickyRange(R[0].startLineNumber,R[R.length-1].endLineNumber),M=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(F);for(const A of M){const T=A.startLineNumber,O=A.endLineNumber,P=A.nestingDepth;if(O-T>0){const x=(P-1)*p,z=P*p,q=this._editor.getBottomForLineNumber(T)-w,B=this._editor.getTopForLineNumber(O)-w,$=this._editor.getBottomForLineNumber(O)-w;if(x>B&&x<=$){I.push(T),N.push(O+1),E=$-z;break}else z>q&&z<=$&&(I.push(T),N.push(O+1));if(I.length===b)break}}}return this._endLineNumbers=N,new y.StickyScrollWidgetState(I,N,E,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=g,g.ID="store.contrib.stickyScrollController",e.StickyScrollController=g=r=Ie([ge(1,m.IContextMenuService),ge(2,k.ILanguageFeaturesService),ge(3,S.IInstantiationService),ge(4,h.ILanguageConfigurationService),ge(5,l.ILanguageFeatureDebounceService),ge(6,v.IContextKeyService)],g)}),define(ee[903],te([1,0,16,697,739,30,29,15,22,378]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class C extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Toggle Sticky Scroll"},category:y.Categories.View,toggled:{condition:m.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(2,null),mnemonicTitle:(0,k.localize)(3,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.MenuId.StickyScrollContext}]})}run(l){return Se(this,void 0,void 0,function*(){const c=l.get(S.IConfigurationService),o=!c.getValue("editor.stickyScroll.enabled");return c.updateValue("editor.stickyScroll.enabled",o)})}}e.ToggleStickyScroll=C;const s=100;class n extends L.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,k.localize)(4,null),mnemonicTitle:(0,k.localize)(5,null),original:"Focus Sticky Scroll"},precondition:m.ContextKeyExpr.and(m.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),_.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(l,c){var o;(o=v.StickyScrollController.get(c))===null||o===void 0||o.focus()}}e.FocusStickyScroll=n;class i extends L.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,k.localize)(6,null),original:"Select next sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:18}})}runEditorCommand(l,c){var o;(o=v.StickyScrollController.get(c))===null||o===void 0||o.focusNext()}}e.SelectNextStickyScrollLine=i;class t extends L.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,k.localize)(7,null),original:"Select previous sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:16}})}runEditorCommand(l,c){var o;(o=v.StickyScrollController.get(c))===null||o===void 0||o.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class a extends L.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,k.localize)(8,null),original:"Go to focused sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:3}})}runEditorCommand(l,c){var o;(o=v.StickyScrollController.get(c))===null||o===void 0||o.goToFocused()}}e.GoToStickyScrollLine=a;class u extends L.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,k.localize)(9,null),original:"Select Editor"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:9}})}runEditorCommand(l,c){var o;(o=v.StickyScrollController.get(c))===null||o===void 0||o.selectEditor()}}e.SelectEditor=u}),define(ee[904],te([1,0,16,903,378,30]),function(G,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.StickyScrollController.ID,y.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(ee[905],te([1,0,16,33,373,29,15,8,46,87]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends y.ReferencesController{constructor(n,i,t,a,u,h,l){super(!0,n,i,t,a,u,h,l)}};e.StandaloneReferencesController=C,e.StandaloneReferencesController=C=Ie([ge(1,S.IContextKeyService),ge(2,k.ICodeEditorService),ge(3,_.INotificationService),ge(4,m.IInstantiationService),ge(5,v.IStorageService),ge(6,D.IConfigurationService)],C),(0,L.registerEditorContribution)(y.ReferencesController.ID,C,4)}),define(ee[906],te([1,0,9,2,54,99,736,157,45,46,192]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function n(g){return g.scheme===y.Schemas.file?g.fsPath:g.path}let i=0;class t{constructor(f,p,b,w,E,I,N){this.id=++i,this.type=0,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabel=p,this.strResource=b,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=N,this.isValid=!0}setValid(f){this.isValid=f}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class a{constructor(f,p){this.resourceLabel=f,this.reason=p}}class u{constructor(){this.elements=new Map}createMessage(){const f=[],p=[];for(const[,w]of this.elements)(w.reason===0?f:p).push(w.resourceLabel);const b=[];return f.length>0&&b.push(S.localize(0,null,f.join(", "))),p.length>0&&b.push(S.localize(1,null,p.join(", "))),b.join(`
`)}get size(){return this.elements.size}has(f){return this.elements.has(f)}set(f,p){this.elements.set(f,p)}delete(f){return this.elements.delete(f)}}class h{constructor(f,p,b,w,E,I,N){this.id=++i,this.type=1,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabels=p,this.strResources=b,this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=N,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(f,p,b){this.removedResources||(this.removedResources=new u),this.removedResources.has(p)||this.removedResources.set(p,new a(f,b))}setValid(f,p,b){b?this.invalidatedResources&&(this.invalidatedResources.delete(p),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new u),this.invalidatedResources.has(p)||this.invalidatedResources.set(p,new a(f,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(f,p){this.resourceLabel=f,this.strResource=p,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const f of this._past)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const f=[];f.push(`* ${this.strResource}:`);for(let p=0;p<this._past.length;p++)f.push(`   * [UNDO] ${this._past[p]}`);for(let p=this._future.length-1;p>=0;p--)f.push(`   * [REDO] ${this._future[p]}`);return f.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(f,p){f.type===1?f.setValid(this.resourceLabel,this.strResource,p):f.setValid(p)}setElementsValidFlag(f,p){for(const b of this._past)p(b.actual)&&this._setElementValidFlag(b,f);for(const b of this._future)p(b.actual)&&this._setElementValidFlag(b,f)}pushElement(f){for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(f),this.versionId++}createSnapshot(f){const p=[];for(let b=0,w=this._past.length;b<w;b++)p.push(this._past[b].id);for(let b=this._future.length-1;b>=0;b--)p.push(this._future[b].id);return new C.ResourceEditStackSnapshot(f,p)}restoreSnapshot(f){const p=f.elements.length;let b=!0,w=0,E=-1;for(let N=0,R=this._past.length;N<R;N++,w++){const F=this._past[N];b&&(w>=p||F.id!==f.elements[w])&&(b=!1,E=0),!b&&F.type===1&&F.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let N=this._future.length-1;N>=0;N--,w++){const R=this._future[N];b&&(w>=p||R.id!==f.elements[w])&&(b=!1,I=N),!b&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const f=[],p=[];for(const b of this._past)f.push(b.actual);for(const b of this._future)p.push(b.actual);return{past:f,future:p}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(f,p){for(let b=this._past.length-1;b>=0;b--)if(this._past[b]===f){p.has(this.strResource)?this._past[b]=p.get(this.strResource):this._past.splice(b,1);break}this.versionId++}splitFutureWorkspaceElement(f,p){for(let b=this._future.length-1;b>=0;b--)if(this._future[b]===f){p.has(this.strResource)?this._future[b]=p.get(this.strResource):this._future.splice(b,1);break}this.versionId++}moveBackward(f){this._past.pop(),this._future.push(f),this.versionId++}moveForward(f){this._future.pop(),this._past.push(f),this.versionId++}}class c{constructor(f){this.editStacks=f,this._versionIds=[];for(let p=0,b=this.editStacks.length;p<b;p++)this._versionIds[p]=this.editStacks[p].versionId}isValid(){for(let f=0,p=this.editStacks.length;f<p;f++)if(this._versionIds[f]!==this.editStacks[f].versionId)return!1;return!0}}const o=new l("","");o.locked=!0;let d=class{constructor(f,p){this._dialogService=f,this._notificationService=p,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(f){for(const p of this._uriComparisonKeyComputers)if(p[0]===f.scheme)return p[1].getComparisonKey(f);return f.toString()}_print(f){console.log("------------------------------------"),console.log(`AFTER ${f}: `);const p=[];for(const b of this._editStacks)p.push(b[1].toString());console.log(p.join(`
`))}pushElement(f,p=C.UndoRedoGroup.None,b=C.UndoRedoSource.None){if(f.type===0){const w=n(f.resource),E=this.getUriComparisonKey(f.resource);this._pushElement(new t(f,w,E,p.id,p.nextOrder(),b.id,b.nextOrder()))}else{const w=new Set,E=[],I=[];for(const N of f.resources){const R=n(N),F=this.getUriComparisonKey(N);w.has(F)||(w.add(F),E.push(R),I.push(F))}E.length===1?this._pushElement(new t(f,E[0],I[0],p.id,p.nextOrder(),b.id,b.nextOrder())):this._pushElement(new h(f,E,I,p.id,p.nextOrder(),b.id,b.nextOrder()))}s&&this._print("pushElement")}_pushElement(f){for(let p=0,b=f.strResources.length;p<b;p++){const w=f.resourceLabels[p],E=f.strResources[p];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new l(w,E),this._editStacks.set(E,I)),I.pushElement(f)}}getLastElement(f){const p=this.getUriComparisonKey(f);if(this._editStacks.has(p)){const b=this._editStacks.get(p);if(b.hasFutureElements())return null;const w=b.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(f,p){const b=f.actual.split(),w=new Map;for(const E of b){const I=n(E.resource),N=this.getUriComparisonKey(E.resource),R=new t(E,I,N,0,0,0,0);w.set(R.strResource,R)}for(const E of f.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(f,w)}}_splitFutureWorkspaceElement(f,p){const b=f.actual.split(),w=new Map;for(const E of b){const I=n(E.resource),N=this.getUriComparisonKey(E.resource),R=new t(E,I,N,0,0,0,0);w.set(R.strResource,R)}for(const E of f.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(f,w)}}removeElements(f){const p=typeof f=="string"?f:this.getUriComparisonKey(f);this._editStacks.has(p)&&(this._editStacks.get(p).dispose(),this._editStacks.delete(p)),s&&this._print("removeElements")}setElementsValidFlag(f,p,b){const w=this.getUriComparisonKey(f);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(p,b),s&&this._print("setElementsValidFlag")}createSnapshot(f){const p=this.getUriComparisonKey(f);return this._editStacks.has(p)?this._editStacks.get(p).createSnapshot(f):new C.ResourceEditStackSnapshot(f,[])}restoreSnapshot(f){const p=this.getUriComparisonKey(f.resource);if(this._editStacks.has(p)){const b=this._editStacks.get(p);b.restoreSnapshot(f),!b.hasPastElements()&&!b.hasFutureElements()&&(b.dispose(),this._editStacks.delete(p))}s&&this._print("restoreSnapshot")}getElements(f){const p=this.getUriComparisonKey(f);return this._editStacks.has(p)?this._editStacks.get(p).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(f){if(!f)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.sourceId===f&&(!p||I.sourceOrder>p.sourceOrder)&&(p=I,b=w)}return[p,b]}canUndo(f){if(f instanceof C.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(f.id);return!!b}const p=this.getUriComparisonKey(f);return this._editStacks.has(p)?this._editStacks.get(p).hasPastElements():!1}_onError(f,p){(0,L.onUnexpectedError)(f);for(const b of p.strResources)this.removeElements(b);this._notificationService.error(f)}_acquireLocks(f){for(const p of f.editStacks)if(p.locked)throw new Error("Cannot acquire edit stack lock");for(const p of f.editStacks)p.locked=!0;return()=>{for(const p of f.editStacks)p.locked=!1}}_safeInvokeWithLocks(f,p,b,w,E){const I=this._acquireLocks(b);let N;try{N=p()}catch(R){return I(),w.dispose(),this._onError(R,f)}return N?N.then(()=>(I(),w.dispose(),E()),R=>(I(),w.dispose(),this._onError(R,f))):(I(),w.dispose(),E())}_invokeWorkspacePrepare(f){return Se(this,void 0,void 0,function*(){if(typeof f.actual.prepareUndoRedo>"u")return k.Disposable.None;const p=f.actual.prepareUndoRedo();return typeof p>"u"?k.Disposable.None:p})}_invokeResourcePrepare(f,p){if(f.actual.type!==1||typeof f.actual.prepareUndoRedo>"u")return p(k.Disposable.None);const b=f.actual.prepareUndoRedo();return b?(0,k.isDisposable)(b)?p(b):b.then(w=>p(w)):p(k.Disposable.None)}_getAffectedEditStacks(f){const p=[];for(const b of f.strResources)p.push(this._editStacks.get(b)||o);return new c(p)}_tryToSplitAndUndo(f,p,b,w){if(p.canSplit())return this._splitPastWorkspaceElement(p,b),this._notificationService.warn(w),new r(this._undo(f,0,!0));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(w),new r}_checkWorkspaceUndo(f,p,b,w){if(p.removedResources)return this._tryToSplitAndUndo(f,p,p.removedResources,S.localize(2,null,p.label,p.removedResources.createMessage()));if(w&&p.invalidatedResources)return this._tryToSplitAndUndo(f,p,p.invalidatedResources,S.localize(3,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const N of b.editStacks)N.getClosestPastElement()!==p&&E.push(N.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(f,p,null,S.localize(4,null,p.label,E.join(", ")));const I=[];for(const N of b.editStacks)N.locked&&I.push(N.resourceLabel);return I.length>0?this._tryToSplitAndUndo(f,p,null,S.localize(5,null,p.label,I.join(", "))):b.isValid()?null:this._tryToSplitAndUndo(f,p,null,S.localize(6,null,p.label))}_workspaceUndo(f,p,b){const w=this._getAffectedEditStacks(p),E=this._checkWorkspaceUndo(f,p,w,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(f,p,w,b)}_isPartOfUndoGroup(f){if(!f.groupId)return!1;for(const[,p]of this._editStacks){const b=p.getClosestPastElement();if(b){if(b===f){const w=p.getSecondClosestPastElement();if(w&&w.groupId===f.groupId)return!0}if(b.groupId===f.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(f,p,b,w){return Se(this,void 0,void 0,function*(){if(p.canSplit()&&!this._isPartOfUndoGroup(p)){let N;(function(M){M[M.All=0]="All",M[M.This=1]="This",M[M.Cancel=2]="Cancel"})(N||(N={}));const{result:R}=yield this._dialogService.prompt({type:D.default.Info,message:S.localize(7,null,p.label),buttons:[{label:S.localize(8,null,b.editStacks.length),run:()=>N.All},{label:S.localize(9,null),run:()=>N.This}],cancelButton:{run:()=>N.Cancel}});if(R===N.Cancel)return;if(R===N.This)return this._splitPastWorkspaceElement(p,null),this._undo(f,0,!0);const F=this._checkWorkspaceUndo(f,p,b,!1);if(F)return F.returnValue;w=!0}let E;try{E=yield this._invokeWorkspacePrepare(p)}catch(N){return this._onError(N,p)}const I=this._checkWorkspaceUndo(f,p,b,!0);if(I)return E.dispose(),I.returnValue;for(const N of b.editStacks)N.moveBackward(p);return this._safeInvokeWithLocks(p,()=>p.actual.undo(),b,E,()=>this._continueUndoInGroup(p.groupId,w))})}_resourceUndo(f,p,b){if(!p.isValid){f.flushAllElements();return}if(f.locked){const w=S.localize(10,null,p.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(p,w=>(f.moveBackward(p),this._safeInvokeWithLocks(p,()=>p.actual.undo(),new c([f]),w,()=>this._continueUndoInGroup(p.groupId,b))))}_findClosestUndoElementInGroup(f){if(!f)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.groupId===f&&(!p||I.groupOrder>p.groupOrder)&&(p=I,b=w)}return[p,b]}_continueUndoInGroup(f,p){if(!f)return;const[,b]=this._findClosestUndoElementInGroup(f);if(b)return this._undo(b,0,p)}undo(f){if(f instanceof C.UndoRedoSource){const[,p]=this._findClosestUndoElementWithSource(f.id);return p?this._undo(p,f.id,!1):void 0}return typeof f=="string"?this._undo(f,0,!1):this._undo(this.getUriComparisonKey(f),0,!1)}_undo(f,p=0,b){if(!this._editStacks.has(f))return;const w=this._editStacks.get(f),E=w.getClosestPastElement();if(!E)return;if(E.groupId){const[N,R]=this._findClosestUndoElementInGroup(E.groupId);if(E!==N&&R)return this._undo(R,p,b)}if((E.sourceId!==p||E.confirmBeforeUndo)&&!b)return this._confirmAndContinueUndo(f,p,E);try{return E.type===1?this._workspaceUndo(f,E,b):this._resourceUndo(w,E,b)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(f,p,b){return Se(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:S.localize(11,null,b.label),primaryButton:S.localize(12,null),cancelButton:S.localize(13,null)})).confirmed)return this._undo(f,p,!0)})}_findClosestRedoElementWithSource(f){if(!f)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.sourceId===f&&(!p||I.sourceOrder<p.sourceOrder)&&(p=I,b=w)}return[p,b]}canRedo(f){if(f instanceof C.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(f.id);return!!b}const p=this.getUriComparisonKey(f);return this._editStacks.has(p)?this._editStacks.get(p).hasFutureElements():!1}_tryToSplitAndRedo(f,p,b,w){if(p.canSplit())return this._splitFutureWorkspaceElement(p,b),this._notificationService.warn(w),new r(this._redo(f));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(w),new r}_checkWorkspaceRedo(f,p,b,w){if(p.removedResources)return this._tryToSplitAndRedo(f,p,p.removedResources,S.localize(14,null,p.label,p.removedResources.createMessage()));if(w&&p.invalidatedResources)return this._tryToSplitAndRedo(f,p,p.invalidatedResources,S.localize(15,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const N of b.editStacks)N.getClosestFutureElement()!==p&&E.push(N.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(f,p,null,S.localize(16,null,p.label,E.join(", ")));const I=[];for(const N of b.editStacks)N.locked&&I.push(N.resourceLabel);return I.length>0?this._tryToSplitAndRedo(f,p,null,S.localize(17,null,p.label,I.join(", "))):b.isValid()?null:this._tryToSplitAndRedo(f,p,null,S.localize(18,null,p.label))}_workspaceRedo(f,p){const b=this._getAffectedEditStacks(p),w=this._checkWorkspaceRedo(f,p,b,!1);return w?w.returnValue:this._executeWorkspaceRedo(f,p,b)}_executeWorkspaceRedo(f,p,b){return Se(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(p)}catch(I){return this._onError(I,p)}const E=this._checkWorkspaceRedo(f,p,b,!0);if(E)return w.dispose(),E.returnValue;for(const I of b.editStacks)I.moveForward(p);return this._safeInvokeWithLocks(p,()=>p.actual.redo(),b,w,()=>this._continueRedoInGroup(p.groupId))})}_resourceRedo(f,p){if(!p.isValid){f.flushAllElements();return}if(f.locked){const b=S.localize(19,null,p.label);this._notificationService.warn(b);return}return this._invokeResourcePrepare(p,b=>(f.moveForward(p),this._safeInvokeWithLocks(p,()=>p.actual.redo(),new c([f]),b,()=>this._continueRedoInGroup(p.groupId))))}_findClosestRedoElementInGroup(f){if(!f)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.groupId===f&&(!p||I.groupOrder<p.groupOrder)&&(p=I,b=w)}return[p,b]}_continueRedoInGroup(f){if(!f)return;const[,p]=this._findClosestRedoElementInGroup(f);if(p)return this._redo(p)}redo(f){if(f instanceof C.UndoRedoSource){const[,p]=this._findClosestRedoElementWithSource(f.id);return p?this._redo(p):void 0}return typeof f=="string"?this._redo(f):this._redo(this.getUriComparisonKey(f))}_redo(f){if(!this._editStacks.has(f))return;const p=this._editStacks.get(f),b=p.getClosestFutureElement();if(b){if(b.groupId){const[w,E]=this._findClosestRedoElementInGroup(b.groupId);if(b!==w&&E)return this._redo(E)}try{return b.type===1?this._workspaceRedo(f,b):this._resourceRedo(p,b)}finally{s&&this._print("redo")}}}};e.UndoRedoService=d,e.UndoRedoService=d=Ie([ge(0,m.IDialogService),ge(1,v.INotificationService)],d);class r{constructor(f){this.returnValue=f}}(0,_.registerSingleton)(C.IUndoRedoService,d,1)}),define(ee[162],te([1,0,737,92,198,21,8]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandaloneEditorWorkspace=e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,S.createDecorator)("contextService");function m(t){const a=t;return typeof a?.id=="string"&&D.URI.isUri(a.uri)}e.isSingleFolderWorkspaceIdentifier=m;function _(t){const a=t;return typeof a?.id=="string"&&!m(t)&&!C(t)}e.isEmptyWorkspaceIdentifier=_,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function v(t,a){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:a?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const u=t;return u.configuration?{id:u.id,configPath:u.configuration}:u.folders.length===1?{id:u.id,uri:u.folders[0].uri}:{id:u.id}}e.toWorkspaceIdentifier=v;function C(t){const a=t;return typeof a?.id=="string"&&D.URI.isUri(a.configPath)}e.isWorkspaceIdentifier=C;class s{constructor(a,u,h,l,c){this._id=a,this._transient=h,this._configuration=l,this._ignorePathCasing=c,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=u}get folders(){return this._folders}set folders(a){this._folders=a,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(a){this._configuration=a}getFolder(a){return a&&this._foldersMap.findSubstr(a)||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const a of this.folders)this._foldersMap.set(a.uri,a)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=s;class n{constructor(a,u){this.raw=u,this.uri=a.uri,this.index=a.index,this.name=a.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=n,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,L.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}e.isStandaloneEditorWorkspace=i}),define(ee[907],te([1,0,7,129,41,2,17,16,22,645,30,15,57,34,29,162]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let h=u=class{static get(o){return o.getContribution(u.ID)}constructor(o,d,r,g,f,p,b,w){this._contextMenuService=d,this._contextViewService=r,this._contextKeyService=g,this._keybindingService=f,this._menuService=p,this._configurationService=b,this._workspaceContextService=w,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=o,this._toDispose.add(this._editor.onContextMenu(E=>this._onContextMenu(E))),this._toDispose.add(this._editor.onMouseWheel(E=>{if(this._contextMenuIsBeingShownCount>0){const I=this._contextViewService.getContextViewElement(),N=E.srcElement;N.shadowRoot&&L.getShadowRoot(I)===N.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(E=>{this._editor.getOption(23)&&E.keyCode===58&&(E.preventDefault(),E.stopPropagation(),this.showContextMenu())}))}_onContextMenu(o){if(!this._editor.hasModel())return;if(!this._editor.getOption(23)){this._editor.focus(),o.target.position&&!this._editor.getSelection().containsPosition(o.target.position)&&this._editor.setPosition(o.target.position);return}if(o.target.type===12||o.target.type===6&&o.target.detail.injectedText)return;if(o.event.preventDefault(),o.event.stopPropagation(),o.target.type===11)return this._showScrollbarContextMenu(o.event);if(o.target.type!==6&&o.target.type!==7&&o.target.type!==1)return;if(this._editor.focus(),o.target.position){let r=!1;for(const g of this._editor.getSelections())if(g.containsPosition(o.target.position)){r=!0;break}r||this._editor.setPosition(o.target.position)}let d=null;o.target.type!==1&&(d=o.event),this.showContextMenu(d)}showContextMenu(o){if(!this._editor.getOption(23)||!this._editor.hasModel())return;const d=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?C.MenuId.SimpleEditorContext:C.MenuId.EditorContext);d.length>0&&this._doShowContextMenu(d,o)}_getMenuActions(o,d){const r=[],g=this._menuService.createMenu(d,this._contextKeyService),f=g.getActions({arg:o.uri});g.dispose();for(const p of f){const[,b]=p;let w=0;for(const E of b)if(E instanceof C.SubmenuItemAction){const I=this._getMenuActions(o,E.item.submenu);I.length>0&&(r.push(new y.SubmenuAction(E.id,E.label,I)),w++)}else r.push(E),w++;w&&r.push(new y.Separator)}return r.length&&r.pop(),r}_doShowContextMenu(o,d=null){if(!this._editor.hasModel())return;const r=this._editor.getOption(59);this._editor.updateOptions({hover:{enabled:!1}});let g=d;if(!g){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),b=L.getDomNodePagePosition(this._editor.getDomNode()),w=b.left+p.left,E=b.top+p.top+p.height;g={x:w,y:E}}const f=this._editor.getOption(125)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>o,getActionViewItem:p=>{const b=this._keybindingFor(p);if(b)return new k.ActionViewItem(p,p,{label:!0,keybinding:b.getLabel(),isMenu:!0});const w=p;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new k.ActionViewItem(p,p,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:p=>this._keybindingFor(p),onHide:p=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:r})}})}_showScrollbarContextMenu(o){if(!this._editor.hasModel()||(0,a.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const d=this._editor.getOption(71);let r=0;const g=E=>({id:`menu-action-${++r}`,label:E.label,tooltip:"",class:void 0,enabled:typeof E.enabled>"u"?!0:E.enabled,checked:E.checked,run:E.run}),f=(E,I)=>new y.SubmenuAction(`menu-action-${++r}`,E,I,void 0),p=(E,I,N,R,F)=>{if(!I)return g({label:E,enabled:I,run:()=>{}});const M=T=>()=>{this._configurationService.updateValue(N,T)},A=[];for(const T of F)A.push(g({label:T.label,checked:R===T.value,run:M(T.value)}));return f(E,A)},b=[];b.push(g({label:v.localize(0,null),checked:d.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!d.enabled)}})),b.push(new y.Separator),b.push(g({label:v.localize(1,null),enabled:d.enabled,checked:d.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!d.renderCharacters)}})),b.push(p(v.localize(2,null),d.enabled,"editor.minimap.size",d.size,[{label:v.localize(3,null),value:"proportional"},{label:v.localize(4,null),value:"fill"},{label:v.localize(5,null),value:"fit"}])),b.push(p(v.localize(6,null),d.enabled,"editor.minimap.showSlider",d.showSlider,[{label:v.localize(7,null),value:"mouseover"},{label:v.localize(8,null),value:"always"}]));const w=this._editor.getOption(125)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:w?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>b,onHide:E=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(o){return this._keybindingService.lookupKeybinding(o.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=h,h.ID="editor.contrib.contextmenu",e.ContextMenuController=h=u=Ie([ge(1,n.IContextMenuService),ge(2,n.IContextViewService),ge(3,s.IContextKeyService),ge(4,i.IKeybindingService),ge(5,C.IMenuService),ge(6,t.IConfigurationService),ge(7,a.IWorkspaceContextService)],h);class l extends m.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:v.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(o,d){var r;(r=h.get(d))===null||r===void 0||r.showContextMenu()}}(0,m.registerEditorContribution)(h.ID,h,2),(0,m.registerEditorAction)(l)}),define(ee[379],te([1,0,14,171,2,107,54,44,21,18,649,162]),function(G,e,L,k,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=void 0;const n=(0,C.localize)(0,null);class i{provideDocumentPasteEdits(d,r,g,f){return Se(this,void 0,void 0,function*(){const p=yield this.getEdit(g,f);return p?{insertText:p.insertText,label:p.label,detail:p.detail,handledMimeType:p.handledMimeType,yieldTo:p.yieldTo}:void 0})}provideDocumentOnDropEdits(d,r,g,f){return Se(this,void 0,void 0,function*(){const p=yield this.getEdit(g,f);return p?{insertText:p.insertText,label:p.label,handledMimeType:p.handledMimeType,yieldTo:p.yieldTo}:void 0})}}class t extends i{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[D.Mimes.text],this.pasteMimeTypes=[D.Mimes.text]}getEdit(d,r){return Se(this,void 0,void 0,function*(){const g=d.get(D.Mimes.text);if(!g||d.has(D.Mimes.uriList))return;const f=yield g.asString();return{handledMimeType:D.Mimes.text,label:(0,C.localize)(1,null),detail:n,insertText:f}})}}class a extends i{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(d,r){return Se(this,void 0,void 0,function*(){const g=yield h(d);if(!g.length||r.isCancellationRequested)return;let f=0;const p=g.map(({uri:w,originalText:E})=>w.scheme===S.Schemas.file?w.fsPath:(f++,E)).join(" ");let b;return f>0?b=g.length>1?(0,C.localize)(2,null):(0,C.localize)(3,null):b=g.length>1?(0,C.localize)(4,null):(0,C.localize)(5,null),{handledMimeType:D.Mimes.uriList,insertText:p,label:b,detail:n}})}}let u=class extends i{constructor(d){super(),this._workspaceContextService=d,this.id="relativePath",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(d,r){return Se(this,void 0,void 0,function*(){const g=yield h(d);if(!g.length||r.isCancellationRequested)return;const f=(0,L.coalesce)(g.map(({uri:p})=>{const b=this._workspaceContextService.getWorkspaceFolder(p);return b?(0,m.relativePath)(b.uri,p):void 0}));if(f.length)return{handledMimeType:D.Mimes.uriList,insertText:f.join(" "),label:g.length>1?(0,C.localize)(6,null):(0,C.localize)(7,null),detail:n}})}};u=Ie([ge(0,s.IWorkspaceContextService)],u);function h(o){return Se(this,void 0,void 0,function*(){const d=o.get(D.Mimes.uriList);if(!d)return[];const r=yield d.asString(),g=[];for(const f of k.UriList.parse(r))try{g.push({uri:_.URI.parse(f),originalText:f})}catch{}return g})}let l=class extends y.Disposable{constructor(d,r){super(),this._register(d.documentOnDropEditProvider.register("*",new t)),this._register(d.documentOnDropEditProvider.register("*",new a)),this._register(d.documentOnDropEditProvider.register("*",new u(r)))}};e.DefaultDropProvidersFeature=l,e.DefaultDropProvidersFeature=l=Ie([ge(0,v.ILanguageFeaturesService),ge(1,s.IWorkspaceContextService)],l);let c=class extends y.Disposable{constructor(d,r){super(),this._register(d.documentPasteEditProvider.register("*",new t)),this._register(d.documentPasteEditProvider.register("*",new a)),this._register(d.documentPasteEditProvider.register("*",new u(r)))}};e.DefaultPasteProvidersFeature=c,e.DefaultPasteProvidersFeature=c=Ie([ge(0,v.ILanguageFeaturesService),ge(1,s.IWorkspaceContextService)],c)}),define(ee[908],te([1,0,16,147,886,379,647]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,k.registerEditorFeature)(D.DefaultPasteProvidersFeature),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(m,_,v){var C;return(C=y.CopyPasteController.get(_))===null||C===void 0?void 0:C.changePasteType()}}),(0,L.registerEditorAction)(class extends L.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:S.localize(0,null),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:S.localize(1,null)}}}}]}})}run(m,_,v){var C;const s=typeof v?.id=="string"?v.id:void 0;return(C=y.CopyPasteController.get(_))===null||C===void 0?void 0:C.pasteAs(s)}})}),define(ee[909],te([1,0,16,241,147,379,650,95,35,887]),function(G,e,L,k,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(v.DropIntoEditorController.ID,v.DropIntoEditorController,2),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:v.changeDropTypeCommandId,precondition:v.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,s,n){var i;(i=v.DropIntoEditorController.get(s))===null||i===void 0||i.changeDropType()}}),(0,y.registerEditorFeature)(D.DefaultDropProvidersFeature),_.Registry.as(m.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},k.editorConfigurationBaseNode),{properties:{[v.defaultProviderConfig]:{type:"object",scope:5,description:S.localize(0,null),default:{},additionalProperties:{type:"string"}}}}))}),define(ee[910],te([1,0,572,92,44,10,170,31,127,696,162]),function(G,e,L,k,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class s{constructor(o){this._delegates=o}resolve(o){for(const d of this._delegates){const r=d.resolve(o);if(r!==void 0)return r}}}e.CompositeSnippetVariableResolver=s;class n{constructor(o,d,r,g){this._model=o,this._selection=d,this._selectionIdx=r,this._overtypingCapturer=g}resolve(o){const{name:d}=o;if(d==="SELECTION"||d==="TM_SELECTED_TEXT"){let r=this._model.getValueInRange(this._selection)||void 0,g=this._selection.startLineNumber!==this._selection.endLineNumber;if(!r&&this._overtypingCapturer){const f=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);f&&(r=f.value,g=f.multiline)}if(r&&g&&o.snippet){const f=this._model.getLineContent(this._selection.startLineNumber),p=(0,D.getLeadingWhitespace)(f,0,this._selection.startColumn-1);let b=p;o.snippet.walk(E=>E===o?!1:(E instanceof _.Text&&(b=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const w=(0,D.commonPrefixLength)(b,p);r=r.replace(/(\r\n|\r|\n)(.*)/g,(E,I,N)=>`${I}${b.substr(w)}${N}`)}return r}else{if(d==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(d==="TM_CURRENT_WORD"){const r=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return r&&r.word||void 0}else{if(d==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(d==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(d==="CURSOR_INDEX")return String(this._selectionIdx);if(d==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=n;class i{constructor(o,d){this._labelService=o,this._model=d}resolve(o){const{name:d}=o;if(d==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(d==="TM_FILENAME_BASE"){const r=k.basename(this._model.uri.fsPath),g=r.lastIndexOf(".");return g<=0?r:r.slice(0,g)}else{if(d==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,y.dirname)(this._model.uri));if(d==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(d==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class t{constructor(o,d,r,g){this._readClipboardText=o,this._selectionIdx=d,this._selectionCount=r,this._spread=g}resolve(o){if(o.name!=="CLIPBOARD")return;const d=this._readClipboardText();if(d){if(this._spread){const r=d.split(/\r\n|\n|\r/).filter(g=>!(0,D.isFalsyOrWhitespace)(g));if(r.length===this._selectionCount)return r[this._selectionIdx]}return d}}}e.ClipboardBasedVariableResolver=t;let a=class{constructor(o,d,r){this._model=o,this._selection=d,this._languageConfigurationService=r}resolve(o){const{name:d}=o,r=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),g=this._languageConfigurationService.getLanguageConfiguration(r).comments;if(g){if(d==="LINE_COMMENT")return g.lineCommentToken||void 0;if(d==="BLOCK_COMMENT_START")return g.blockCommentStartToken||void 0;if(d==="BLOCK_COMMENT_END")return g.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=a,e.CommentBasedVariableResolver=a=Ie([ge(2,m.ILanguageConfigurationService)],a);class u{constructor(){this._date=new Date}resolve(o){const{name:d}=o;if(d==="CURRENT_YEAR")return String(this._date.getFullYear());if(d==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(d==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(d==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(d==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(d==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(d==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(d==="CURRENT_DAY_NAME")return u.dayNames[this._date.getDay()];if(d==="CURRENT_DAY_NAME_SHORT")return u.dayNamesShort[this._date.getDay()];if(d==="CURRENT_MONTH_NAME")return u.monthNames[this._date.getMonth()];if(d==="CURRENT_MONTH_NAME_SHORT")return u.monthNamesShort[this._date.getMonth()];if(d==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(d==="CURRENT_TIMEZONE_OFFSET"){const r=this._date.getTimezoneOffset(),g=r>0?"-":"+",f=Math.trunc(Math.abs(r/60)),p=f<10?"0"+f:f,b=Math.abs(r)-f*60,w=b<10?"0"+b:b;return g+p+":"+w}}}e.TimeBasedVariableResolver=u,u.dayNames=[v.localize(0,null),v.localize(1,null),v.localize(2,null),v.localize(3,null),v.localize(4,null),v.localize(5,null),v.localize(6,null)],u.dayNamesShort=[v.localize(7,null),v.localize(8,null),v.localize(9,null),v.localize(10,null),v.localize(11,null),v.localize(12,null),v.localize(13,null)],u.monthNames=[v.localize(14,null),v.localize(15,null),v.localize(16,null),v.localize(17,null),v.localize(18,null),v.localize(19,null),v.localize(20,null),v.localize(21,null),v.localize(22,null),v.localize(23,null),v.localize(24,null),v.localize(25,null)],u.monthNamesShort=[v.localize(26,null),v.localize(27,null),v.localize(28,null),v.localize(29,null),v.localize(30,null),v.localize(31,null),v.localize(32,null),v.localize(33,null),v.localize(34,null),v.localize(35,null),v.localize(36,null),v.localize(37,null)];class h{constructor(o){this._workspaceService=o}resolve(o){if(!this._workspaceService)return;const d=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,C.isEmptyWorkspaceIdentifier)(d)){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(d);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(d)}}_resolveWorkspaceName(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return k.basename(o.uri.path);let d=k.basename(o.configPath.path);return d.endsWith(C.WORKSPACE_EXTENSION)&&(d=d.substr(0,d.length-C.WORKSPACE_EXTENSION.length-1)),d}_resoveWorkspacePath(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return(0,L.normalizeDriveLetter)(o.uri.fsPath);const d=k.basename(o.configPath.path);let r=o.configPath.fsPath;return r.endsWith(d)&&(r=r.substr(0,r.length-d.length-1)),r?(0,L.normalizeDriveLetter)(r):"/"}}e.WorkspaceBasedVariableResolver=h;class l{resolve(o){const{name:d}=o;if(d==="RANDOM")return Math.random().toString().slice(-6);if(d==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(d==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=l}),define(ee[380],te([1,0,14,2,10,70,5,24,31,39,158,162,127,910,461]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class a{constructor(c,o,d){this._editor=c,this._snippet=o,this._snippetLineLeadingWhitespace=d,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,L.groupBy)(o.placeholders,n.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(c){this._offset=c.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const c=this._editor.getModel();this._editor.changeDecorations(o=>{for(const d of this._snippet.placeholders){const r=this._snippet.offset(d),g=this._snippet.fullLen(d),f=S.Range.fromPositions(c.getPositionAt(this._offset+r),c.getPositionAt(this._offset+r+g)),p=d.isFinalTabstop?a._decor.inactiveFinal:a._decor.inactive,b=o.addDecoration(f,p);this._placeholderDecorations.set(d,b)}})}move(c){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const r=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const f=this._placeholderDecorations.get(g),p=this._editor.getModel().getDecorationRange(f),b=this._editor.getModel().getValueInRange(p),w=g.transform.resolve(b).split(/\r\n|\r|\n/);for(let E=1;E<w.length;E++)w[E]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+w[E]);r.push(D.EditOperation.replace(p,w.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let o=!1;c===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,o=!0):c===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,o=!0);const d=this._editor.getModel().changeDecorations(r=>{const g=new Set,f=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const b=this._placeholderDecorations.get(p),w=this._editor.getModel().getDecorationRange(b);f.push(new m.Selection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn)),o=o&&this._hasPlaceholderBeenCollapsed(p),r.changeDecorationOptions(b,p.isFinalTabstop?a._decor.activeFinal:a._decor.active),g.add(p);for(const E of this._snippet.enclosingPlaceholders(p)){const I=this._placeholderDecorations.get(E);r.changeDecorationOptions(I,E.isFinalTabstop?a._decor.activeFinal:a._decor.active),g.add(E)}}for(const[p,b]of this._placeholderDecorations)g.has(p)||r.changeDecorationOptions(b,p.isFinalTabstop?a._decor.inactiveFinal:a._decor.inactive);return f});return o?this.move(c):d??[]}_hasPlaceholderBeenCollapsed(c){let o=c;for(;o;){if(o instanceof n.Placeholder){const d=this._placeholderDecorations.get(o);if(this._editor.getModel().getDecorationRange(d).isEmpty()&&o.toString().length>0)return!0}o=o.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[c]=this._snippet.placeholders;if(c.isFinalTabstop&&this._snippet.rightMostDescendant===c)return!0}return!1}computePossibleSelections(){const c=new Map;for(const o of this._placeholderGroups){let d;for(const r of o){if(r.isFinalTabstop)break;d||(d=[],c.set(r.index,d));const g=this._placeholderDecorations.get(r),f=this._editor.getModel().getDecorationRange(g);if(!f){c.delete(r.index);break}d.push(f)}}return c}get activeChoice(){if(!this._placeholderDecorations)return;const c=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!c?.choice)return;const o=this._placeholderDecorations.get(c);if(!o)return;const d=this._editor.getModel().getDecorationRange(o);if(d)return{range:d,choice:c.choice}}get hasChoice(){let c=!1;return this._snippet.walk(o=>(c=o instanceof n.Choice,!c)),c}merge(c){const o=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(d=>{for(const r of this._placeholderGroups[this._placeholderGroupsIdx]){const g=c.shift();console.assert(g._offset!==-1),console.assert(!g._placeholderDecorations);const f=g._snippet.placeholderInfo.last.index;for(const b of g._snippet.placeholderInfo.all)b.isFinalTabstop?b.index=r.index+(f+1)/this._nestingLevel:b.index=r.index+b.index/this._nestingLevel;this._snippet.replace(r,g._snippet.children);const p=this._placeholderDecorations.get(r);d.removeDecoration(p),this._placeholderDecorations.delete(r);for(const b of g._snippet.placeholders){const w=g._snippet.offset(b),E=g._snippet.fullLen(b),I=S.Range.fromPositions(o.getPositionAt(g._offset+w),o.getPositionAt(g._offset+w+E)),N=d.addDecoration(I,a._decor.inactive);this._placeholderDecorations.set(b,N)}}this._placeholderGroups=(0,L.groupBy)(this._snippet.placeholders,n.Placeholder.compareByIndex)})}}e.OneSnippet=a,a._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const u={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let h=t=class{static adjustWhitespace(c,o,d,r,g){const f=c.getLineContent(o.lineNumber),p=(0,y.getLeadingWhitespace)(f,0,o.column-1);let b;return r.walk(w=>{if(!(w instanceof n.Text)||w.parent instanceof n.Choice||g&&!g.has(w))return!0;const E=w.value.split(/\r\n|\r|\n/);if(d){const N=r.offset(w);if(N===0)E[0]=c.normalizeIndentation(E[0]);else{b=b??r.toString();const R=b.charCodeAt(N-1);(R===10||R===13)&&(E[0]=c.normalizeIndentation(p+E[0]))}for(let R=1;R<E.length;R++)E[R]=c.normalizeIndentation(p+E[R])}const I=E.join(c.getEOL());return I!==w.value&&(w.parent.replace(w,[new n.Text(I)]),b=void 0),!0}),p}static adjustSelection(c,o,d,r){if(d!==0||r!==0){const{positionLineNumber:g,positionColumn:f}=o,p=f-d,b=f+r,w=c.validateRange({startLineNumber:g,startColumn:p,endLineNumber:g,endColumn:b});o=m.Selection.createWithDirection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn,o.getDirection())}return o}static createEditsAndSnippetsFromSelections(c,o,d,r,g,f,p,b,w){const E=[],I=[];if(!c.hasModel())return{edits:E,snippets:I};const N=c.getModel(),R=c.invokeWithinContext(x=>x.get(s.IWorkspaceContextService)),F=c.invokeWithinContext(x=>new i.ModelBasedVariableResolver(x.get(C.ILabelService),N)),M=()=>p,A=N.getValueInRange(t.adjustSelection(N,c.getSelection(),d,0)),T=N.getValueInRange(t.adjustSelection(N,c.getSelection(),0,r)),O=N.getLineFirstNonWhitespaceColumn(c.getSelection().positionLineNumber),P=c.getSelections().map((x,z)=>({selection:x,idx:z})).sort((x,z)=>S.Range.compareRangesUsingStarts(x.selection,z.selection));for(const{selection:x,idx:z}of P){let q=t.adjustSelection(N,x,d,0),B=t.adjustSelection(N,x,0,r);A!==N.getValueInRange(q)&&(q=x),T!==N.getValueInRange(B)&&(B=x);const $=x.setStartPosition(q.startLineNumber,q.startColumn).setEndPosition(B.endLineNumber,B.endColumn),X=new n.SnippetParser().parse(o,!0,g),ne=$.getStartPosition(),oe=t.adjustWhitespace(N,ne,f||z>0&&O!==N.getLineFirstNonWhitespaceColumn(x.positionLineNumber),X);X.resolveVariables(new i.CompositeSnippetVariableResolver([F,new i.ClipboardBasedVariableResolver(M,z,P.length,c.getOption(77)==="spread"),new i.SelectionBasedVariableResolver(N,x,z,b),new i.CommentBasedVariableResolver(N,x,w),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(R),new i.RandomBasedVariableResolver])),E[z]=D.EditOperation.replace($,X.toString()),E[z].identifier={major:z,minor:0},E[z]._isTracked=!0,I[z]=new a(c,X,oe)}return{edits:E,snippets:I}}static createEditsAndSnippetsFromEdits(c,o,d,r,g,f,p){if(!c.hasModel()||o.length===0)return{edits:[],snippets:[]};const b=[],w=c.getModel(),E=new n.SnippetParser,I=new n.TextmateSnippet,N=new i.CompositeSnippetVariableResolver([c.invokeWithinContext(F=>new i.ModelBasedVariableResolver(F.get(C.ILabelService),w)),new i.ClipboardBasedVariableResolver(()=>g,0,c.getSelections().length,c.getOption(77)==="spread"),new i.SelectionBasedVariableResolver(w,c.getSelection(),0,f),new i.CommentBasedVariableResolver(w,c.getSelection(),p),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(c.invokeWithinContext(F=>F.get(s.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);o=o.sort((F,M)=>S.Range.compareRangesUsingStarts(F.range,M.range));let R=0;for(let F=0;F<o.length;F++){const{range:M,template:A}=o[F];if(F>0){const z=o[F-1].range,q=S.Range.fromPositions(z.getEndPosition(),M.getStartPosition()),B=new n.Text(w.getValueInRange(q));I.appendChild(B),R+=B.value.length}const T=E.parseFragment(A,I);t.adjustWhitespace(w,M.getStartPosition(),!0,I,new Set(T)),I.resolveVariables(N);const O=I.toString(),P=O.slice(R);R=O.length;const x=D.EditOperation.replace(M,P);x.identifier={major:F,minor:0},x._isTracked=!0,b.push(x)}return E.ensureFinalTabstop(I,d,!0),{edits:b,snippets:[new a(c,I,"")]}}constructor(c,o,d=u,r){this._editor=c,this._template=o,this._options=d,this._languageConfigurationService=r,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:c,snippets:o}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=o,this._editor.executeEdits("snippet",c,d=>{const r=d.filter(g=>!!g.identifier);for(let g=0;g<o.length;g++)o[g].initialize(r[g].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):r.map(g=>m.Selection.fromPositions(g.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(c,o=u){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,c]);const{edits:d,snippets:r}=t.createEditsAndSnippetsFromSelections(this._editor,c,o.overwriteBefore,o.overwriteAfter,!0,o.adjustWhitespace,o.clipboardText,o.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",d,g=>{const f=g.filter(b=>!!b.identifier);for(let b=0;b<r.length;b++)r[b].initialize(f[b].textChange);const p=r[0].isTrivialSnippet;if(!p){for(const b of this._snippets)b.merge(r);console.assert(r.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):f.map(b=>m.Selection.fromPositions(b.range.getEndPosition()))})}next(){const c=this._move(!0);this._editor.setSelections(c),this._editor.revealPositionInCenterIfOutsideViewport(c[0].getPosition())}prev(){const c=this._move(!1);this._editor.setSelections(c),this._editor.revealPositionInCenterIfOutsideViewport(c[0].getPosition())}_move(c){const o=[];for(const d of this._snippets){const r=d.move(c);o.push(...r)}return o}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const c=this._editor.getSelections();if(c.length<this._snippets.length)return!1;const o=new Map;for(const d of this._snippets){const r=d.computePossibleSelections();if(o.size===0)for(const[g,f]of r){f.sort(S.Range.compareRangesUsingStarts);for(const p of c)if(f[0].containsRange(p)){o.set(g,[]);break}}if(o.size===0)return!1;o.forEach((g,f)=>{g.push(...r.get(f))})}c.sort(S.Range.compareRangesUsingStarts);for(const[d,r]of o){if(r.length!==c.length){o.delete(d);continue}r.sort(S.Range.compareRangesUsingStarts);for(let g=0;g<r.length;g++)if(!r[g].containsRange(c[g])){o.delete(d);continue}}return o.size>0}};e.SnippetSession=h,e.SnippetSession=h=t=Ie([ge(3,_.ILanguageConfigurationService)],h)}),define(ee[195],te([1,0,2,20,16,12,22,31,18,133,695,15,66,380]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=t=class{static get(c){return c.getContribution(t.ID)}constructor(c,o,d,r,g){this._editor=c,this._logService=o,this._languageFeaturesService=d,this._languageConfigurationService=g,this._snippetListener=new L.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(r),this._hasNextTabstop=t.HasNextTabstop.bindTo(r),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(r)}dispose(){var c;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(c=this._session)===null||c===void 0||c.dispose(),this._snippetListener.dispose()}insert(c,o){try{this._doInsert(c,typeof o>"u"?a:Object.assign(Object.assign({},a),o))}catch(d){this.cancel(),this._logService.error(d),this._logService.error("snippet_error"),this._logService.error("insert_template=",c),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(c,o){var d;if(this._editor.hasModel()){if(this._snippetListener.clear(),o.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof c!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof c=="string"),this._session.merge(c,o)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,c,o,this._languageConfigurationService),this._session.insert()),o.undoStopAfter&&this._editor.getModel().pushStackElement(),!((d=this._session)===null||d===void 0)&&d.hasChoice){const r={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(E,I)=>{if(!this._session||E!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),I))return;const{activeChoice:N}=this._session;if(!N||N.choice.options.length===0)return;const R=E.getValueInRange(N.range),F=!!N.choice.options.find(A=>A.value===R),M=[];for(let A=0;A<N.choice.options.length;A++){const T=N.choice.options[A];M.push({kind:13,label:T.value,insertText:T.value,sortText:"a".repeat(A+1),range:N.range,filterText:F?`${R}_${T.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,C.localize)(3,null)}})}return{suggestions:M}}},g=this._editor.getModel();let f,p=!1;const b=()=>{f?.dispose(),p=!1},w=()=>{p||(f=this._languageFeaturesService.completionProvider.register({language:g.getLanguageId(),pattern:g.uri.fsPath,scheme:g.uri.scheme,exclusive:!0},r),this._snippetListener.add(f),p=!0)};this._choiceCompletions={provider:r,enable:w,disable:b}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(r=>r.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var c;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:o}=this._session;if(!o||!this._choiceCompletions){(c=this._choiceCompletions)===null||c===void 0||c.disable(),this._currentChoice=void 0;return}this._currentChoice!==o.choice&&(this._currentChoice=o.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,v.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(c=!1){var o;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(o=this._session)===null||o===void 0||o.dispose(),this._session=void 0,this._modelVersionId=-1,c&&this._editor.setSelections([this._editor.getSelection()])}prev(){var c;(c=this._session)===null||c===void 0||c.prev(),this._updateState()}next(){var c;(c=this._session)===null||c===void 0||c.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=u,u.ID="snippetController2",u.InSnippetMode=new s.RawContextKey("inSnippetMode",!1,(0,C.localize)(0,null)),u.HasNextTabstop=new s.RawContextKey("hasNextTabstop",!1,(0,C.localize)(1,null)),u.HasPrevTabstop=new s.RawContextKey("hasPrevTabstop",!1,(0,C.localize)(2,null)),e.SnippetController2=u=t=Ie([ge(1,n.ILogService),ge(2,_.ILanguageFeaturesService),ge(3,s.IContextKeyService),ge(4,m.ILanguageConfigurationService)],u),(0,y.registerEditorContribution)(u.ID,u,4);const h=y.EditorCommand.bindToContribution(u.get);(0,y.registerEditorCommand)(new h({id:"jumpToNextSnippetPlaceholder",precondition:s.ContextKeyExpr.and(u.InSnippetMode,u.HasNextTabstop),handler:l=>l.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,y.registerEditorCommand)(new h({id:"jumpToPrevSnippetPlaceholder",precondition:s.ContextKeyExpr.and(u.InSnippetMode,u.HasPrevTabstop),handler:l=>l.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1026}})),(0,y.registerEditorCommand)(new h({id:"leaveSnippet",precondition:u.InSnippetMode,handler:l=>l.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new h({id:"acceptSnippet",precondition:u.InSnippetMode,handler:l=>l.finish()}))}),define(ee[911],te([1,0,78,9,2,40,20,70,12,5,28,31,216,777,150,195,25,8]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0;var l;(function(o){o[o.Undo=0]="Undo",o[o.Redo=1]="Redo",o[o.AcceptWord=2]="AcceptWord",o[o.Other=3]="Other"})(l||(e.VersionIdChangeReason=l={}));let c=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(d,r,g,f,p,b,w,E,I,N,R,F){super(),this.textModel=d,this.selectedSuggestItem=r,this.cursorPosition=g,this.textModelVersionId=f,this._debounceValue=p,this._suggestPreviewEnabled=b,this._suggestPreviewMode=w,this._inlineSuggestMode=E,this._enabled=I,this._instantiationService=N,this._commandService=R,this._languageConfigurationService=F,this._source=this._register(this._instantiationService.createInstance(i.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,D.observableValue)(this,!1),this._forceUpdate=(0,D.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,D.observableValue)(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([l.Redo,l.Undo,l.AcceptWord]),this._fetchInlineCompletions=(0,D.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:C.InlineCompletionTriggerKind.Automatic}),handleChange:(A,T)=>(A.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(A.change)?T.preserveCurrentCompletion=!0:A.didChange(this._forceUpdate)&&(T.inlineCompletionTriggerKind=A.change),!0)},(A,T)=>{if(this._forceUpdate.read(A),!(this._enabled.read(A)&&this.selectedSuggestItem.read(A)||this._isActive.read(A))){this._source.cancelUpdate();return}this.textModelVersionId.read(A);const P=this.selectedInlineCompletion.get(),x=T.preserveCurrentCompletion||P?.forwardStable?P:void 0,z=this._source.suggestWidgetInlineCompletions.get(),q=this.selectedSuggestItem.read(A);if(z&&!q){const X=this._source.inlineCompletions.get();(0,D.transaction)(ne=>{X&&z.request.versionId>X.request.versionId&&this._source.inlineCompletions.set(z.clone(),ne),this._source.clearSuggestWidgetInlineCompletions(ne)})}const B=this.cursorPosition.read(A),$={triggerKind:T.inlineCompletionTriggerKind,selectedSuggestionInfo:q?.toSelectedSuggestionInfo()};return this._source.fetch(B,$,x)}),this._filteredInlineCompletionItems=(0,D.derived)(this,A=>{const T=this._source.inlineCompletions.read(A);if(!T)return[];const O=this.cursorPosition.read(A);return T.inlineCompletions.filter(x=>x.isVisible(this.textModel,O,A))}),this.selectedInlineCompletionIndex=(0,D.derived)(this,A=>{const T=this._selectedInlineCompletionId.read(A),O=this._filteredInlineCompletionItems.read(A),P=this._selectedInlineCompletionId===void 0?-1:O.findIndex(x=>x.semanticId===T);return P===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):P}),this.selectedInlineCompletion=(0,D.derived)(this,A=>{const T=this._filteredInlineCompletionItems.read(A),O=this.selectedInlineCompletionIndex.read(A);return T[O]}),this.lastTriggerKind=this._source.inlineCompletions.map(A=>A?.request.context.triggerKind),this.inlineCompletionsCount=(0,D.derived)(this,A=>{if(this.lastTriggerKind.read(A)===C.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(A).length}),this.state=(0,D.derivedOpts)({owner:this,equalityComparer:(A,T)=>!A||!T?A===T:(0,n.ghostTextOrReplacementEquals)(A.ghostText,T.ghostText)&&A.inlineCompletion===T.inlineCompletion&&A.suggestItem===T.suggestItem},A=>{var T;const O=this.textModel,P=this.selectedSuggestItem.read(A);if(P){const x=P.toSingleTextEdit().removeCommonPrefix(O),z=this._computeAugmentedCompletion(x,A);if(!this._suggestPreviewEnabled.read(A)&&!z)return;const B=(T=z?.edit)!==null&&T!==void 0?T:x,$=z?z.edit.text.length-x.text.length:0,X=this._suggestPreviewMode.read(A),ne=this.cursorPosition.read(A),oe=B.computeGhostText(O,X,ne,$);return{ghostText:oe??new n.GhostText(B.range.endLineNumber,[]),inlineCompletion:z?.completion,suggestItem:P}}else{if(!this._isActive.read(A))return;const x=this.selectedInlineCompletion.read(A);if(!x)return;const z=x.toSingleTextEdit(A),q=this._inlineSuggestMode.read(A),B=this.cursorPosition.read(A),$=z.computeGhostText(O,q,B);return $?{ghostText:$,inlineCompletion:x,suggestItem:void 0}:void 0}}),this.ghostText=(0,D.derivedOpts)({owner:this,equalityComparer:n.ghostTextOrReplacementEquals},A=>{const T=this.state.read(A);if(T)return T.ghostText}),this._register((0,D.recomputeInitiallyAndOnChange)(this._fetchInlineCompletions));let M;this._register((0,D.autorun)(A=>{var T,O;const P=this.state.read(A),x=P?.inlineCompletion;if(x?.semanticId!==M?.semanticId&&(M=x,x)){const z=x.inlineCompletion,q=z.source;(O=(T=q.provider).handleItemDidShow)===null||O===void 0||O.call(T,q.inlineCompletions,z.sourceInlineCompletion,z.insertText)}}))}trigger(d){return Se(this,void 0,void 0,function*(){this._isActive.set(!0,d),yield this._fetchInlineCompletions.get()})}triggerExplicitly(d){return Se(this,void 0,void 0,function*(){(0,D.subtransaction)(d,r=>{this._isActive.set(!0,r),this._forceUpdate.trigger(r,C.InlineCompletionTriggerKind.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(d){(0,D.subtransaction)(d,r=>{this._isActive.set(!1,r),this._source.clear(r)})}_computeAugmentedCompletion(d,r){const g=this.textModel,f=this._source.suggestWidgetInlineCompletions.read(r),p=f?f.inlineCompletions:[this.selectedInlineCompletion.read(r)].filter(S.isDefined);return(0,L.mapFindFirst)(p,w=>{let E=w.toSingleTextEdit(r);return E=E.removeCommonPrefix(g,v.Range.fromPositions(E.range.getStartPosition(),d.range.getEndPosition())),E.augments(d)?{edit:E,completion:w}:void 0})}_deltaSelectedInlineCompletionIndex(d){return Se(this,void 0,void 0,function*(){yield this.triggerExplicitly();const r=this._filteredInlineCompletionItems.get()||[];if(r.length>0){const g=(this.selectedInlineCompletionIndex.get()+d+r.length)%r.length;this._selectedInlineCompletionId.set(r[g].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return Se(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return Se(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(d){var r;return Se(this,void 0,void 0,function*(){if(d.getModel()!==this.textModel)throw new k.BugIndicatingError;const g=this.state.get();if(!g||g.ghostText.isEmpty()||!g.inlineCompletion)return;const f=g.inlineCompletion.toInlineCompletion(void 0);d.pushUndoStop(),f.snippetInfo?(d.executeEdits("inlineSuggestion.accept",[m.EditOperation.replaceMove(f.range,""),...f.additionalTextEdits]),d.setPosition(f.snippetInfo.range.getStartPosition()),(r=a.SnippetController2.get(d))===null||r===void 0||r.insert(f.snippetInfo.snippet,{undoStopBefore:!1})):d.executeEdits("inlineSuggestion.accept",[m.EditOperation.replaceMove(f.range,f.insertText),...f.additionalTextEdits]),f.command&&f.source.addRef(),(0,D.transaction)(p=>{this._source.clear(p),this._isActive.set(!1,p)}),f.command&&(yield this._commandService.executeCommand(f.command.id,...f.command.arguments||[]).then(void 0,k.onUnexpectedExternalError),f.source.removeRef())})}acceptNextWord(d){return Se(this,void 0,void 0,function*(){yield this._acceptNext(d,(r,g)=>{const f=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column),p=this._languageConfigurationService.getLanguageConfiguration(f),b=new RegExp(p.wordDefinition.source,p.wordDefinition.flags.replace("g","")),w=g.match(b);let E=0;w&&w.index!==void 0?w.index===0?E=w[0].length:E=w.index:E=g.length;const N=/\s+/g.exec(g);return N&&N.index!==void 0&&N.index+N[0].length<E&&(E=N.index+N[0].length),E})})}acceptNextLine(d){return Se(this,void 0,void 0,function*(){yield this._acceptNext(d,(r,g)=>{const f=g.match(/\n/);return f&&f.index!==void 0?f.index+1:g.length})})}_acceptNext(d,r){return Se(this,void 0,void 0,function*(){if(d.getModel()!==this.textModel)throw new k.BugIndicatingError;const g=this.state.get();if(!g||g.ghostText.isEmpty()||!g.inlineCompletion)return;const f=g.ghostText,p=g.inlineCompletion.toInlineCompletion(void 0);if(p.snippetInfo||p.filterText!==p.insertText){yield this.accept(d);return}const b=f.parts[0],w=new _.Position(f.lineNumber,b.column),E=b.lines.join(`
`),I=r(w,E);if(I===E.length&&f.parts.length===1){this.accept(d);return}const N=E.substring(0,I);this._isAcceptingPartially=!0;try{d.pushUndoStop(),d.executeEdits("inlineSuggestion.accept",[m.EditOperation.replace(v.Range.fromPositions(w),N)]);const R=(0,t.lengthOfText)(N);d.setPosition((0,t.addPositions)(w,R))}finally{this._isAcceptingPartially=!1}if(p.source.provider.handlePartialAccept){const R=v.Range.fromPositions(p.range.getStartPosition(),(0,t.addPositions)(w,(0,t.lengthOfText)(N))),F=d.getModel().getValueInRange(R,1);p.source.provider.handlePartialAccept(p.source.inlineCompletions,p.sourceInlineCompletion,F.length)}})}handleSuggestAccepted(d){var r,g;const f=d.toSingleTextEdit().removeCommonPrefix(this.textModel),p=this._computeAugmentedCompletion(f,void 0);if(!p)return;const b=p.completion.inlineCompletion;(g=(r=b.source.provider).handlePartialAccept)===null||g===void 0||g.call(r,b.source.inlineCompletions,b.sourceInlineCompletion,f.text.length)}};e.InlineCompletionsModel=c,e.InlineCompletionsModel=c=Ie([ge(9,h.IInstantiationService),ge(10,u.ICommandService),ge(11,s.ILanguageConfigurationService)],c)}),define(ee[912],te([1,0,13,19,9,6,2,10,24,115,304,103,29,15,66,75,303,133,18,68,20,236,195,239]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class p{static shouldAutoTrigger(N){if(!N.hasModel())return!1;const R=N.getModel(),F=N.getPosition();R.tokenization.tokenizeIfCheap(F.lineNumber);const M=R.getWordAtPosition(F);return!(!M||M.endColumn!==F.column&&M.startColumn+1!==F.column||!isNaN(Number(M.word)))}constructor(N,R,F){this.leadingLineContent=N.getLineContent(R.lineNumber).substr(0,R.column-1),this.leadingWord=N.getWordUntilPosition(R),this.lineNumber=R.lineNumber,this.column=R.column,this.triggerOptions=F}}e.LineContext=p;function b(I,N,R){if(!N.getContextKeyValue(d.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const F=N.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return F!==void 0?!F:!I.getOption(61).suppressSuggestions}function w(I,N,R){if(!N.getContextKeyValue("inlineSuggestionVisible"))return!0;const F=N.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return F!==void 0?!F:!I.getOption(61).suppressSuggestions}let E=f=class{constructor(N,R,F,M,A,T,O,P,x){this._editor=N,this._editorWorkerService=R,this._clipboardService=F,this._telemetryService=M,this._logService=A,this._contextKeyService=T,this._configurationService=O,this._languageFeaturesService=P,this._envService=x,this._toDispose=new S.DisposableStore,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new L.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new _.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let z=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{z=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{z=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(q=>{z||this._onCursorChange(q)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!z&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(89)||!this._editor.hasModel()||!this._editor.getOption(119))return;const N=new Map;for(const F of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const M of F.triggerCharacters||[]){let A=N.get(M);A||(A=new Set,A.add((0,h.getSnippetSuggestSupport)()),N.set(M,A)),A.add(F)}const R=F=>{var M;if(!w(this._editor,this._contextKeyService,this._configurationService)||p.shouldAutoTrigger(this._editor))return;if(!F){const O=this._editor.getPosition();F=this._editor.getModel().getLineContent(O.lineNumber).substr(0,O.column-1)}let A="";(0,m.isLowSurrogate)(F.charCodeAt(F.length-1))?(0,m.isHighSurrogate)(F.charCodeAt(F.length-2))&&(A=F.substr(F.length-2)):A=F.charAt(F.length-1);const T=N.get(A);if(T){const O=new Map;if(this._completionModel)for(const[P,x]of this._completionModel.getItemsByProvider())T.has(P)||O.set(P,x);this.trigger({auto:!0,triggerKind:1,triggerCharacter:A,retrigger:!!this._completionModel,clipboardText:(M=this._completionModel)===null||M===void 0?void 0:M.clipboardText,completionOptions:{providerFilter:T,providerItemsToReuse:O}})}};this._triggerCharacterListener.add(this._editor.onDidType(R)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>R()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(N=!1){var R;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(R=this._requestToken)===null||R===void 0||R.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:N}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(N){if(!this._editor.hasModel())return;const R=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!N.selection.isEmpty()||N.reason!==0&&N.reason!==3||N.source!=="keyboard"&&N.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&N.reason===0?(R.containsRange(this._currentSelection)||R.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&N.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var N;h.QuickSuggestionsOptions.isAllOff(this._editor.getOption(87))||this._editor.getOption(116).snippetsPreventQuickSuggestions&&(!((N=r.SnippetController2.get(this._editor))===null||N===void 0)&&N.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!p.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const R=this._editor.getModel(),F=this._editor.getPosition(),M=this._editor.getOption(87);if(!h.QuickSuggestionsOptions.isAllOff(M)){if(!h.QuickSuggestionsOptions.isAllOn(M)){R.tokenization.tokenizeIfCheap(F.lineNumber);const A=R.tokenization.getLineTokens(F.lineNumber),T=A.getStandardTokenType(A.findTokenIndexAtOffset(Math.max(F.column-1-1,0)));if(h.QuickSuggestionsOptions.valueFor(M,T)!=="on")return}b(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(R)&&this.trigger({auto:!0})}},this._editor.getOption(88)))}_refilterCompletionItems(){(0,o.assertType)(this._editor.hasModel()),(0,o.assertType)(this._triggerState!==void 0);const N=this._editor.getModel(),R=this._editor.getPosition(),F=new p(N,R,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(F)}trigger(N){var R,F,M,A,T,O;if(!this._editor.hasModel())return;const P=this._editor.getModel(),x=new p(P,this._editor.getPosition(),N);this.cancel(N.retrigger),this._triggerState=N,this._onDidTrigger.fire({auto:N.auto,shy:(R=N.shy)!==null&&R!==void 0?R:!1,position:this._editor.getPosition()}),this._context=x;let z={triggerKind:(F=N.triggerKind)!==null&&F!==void 0?F:0};N.triggerCharacter&&(z={triggerKind:1,triggerCharacter:N.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const q=this._editor.getOption(110);let B=1;switch(q){case"top":B=0;break;case"bottom":B=2;break}const{itemKind:$,showDeprecated:X}=f._createSuggestFilter(this._editor),ne=new h.CompletionOptions(B,(A=(M=N.completionOptions)===null||M===void 0?void 0:M.kindFilter)!==null&&A!==void 0?A:$,(T=N.completionOptions)===null||T===void 0?void 0:T.providerFilter,(O=N.completionOptions)===null||O===void 0?void 0:O.providerItemsToReuse,X),oe=C.WordDistance.create(this._editorWorkerService,this._editor),Y=(0,h.provideSuggestionItems)(this._languageFeaturesService.completionProvider,P,this._editor.getPosition(),ne,z,this._requestToken.token);Promise.all([Y,oe]).then(([U,W])=>Se(this,void 0,void 0,function*(){var V;if((V=this._requestToken)===null||V===void 0||V.dispose(),!this._editor.hasModel())return;let Z=N?.clipboardText;if(!Z&&U.needsClipboard&&(Z=yield this._clipboardService.readText()),this._triggerState===void 0)return;const ie=this._editor.getModel(),le=new p(ie,this._editor.getPosition(),N),he=Object.assign(Object.assign({},c.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(116).matchOnWordStartOnly});if(this._completionModel=new u.CompletionModel(U.items,this._context.column,{leadingLineContent:le.leadingLineContent,characterCountDelta:le.column-this._context.column},W,this._editor.getOption(116),this._editor.getOption(110),he,Z),this._completionDisposables.add(U.disposable),this._onNewContext(le),this._reportDurationsTelemetry(U.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const de of U.items)de.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${de.provider._debugDisplayName}`,de.completion)})).catch(y.onUnexpectedError)}_reportDurationsTelemetry(N){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(N)}),this._logService.debug("suggest.durations.json",N)})}static _createSuggestFilter(N){const R=new Set;N.getOption(110)==="none"&&R.add(27);const M=N.getOption(116);return M.showMethods||R.add(0),M.showFunctions||R.add(1),M.showConstructors||R.add(2),M.showFields||R.add(3),M.showVariables||R.add(4),M.showClasses||R.add(5),M.showStructs||R.add(6),M.showInterfaces||R.add(7),M.showModules||R.add(8),M.showProperties||R.add(9),M.showEvents||R.add(10),M.showOperators||R.add(11),M.showUnits||R.add(12),M.showValues||R.add(13),M.showConstants||R.add(14),M.showEnums||R.add(15),M.showEnumMembers||R.add(16),M.showKeywords||R.add(17),M.showWords||R.add(18),M.showColors||R.add(19),M.showFiles||R.add(20),M.showReferences||R.add(21),M.showColors||R.add(22),M.showFolders||R.add(23),M.showTypeParameters||R.add(24),M.showSnippets||R.add(27),M.showUsers||R.add(25),M.showIssues||R.add(26),{itemKind:R,showDeprecated:M.showDeprecated}}_onNewContext(N){if(this._context){if(N.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,m.getLeadingWhitespace)(N.leadingLineContent)!==(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(N.column<this._context.column){N.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(N.leadingWord.word.length!==0&&N.leadingWord.startColumn>this._context.leadingWord.startColumn){if(p.shouldAutoTrigger(this._editor)&&this._context){const F=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:F}})}return}if(N.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&N.leadingWord.word.length!==0){const R=new Map,F=new Set;for(const[M,A]of this._completionModel.getItemsByProvider())A.length>0&&A[0].container.incomplete?F.add(M):R.set(M,A);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:F,providerItemsToReuse:R}})}else{const R=this._completionModel.lineContext;let F=!1;if(this._completionModel.lineContext={leadingLineContent:N.leadingLineContent,characterCountDelta:N.column-this._context.column},this._completionModel.items.length===0){const M=p.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(M&&this._context.leadingWord.endColumn<N.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=R,F=this._completionModel.items.length>0,F&&N.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:N.triggerOptions,isFrozen:F})}}}}};e.SuggestModel=E,e.SuggestModel=E=f=Ie([ge(1,v.IEditorWorkerService),ge(2,s.IClipboardService),ge(3,a.ITelemetryService),ge(4,t.ILogService),ge(5,i.IContextKeyService),ge(6,n.IConfigurationService),ge(7,l.ILanguageFeaturesService),ge(8,g.IEnvironmentService)],E)}),define(ee[381],te([1,0,49,14,13,19,9,6,118,2,17,58,20,120,16,70,12,5,22,195,127,350,753,699,25,15,8,66,133,752,549,912,550,893,75,44,141]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N,R,F,M,A,T,O){"use strict";var P;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const x=!1;class z{constructor(Y,U){if(this._model=Y,this._position=U,Y.getLineMaxColumn(U.lineNumber)!==U.column){const V=Y.getOffsetAt(U),Z=Y.getPositionAt(V+1);this._marker=Y.deltaDecorations([],[{range:h.Range.fromPositions(U,Z),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Y){if(this._model.isDisposed()||this._position.lineNumber!==Y.lineNumber)return 0;if(this._marker){const U=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(U.getStartPosition())-this._model.getOffsetAt(Y)}else return this._model.getLineMaxColumn(Y.lineNumber)-Y.column}}let q=P=class{static get(Y){return Y.getContribution(P.ID)}constructor(Y,U,W,V,Z,ie,le){this._memoryService=U,this._commandService=W,this._contextKeyService=V,this._instantiationService=Z,this._logService=ie,this._telemetryService=le,this._lineSuffix=new v.MutableDisposable,this._toDispose=new v.DisposableStore,this._selectors=new B(ae=>ae.priority),this._onWillInsertSuggestItem=new m.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=Y,this.model=Z.createInstance(R.SuggestModel,this.editor),this._selectors.register({priority:0,select:(ae,J,K)=>this._memoryService.select(ae,J,K)});const he=E.Context.InsertMode.bindTo(V);he.set(Y.getOption(116).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>he.set(Y.getOption(116).insertMode))),this.widget=this._toDispose.add(new y.IdleValue(()=>{const ae=this._instantiationService.createInstance(M.SuggestWidget,this.editor);this._toDispose.add(ae),this._toDispose.add(ae.onDidSelect(j=>this._insertSuggestion(j,0),this));const J=new N.CommitCharacterController(this.editor,ae,this.model,j=>this._insertSuggestion(j,2));this._toDispose.add(J);const K=E.Context.MakesTextEdit.bindTo(this._contextKeyService),H=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Q=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,v.toDisposable)(()=>{K.reset(),H.reset(),Q.reset()})),this._toDispose.add(ae.onDidFocus(({item:j})=>{const re=this.editor.getPosition(),se=j.editStart.column,ue=re.column;let me=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!j.completion.additionalTextEdits&&!(j.completion.insertTextRules&4)&&ue-se===j.completion.insertText.length&&(me=this.editor.getModel().getValueInRange({startLineNumber:re.lineNumber,startColumn:se,endLineNumber:re.lineNumber,endColumn:ue})!==j.completion.insertText),K.set(me),H.set(!u.Position.equals(j.editInsertEnd,j.editReplaceEnd)),Q.set(!!j.provider.resolveCompletionItem||!!j.completion.documentation||j.completion.detail!==j.completion.label)})),this._toDispose.add(ae.onDetailsKeyDown(j=>{if(j.toKeyCodeChord().equals(new _.KeyCodeChord(!0,!1,!1,!1,33))||C.isMacintosh&&j.toKeyCodeChord().equals(new _.KeyCodeChord(!1,!1,!1,!0,33))){j.stopPropagation();return}j.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ae})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new F.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Z.createInstance(r.WordContextKey,Y)),this._toDispose.add(this.model.onDidTrigger(ae=>{this.widget.value.showTriggered(ae.auto,ae.shy?250:50),this._lineSuffix.value=new z(this.editor.getModel(),ae.position)})),this._toDispose.add(this.model.onDidSuggest(ae=>{if(ae.triggerOptions.shy)return;let J=-1;for(const H of this._selectors.itemsOrderedByPriorityDesc)if(J=H.select(this.editor.getModel(),this.editor.getPosition(),ae.completionModel.items),J!==-1)break;J===-1&&(J=0);let K=!1;if(ae.triggerOptions.auto){const H=this.editor.getOption(116);H.selectionMode==="never"||H.selectionMode==="always"?K=H.selectionMode==="never":H.selectionMode==="whenTriggerCharacter"?K=ae.triggerOptions.triggerKind!==1:H.selectionMode==="whenQuickSuggestion"&&(K=ae.triggerOptions.triggerKind===1&&!ae.triggerOptions.refilter)}this.widget.value.showSuggestions(ae.completionModel,J,ae.isFrozen,ae.triggerOptions.auto,K)})),this._toDispose.add(this.model.onDidCancel(ae=>{ae.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{x||(this.model.cancel(),this.model.clear())}));const de=E.Context.AcceptSuggestionsOnEnter.bindTo(V),ce=()=>{const ae=this.editor.getOption(1);de.set(ae==="on"||ae==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ce())),ce()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(Y,U){if(!Y||!Y.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const W=c.SnippetController2.get(this.editor);if(!W)return;this._onWillInsertSuggestItem.fire({item:Y.item});const V=this.editor.getModel(),Z=V.getAlternativeVersionId(),{item:ie}=Y,le=[],he=new D.CancellationTokenSource;U&1||this.editor.pushUndoStop();const de=this.getOverwriteInfo(ie,!!(U&8));this._memoryService.memorize(V,this.editor.getPosition(),ie);const ce=ie.isResolved;let ae=-1,J=-1;if(Array.isArray(ie.completion.additionalTextEdits)){this.model.cancel();const H=i.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ie.completion.additionalTextEdits.map(Q=>a.EditOperation.replaceMove(h.Range.lift(Q.range),Q.text))),H.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ce){const H=new s.StopWatch;let Q;const j=V.onDidChangeContent(me=>{if(me.isFlush){he.cancel(),j.dispose();return}for(const ve of me.changes){const Ce=h.Range.getEndPosition(ve.range);(!Q||u.Position.isBefore(Ce,Q))&&(Q=Ce)}}),re=U;U|=2;let se=!1;const ue=this.editor.onWillType(()=>{ue.dispose(),se=!0,re&2||this.editor.pushUndoStop()});le.push(ie.resolve(he.token).then(()=>{if(!ie.completion.additionalTextEdits||he.token.isCancellationRequested)return;if(Q&&ie.completion.additionalTextEdits.some(ve=>u.Position.isBefore(Q,h.Range.getStartPosition(ve.range))))return!1;se&&this.editor.pushUndoStop();const me=i.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ie.completion.additionalTextEdits.map(ve=>a.EditOperation.replaceMove(h.Range.lift(ve.range),ve.text))),me.restoreRelativeVerticalPositionOfCursor(this.editor),(se||!(re&2))&&this.editor.pushUndoStop(),!0}).then(me=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",H.elapsed(),me),J=me===!0?1:me===!1?0:-2}).finally(()=>{j.dispose(),ue.dispose()}))}let{insertText:K}=ie.completion;if(ie.completion.insertTextRules&4||(K=o.SnippetParser.escape(K)),this.model.cancel(),W.insert(K,{overwriteBefore:de.overwriteBefore,overwriteAfter:de.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ie.completion.insertTextRules&1),clipboardText:Y.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),U&2||this.editor.pushUndoStop(),ie.completion.command)if(ie.completion.command.id===$.id)this.model.trigger({auto:!0,retrigger:!0});else{const H=new s.StopWatch;le.push(this._commandService.executeCommand(ie.completion.command.id,...ie.completion.command.arguments?[...ie.completion.command.arguments]:[]).catch(Q=>{ie.completion.extensionId?(0,S.onUnexpectedExternalError)(Q):(0,S.onUnexpectedError)(Q)}).finally(()=>{ae=H.elapsed()}))}U&4&&this._alternatives.value.set(Y,H=>{for(he.cancel();V.canUndo();){Z!==V.getAlternativeVersionId()&&V.undo(),this._insertSuggestion(H,3|(U&8?8:0));break}}),this._alertCompletionItem(ie),Promise.all(le).finally(()=>{this._reportSuggestionAcceptedTelemetry(ie,V,ce,ae,J),this.model.clear(),he.dispose()})}_reportSuggestionAcceptedTelemetry(Y,U,W,V,Z){var ie,le,he;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(le=(ie=Y.extensionId)===null||ie===void 0?void 0:ie.value)!==null&&le!==void 0?le:"unknown",providerId:(he=Y.provider._debugDisplayName)!==null&&he!==void 0?he:"unknown",kind:Y.completion.kind,basenameHash:(0,O.hash)((0,T.basename)(U.uri)).toString(16),languageId:U.getLanguageId(),fileExtension:(0,T.extname)(U.uri),resolveInfo:Y.provider.resolveCompletionItem?W?1:0:-1,resolveDuration:Y.resolveDuration,commandDuration:V,additionalEditsAsync:Z})}getOverwriteInfo(Y,U){(0,n.assertType)(this.editor.hasModel());let W=this.editor.getOption(116).insertMode==="replace";U&&(W=!W);const V=Y.position.column-Y.editStart.column,Z=(W?Y.editReplaceEnd.column:Y.editInsertEnd.column)-Y.position.column,ie=this.editor.getPosition().column-Y.position.column,le=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:V+ie,overwriteAfter:Z+le}}_alertCompletionItem(Y){if((0,k.isNonEmptyArray)(Y.completion.additionalTextEdits)){const U=g.localize(0,null,Y.textLabel,Y.completion.additionalTextEdits.length);(0,L.alert)(U)}}triggerSuggest(Y,U,W){this.editor.hasModel()&&(this.model.trigger({auto:U??!1,completionOptions:{providerFilter:Y,kindFilter:W?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Y){if(!this.editor.hasModel())return;const U=this.editor.getPosition(),W=()=>{U.equals(this.editor.getPosition())&&this._commandService.executeCommand(Y.fallback)},V=Z=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;const ie=this.editor.getPosition(),le=Z.editStart.column,he=ie.column;return he-le!==Z.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ie.lineNumber,startColumn:le,endLineNumber:ie.lineNumber,endColumn:he})!==Z.completion.insertText};m.Event.once(this.model.onDidTrigger)(Z=>{const ie=[];m.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,v.dispose)(ie),W()},void 0,ie),this.model.onDidSuggest(({completionModel:le})=>{if((0,v.dispose)(ie),le.items.length===0){W();return}const he=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),le.items),de=le.items[he];if(!V(de)){W();return}this.editor.pushUndoStop(),this._insertSuggestion({index:he,item:de,model:le},7)},void 0,ie)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(U,0),this.editor.focus()}acceptSelectedSuggestion(Y,U){const W=this.widget.value.getFocusedItem();let V=0;Y&&(V|=4),U&&(V|=8),this._insertSuggestion(W,V)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Y){return this._selectors.register(Y)}};e.SuggestController=q,q.ID="editor.contrib.suggestController",e.SuggestController=q=P=Ie([ge(1,d.ISuggestMemoryService),ge(2,f.ICommandService),ge(3,p.IContextKeyService),ge(4,b.IInstantiationService),ge(5,w.ILogService),ge(6,A.ITelemetryService)],q);class B{constructor(Y){this.prioritySelector=Y,this._items=new Array}register(Y){if(this._items.indexOf(Y)!==-1)throw new Error("Value is already registered");return this._items.push(Y),this._items.sort((U,W)=>this.prioritySelector(W)-this.prioritySelector(U)),{dispose:()=>{const U=this._items.indexOf(Y);U>=0&&this._items.splice(U,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class $ extends t.EditorAction{constructor(){super({id:$.id,label:g.localize(1,null),alias:"Trigger Suggest",precondition:p.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCompletionItemProvider,E.Context.Visible.toNegated()),kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Y,U,W){const V=q.get(U);if(!V)return;let Z;W&&typeof W=="object"&&W.auto===!0&&(Z=!0),V.triggerSuggest(void 0,Z,void 0)}}e.TriggerSuggestAction=$,$.id="editor.action.triggerSuggest",(0,t.registerEditorContribution)(q.ID,q,2),(0,t.registerEditorAction)($);const X=100+90,ne=t.EditorCommand.bindToContribution(q.get);(0,t.registerEditorCommand)(new ne({id:"acceptSelectedSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(oe){oe.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:p.ContextKeyExpr.and(E.Context.Visible,l.EditorContextKeys.textInputFocus),weight:X},{primary:3,kbExpr:p.ContextKeyExpr.and(E.Context.Visible,l.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:X}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:g.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:g.localize(3,null),group:"left",order:1,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:g.localize(4,null),group:"left",order:1,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,t.registerEditorCommand)(new ne({id:"acceptAlternativeSelectedSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,l.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(oe){oe.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:g.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:g.localize(6,null)}]})),f.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,t.registerEditorCommand)(new ne({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:oe=>oe.cancelSuggestWidget(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,t.registerEditorCommand)(new ne({id:"selectNextSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:oe=>oe.selectNextSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,t.registerEditorCommand)(new ne({id:"selectNextPageSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:oe=>oe.selectNextPageSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,t.registerEditorCommand)(new ne({id:"selectLastSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:oe=>oe.selectLastSuggestion()})),(0,t.registerEditorCommand)(new ne({id:"selectPrevSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:oe=>oe.selectPrevSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,t.registerEditorCommand)(new ne({id:"selectPrevPageSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:oe=>oe.selectPrevPageSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,t.registerEditorCommand)(new ne({id:"selectFirstSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:oe=>oe.selectFirstSuggestion()})),(0,t.registerEditorCommand)(new ne({id:"focusSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:oe=>oe.focusSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,t.registerEditorCommand)(new ne({id:"focusAndAcceptSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:oe=>{oe.focusSuggestion(),oe.acceptSelectedSuggestion(!0,!1)}})),(0,t.registerEditorCommand)(new ne({id:"toggleSuggestionDetails",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler:oe=>oe.toggleSuggestionDetails(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:p.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:g.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:p.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:g.localize(8,null)}]})),(0,t.registerEditorCommand)(new ne({id:"toggleExplainMode",precondition:E.Context.Visible,handler:oe=>oe.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,t.registerEditorCommand)(new ne({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:oe=>oe.toggleSuggestionFocus(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,t.registerEditorCommand)(new ne({id:"insertBestCompletion",precondition:p.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),r.WordContextKey.AtEnd,E.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:(oe,Y)=>{oe.triggerSuggestAndAcceptBest((0,n.isObject)(Y)?Object.assign({fallback:"tab"},Y):{fallback:"tab"})},kbOpts:{weight:X,primary:2}})),(0,t.registerEditorCommand)(new ne({id:"insertNextSuggestion",precondition:p.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:oe=>oe.acceptNextSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:2}})),(0,t.registerEditorCommand)(new ne({id:"insertPrevSuggestion",precondition:p.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:oe=>oe.acceptPrevSuggestion(),kbOpts:{weight:X,kbExpr:l.EditorContextKeys.textInputFocus,primary:1026}})),(0,t.registerEditorAction)(class extends t.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:g.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(oe,Y){var U;(U=q.get(Y))===null||U===void 0||U.resetWidgetSize()}})}),define(ee[913],te([1,0,6,2,12,5,28,127,380,381,40,299,14,78]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class t extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(l,c,o,d){super(),this.editor=l,this.suggestControllerPreselector=c,this.checkModelVersion=o,this.onWillAccept=d,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,C.observableValue)(this,void 0),this._register(l.onKeyDown(g=>{g.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(l.onKeyUp(g=>{g.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const r=v.SuggestController.get(this.editor);if(r){this._register(r.registerSelector({priority:100,select:(p,b,w)=>{var E;(0,C.transaction)(A=>this.checkModelVersion(A));const I=this.editor.getModel();if(!I)return-1;const N=(E=this.suggestControllerPreselector())===null||E===void 0?void 0:E.removeCommonPrefix(I);if(!N)return-1;const R=y.Position.lift(b),F=w.map((A,T)=>{const P=a.fromSuggestion(r,I,R,A,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(I),x=N.augments(P);return{index:T,valid:x,prefixLength:P.text.length,suggestItem:A}}).filter(A=>A&&A.valid&&A.prefixLength>0),M=(0,i.findFirstMaxBy)(F,(0,n.compareBy)(A=>A.prefixLength,n.numberComparator));return M?M.index:-1}}));let g=!1;const f=()=>{g||(g=!0,this._register(r.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(r.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(r.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(L.Event.once(r.model.onDidTrigger)(p=>{f()})),this._register(r.onWillInsertSuggestItem(p=>{const b=this.editor.getPosition(),w=this.editor.getModel();if(!b||!w)return;const E=a.fromSuggestion(r,w,b,p.item,this.isShiftKeyPressed);this.onWillAccept(E)}))}this.update(this._isActive)}update(l){const c=this.getSuggestItemInfo();(this._isActive!==l||!u(this._currentSuggestItemInfo,c))&&(this._isActive=l,this._currentSuggestItemInfo=c,(0,C.transaction)(o=>{this.checkModelVersion(o),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,o)}))}getSuggestItemInfo(){const l=v.SuggestController.get(this.editor);if(!l||!this.isSuggestWidgetVisible)return;const c=l.widget.value.getFocusedItem(),o=this.editor.getPosition(),d=this.editor.getModel();if(!(!c||!o||!d))return a.fromSuggestion(l,d,o,c.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const l=v.SuggestController.get(this.editor);l?.stopForceRenderingAbove()}forceRenderingAbove(){const l=v.SuggestController.get(this.editor);l?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=t;class a{static fromSuggestion(l,c,o,d,r){let{insertText:g}=d.completion,f=!1;if(d.completion.insertTextRules&4){const b=new m.SnippetParser().parse(g);b.children.length<100&&_.SnippetSession.adjustWhitespace(c,o,!0,b),g=b.toString(),f=!0}const p=l.getOverwriteInfo(d,r);return new a(D.Range.fromPositions(o.delta(0,-p.overwriteBefore),o.delta(0,Math.max(p.overwriteAfter,0))),g,d.completion.kind,f)}constructor(l,c,o,d){this.range=l,this.insertText=c,this.completionItemKind=o,this.isSnippetText=d}equals(l){return this.range.equalsRange(l.range)&&this.insertText===l.insertText&&this.completionItemKind===l.completionItemKind&&this.isSnippetText===l.isSnippetText}toSelectedSuggestionInfo(){return new S.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new s.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=a;function u(h,l){return h===l?!0:!h||!l?!1:h.equals(l)}}),define(ee[257],te([1,0,49,6,2,40,189,12,73,18,215,748,236,253,911,913,678,156,25,29,15,8,34]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let f=g=class extends y.Disposable{static get(b){return b.getContribution(g.ID)}constructor(b,w,E,I,N,R,F,M,A){super(),this.editor=b,this.instantiationService=w,this.contextKeyService=E,this.configurationService=I,this.commandService=N,this.debounceService=R,this.languageFeaturesService=F,this.audioCueService=M,this._keybindingService=A,this.model=(0,D.disposableObservableValue)("inlineCompletionModel",void 0),this.textModelVersionId=(0,D.observableValue)(this,-1),this.cursorPosition=(0,D.observableValue)(this,new m.Position(1,1)),this.suggestWidgetAdaptor=this._register(new a.SuggestWidgetAdaptor(this.editor,()=>{var P,x;return(x=(P=this.model.get())===null||P===void 0?void 0:P.selectedInlineCompletion.get())===null||x===void 0?void 0:x.toSingleTextEdit(void 0)},P=>this.updateObservables(P,t.VersionIdChangeReason.Other),P=>{(0,D.transaction)(x=>{var z;this.updateObservables(x,t.VersionIdChangeReason.Other),(z=this.model.get())===null||z===void 0||z.handleSuggestAccepted(P)})})),this._enabled=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(s.GhostTextWidget,this.editor,{ghostText:this.model.map((P,x)=>P?.ghostText.read(x)),minReservedLineCount:(0,D.constObservable)(0),targetTextModel:this.model.map(P=>P?.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new n.InlineCompletionContextKeys(this.contextKeyService,this.model)),this._register(k.Event.runAndSubscribe(b.onDidChangeModel,()=>(0,D.transaction)(P=>{this.model.set(void 0,P),this.updateObservables(P,t.VersionIdChangeReason.Other);const x=b.getModel();if(x){const z=w.createInstance(t.InlineCompletionsModel,x,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(116).preview),(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(116).previewMode),(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(61).mode),this._enabled);this.model.set(z,P)}})));const T=P=>{var x;return P.isUndoing?t.VersionIdChangeReason.Undo:P.isRedoing?t.VersionIdChangeReason.Redo:!((x=this.model.get())===null||x===void 0)&&x.isAcceptingPartially?t.VersionIdChangeReason.AcceptWord:t.VersionIdChangeReason.Other};this._register(b.onDidChangeModelContent(P=>(0,D.transaction)(x=>this.updateObservables(x,T(P))))),this._register(b.onDidChangeCursorPosition(P=>(0,D.transaction)(x=>{var z;this.updateObservables(x,t.VersionIdChangeReason.Other),(P.reason===3||P.source==="api")&&((z=this.model.get())===null||z===void 0||z.stop(x))}))),this._register(b.onDidType(()=>(0,D.transaction)(P=>{var x;this.updateObservables(P,t.VersionIdChangeReason.Other),this._enabled.get()&&((x=this.model.get())===null||x===void 0||x.trigger(P))}))),this._register(this.commandService.onDidExecuteCommand(P=>{new Set([S.CoreEditingCommands.Tab.id,S.CoreEditingCommands.DeleteLeft.id,S.CoreEditingCommands.DeleteRight.id,C.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(P.commandId)&&b.hasTextFocus()&&this._enabled.get()&&(0,D.transaction)(z=>{var q;(q=this.model.get())===null||q===void 0||q.trigger(z)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.contextKeyService.getContextKeyValue("accessibleViewIsShown")||this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||b.getOption(61).keepOnBlur||i.InlineSuggestionHintsContentWidget.dropDownVisible||(0,D.transaction)(P=>{var x;(x=this.model.get())===null||x===void 0||x.stop(P)})})),this._register((0,D.autorun)(P=>{var x;const z=(x=this.model.read(P))===null||x===void 0?void 0:x.state.read(P);z?.suggestItem?z.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,y.toDisposable)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let O;this._register((0,D.autorun)(P=>{const x=this.model.read(P),z=x?.state.read(P);if(!x||!z||!z.inlineCompletion){O=void 0;return}if(z.inlineCompletion.semanticId!==O){O=z.inlineCompletion.semanticId;const q=x.textModel.getLineContent(z.ghostText.lineNumber);this.audioCueService.playAudioCue(h.AudioCue.inlineSuggestion).then(()=>{this.editor.getOption(7)&&this.provideScreenReaderUpdate(z.ghostText.renderForScreenReader(q))})}})),this._register(new i.InlineCompletionsHintsWidget(this.editor,this.model,this.instantiationService)),this._register(this.configurationService.onDidChangeConfiguration(P=>{P.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})}provideScreenReaderUpdate(b){const w=this.contextKeyService.getContextKeyValue("accessibleViewIsShown"),E=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let I;!w&&E&&this.editor.getOption(146)&&(I=(0,u.localize)(0,null,E.getAriaLabel())),I?(0,L.alert)(b+", "+I):(0,L.alert)(b)}updateObservables(b,w){var E,I;const N=this.editor.getModel();this.textModelVersionId.set((E=N?.getVersionId())!==null&&E!==void 0?E:-1,b,w),this.cursorPosition.set((I=this.editor.getPosition())!==null&&I!==void 0?I:new m.Position(1,1),b)}shouldShowHoverAt(b){var w;const E=(w=this.model.get())===null||w===void 0?void 0:w.ghostText.get();return E?E.parts.some(I=>b.containsPosition(new m.Position(E.lineNumber,I.column))):!1}shouldShowHoverAtViewZone(b){return this.ghostTextWidget.ownsViewZone(b)}};e.InlineCompletionsController=f,f.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=f=g=Ie([ge(1,d.IInstantiationService),ge(2,o.IContextKeyService),ge(3,c.IConfigurationService),ge(4,l.ICommandService),ge(5,_.ILanguageFeatureDebounceService),ge(6,v.ILanguageFeaturesService),ge(7,h.IAudioCueService),ge(8,r.IKeybindingService)],f)}),define(ee[914],te([1,0,40,16,22,215,236,257,133,675,30,29,15]),function(G,e,L,k,y,D,S,m,_,v,C,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class i extends k.EditorAction{constructor(){super({id:i.ID,label:v.localize(0,null),alias:"Show Next Inline Suggestion",precondition:n.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(r,g){var f;return Se(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);(f=p?.model.get())===null||f===void 0||f.next()})}}e.ShowNextInlineSuggestionAction=i,i.ID=D.showNextInlineSuggestionActionId;class t extends k.EditorAction{constructor(){super({id:t.ID,label:v.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:n.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(r,g){var f;return Se(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);(f=p?.model.get())===null||f===void 0||f.previous()})}}e.ShowPreviousInlineSuggestionAction=t,t.ID=D.showPreviousInlineSuggestionActionId;class a extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:v.localize(2,null),alias:"Trigger Inline Suggestion",precondition:y.EditorContextKeys.writable})}run(r,g){var f;return Se(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);(f=p?.model.get())===null||f===void 0||f.triggerExplicitly()})}}e.TriggerInlineSuggestionAction=a;class u extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:v.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:n.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:n.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:v.localize(4,null),group:"primary",order:2}]})}run(r,g){var f;return Se(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);yield(f=p?.model.get())===null||f===void 0?void 0:f.acceptNextWord(p.editor)})}}e.AcceptNextWordOfInlineCompletion=u;class h extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:v.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:n.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:v.localize(6,null),group:"secondary",order:2}]})}run(r,g){var f;return Se(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);yield(f=p?.model.get())===null||f===void 0?void 0:f.acceptNextLine(p.editor)})}}e.AcceptNextLineOfInlineCompletion=h;class l extends k.EditorAction{constructor(){super({id:D.inlineSuggestCommitId,label:v.localize(7,null),alias:"Accept Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:v.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:n.ContextKeyExpr.and(S.InlineCompletionContextKeys.inlineSuggestionVisible,y.EditorContextKeys.tabMovesFocus.toNegated(),S.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,_.Context.Visible.toNegated(),y.EditorContextKeys.hoverFocused.toNegated())}})}run(r,g){var f;return Se(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);p&&((f=p.model.get())===null||f===void 0||f.accept(p.editor),p.editor.focus())})}}e.AcceptInlineCompletion=l;class c extends k.EditorAction{constructor(){super({id:c.ID,label:v.localize(9,null),alias:"Hide Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(r,g){return Se(this,void 0,void 0,function*(){const f=m.InlineCompletionsController.get(g);(0,L.transaction)(p=>{var b;(b=f?.model.get())===null||b===void 0||b.stop(p)})})}}e.HideInlineCompletion=c,c.ID="editor.action.inlineSuggest.hide";class o extends C.Action2{constructor(){super({id:o.ID,title:v.localize(10,null),f1:!1,precondition:void 0,menu:[{id:C.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:n.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}run(r,g){return Se(this,void 0,void 0,function*(){const f=r.get(s.IConfigurationService),b=f.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";f.updateValue("editor.inlineSuggest.showToolbar",b)})}}e.ToggleAlwaysShowInlineSuggestionToolbar=o,o.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(ee[915],te([1,0,7,56,2,40,5,42,100,257,253,116,676,86,8,55,75]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class h{constructor(o,d,r){this.owner=o,this.range=d,this.controller=r}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.InlineCompletionsHover=h;let l=class{constructor(o,d,r,g,f,p){this._editor=o,this._languageService=d,this._openerService=r,this.accessibilityService=g,this._instantiationService=f,this._telemetryService=p,this.hoverOrdinal=4}suggestHoverAnchor(o){const d=v.InlineCompletionsController.get(this._editor);if(!d)return null;const r=o.target;if(r.type===8){const g=r.detail;if(d.shouldShowHoverAtViewZone(g.viewZoneId))return new _.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(this._editor.getModel().validatePosition(g.positionBefore||g.position)),o.event.posx,o.event.posy,!1)}return r.type===7&&d.shouldShowHoverAt(r.range)?new _.HoverForeignElementAnchor(1e3,this,r.range,o.event.posx,o.event.posy,!1):r.type===6&&r.detail.mightBeForeignElement&&d.shouldShowHoverAt(r.range)?new _.HoverForeignElementAnchor(1e3,this,r.range,o.event.posx,o.event.posy,!1):null}computeSync(o,d){if(this._editor.getOption(61).showToolbar==="always")return[];const r=v.InlineCompletionsController.get(this._editor);return r&&r.shouldShowHoverAt(o.range)?[new h(this,o.range,r)]:[]}renderHoverParts(o,d){const r=new y.DisposableStore,g=d[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(7)&&this.renderScreenReaderText(o,g,r);const f=g.controller.model.get(),p=this._instantiationService.createInstance(C.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),f.selectedInlineCompletionIndex,f.inlineCompletionsCount,f.selectedInlineCompletion.map(b=>{var w;return(w=b?.inlineCompletion.source.inlineCompletions.commands)!==null&&w!==void 0?w:[]}));return o.fragment.appendChild(p.getDomNode()),f.triggerExplicitly(),r.add(p),r}renderScreenReaderText(o,d,r){const g=L.$,f=g("div.hover-row.markdown-hover"),p=L.append(f,g("div.hover-contents",{["aria-live"]:"assertive"})),b=r.add(new s.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),w=E=>{r.add(b.onDidRenderAsync(()=>{p.className="hover-contents code-hover-contents",o.onContentsChanged()}));const I=n.localize(0,null),N=r.add(b.render(new k.MarkdownString().appendText(I).appendCodeblock("text",E)));p.replaceChildren(N.element)};r.add((0,D.autorun)(E=>{var I;const N=(I=d.controller.model.read(E))===null||I===void 0?void 0:I.ghostText.read(E);if(N){const R=this._editor.getModel().getLineContent(N.lineNumber);w(N.renderForScreenReader(R))}else L.reset(p)})),o.fragment.appendChild(f)}};e.InlineCompletionsHoverParticipant=l,e.InlineCompletionsHoverParticipant=l=Ie([ge(1,m.ILanguageService),ge(2,a.IOpenerService),ge(3,i.IAccessibilityService),ge(4,t.IInstantiationService),ge(5,u.ITelemetryService)],l)}),define(ee[916],te([1,0,16,100,914,915,257,30]),function(G,e,L,k,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(S.InlineCompletionsController.ID,S.InlineCompletionsController,3),(0,L.registerEditorAction)(y.TriggerInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowNextInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowPreviousInlineSuggestionAction),(0,L.registerEditorAction)(y.AcceptNextWordOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptNextLineOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptInlineCompletion),(0,L.registerEditorAction)(y.HideInlineCompletion),(0,m.registerAction2)(y.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(ee[382],te([1,0,8]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,L.createDecorator)("workspaceTrustManagementService")}),define(ee[917],te([1,0,13,26,56,2,17,10,16,38,39,288,115,42,328,100,248,834,707,29,8,55,67,76,382,466]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,g.registerIcon)("extensions-warning-message",k.Codicon.warning,l.localize(0,null));let p=class extends D.Disposable{constructor(oe,Y,U,W){super(),this._editor=oe,this._editorWorkerService=Y,this._workspaceTrustService=U,this._highlighter=null,this._bannerClosed=!1,this._updateState=V=>{if(V&&V.hasMore){if(this._bannerClosed)return;const Z=Math.max(V.ambiguousCharacterCount,V.nonBasicAsciiCharacterCount,V.invisibleCharacterCount);let ie;if(V.nonBasicAsciiCharacterCount>=Z)ie={message:l.localize(1,null),command:new z};else if(V.ambiguousCharacterCount>=Z)ie={message:l.localize(2,null),command:new P};else if(V.invisibleCharacterCount>=Z)ie={message:l.localize(3,null),command:new x};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ie.message,icon:e.warningIcon,actions:[{label:ie.command.shortLabel,href:`command:${ie.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(W.createInstance(h.BannerController,oe)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=oe.getOption(123),this._register(U.onDidChangeTrust(V=>{this._updateHighlighter()})),this._register(oe.onDidChangeConfiguration(V=>{V.hasChanged(123)&&(this._options=oe.getOption(123),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const oe=b(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([oe.nonBasicASCII,oe.ambiguousCharacters,oe.invisibleCharacters].every(U=>U===!1))return;const Y={nonBasicASCII:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments,includeStrings:oe.includeStrings,allowedCodePoints:Object.keys(oe.allowedCharacters).map(U=>U.codePointAt(0)),allowedLocales:Object.keys(oe.allowedLocales).map(U=>U==="_os"?new Intl.NumberFormat().resolvedOptions().locale:U==="_vscode"?S.language:U)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new w(this._editor,Y,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,Y,this._updateState)}getDecorationInfo(oe){return this._highlighter?this._highlighter.getDecorationInfo(oe):null}};e.UnicodeHighlighter=p,p.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=p=Ie([ge(1,n.IEditorWorkerService),ge(2,f.IWorkspaceTrustManagementService),ge(3,o.IInstantiationService)],p);function b(ne,oe){return{nonBasicASCII:oe.nonBasicASCII===v.inUntrustedWorkspace?!ne:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments===v.inUntrustedWorkspace?!ne:oe.includeComments,includeStrings:oe.includeStrings===v.inUntrustedWorkspace?!ne:oe.includeStrings,allowedCharacters:oe.allowedCharacters,allowedLocales:oe.allowedLocales}}let w=class extends D.Disposable{constructor(oe,Y,U,W){super(),this._editor=oe,this._options=Y,this._updateState=U,this._editorWorkerService=W,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const oe=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Y=>{if(this._model.isDisposed()||this._model.getVersionId()!==oe)return;this._updateState(Y);const U=[];if(!Y.hasMore)for(const W of Y.ranges)U.push({range:W,options:A.instance.getDecorationFromOptions(this._options)});this._decorations.set(U)})}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const Y=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(Y,oe))return null;const U=Y.getValueInRange(oe.range);return{reason:M(U,this._options),inComment:(0,t.isModelDecorationInComment)(Y,oe),inString:(0,t.isModelDecorationInString)(Y,oe)}}};w=Ie([ge(3,n.IEditorWorkerService)],w);class E extends D.Disposable{constructor(oe,Y,U){super(),this._editor=oe,this._options=Y,this._updateState=U,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const oe=this._editor.getVisibleRanges(),Y=[],U={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const W of oe){const V=s.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,W);for(const Z of V.ranges)U.ranges.push(Z);U.ambiguousCharacterCount+=U.ambiguousCharacterCount,U.invisibleCharacterCount+=U.invisibleCharacterCount,U.nonBasicAsciiCharacterCount+=U.nonBasicAsciiCharacterCount,U.hasMore=U.hasMore||V.hasMore}if(!U.hasMore)for(const W of U.ranges)Y.push({range:W,options:A.instance.getDecorationFromOptions(this._options)});this._updateState(U),this._decorations.set(Y)}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const Y=this._editor.getModel(),U=Y.getValueInRange(oe.range);return(0,t.isModelDecorationVisible)(Y,oe)?{reason:M(U,this._options),inComment:(0,t.isModelDecorationInComment)(Y,oe),inString:(0,t.isModelDecorationInString)(Y,oe)}:null}}let I=class{constructor(oe,Y,U){this._editor=oe,this._languageService=Y,this._openerService=U,this.hoverOrdinal=5}computeSync(oe,Y){if(!this._editor.hasModel()||oe.type!==1)return[];const U=this._editor.getModel(),W=this._editor.getContribution(p.ID);if(!W)return[];const V=[],Z=new Set;let ie=300;for(const le of Y){const he=W.getDecorationInfo(le);if(!he)continue;const ce=U.getValueInRange(le.range).codePointAt(0),ae=R(ce);let J;switch(he.reason.kind){case 0:{(0,m.isBasicASCII)(he.reason.confusableWith)?J=l.localize(4,null,ae,R(he.reason.confusableWith.codePointAt(0))):J=l.localize(5,null,ae,R(he.reason.confusableWith.codePointAt(0)));break}case 1:J=l.localize(6,null,ae);break;case 2:J=l.localize(7,null,ae);break}if(Z.has(J))continue;Z.add(J);const K={codePoint:ce,reason:he.reason,inComment:he.inComment,inString:he.inString},H=l.localize(8,null),Q=`command:${q.ID}?${encodeURIComponent(JSON.stringify(K))}`,j=new y.MarkdownString("",!0).appendMarkdown(J).appendText(" ").appendLink(Q,H);V.push(new u.MarkdownHover(this,le.range,[j],!1,ie++))}return V}renderHoverParts(oe,Y){return(0,u.renderMarkdownHovers)(oe,Y,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=I,e.UnicodeHighlighterHoverParticipant=I=Ie([ge(1,i.ILanguageService),ge(2,d.IOpenerService)],I);function N(ne){return`U+${ne.toString(16).padStart(4,"0")}`}function R(ne){let oe=`\`${N(ne)}\``;return m.InvisibleCharacters.isInvisibleCharacter(ne)||(oe+=` "${`${F(ne)}`}"`),oe}function F(ne){return ne===96?"`` ` ``":"`"+String.fromCodePoint(ne)+"`"}function M(ne,oe){return s.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(ne,oe)}class A{constructor(){this.map=new Map}getDecorationFromOptions(oe){return this.getDecoration(!oe.includeComments,!oe.includeStrings)}getDecoration(oe,Y){const U=`${oe}${Y}`;let W=this.map.get(U);return W||(W=C.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:oe,hideInStringTokens:Y}),this.map.set(U,W)),W}}A.instance=new A;class T extends _.EditorAction{constructor(){super({id:P.ID,label:l.localize(10,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=l.localize(9,null)}run(oe,Y,U){return Se(this,void 0,void 0,function*(){const W=oe?.get(c.IConfigurationService);W&&this.runAction(W)})}runAction(oe){return Se(this,void 0,void 0,function*(){yield oe.updateValue(v.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=T;class O extends _.EditorAction{constructor(){super({id:P.ID,label:l.localize(12,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=l.localize(11,null)}run(oe,Y,U){return Se(this,void 0,void 0,function*(){const W=oe?.get(c.IConfigurationService);W&&this.runAction(W)})}runAction(oe){return Se(this,void 0,void 0,function*(){yield oe.updateValue(v.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=O;class P extends _.EditorAction{constructor(){super({id:P.ID,label:l.localize(14,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=l.localize(13,null)}run(oe,Y,U){return Se(this,void 0,void 0,function*(){const W=oe?.get(c.IConfigurationService);W&&this.runAction(W)})}runAction(oe){return Se(this,void 0,void 0,function*(){yield oe.updateValue(v.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=P,P.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class x extends _.EditorAction{constructor(){super({id:x.ID,label:l.localize(16,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=l.localize(15,null)}run(oe,Y,U){return Se(this,void 0,void 0,function*(){const W=oe?.get(c.IConfigurationService);W&&this.runAction(W)})}runAction(oe){return Se(this,void 0,void 0,function*(){yield oe.updateValue(v.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=x,x.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class z extends _.EditorAction{constructor(){super({id:z.ID,label:l.localize(18,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=l.localize(17,null)}run(oe,Y,U){return Se(this,void 0,void 0,function*(){const W=oe?.get(c.IConfigurationService);W&&this.runAction(W)})}runAction(oe){return Se(this,void 0,void 0,function*(){yield oe.updateValue(v.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=z,z.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class q extends _.EditorAction{constructor(){super({id:q.ID,label:l.localize(19,null),alias:"Show Exclude Options",precondition:void 0})}run(oe,Y,U){return Se(this,void 0,void 0,function*(){const{codePoint:W,reason:V,inString:Z,inComment:ie}=U,le=String.fromCodePoint(W),he=oe.get(r.IQuickInputService),de=oe.get(c.IConfigurationService);function ce(K){return m.InvisibleCharacters.isInvisibleCharacter(K)?l.localize(20,null,N(K)):l.localize(21,null,`${N(K)} "${le}"`)}const ae=[];if(V.kind===0)for(const K of V.notAmbiguousInLocales)ae.push({label:l.localize(22,null,K),run:()=>Se(this,void 0,void 0,function*(){$(de,[K])})});if(ae.push({label:ce(W),run:()=>B(de,[W])}),ie){const K=new T;ae.push({label:K.label,run:()=>Se(this,void 0,void 0,function*(){return K.runAction(de)})})}else if(Z){const K=new O;ae.push({label:K.label,run:()=>Se(this,void 0,void 0,function*(){return K.runAction(de)})})}if(V.kind===0){const K=new P;ae.push({label:K.label,run:()=>Se(this,void 0,void 0,function*(){return K.runAction(de)})})}else if(V.kind===1){const K=new x;ae.push({label:K.label,run:()=>Se(this,void 0,void 0,function*(){return K.runAction(de)})})}else if(V.kind===2){const K=new z;ae.push({label:K.label,run:()=>Se(this,void 0,void 0,function*(){return K.runAction(de)})})}else X(V);const J=yield he.pick(ae,{title:l.localize(23,null)});J&&(yield J.run())})}}e.ShowExcludeOptions=q,q.ID="editor.action.unicodeHighlight.showExcludeOptions";function B(ne,oe){return Se(this,void 0,void 0,function*(){const Y=ne.getValue(v.unicodeHighlightConfigKeys.allowedCharacters);let U;typeof Y=="object"&&Y?U=Y:U={};for(const W of oe)U[String.fromCodePoint(W)]=!0;yield ne.updateValue(v.unicodeHighlightConfigKeys.allowedCharacters,U,2)})}function $(ne,oe){var Y;return Se(this,void 0,void 0,function*(){const U=(Y=ne.inspect(v.unicodeHighlightConfigKeys.allowedLocales).user)===null||Y===void 0?void 0:Y.value;let W;typeof U=="object"&&U?W=Object.assign({},U):W={};for(const V of oe)W[V]=!0;yield ne.updateValue(v.unicodeHighlightConfigKeys.allowedLocales,W,2)})}function X(ne){throw new Error(`Unexpected value: ${ne}`)}(0,_.registerEditorAction)(P),(0,_.registerEditorAction)(x),(0,_.registerEditorAction)(z),(0,_.registerEditorAction)(q),(0,_.registerEditorContribution)(p.ID,p,1),a.HoverParticipantRegistry.register(I)}),define(ee[918],te([1,0,189,193,365,794,875,795,796,797,828,877,900,884,798,907,799,878,908,909,368,254,802,803,767,916,255,256,374,372,375,805,902,885,806,807,888,889,808,894,833,858,859,860,810,195,904,381,811,812,783,917,813,895,356,814,809,93,172]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ee[258],te([1,0,10,7,43,6,118,2,17,99,21,130,241,70,12,5,50,65,186,25,29,348,15,157,8,758,34,339,117,340,759,158,46,85,75,162,132,93,44,33,66,382,57,761,776,867,45,766,115,242,42,853,234,872,869,363,131,760,86,30,789,762,103,755,233,756,187,191,94,765,55,67,87,780,156,763,147,9,239,31,362,341,906,73,854,746]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N,R,F,M,A,T,O,P,x,z,q,B,$,X,ne,oe,Y,U,W,V,Z,ie,le,he,de,ce,ae,J,K,H,Q,j,re,se,ue,me,ve,Ce,we,Le,Ee,Ne,Ae,Re,ye,De,fe,_e,pe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class be{constructor(Me){this.disposed=!1,this.model=Me,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let ke=class{constructor(Me){this.modelService=Me}createModelReference(Me){const Be=this.modelService.getModel(Me);return Be?Promise.resolve(new m.ImmortalReference(new be(Be))):Promise.reject(new Error("Model not found"))}};ke=Ie([ge(0,u.IModelService)],ke);class Pe{show(){return Pe.NULL_PROGRESS_RUNNER}showWhile(Me,Be){return Se(this,void 0,void 0,function*(){yield Me})}}Pe.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Fe{withProgress(Me,Be,We){return Be({report:()=>{}})}}class Ue{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class qe{confirm(Me){return Se(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(Me.message,Me.detail),checkboxChecked:!1}})}doConfirm(Me,Be){let We=Me;return Be&&(We=We+`

`+Be),window.confirm(We)}prompt(Me){var Be,We;return Se(this,void 0,void 0,function*(){let He;if(this.doConfirm(Me.message,Me.detail)){const Ye=[...(Be=Me.buttons)!==null&&Be!==void 0?Be:[]];Me.cancelButton&&typeof Me.cancelButton!="string"&&typeof Me.cancelButton!="boolean"&&Ye.push(Me.cancelButton),He=yield(We=Ye[0])===null||We===void 0?void 0:We.run({checkboxChecked:!1})}return{result:He}})}error(Me,Be){return Se(this,void 0,void 0,function*(){yield this.prompt({type:v.default.Error,message:Me,detail:Be})})}}class je{info(Me){return this.notify({severity:v.default.Info,message:Me})}warn(Me){return this.notify({severity:v.default.Warning,message:Me})}error(Me){return this.notify({severity:v.default.Error,message:Me})}notify(Me){switch(Me.severity){case v.default.Error:console.error(Me.message);break;case v.default.Warning:console.warn(Me.message);break;default:console.log(Me.message);break}return je.NO_OP}prompt(Me,Be,We,He){return je.NO_OP}status(Me,Be){return m.Disposable.None}}e.StandaloneNotificationService=je,je.NO_OP=new F.NoOpNotification;let Ze=class{constructor(Me){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Me}executeCommand(Me,...Be){const We=c.CommandsRegistry.getCommand(Me);if(!We)return Promise.reject(new Error(`command '${Me}' not found`));try{this._onWillExecuteCommand.fire({commandId:Me,args:Be});const He=this._instantiationService.invokeFunction.apply(this._instantiationService,[We.handler,...Be]);return this._onDidExecuteCommand.fire({commandId:Me,args:Be}),Promise.resolve(He)}catch(He){return Promise.reject(He)}}};e.StandaloneCommandService=Ze,e.StandaloneCommandService=Ze=Ie([ge(0,f.IInstantiationService)],Ze);let Ke=class extends p.AbstractKeybindingService{constructor(Me,Be,We,He,Qe,Ye){super(Me,Be,We,He,Qe),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const nt=at=>{const wt=new m.DisposableStore;wt.add(k.addDisposableListener(at,k.EventType.KEY_DOWN,Dt=>{const Lt=new y.StandardKeyboardEvent(Dt);this._dispatch(Lt,Lt.target)&&(Lt.preventDefault(),Lt.stopPropagation())})),wt.add(k.addDisposableListener(at,k.EventType.KEY_UP,Dt=>{const Lt=new y.StandardKeyboardEvent(Dt);this._singleModifierDispatch(Lt,Lt.target)&&Lt.preventDefault()})),this._domNodeListeners.push(new ot(at,wt))},Xe=at=>{for(let wt=0;wt<this._domNodeListeners.length;wt++){const Dt=this._domNodeListeners[wt];Dt.domNode===at&&(this._domNodeListeners.splice(wt,1),Dt.dispose())}},Je=at=>{at.getOption(60)||nt(at.getContainerDomNode())},et=at=>{at.getOption(60)||Xe(at.getContainerDomNode())};this._register(Ye.onCodeEditorAdd(Je)),this._register(Ye.onCodeEditorRemove(et)),Ye.listCodeEditors().forEach(Je);const ct=at=>{nt(at.getContainerDomNode())},St=at=>{Xe(at.getContainerDomNode())};this._register(Ye.onDiffEditorAdd(ct)),this._register(Ye.onDiffEditorRemove(St)),Ye.listDiffEditors().forEach(ct)}addDynamicKeybinding(Me,Be,We,He){return(0,m.combinedDisposable)(c.CommandsRegistry.registerCommand(Me,We),this.addDynamicKeybindings([{keybinding:Be,command:Me,when:He}]))}addDynamicKeybindings(Me){const Be=Me.map(We=>{var He;return{keybinding:(0,S.decodeKeybinding)(We.keybinding,_.OS),command:(He=We.command)!==null&&He!==void 0?He:null,commandArgs:We.commandArgs,when:We.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Be),this.updateResolver(),(0,m.toDisposable)(()=>{for(let We=0;We<this._dynamicKeybindings.length;We++)if(this._dynamicKeybindings[We]===Be[0]){this._dynamicKeybindings.splice(We,Be.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Me=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Be=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new w.KeybindingResolver(Me,Be,We=>this._log(We))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Me,Be){const We=[];let He=0;for(const Qe of Me){const Ye=Qe.when||void 0,nt=Qe.keybinding;if(!nt)We[He++]=new I.ResolvedKeybindingItem(void 0,Qe.command,Qe.commandArgs,Ye,Be,null,!1);else{const Xe=N.USLayoutResolvedKeybinding.resolveKeybinding(nt,_.OS);for(const Je of Xe)We[He++]=new I.ResolvedKeybindingItem(Je,Qe.command,Qe.commandArgs,Ye,Be,null,!1)}}return We}resolveKeyboardEvent(Me){const Be=new S.KeyCodeChord(Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey,Me.keyCode);return new N.USLayoutResolvedKeybinding([Be],_.OS)}};e.StandaloneKeybindingService=Ke,e.StandaloneKeybindingService=Ke=Ie([ge(0,r.IContextKeyService),ge(1,c.ICommandService),ge(2,A.ITelemetryService),ge(3,F.INotificationService),ge(4,q.ILogService),ge(5,z.ICodeEditorService)],Ke);class ot extends m.Disposable{constructor(Me,Be){super(),this.domNode=Me,this._register(Be)}}function st(ze){return ze&&typeof ze=="object"&&(!ze.overrideIdentifier||typeof ze.overrideIdentifier=="string")&&(!ze.resource||ze.resource instanceof C.URI)}class lt{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Me=new Re.DefaultConfiguration;this._configuration=new d.Configuration(Me.reload(),new d.ConfigurationModel,new d.ConfigurationModel,new d.ConfigurationModel),Me.dispose()}getValue(Me,Be){const We=typeof Me=="string"?Me:void 0,He=st(Me)?Me:st(Be)?Be:{};return this._configuration.getValue(We,He,void 0)}updateValues(Me){const Be={data:this._configuration.toData()},We=[];for(const He of Me){const[Qe,Ye]=He;this.getValue(Qe)!==Ye&&(this._configuration.updateValue(Qe,Ye),We.push(Qe))}if(We.length>0){const He=new d.ConfigurationChangeEvent({keys:We,overrides:[]},Be,this._configuration);He.source=8,He.sourceConfig=null,this._onDidChangeConfiguration.fire(He)}return Promise.resolve()}updateValue(Me,Be,We,He){return this.updateValues([[Me,Be]])}inspect(Me,Be={}){return this._configuration.inspect(Me,Be,void 0)}}e.StandaloneConfigurationService=lt;let dt=class{constructor(Me,Be,We){this.configurationService=Me,this.modelService=Be,this.languageService=We,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(He=>{this._onDidChangeConfiguration.fire({affectedKeys:He.affectedKeys,affectsConfiguration:(Qe,Ye)=>He.affectsConfiguration(Ye)})})}getValue(Me,Be,We){const He=t.Position.isIPosition(Be)?Be:null,Qe=He?typeof We=="string"?We:void 0:typeof Be=="string"?Be:void 0,Ye=Me?this.getLanguage(Me,He):void 0;return typeof Qe>"u"?this.configurationService.getValue({resource:Me,overrideIdentifier:Ye}):this.configurationService.getValue(Qe,{resource:Me,overrideIdentifier:Ye})}getLanguage(Me,Be){const We=this.modelService.getModel(Me);return We?Be?We.getLanguageIdAtPosition(Be.lineNumber,Be.column):We.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Me)}};dt=Ie([ge(0,o.IConfigurationService),ge(1,u.IModelService),ge(2,Z.ILanguageService)],dt);let rt=class{constructor(Me){this.configurationService=Me}getEOL(Me,Be){const We=this.configurationService.getValue("files.eol",{overrideIdentifier:Be,resource:Me});return We&&typeof We=="string"&&We!=="auto"?We:_.isLinux||_.isMacintosh?`
`:`\r
`}};rt=Ie([ge(0,o.IConfigurationService)],rt);class Ct{publicLog2(){}}class ht{constructor(){const Me=C.URI.from({scheme:ht.SCHEME,authority:"model",path:"/"});this.workspace={id:T.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new T.WorkspaceFolder({uri:Me,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Me){return Me&&Me.scheme===ht.SCHEME?this.workspace.folders[0]:null}}ht.SCHEME="inmemory";function bt(ze,Me,Be){if(!Me||!(ze instanceof lt))return;const We=[];Object.keys(Me).forEach(He=>{(0,n.isEditorConfigurationKey)(He)&&We.push([`editor.${He}`,Me[He]]),Be&&(0,n.isDiffEditorConfigurationKey)(He)&&We.push([`diffEditor.${He}`,Me[He]])}),We.length>0&&ze.updateValues(We)}e.updateConfigurationService=bt;let ft=class{constructor(Me){this._modelService=Me}hasPreviewHandler(){return!1}apply(Me,Be){return Se(this,void 0,void 0,function*(){const We=Array.isArray(Me)?Me:s.ResourceEdit.convert(Me),He=new Map;for(const nt of We){if(!(nt instanceof s.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Xe=this._modelService.getModel(nt.resource);if(!Xe)throw new Error("bad edit - model not found");if(typeof nt.versionId=="number"&&Xe.getVersionId()!==nt.versionId)throw new Error("bad state - model changed in the meantime");let Je=He.get(Xe);Je||(Je=[],He.set(Xe,Je)),Je.push(i.EditOperation.replaceMove(a.Range.lift(nt.textEdit.range),nt.textEdit.text))}let Qe=0,Ye=0;for(const[nt,Xe]of He)nt.pushStackElement(),nt.pushEditOperations([],Xe,()=>[]),nt.pushStackElement(),Ye+=1,Qe+=Xe.length;return{ariaSummary:L.format(P.StandaloneServicesNLS.bulkEditServiceSummary,Qe,Ye),isApplied:Qe>0}})}};ft=Ie([ge(0,u.IModelService)],ft);class _t{getUriLabel(Me,Be){return Me.scheme==="file"?Me.fsPath:Me.path}getUriBasenameLabel(Me){return(0,x.basename)(Me)}}let Ve=class extends X.ContextViewService{constructor(Me,Be){super(Me),this._codeEditorService=Be}showContextView(Me,Be,We){if(!Be){const He=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();He&&(Be=He.getContainerDomNode())}return super.showContextView(Me,Be,We)}};Ve=Ie([ge(0,O.ILayoutService),ge(1,z.ICodeEditorService)],Ve);class Te{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Oe extends ne.LanguageService{constructor(){super()}}class xe extends De.LogService{constructor(){super(new q.ConsoleLogger)}}let $e=class extends oe.ContextMenuService{constructor(Me,Be,We,He,Qe,Ye){super(Me,Be,We,He,Qe,Ye),this.configure({blockMouse:!1})}};$e=Ie([ge(0,A.ITelemetryService),ge(1,F.INotificationService),ge(2,$.IContextViewService),ge(3,b.IKeybindingService),ge(4,H.IMenuService),ge(5,r.IContextKeyService)],$e);class tt{playAudioCue(Me,Be){return Se(this,void 0,void 0,function*(){})}}(0,Y.registerSingleton)(o.IConfigurationService,lt,0),(0,Y.registerSingleton)(l.ITextResourceConfigurationService,dt,0),(0,Y.registerSingleton)(l.ITextResourcePropertiesService,rt,0),(0,Y.registerSingleton)(T.IWorkspaceContextService,ht,0),(0,Y.registerSingleton)(R.ILabelService,_t,0),(0,Y.registerSingleton)(A.ITelemetryService,Ct,0),(0,Y.registerSingleton)(g.IDialogService,qe,0),(0,Y.registerSingleton)(pe.IEnvironmentService,Ue,0),(0,Y.registerSingleton)(F.INotificationService,je,0),(0,Y.registerSingleton)(we.IMarkerService,Le.MarkerService,0),(0,Y.registerSingleton)(Z.ILanguageService,Oe,0),(0,Y.registerSingleton)(ae.IStandaloneThemeService,ce.StandaloneThemeService,0),(0,Y.registerSingleton)(q.ILogService,xe,0),(0,Y.registerSingleton)(u.IModelService,he.ModelService,0),(0,Y.registerSingleton)(le.IMarkerDecorationsService,ie.MarkerDecorationsService,0),(0,Y.registerSingleton)(r.IContextKeyService,se.ContextKeyService,0),(0,Y.registerSingleton)(M.IProgressService,Fe,0),(0,Y.registerSingleton)(M.IEditorProgressService,Pe,0),(0,Y.registerSingleton)(Ae.IStorageService,Ae.InMemoryStorageService,0),(0,Y.registerSingleton)(W.IEditorWorkerService,V.EditorWorkerService,0),(0,Y.registerSingleton)(s.IBulkEditService,ft,0),(0,Y.registerSingleton)(B.IWorkspaceTrustManagementService,Te,0),(0,Y.registerSingleton)(h.ITextModelService,ke,0),(0,Y.registerSingleton)(K.IAccessibilityService,J.AccessibilityService,0),(0,Y.registerSingleton)(Ce.IListService,Ce.ListService,0),(0,Y.registerSingleton)(c.ICommandService,Ze,0),(0,Y.registerSingleton)(b.IKeybindingService,Ke,0),(0,Y.registerSingleton)(Ne.IQuickInputService,de.StandaloneQuickInputService,0),(0,Y.registerSingleton)($.IContextViewService,Ve,0),(0,Y.registerSingleton)(Ee.IOpenerService,U.OpenerService,0),(0,Y.registerSingleton)(re.IClipboardService,j.BrowserClipboardService,0),(0,Y.registerSingleton)($.IContextMenuService,$e,0),(0,Y.registerSingleton)(H.IMenuService,Q.MenuService,0),(0,Y.registerSingleton)(ye.IAudioCueService,tt,0);var it;(function(ze){const Me=new ve.ServiceCollection;for(const[Xe,Je]of(0,Y.getSingletonServiceDescriptors)())Me.set(Xe,Je);const Be=new me.InstantiationService(Me,!0);Me.set(f.IInstantiationService,Be);function We(Xe){He||Ye({});const Je=Me.get(Xe);if(!Je)throw new Error("Missing service "+Xe);return Je instanceof ue.SyncDescriptor?Be.invokeFunction(et=>et.get(Xe)):Je}ze.get=We;let He=!1;const Qe=new D.Emitter;function Ye(Xe){if(He)return Be;He=!0;for(const[et,ct]of(0,Y.getSingletonServiceDescriptors)())Me.get(et)||Me.set(et,ct);for(const et in Xe)if(Xe.hasOwnProperty(et)){const ct=(0,f.createDecorator)(et);Me.get(ct)instanceof ue.SyncDescriptor&&Me.set(ct,Xe[et])}const Je=(0,fe.getEditorFeatures)();for(const et of Je)try{Be.createInstance(et)}catch(ct){(0,_e.onUnexpectedError)(ct)}return Qe.fire(),Be}ze.initialize=Ye;function nt(Xe){if(He)return Xe();const Je=new m.DisposableStore,et=Je.add(Qe.event(()=>{et.dispose(),Je.add(Xe())}));return Je}ze.withServices=nt})(it||(e.StandaloneServices=it={}))}),define(ee[919],te([1,0,49,2,33,193,279,258,131,30,25,29,15,57,8,34,46,23,86,93,103,85,50,42,362,74,31,18,365,156]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let N=0,R=!1;function F(x){if(!x){if(R)return;R=!0}L.setARIAContainer(x||document.body)}let M=class extends D.CodeEditorWidget{constructor(z,q,B,$,X,ne,oe,Y,U,W,V,Z){const ie=Object.assign({},q);ie.ariaLabel=ie.ariaLabel||c.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ie.ariaLabel=ie.ariaLabel+";"+c.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(z,ie,{},B,$,X,ne,Y,U,W,V,Z),oe instanceof m.StandaloneKeybindingService?this._standaloneKeybindingService=oe:this._standaloneKeybindingService=null,F(ie.ariaContainerElement)}addCommand(z,q,B){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const $="DYNAMIC_"+ ++N,X=n.ContextKeyExpr.deserialize(B);return this._standaloneKeybindingService.addDynamicKeybinding($,z,q,X),$}createContextKey(z,q){return this._contextKeyService.createKey(z,q)}addAction(z){if(typeof z.id!="string"||typeof z.label!="string"||typeof z.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const q=z.id,B=z.label,$=n.ContextKeyExpr.and(n.ContextKeyExpr.equals("editorId",this.getId()),n.ContextKeyExpr.deserialize(z.precondition)),X=z.keybindings,ne=n.ContextKeyExpr.and($,n.ContextKeyExpr.deserialize(z.keybindingContext)),oe=z.contextMenuGroupId||null,Y=z.contextMenuOrder||0,U=(ie,...le)=>Promise.resolve(z.run(this,...le)),W=new k.DisposableStore,V=this.getId()+":"+q;if(W.add(C.CommandsRegistry.registerCommand(V,U)),oe){const ie={command:{id:V,title:B},when:$,group:oe,order:Y};W.add(v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,ie))}if(Array.isArray(X))for(const ie of X)W.add(this._standaloneKeybindingService.addDynamicKeybinding(V,ie,U,ne));const Z=new S.InternalEditorAction(V,B,B,$,(...ie)=>Promise.resolve(z.run(this,...ie)),this._contextKeyService);return this._actions.set(q,Z),W.add((0,k.toDisposable)(()=>{this._actions.delete(q)})),W}_triggerCommand(z,q){if(this._codeEditorService instanceof f.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(z,q)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(z,q)}};e.StandaloneCodeEditor=M,e.StandaloneCodeEditor=M=Ie([ge(2,t.IInstantiationService),ge(3,y.ICodeEditorService),ge(4,C.ICommandService),ge(5,n.IContextKeyService),ge(6,a.IKeybindingService),ge(7,h.IThemeService),ge(8,u.INotificationService),ge(9,l.IAccessibilityService),ge(10,b.ILanguageConfigurationService),ge(11,w.ILanguageFeaturesService)],M);let A=class extends M{constructor(z,q,B,$,X,ne,oe,Y,U,W,V,Z,ie,le,he){const de=Object.assign({},q);(0,m.updateConfigurationService)(W,de,!1);const ce=Y.registerEditorContainer(z);typeof de.theme=="string"&&Y.setTheme(de.theme),typeof de.autoDetectHighContrast<"u"&&Y.setAutoDetectHighContrast(!!de.autoDetectHighContrast);const ae=de.model;delete de.model,super(z,de,B,$,X,ne,oe,Y,U,V,le,he),this._configurationService=W,this._standaloneThemeService=Y,this._register(ce);let J;if(typeof ae>"u"){const K=ie.getLanguageIdByMimeType(de.language)||de.language||p.PLAINTEXT_LANGUAGE_ID;J=O(Z,ie,de.value||"",K,void 0),this._ownsModel=!0}else J=ae,this._ownsModel=!1;if(this._attachModel(J),J){const K={oldModelUrl:null,newModelUrl:J.uri};this._onDidChangeModel.fire(K)}}dispose(){super.dispose()}updateOptions(z){(0,m.updateConfigurationService)(this._configurationService,z,!1),typeof z.theme=="string"&&this._standaloneThemeService.setTheme(z.theme),typeof z.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!z.autoDetectHighContrast),super.updateOptions(z)}_postDetachModelCleanup(z){super._postDetachModelCleanup(z),z&&this._ownsModel&&(z.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=A,e.StandaloneEditor=A=Ie([ge(2,t.IInstantiationService),ge(3,y.ICodeEditorService),ge(4,C.ICommandService),ge(5,n.IContextKeyService),ge(6,a.IKeybindingService),ge(7,_.IStandaloneThemeService),ge(8,u.INotificationService),ge(9,s.IConfigurationService),ge(10,l.IAccessibilityService),ge(11,r.IModelService),ge(12,g.ILanguageService),ge(13,b.ILanguageConfigurationService),ge(14,w.ILanguageFeaturesService)],A);let T=class extends E.DiffEditorWidget2{constructor(z,q,B,$,X,ne,oe,Y,U,W,V,Z){const ie=Object.assign({},q);(0,m.updateConfigurationService)(Y,ie,!0);const le=ne.registerEditorContainer(z);typeof ie.theme=="string"&&ne.setTheme(ie.theme),typeof ie.autoDetectHighContrast<"u"&&ne.setAutoDetectHighContrast(!!ie.autoDetectHighContrast),super(z,ie,{},$,B,X,Z,W),this._configurationService=Y,this._standaloneThemeService=ne,this._register(le)}dispose(){super.dispose()}updateOptions(z){(0,m.updateConfigurationService)(this._configurationService,z,!0),typeof z.theme=="string"&&this._standaloneThemeService.setTheme(z.theme),typeof z.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!z.autoDetectHighContrast),super.updateOptions(z)}_createInnerEditor(z,q,B){return z.createInstance(M,q,B)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(z,q,B){return this.getModifiedEditor().addCommand(z,q,B)}createContextKey(z,q){return this.getModifiedEditor().createContextKey(z,q)}addAction(z){return this.getModifiedEditor().addAction(z)}};e.StandaloneDiffEditor2=T,e.StandaloneDiffEditor2=T=Ie([ge(2,t.IInstantiationService),ge(3,n.IContextKeyService),ge(4,y.ICodeEditorService),ge(5,_.IStandaloneThemeService),ge(6,u.INotificationService),ge(7,s.IConfigurationService),ge(8,i.IContextMenuService),ge(9,d.IEditorProgressService),ge(10,o.IClipboardService),ge(11,I.IAudioCueService)],T);function O(x,z,q,B,$){if(q=q||"",!B){const X=q.indexOf(`
`);let ne=q;return X!==-1&&(ne=q.substring(0,X)),P(x,q,z.createByFilepathOrFirstLine($||null,ne),$)}return P(x,q,z.createById(B),$)}e.createTextModel=O;function P(x,z,q,B){return x.createModel(z,q,B)}}),define(ee[920],te([1,0,2,10,21,327,16,33,771,38,143,232,175,28,42,31,74,154,48,50,210,750,919,258,131,30,25,15,34,94,55,472]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a,u,h,l,c,o,d,r,g,f,p,b,w,E,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerEditorOpener=e.registerLinkOpener=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function R(me,ve,Ce){return g.StandaloneServices.initialize(Ce||{}).createInstance(r.StandaloneEditor,me,ve)}e.create=R;function F(me){return g.StandaloneServices.get(m.ICodeEditorService).onCodeEditorAdd(Ce=>{me(Ce)})}e.onDidCreateEditor=F;function M(me){return g.StandaloneServices.get(m.ICodeEditorService).onDiffEditorAdd(Ce=>{me(Ce)})}e.onDidCreateDiffEditor=M;function A(){return g.StandaloneServices.get(m.ICodeEditorService).listCodeEditors()}e.getEditors=A;function T(){return g.StandaloneServices.get(m.ICodeEditorService).listDiffEditors()}e.getDiffEditors=T;function O(me,ve,Ce){return g.StandaloneServices.initialize(Ce||{}).createInstance(r.StandaloneDiffEditor2,me,ve)}e.createDiffEditor=O;function P(me){if(typeof me.id!="string"||typeof me.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return b.CommandsRegistry.registerCommand(me.id,me.run)}e.addCommand=P;function x(me){if(typeof me.id!="string"||typeof me.label!="string"||typeof me.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const ve=w.ContextKeyExpr.deserialize(me.precondition),Ce=(Le,...Ee)=>S.EditorCommand.runEditorCommand(Le,Ee,ve,(Ne,Ae,Re)=>Promise.resolve(me.run(Ae,...Re))),we=new L.DisposableStore;if(we.add(b.CommandsRegistry.registerCommand(me.id,Ce)),me.contextMenuGroupId){const Le={command:{id:me.id,title:me.label},when:ve,group:me.contextMenuGroupId,order:me.contextMenuOrder||0};we.add(p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,Le))}if(Array.isArray(me.keybindings)){const Le=g.StandaloneServices.get(E.IKeybindingService);if(!(Le instanceof g.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Ee=w.ContextKeyExpr.and(ve,w.ContextKeyExpr.deserialize(me.keybindingContext));we.add(Le.addDynamicKeybindings(me.keybindings.map(Ne=>({keybinding:Ne,command:me.id,when:Ee}))))}}return we}e.addEditorAction=x;function z(me){return q([me])}e.addKeybindingRule=z;function q(me){const ve=g.StandaloneServices.get(E.IKeybindingService);return ve instanceof g.StandaloneKeybindingService?ve.addDynamicKeybindings(me.map(Ce=>({keybinding:Ce.keybinding,command:Ce.command,commandArgs:Ce.commandArgs,when:w.ContextKeyExpr.deserialize(Ce.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),L.Disposable.None)}e.addKeybindingRules=q;function B(me,ve,Ce){const we=g.StandaloneServices.get(t.ILanguageService),Le=we.getLanguageIdByMimeType(ve)||ve;return(0,r.createTextModel)(g.StandaloneServices.get(c.IModelService),we,me,Le,Ce)}e.createModel=B;function $(me,ve){const Ce=g.StandaloneServices.get(t.ILanguageService),we=Ce.getLanguageIdByMimeType(ve)||ve||u.PLAINTEXT_LANGUAGE_ID;me.setLanguage(Ce.createById(we))}e.setModelLanguage=$;function X(me,ve,Ce){me&&g.StandaloneServices.get(I.IMarkerService).changeOne(ve,me.uri,Ce)}e.setModelMarkers=X;function ne(me){g.StandaloneServices.get(I.IMarkerService).changeAll(me,[])}e.removeAllMarkers=ne;function oe(me){return g.StandaloneServices.get(I.IMarkerService).read(me)}e.getModelMarkers=oe;function Y(me){return g.StandaloneServices.get(I.IMarkerService).onMarkerChanged(me)}e.onDidChangeMarkers=Y;function U(me){return g.StandaloneServices.get(c.IModelService).getModel(me)}e.getModel=U;function W(){return g.StandaloneServices.get(c.IModelService).getModels()}e.getModels=W;function V(me){return g.StandaloneServices.get(c.IModelService).onModelAdded(me)}e.onDidCreateModel=V;function Z(me){return g.StandaloneServices.get(c.IModelService).onModelRemoved(me)}e.onWillDisposeModel=Z;function ie(me){return g.StandaloneServices.get(c.IModelService).onModelLanguageChanged(Ce=>{me({model:Ce.model,oldLanguage:Ce.oldLanguageId})})}e.onDidChangeModelLanguage=ie;function le(me){return(0,_.createWebWorker)(g.StandaloneServices.get(c.IModelService),g.StandaloneServices.get(a.ILanguageConfigurationService),me)}e.createWebWorker=le;function he(me,ve){const Ce=g.StandaloneServices.get(t.ILanguageService),we=g.StandaloneServices.get(f.IStandaloneThemeService);return d.Colorizer.colorizeElement(we,Ce,me,ve).then(()=>{we.registerEditorContainer(me)})}e.colorizeElement=he;function de(me,ve,Ce){const we=g.StandaloneServices.get(t.ILanguageService);return g.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(document.body),d.Colorizer.colorize(we,me,ve,Ce)}e.colorize=de;function ce(me,ve,Ce=4){return g.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(document.body),d.Colorizer.colorizeModelLine(me,ve,Ce)}e.colorizeModelLine=ce;function ae(me){const ve=i.TokenizationRegistry.get(me);return ve||{getInitialState:()=>h.NullState,tokenize:(Ce,we,Le)=>(0,h.nullTokenize)(me,Le)}}function J(me,ve){i.TokenizationRegistry.getOrCreate(ve);const Ce=ae(ve),we=(0,k.splitLines)(me),Le=[];let Ee=Ce.getInitialState();for(let Ne=0,Ae=we.length;Ne<Ae;Ne++){const Re=we[Ne],ye=Ce.tokenize(Re,!0,Ee);Le[Ne]=ye.tokens,Ee=ye.endState}return Le}e.tokenize=J;function K(me,ve){g.StandaloneServices.get(f.IStandaloneThemeService).defineTheme(me,ve)}e.defineTheme=K;function H(me){g.StandaloneServices.get(f.IStandaloneThemeService).setTheme(me)}e.setTheme=H;function Q(){D.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=Q;function j(me,ve){return b.CommandsRegistry.registerCommand({id:me,handler:ve})}e.registerCommand=j;function re(me){return g.StandaloneServices.get(N.IOpenerService).registerOpener({open(Ce){return Se(this,void 0,void 0,function*(){return typeof Ce=="string"&&(Ce=y.URI.parse(Ce)),me.open(Ce)})}})}e.registerLinkOpener=re;function se(me){return g.StandaloneServices.get(m.ICodeEditorService).registerCodeEditorOpenHandler((Ce,we,Le)=>Se(this,void 0,void 0,function*(){var Ee;if(!we)return null;const Ne=(Ee=Ce.options)===null||Ee===void 0?void 0:Ee.selection;let Ae;return Ne&&typeof Ne.endLineNumber=="number"&&typeof Ne.endColumn=="number"?Ae=Ne:Ne&&(Ae={lineNumber:Ne.startLineNumber,column:Ne.startColumn}),(yield me.openCodeEditor(we,Ce.resource,Ae))?we:null}))}e.registerEditorOpener=se;function ue(){return{create:R,getEditors:A,getDiffEditors:T,onDidCreateEditor:F,onDidCreateDiffEditor:M,createDiffEditor:O,addCommand:P,addEditorAction:x,addKeybindingRule:z,addKeybindingRules:q,createModel:B,setModelLanguage:$,setModelMarkers:X,getModelMarkers:oe,removeAllMarkers:ne,onDidChangeMarkers:Y,getModels:W,getModel:U,onDidCreateModel:V,onWillDisposeModel:Z,onDidChangeModelLanguage:ie,createWebWorker:le,colorizeElement:he,colorize:de,colorizeModelLine:ce,tokenize:J,defineTheme:K,setTheme:H,remeasureFonts:Q,registerCommand:j,registerLinkOpener:re,registerEditorOpener:se,AccessibilitySupport:o.AccessibilitySupport,ContentWidgetPositionPreference:o.ContentWidgetPositionPreference,CursorChangeReason:o.CursorChangeReason,DefaultEndOfLine:o.DefaultEndOfLine,EditorAutoIndentStrategy:o.EditorAutoIndentStrategy,EditorOption:o.EditorOption,EndOfLinePreference:o.EndOfLinePreference,EndOfLineSequence:o.EndOfLineSequence,MinimapPosition:o.MinimapPosition,MouseTargetType:o.MouseTargetType,OverlayWidgetPositionPreference:o.OverlayWidgetPositionPreference,OverviewRulerLane:o.OverviewRulerLane,GlyphMarginLane:o.GlyphMarginLane,RenderLineNumbersType:o.RenderLineNumbersType,RenderMinimap:o.RenderMinimap,ScrollbarVisibility:o.ScrollbarVisibility,ScrollType:o.ScrollType,TextEditorCursorBlinkingStyle:o.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:o.TextEditorCursorStyle,TrackedRangeStickiness:o.TrackedRangeStickiness,WrappingIndent:o.WrappingIndent,InjectedTextCursorStops:o.InjectedTextCursorStops,PositionAffinity:o.PositionAffinity,ConfigurationChangedEvent:v.ConfigurationChangedEvent,BareFontInfo:s.BareFontInfo,FontInfo:s.FontInfo,TextModelResolvedOptions:l.TextModelResolvedOptions,FindMatch:l.FindMatch,ApplyUpdateResult:v.ApplyUpdateResult,EditorZoom:C.EditorZoom,EditorType:n.EditorType,EditorOptions:v.EditorOptions}}e.createMonacoEditorAPI=ue}),define(ee[921],te([1,0,36,5,28,31,74,42,210,258,551,337,131,94,18,29]),function(G,e,L,k,y,D,S,m,_,v,C,s,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguageEncountered=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function u(K){S.ModesRegistry.registerLanguage(K)}e.register=u;function h(){let K=[];return K=K.concat(S.ModesRegistry.getLanguages()),K}e.getLanguages=h;function l(K){return v.StandaloneServices.get(m.ILanguageService).languageIdCodec.encodeLanguageId(K)}e.getEncodedLanguageId=l;function c(K,H){return v.StandaloneServices.withServices(()=>{const j=v.StandaloneServices.get(m.ILanguageService).onDidRequestRichLanguageFeatures(re=>{re===K&&(j.dispose(),H())});return j})}e.onLanguage=c;function o(K,H){return v.StandaloneServices.withServices(()=>{const j=v.StandaloneServices.get(m.ILanguageService).onDidRequestBasicLanguageFeatures(re=>{re===K&&(j.dispose(),H())});return j})}e.onLanguageEncountered=o;function d(K,H){if(!v.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set configuration for unknown language ${K}`);return v.StandaloneServices.get(D.ILanguageConfigurationService).register(K,H,100)}e.setLanguageConfiguration=d;class r{constructor(H,Q){this._languageId=H,this._actual=Q}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(H,Q,j){if(typeof this._actual.tokenize=="function")return g.adaptTokenize(this._languageId,this._actual,H,j);throw new Error("Not supported!")}tokenizeEncoded(H,Q,j){const re=this._actual.tokenizeEncoded(H,j);return new y.EncodedTokenizationResult(re.tokens,re.endState)}}e.EncodedTokenizationSupportAdapter=r;class g{constructor(H,Q,j,re){this._languageId=H,this._actual=Q,this._languageService=j,this._standaloneThemeService=re}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(H,Q){const j=[];let re=0;for(let se=0,ue=H.length;se<ue;se++){const me=H[se];let ve=me.startIndex;se===0?ve=0:ve<re&&(ve=re),j[se]=new y.Token(ve,me.scopes,Q),re=ve}return j}static adaptTokenize(H,Q,j,re){const se=Q.tokenize(j,re),ue=g._toClassicTokens(se.tokens,H);let me;return se.endState.equals(re)?me=re:me=se.endState,new y.TokenizationResult(ue,me)}tokenize(H,Q,j){return g.adaptTokenize(this._languageId,this._actual,H,j)}_toBinaryTokens(H,Q){const j=H.encodeLanguageId(this._languageId),re=this._standaloneThemeService.getColorTheme().tokenTheme,se=[];let ue=0,me=0;for(let Ce=0,we=Q.length;Ce<we;Ce++){const Le=Q[Ce],Ee=re.match(j,Le.scopes)|1024;if(ue>0&&se[ue-1]===Ee)continue;let Ne=Le.startIndex;Ce===0?Ne=0:Ne<me&&(Ne=me),se[ue++]=Ne,se[ue++]=Ee,me=Ne}const ve=new Uint32Array(ue);for(let Ce=0;Ce<ue;Ce++)ve[Ce]=se[Ce];return ve}tokenizeEncoded(H,Q,j){const re=this._actual.tokenize(H,j),se=this._toBinaryTokens(this._languageService.languageIdCodec,re.tokens);let ue;return re.endState.equals(j)?ue=j:ue=re.endState,new y.EncodedTokenizationResult(se,ue)}}e.TokenizationSupportAdapter=g;function f(K){return typeof K.getInitialState=="function"}function p(K){return"tokenizeEncoded"in K}function b(K){return K&&typeof K.then=="function"}function w(K){const H=v.StandaloneServices.get(n.IStandaloneThemeService);if(K){const Q=[null];for(let j=1,re=K.length;j<re;j++)Q[j]=L.Color.fromHex(K[j]);H.setColorMapOverride(Q)}else H.setColorMapOverride(null)}e.setColorMap=w;function E(K,H){return p(H)?new r(K,H):new g(K,H,v.StandaloneServices.get(m.ILanguageService),v.StandaloneServices.get(n.IStandaloneThemeService))}function I(K,H){const Q=new y.LazyTokenizationSupport(()=>Se(this,void 0,void 0,function*(){const j=yield Promise.resolve(H.create());return j?f(j)?E(K,j):new s.MonarchTokenizer(v.StandaloneServices.get(m.ILanguageService),v.StandaloneServices.get(n.IStandaloneThemeService),K,(0,C.compile)(K,j),v.StandaloneServices.get(a.IConfigurationService)):null}));return y.TokenizationRegistry.registerFactory(K,Q)}e.registerTokensProviderFactory=I;function N(K,H){if(!v.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set tokens provider for unknown language ${K}`);return b(H)?I(K,{create:()=>H}):y.TokenizationRegistry.register(K,E(K,H))}e.setTokensProvider=N;function R(K,H){const Q=j=>new s.MonarchTokenizer(v.StandaloneServices.get(m.ILanguageService),v.StandaloneServices.get(n.IStandaloneThemeService),K,(0,C.compile)(K,j),v.StandaloneServices.get(a.IConfigurationService));return b(H)?I(K,{create:()=>H}):y.TokenizationRegistry.register(K,Q(H))}e.setMonarchTokensProvider=R;function F(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).referenceProvider.register(K,H)}e.registerReferenceProvider=F;function M(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).renameProvider.register(K,H)}e.registerRenameProvider=M;function A(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).signatureHelpProvider.register(K,H)}e.registerSignatureHelpProvider=A;function T(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).hoverProvider.register(K,{provideHover:(j,re,se)=>{const ue=j.getWordAtPosition(re);return Promise.resolve(H.provideHover(j,re,se)).then(me=>{if(me)return!me.range&&ue&&(me.range=new k.Range(re.lineNumber,ue.startColumn,re.lineNumber,ue.endColumn)),me.range||(me.range=new k.Range(re.lineNumber,re.column,re.lineNumber,re.column)),me})}})}e.registerHoverProvider=T;function O(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSymbolProvider.register(K,H)}e.registerDocumentSymbolProvider=O;function P(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentHighlightProvider.register(K,H)}e.registerDocumentHighlightProvider=P;function x(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkedEditingRangeProvider.register(K,H)}e.registerLinkedEditingRangeProvider=x;function z(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).definitionProvider.register(K,H)}e.registerDefinitionProvider=z;function q(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).implementationProvider.register(K,H)}e.registerImplementationProvider=q;function B(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).typeDefinitionProvider.register(K,H)}e.registerTypeDefinitionProvider=B;function $(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeLensProvider.register(K,H)}e.registerCodeLensProvider=$;function X(K,H,Q){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeActionProvider.register(K,{providedCodeActionKinds:Q?.providedCodeActionKinds,documentation:Q?.documentation,provideCodeActions:(re,se,ue,me)=>{const Ce=v.StandaloneServices.get(i.IMarkerService).read({resource:re.uri}).filter(we=>k.Range.areIntersectingOrTouching(we,se));return H.provideCodeActions(re,se,{markers:Ce,only:ue.only,trigger:ue.trigger},me)},resolveCodeAction:H.resolveCodeAction})}e.registerCodeActionProvider=X;function ne(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentFormattingEditProvider.register(K,H)}e.registerDocumentFormattingEditProvider=ne;function oe(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(K,H)}e.registerDocumentRangeFormattingEditProvider=oe;function Y(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).onTypeFormattingEditProvider.register(K,H)}e.registerOnTypeFormattingEditProvider=Y;function U(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkProvider.register(K,H)}e.registerLinkProvider=U;function W(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).completionProvider.register(K,H)}e.registerCompletionItemProvider=W;function V(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).colorProvider.register(K,H)}e.registerColorProvider=V;function Z(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).foldingRangeProvider.register(K,H)}e.registerFoldingRangeProvider=Z;function ie(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).declarationProvider.register(K,H)}e.registerDeclarationProvider=ie;function le(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).selectionRangeProvider.register(K,H)}e.registerSelectionRangeProvider=le;function he(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSemanticTokensProvider.register(K,H)}e.registerDocumentSemanticTokensProvider=he;function de(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(K,H)}e.registerDocumentRangeSemanticTokensProvider=de;function ce(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlineCompletionsProvider.register(K,H)}e.registerInlineCompletionsProvider=ce;function ae(K,H){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlayHintsProvider.register(K,H)}e.registerInlayHintsProvider=ae;function J(){return{register:u,getLanguages:h,onLanguage:c,onLanguageEncountered:o,getEncodedLanguageId:l,setLanguageConfiguration:d,setColorMap:w,registerTokensProviderFactory:I,setTokensProvider:N,setMonarchTokensProvider:R,registerReferenceProvider:F,registerRenameProvider:M,registerCompletionItemProvider:W,registerSignatureHelpProvider:A,registerHoverProvider:T,registerDocumentSymbolProvider:O,registerDocumentHighlightProvider:P,registerLinkedEditingRangeProvider:x,registerDefinitionProvider:z,registerImplementationProvider:q,registerTypeDefinitionProvider:B,registerCodeLensProvider:$,registerCodeActionProvider:X,registerDocumentFormattingEditProvider:ne,registerDocumentRangeFormattingEditProvider:oe,registerOnTypeFormattingEditProvider:Y,registerLinkProvider:U,registerColorProvider:V,registerFoldingRangeProvider:Z,registerDeclarationProvider:ie,registerSelectionRangeProvider:le,registerDocumentSemanticTokensProvider:he,registerDocumentRangeSemanticTokensProvider:de,registerInlineCompletionsProvider:ce,registerInlayHintsProvider:ae,DocumentHighlightKind:_.DocumentHighlightKind,CompletionItemKind:_.CompletionItemKind,CompletionItemTag:_.CompletionItemTag,CompletionItemInsertTextRule:_.CompletionItemInsertTextRule,SymbolKind:_.SymbolKind,SymbolTag:_.SymbolTag,IndentAction:_.IndentAction,CompletionTriggerKind:_.CompletionTriggerKind,SignatureHelpTriggerKind:_.SignatureHelpTriggerKind,InlayHintKind:_.InlayHintKind,InlineCompletionTriggerKind:_.InlineCompletionTriggerKind,CodeActionTriggerType:_.CodeActionTriggerType,FoldingRangeKind:y.FoldingRangeKind,SelectedSuggestionInfo:y.SelectedSuggestionInfo}}e.createMonacoLanguagesAPI=J}),define(ee[922],te([1,0,38,330,920,921,354]),function(G,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,L.EditorOptions.wrappingIndent.defaultValue=0,L.EditorOptions.glyphMargin.defaultValue=!1,L.EditorOptions.autoIndent.defaultValue=3,L.EditorOptions.overviewRulerLanes.defaultValue=2,S.FormattingConflicts.setFormatterSelector((v,C,s)=>Promise.resolve(v[0]));const m=(0,k.createMonacoBaseAPI)();m.editor=(0,y.createMonacoEditorAPI)(),m.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=m.CancellationTokenSource,e.Emitter=m.Emitter,e.KeyCode=m.KeyCode,e.KeyMod=m.KeyMod,e.Position=m.Position,e.Range=m.Range,e.Selection=m.Selection,e.SelectionDirection=m.SelectionDirection,e.MarkerSeverity=m.MarkerSeverity,e.MarkerTag=m.MarkerTag,e.Uri=m.Uri,e.Token=m.Token,e.editor=m.editor,e.languages=m.languages;const _=globalThis.MonacoEnvironment;(_?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=m),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Ci=this&&this.__createBinding||(Object.create?function(G,e,L,k){k===void 0&&(k=L);var y=Object.getOwnPropertyDescriptor(e,L);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[L]}}),Object.defineProperty(G,k,y)}:function(G,e,L,k){k===void 0&&(k=L),G[k]=e[L]}),bi=this&&this.__exportStar||function(G,e){for(var L in G)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&Ci(e,G,L)};define(ee[924],te([1,0,922,918,815,816,785,862,863,820,905,865]),function(G,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),bi(L,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-dev-20230906(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-dev-20230906(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-dev-20230906(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-dev-20230906(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-dev-20230906(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,r,p){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];!p||p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map